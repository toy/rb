<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>History.txt</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            History.txt
        </h1>
        <ul class="files">
            <li>History.txt</li>
            <li>Last modified: Thu Oct 27 22:35:37 +0200 2011</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <h3>2.3.1 / 2011-09-21</h3>
<ul>
<li>2 bug fixes:

<ul>
<li>Fixed line numbers at end of special var+whitespace (larsch)

</li>
<li>Holy crap I was smokin&#8217; something good... Fixed 1.9.3 warning

</li>
</ul>
</li>
</ul>
<h3>2.3.0 / 2011-09-06</h3>
<ul>
<li>2 minor enhancements:

<ul>
<li>Add -g flag to parser compile if DEBUG

</li>
<li>Lexer now embeds line number in yacc_value for keywords, helping fix up
line numbers

</li>
</ul>
</li>
<li>3 bug fixes:

<ul>
<li>Fix method line numbers when no args and no parens (quix)

</li>
<li>Fixed line numbers on return/break/next w/ result expr. (pjnz)

</li>
<li>Fixed some lexing state in order to parse: &#8216;f (1), 2&#8217; as
&#8216;f(1, 2)&#8217;. (invernizzi)

</li>
</ul>
</li>
</ul>
<h3>2.2.0 / 2011-08-23</h3>
<ul>
<li>2 minor enhancements:

<ul>
<li>Moved Keyword, Environment, and StackState inside of <a
href="../classes/RubyParser.html">RubyParser</a>

</li>
<li>Added proper dsym and dsym->sym support.

</li>
</ul>
</li>
<li>3 bug fixes:

<ul>
<li>Added extra (failing) tests for call/iter line number checking (quix)

</li>
<li>Fixed line numbers for certain call/iter edge cases

</li>
<li>Fixed parsing of: alias :&#8221;<<&#8221; :&#8221;>>&#8221;.

</li>
</ul>
</li>
</ul>
<h3>2.1.0 / 2011-08-15</h3>
<ul>
<li>2 minor enhancements:

<ul>
<li>Added new accessor canonicalize_conditions to toggle conditional
canonicalization (on by default). (confused)

</li>
<li>Awesome cleanup: Replaced call to append_block by block_append. (Confusion)

</li>
</ul>
</li>
<li>2 bug fixes:

<ul>
<li>Fixed handling last line of =begin/=end. (raybaxter)

</li>
<li>Fixed source line numbers after heredocs. (jbarreneche)

</li>
</ul>
</li>
</ul>
<h3>2.0.6 / 2011-02-18</h3>
<ul>
<li>1 minor enhancement:

<ul>
<li>Switched to hoe&#8217;s racc plugin to clean up rakefile and builds

</li>
</ul>
</li>
<li>1 bug fix:

<ul>
<li>Fixed empty =begin/end.

</li>
</ul>
</li>
</ul>
<h3>2.0.5 / 2010-09-01</h3>
<ul>
<li>1 minor enhancement:

<ul>
<li>Started merging like lexical cases to try to squeeze some optimization out

</li>
</ul>
</li>
</ul>
<h3>2.0.4 / 2009-08-18</h3>
<ul>
<li>1 minor enhancement:

<ul>
<li>Changed requires around to be more accurate.

</li>
</ul>
</li>
<li>4 bug fixes:

<ul>
<li>Fixed .autotest for minitest

</li>
<li>Fixed emacs escape lexing bug: &#8220;C-\&#8220; (maglev/gemstone)

</li>
<li>Fixed octal lexing edgecases. (maglev/gemstone)

</li>
<li>Fixed regexp lexing edgecases. (maglev/gemstone)

</li>
</ul>
</li>
</ul>
<h3>2.0.3 / 2009-06-23</h3>
<ul>
<li>4 minor enhancements:

<ul>
<li>Removed dead code handling d/regex match node cruft.

</li>
<li>Switched to minitest

</li>
<li>Updated .autotest and rakefile wrt rcov for new hoe capabilities

</li>
<li>Updated hoe for new capabilities

</li>
</ul>
</li>
<li>4 bug fixes:

<ul>
<li>Environment#all now deals with strange edge cases in RAD.

</li>
<li>Fixed packaging/compilation issue.

</li>
<li>Minor 1.9 fixes

</li>
<li>hoe -> flay -> rubyparser rakefile circularity fixed

</li>
</ul>
</li>
</ul>
<h3>2.0.2 / 2009-01-20</h3>
<ul>
<li>2 minor enhancements:

<ul>
<li>Added gauntlet_rubyparser plugin. YAY for easy massive bug-hunting.

</li>
<li>Promoted Sexp&#8217;s file/line/comments to sexp_processor.

</li>
</ul>
</li>
<li>4 bug fixes:

<ul>
<li>Fixed and improved the readme

</li>
<li>Fixed lexing heredoc newlines.

</li>
<li>Fixed line numbers on defns.

</li>
<li>Fixed rdoc generation bug pointed out by hugh sasse (who rocks)

</li>
</ul>
</li>
</ul>
<h3>2.0.1 / 2008-11-04</h3>
<ul>
<li>2 minor enhancements:

<ul>
<li>Updated for changes to splat node in many contexts.

</li>
<li>Made PT a developer dep

</li>
</ul>
</li>
</ul>
<h3>2.0.0 / 2008-10-22</h3>
<ul>
<li>1 major enhancement

<ul>
<li>Brought on the AWESOME! 4x faster! no known lexing/parsing bugs!

</li>
</ul>
</li>
<li>71 minor enhancements

<ul>
<li>1.9: Added <a href="../classes/Fixnum.html#M000032">Fixnum#ord</a>.

</li>
<li>1.9: Added missing <a href="../classes/Regexp.html">Regexp</a> constants
and did it so it&#8217;d work on 1.9.

</li>
<li>Added store_comment and comments

</li>
<li>Added StringScanner begin_of_line?

</li>
<li>Added a bunch of tests for regexp escape chars, parse_string, read_escape,
? numbers, ? whitespace.

</li>
<li>Added a hack for rubinius&#8217; r2l eval bug.

</li>
<li>Added a new token type tSTRING that bypasses tSTRING_BEG/END entirely. Only
does non-interpolated strings and then falls back to the old way. MUCH
cleaner tho.

</li>
<li>Added bin/ruby_parse

</li>
<li>Added compare rule to Rakefile.

</li>
<li>Added coverage files/dirs to clean rule.

</li>
<li>Added file and line numbers to all sexp nodes. Column/ranges to come.

</li>
<li>Added lex_state change for lvars at the end of yylex.

</li>
<li>Added lexed comments to defn/defs/class/module nodes.

</li>
<li>Added stats gathering for yylex. Reordered yylex for avg data

</li>
<li>Added tSYMBOL token type and parser rule to speed up symbol lexing.

</li>
<li>Added tally output for getch, unread, and unread_many.

</li>
<li>Added tests for ambigous uminus/uplus, backtick in cmdarg, square and curly
brackets, numeric gvars, eos edge cases, string quoting %<> and %%%.

</li>
<li>All cases throughout yylex now return directly if they match, no
passthroughs.

</li>
<li>All lexer cases now slurp entire token in one swoop.

</li>
<li>All zarrays are now just empty arrays.

</li>
<li>Changed s(:block_arg, :blah) to :&#8221;&amp;blah&#8221; in args sexp.

</li>
<li>Cleaned up lexer error handling. Now just raises all over.

</li>
<li>Cleaned up read_escape and regx_options

</li>
<li>Cleaned up tokadd_string (for some definition of cleaned).

</li>
<li>Converted single quoted strings to new tSTRING token type.

</li>
<li>Coverage is currently 94.4% on lexer.

</li>
<li>Done what I can to clean up heredoc lexing... still sucks.

</li>
<li>Flattened resbodies in rescue node. Fixed .autotest file.

</li>
<li>Folded lex_keywords back in now that it screams.

</li>
<li>Found very last instanceof ILiteralNode in the code. haha!

</li>
<li>Got the tests subclassing PTTC and cleaned up a lot. YAY

</li>
<li>Handle yield(*ary) properly

</li>
<li>MASSIVELY cleaned out =begin/=end comment processor.

</li>
<li>Massive overhaul on Keyword class. All hail the mighty Hash!

</li>
<li>Massively cleaned up ident= edge cases and fixed a stupid bug from jruby.

</li>
<li>Merged @/@@ scanner together, going to try to do the same everywhere.

</li>
<li>Refactored fix_arg_lex_state, common across the lexer.

</li>
<li>Refactored new_fcall into new_call.

</li>
<li>Refactored some code to get better profile numbers.

</li>
<li>Refactored some more fix_arg_lex_state.

</li>
<li>Refactored tail of yylex into its own method.

</li>
<li>Removed Module#kill

</li>
<li>Removed Token, replaced with Sexp.

</li>
<li>Removed all parse_number and parse_quote tests.

</li>
<li>Removed argspush, argscat. YAY!

</li>
<li>Removed as many token_buffer.split(//)&#8217;s as possible. 1 to go.

</li>
<li>Removed begins from compstmts

</li>
<li>Removed buffer arg for tokadd_string.

</li>
<li>Removed crufty (?) solo &#8217;@&#8217; token... wtf was that anyhow?

</li>
<li>Removed most jruby/stringio cruft from StringScanner.

</li>
<li>Removed one unread_many... 2 to go. They&#8217;re harder.

</li>
<li>Removed store_comment, now done directly.

</li>
<li>Removed token_buffer. Now I just use token ivar.

</li>
<li>Removed use of s() from lexer. Changed the way line numbers are gathered.

</li>
<li>Renamed *qwords to *awords.

</li>
<li>Renamed StringScanner to <a
href="../classes/RPStringScanner.html">RPStringScanner</a> (a subclass) to
fix namespace trashing.

</li>
<li>Renamed parse to process and aliased to parse.

</li>
<li>Renamed token_buffer to string_buffer since that arcane shit still needs
it.

</li>
<li>Resolved the rest of the lexing issues I brought up w/ ruby-core.

</li>
<li>Revamped tokadd_escape.

</li>
<li>Rewrote Keyword and KWtable.

</li>
<li>Rewrote <a href="../classes/RubyLexer.html">RubyLexer</a> using
StringScanner.

</li>
<li>Rewrote tokadd_escape. 79 lines down to 21.

</li>
<li>Split out <a
href="lib/ruby_parser_extras_rb.html">lib/ruby_parser_extras.rb</a> so
lexer is standalone.

</li>
<li>Started to clean up the parser and make it as skinny as possible

</li>
<li>Stripped out as much code as possible.

</li>
<li>Stripped yylex of some dead code.

</li>
<li>Switched from StringIO to StringScanner.

</li>
<li>Updated rakefile for new hoe.

</li>
<li>Uses pure ruby racc if ENV[&#8216;PURE_RUBY&#8217;], otherwise use c.

</li>
<li>Wrote a ton of lexer tests. Coverage is as close to 100% as possible.

</li>
<li>Wrote args to clean up the big nasty args processing grammar section.

</li>
<li>lex_strterm is now a plain array, removed RubyLexer#s(...).

</li>
<li>yield and super now flatten args.

</li>
</ul>
</li>
<li>21+ bug fixes:

<ul>
<li>I&#8217;m sure this list is missing a lot:

</li>
<li>Fixed 2 bugs both involving attrasgn (and ilk) esp when lhs is an array.

</li>
<li>Fixed a bug in the lexer for strings with single digit hex escapes.

</li>
<li>Fixed a bug parsing: a (args) { expr }&#8230; the space caused a different
route to be followed and all hell broke loose.

</li>
<li>Fixed a bug with xn=beginvar not putting begin back.

</li>
<li>Fixed attrasgn to have arglists, not arrays.

</li>
<li>Fixed bug in defn/defs with block fixing.

</li>
<li>Fixed class/module&#8217;s name slot if colon2/3.

</li>
<li>Fixed dstr with empty interpolation body.

</li>
<li>Fixed for 1.9 string/char changes.

</li>
<li>Fixed lexer BS wrt determining token type of words.

</li>
<li>Fixed lexer BS wrt pass through values and lexing words. SO STUPID.

</li>
<li>Fixed lexing of floats.

</li>
<li>Fixed lexing of identifiers followed by equals. I hope.

</li>
<li>Fixed masgn with splat on lhs

</li>
<li>Fixed new_super to deal with block_pass correctly.

</li>
<li>Fixed parser&#8217;s treatment of :colon2 and :colon3.

</li>
<li>Fixed regexp scanning of escaped numbers, ANY number is valid, not just
octs.

</li>
<li>Fixed string scanning of escaped octs, allowing 1-3 chars.

</li>
<li>Fixed unescape for n

</li>
<li>Fixed: omg this is stupid. &#8217;()&#8217; was returning bare nil

</li>
<li>Fixed: remove_begin now goes to the end, not sure why it didn&#8217;t
before.

</li>
</ul>
</li>
</ul>
<h3>1.0.0 / 2007-12-20</h3>
<ul>
<li>1 major enhancement

<ul>
<li>Birthday!

</li>
</ul>
</li>
</ul>

    </div>
    

    

    
    

    
    

    

    

    

    

    

    
</div>
    </div>
  </body>
</html>