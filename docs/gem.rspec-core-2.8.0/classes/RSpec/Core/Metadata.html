<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>RSpec::Core::Metadata</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            RSpec::Core::Metadata 
            
                <span class="parent">&lt; 
                    
                    Hash
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/rspec/core/metadata_rb.html">lib/rspec/core/metadata.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Each <a href="ExampleGroup.html">ExampleGroup</a> class and <a
href="Example.html">Example</a> instance owns an instance of <a
href="Metadata.html">Metadata</a>, which is Hash extended to support lazy
evaluation of values associated with keys that may or may not be used by
any example or group.
</p>
<p>
In addition to metadata that is used internally, this also stores
user-supplied metadata, e.g.
</p>
<pre>
    describe Something, :type =&gt; :ui do
      it &quot;does something&quot;, :slow =&gt; true do
        # ...
      end
    end
</pre>
<p>
`:type => :ui` is stored in the <a href="Metadata.html">Metadata</a> owned
by the example group, and `:slow => true` is stored in the <a
href="Metadata.html">Metadata</a> owned by the example. These can then be
used to select which examples are run using the `&#8212;tag` option on the
command line, or several methods on `Configuration` used to filter a run
(e.g. `filter_run_including`, `filter_run_excluding`, etc).
</p>
<p>
@see <a href="Example.html#metadata">Example#metadata</a> @see <a
href="ExampleGroup.html#M000155">ExampleGroup.metadata</a> @see <a
href="FilterManager.html">FilterManager</a> @see <a
href="Configuration.html#M000076">Configuration#filter_run_including</a>
@see <a
href="Configuration.html#M000084">Configuration#filter_run_excluding</a>
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000368">all_apply?</a>,</li>
                
                <li><a href="#M000367">any_apply?</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000377">configure_for_example</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000378">ensure_valid_keys</a>,</li>
                
                <li><a href="#M000379">example_group_declaration_line</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000369">filter_applies?</a>,</li>
                
                <li><a href="#M000371">filter_applies_to_any_value?</a>,</li>
                
                <li><a href="#M000370">filters_apply?</a>,</li>
                
                <li><a href="#M000366">for_example</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M000373">line_number_filter_applies?</a>,</li>
                
                <li><a href="#M000372">location_filter_applies?</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000361">new</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000364">process</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000380">relevant_line_numbers</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">MODULE</span> <a href="Metadata/ExampleMetadataHash.html">RSpec::Core::Metadata::ExampleMetadataHash</a></li>
        
        <li><span class="type">MODULE</span> <a href="Metadata/GroupMetadataHash.html">RSpec::Core::Metadata::GroupMetadataHash</a></li>
        
        <li><span class="type">MODULE</span> <a href="Metadata/MetadataHash.html">RSpec::Core::Metadata::MetadataHash</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">RESERVED_KEYS</td>
            <td>=</td>
            <td class="attr-value">[         :description,         :example_group,         :execution_result,         :file_path,         :full_description,         :line_number,         :location       ]</td>
        </tr>
        
        
    </table>
    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000361">
                    
                    <a name="M000361"></a><b>new</b>(parent_group_metadata=nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000361_source')" id="l_M000361_source">show</a>
                        
                    </p>
                    <div id="M000361_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/core/metadata.rb, line 133</span>
133:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">parent_group_metadata</span>=<span class="ruby-keyword kw">nil</span>)
134:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent_group_metadata</span>
135:           <span class="ruby-identifier">update</span>(<span class="ruby-identifier">parent_group_metadata</span>)
136:           <span class="ruby-identifier">store</span>(<span class="ruby-identifier">:example_group</span>, {<span class="ruby-identifier">:example_group</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">parent_group_metadata</span>[<span class="ruby-identifier">:example_group</span>].<span class="ruby-identifier">extend</span>(<span class="ruby-constant">GroupMetadataHash</span>)}.<span class="ruby-identifier">extend</span>(<span class="ruby-constant">GroupMetadataHash</span>))
137:         <span class="ruby-keyword kw">else</span>
138:           <span class="ruby-identifier">store</span>(<span class="ruby-identifier">:example_group</span>, {}.<span class="ruby-identifier">extend</span>(<span class="ruby-constant">GroupMetadataHash</span>))
139:         <span class="ruby-keyword kw">end</span>
140: 
141:         <span class="ruby-keyword kw">yield</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
142:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000368">
                    
                    <a name="M000368"></a><b>all_apply?</b>(filters)
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000368_source')" id="l_M000368_source">show</a>
                        
                    </p>
                    <div id="M000368_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/core/metadata.rb, line 166</span>
166:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">all_apply?</span>(<span class="ruby-identifier">filters</span>)
167:         <span class="ruby-identifier">filters</span>.<span class="ruby-identifier">all?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">filter_applies?</span>(<span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span>)}
168:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000367">
                    
                    <a name="M000367"></a><b>any_apply?</b>(filters)
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000367_source')" id="l_M000367_source">show</a>
                        
                    </p>
                    <div id="M000367_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/core/metadata.rb, line 161</span>
161:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">any_apply?</span>(<span class="ruby-identifier">filters</span>)
162:         <span class="ruby-identifier">filters</span>.<span class="ruby-identifier">any?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">filter_applies?</span>(<span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span>)}
163:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000369">
                    
                    <a name="M000369"></a><b>filter_applies?</b>(key, value, metadata=self)
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000369_source')" id="l_M000369_source">show</a>
                        
                    </p>
                    <div id="M000369_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/core/metadata.rb, line 171</span>
171:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">filter_applies?</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>, <span class="ruby-identifier">metadata</span>=<span class="ruby-keyword kw">self</span>)
172:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">filter_applies_to_any_value?</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">metadata</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span>(<span class="ruby-constant">Proc</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">value</span>)
173:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">line_number_filter_applies?</span>(<span class="ruby-identifier">value</span>)       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:line_numbers</span>
174:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">location_filter_applies?</span>(<span class="ruby-identifier">value</span>)          <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:locations</span>
175:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">metadata</span>.<span class="ruby-identifier">filters_apply?</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)               <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">value</span>
176: 
177:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">value</span>
178:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Regexp</span>
179:           <span class="ruby-identifier">metadata</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">=~</span> <span class="ruby-identifier">value</span>
180:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Proc</span>
181:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span>
182:             <span class="ruby-comment cmt"># Pass the metadata hash to allow the proc to check if it even has the key.</span>
183:             <span class="ruby-comment cmt"># This is necessary for the implicit :if exclusion filter:</span>
184:             <span class="ruby-comment cmt">#   {            } # =&gt; run the example</span>
185:             <span class="ruby-comment cmt">#   { :if =&gt; nil } # =&gt; exclude the example</span>
186:             <span class="ruby-comment cmt"># The value of metadata[:if] is the same in these two cases but</span>
187:             <span class="ruby-comment cmt"># they need to be treated differently.</span>
188:             <span class="ruby-identifier">value</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">metadata</span>[<span class="ruby-identifier">key</span>], <span class="ruby-identifier">metadata</span>) <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">false</span>
189:           <span class="ruby-keyword kw">else</span>
190:             <span class="ruby-identifier">value</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">metadata</span>[<span class="ruby-identifier">key</span>]) <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">false</span>
191:           <span class="ruby-keyword kw">end</span>
192:         <span class="ruby-keyword kw">else</span>
193:           <span class="ruby-identifier">metadata</span>[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>
194:         <span class="ruby-keyword kw">end</span>
195:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000371">
                    
                    <a name="M000371"></a><b>filter_applies_to_any_value?</b>(key, value)
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000371_source')" id="l_M000371_source">show</a>
                        
                    </p>
                    <div id="M000371_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/core/metadata.rb, line 203</span>
203:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">filter_applies_to_any_value?</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
204:         <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">any?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">filter_applies?</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">v</span>, {<span class="ruby-identifier">key</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">value</span>})}
205:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000370">
                    
                    <a name="M000370"></a><b>filters_apply?</b>(key, value)
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000370_source')" id="l_M000370_source">show</a>
                        
                    </p>
                    <div id="M000370_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/core/metadata.rb, line 198</span>
198:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">filters_apply?</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
199:         <span class="ruby-identifier">value</span>.<span class="ruby-identifier">all?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">filter_applies?</span>(<span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span>, <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">key</span>])}
200:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000366">
                    
                    <a name="M000366"></a><b>for_example</b>(description, user_metadata)
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000366_source')" id="l_M000366_source">show</a>
                        
                    </p>
                    <div id="M000366_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/core/metadata.rb, line 156</span>
156:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">for_example</span>(<span class="ruby-identifier">description</span>, <span class="ruby-identifier">user_metadata</span>)
157:         <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">extend</span>(<span class="ruby-constant">ExampleMetadataHash</span>).<span class="ruby-identifier">configure_for_example</span>(<span class="ruby-identifier">description</span>, <span class="ruby-identifier">user_metadata</span>)
158:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000373">
                    
                    <a name="M000373"></a><b>line_number_filter_applies?</b>(line_numbers)
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000373_source')" id="l_M000373_source">show</a>
                        
                    </p>
                    <div id="M000373_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/core/metadata.rb, line 215</span>
215:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">line_number_filter_applies?</span>(<span class="ruby-identifier">line_numbers</span>)
216:         <span class="ruby-identifier">preceding_declaration_lines</span> = <span class="ruby-identifier">line_numbers</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-constant">RSpec</span>.<span class="ruby-identifier">world</span>.<span class="ruby-identifier">preceding_declaration_line</span>(<span class="ruby-identifier">n</span>)}
217:         <span class="ruby-operator">!</span>(<span class="ruby-identifier">relevant_line_numbers</span> <span class="ruby-operator">&amp;</span> <span class="ruby-identifier">preceding_declaration_lines</span>).<span class="ruby-identifier">empty?</span>
218:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000372">
                    
                    <a name="M000372"></a><b>location_filter_applies?</b>(locations)
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000372_source')" id="l_M000372_source">show</a>
                        
                    </p>
                    <div id="M000372_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/core/metadata.rb, line 208</span>
208:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">location_filter_applies?</span>(<span class="ruby-identifier">locations</span>)
209:         <span class="ruby-comment cmt"># it ignores location filters for other files</span>
210:         <span class="ruby-identifier">line_number</span> = <span class="ruby-identifier">example_group_declaration_line</span>(<span class="ruby-identifier">locations</span>)
211:         <span class="ruby-identifier">line_number</span> <span class="ruby-value">? </span><span class="ruby-identifier">line_number_filter_applies?</span>(<span class="ruby-identifier">line_number</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword kw">true</span>
212:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000364">
                    
                    <a name="M000364"></a><b>process</b>(*args)
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000364_source')" id="l_M000364_source">show</a>
                        
                    </p>
                    <div id="M000364_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/core/metadata.rb, line 145</span>
145:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">process</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
146:         <span class="ruby-identifier">user_metadata</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
147:         <span class="ruby-identifier">ensure_valid_keys</span>(<span class="ruby-identifier">user_metadata</span>)
148: 
149:         <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">:example_group</span>].<span class="ruby-identifier">store</span>(<span class="ruby-identifier">:description_args</span>, <span class="ruby-identifier">args</span>)
150:         <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">:example_group</span>].<span class="ruby-identifier">store</span>(<span class="ruby-identifier">:caller</span>, <span class="ruby-identifier">user_metadata</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:caller</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">caller</span>)
151: 
152:         <span class="ruby-identifier">update</span>(<span class="ruby-identifier">user_metadata</span>)
153:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Protected methods</div>
            
            <div class="method">
                <div class="title" id="M000377">
                    
                    <a name="M000377"></a><b>configure_for_example</b>(description, user_metadata)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000377_source')" id="l_M000377_source">show</a>
                        
                    </p>
                    <div id="M000377_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/core/metadata.rb, line 222</span>
222:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">configure_for_example</span>(<span class="ruby-identifier">description</span>, <span class="ruby-identifier">user_metadata</span>)
223:         <span class="ruby-identifier">store</span>(<span class="ruby-identifier">:description_args</span>, [<span class="ruby-identifier">description</span>])
224:         <span class="ruby-identifier">store</span>(<span class="ruby-identifier">:caller</span>, <span class="ruby-identifier">user_metadata</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:caller</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">caller</span>)
225:         <span class="ruby-identifier">update</span>(<span class="ruby-identifier">user_metadata</span>)
226:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M000378">
                    
                    <a name="M000378"></a><b>ensure_valid_keys</b>(user_metadata)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000378_source')" id="l_M000378_source">show</a>
                        
                    </p>
                    <div id="M000378_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/core/metadata.rb, line 240</span>
240:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ensure_valid_keys</span>(<span class="ruby-identifier">user_metadata</span>)
241:         <span class="ruby-constant">RESERVED_KEYS</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
242:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">user_metadata</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">key</span>)
243:             <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;\#{\&quot;*\&quot;*50}\n:\#{key} is not allowed\n\nRSpec reserves some hash keys for its own internal use,\nincluding :\#{key}, which is used on:\n\n\#{caller(0)[4]}.\n\nHere are all of RSpec's reserved hash keys:\n\n\#{RESERVED_KEYS.join(\&quot;\\n  \&quot;)}\n\#{\&quot;*\&quot;*50}\n&quot;</span>
244:           <span class="ruby-keyword kw">end</span>
245:         <span class="ruby-keyword kw">end</span>
246:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000379">
                    
                    <a name="M000379"></a><b>example_group_declaration_line</b>(locations)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000379_source')" id="l_M000379_source">show</a>
                        
                    </p>
                    <div id="M000379_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/core/metadata.rb, line 262</span>
262:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">example_group_declaration_line</span>(<span class="ruby-identifier">locations</span>)
263:         <span class="ruby-identifier">locations</span>[<span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">:example_group</span>][<span class="ruby-identifier">:file_path</span>])] <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">:example_group</span>]
264:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000380">
                    
                    <a name="M000380"></a><b>relevant_line_numbers</b>(metadata=self)
                    
                </div>
                
                <div class="description">
                  <p>
TODO - make this a method on metadata - the problem is
metadata[:example_group] is not always a kind of <a
href="Metadata/GroupMetadataHash.html">GroupMetadataHash</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000380_source')" id="l_M000380_source">show</a>
                        
                    </p>
                    <div id="M000380_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/core/metadata.rb, line 268</span>
268:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">relevant_line_numbers</span>(<span class="ruby-identifier">metadata</span>=<span class="ruby-keyword kw">self</span>)
269:         [<span class="ruby-identifier">metadata</span>[<span class="ruby-identifier">:line_number</span>]] <span class="ruby-operator">+</span> (<span class="ruby-identifier">metadata</span>[<span class="ruby-identifier">:example_group</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">relevant_line_numbers</span>(<span class="ruby-identifier">metadata</span>[<span class="ruby-identifier">:example_group</span>]) <span class="ruby-operator">:</span> [])
270:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    