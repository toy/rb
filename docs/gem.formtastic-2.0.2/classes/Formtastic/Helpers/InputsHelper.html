<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Formtastic::Helpers::InputsHelper</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            Formtastic::Helpers::InputsHelper 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/formtastic/helpers/inputs_helper_rb.html">lib/formtastic/helpers/inputs_helper.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
{<a href="InputsHelper.html#M000032">inputs</a>} is used to wrap a series
of form items in a `<fieldset>` and `<ol>`, with each item in the list
containing the markup representing a single {input}.
</p>
<p>
{<a href="InputsHelper.html#M000032">inputs</a>} is usually called with a
block containing a series of {input} methods:
</p>
<pre>
    &lt;%= semantic_form_for @post do |f| %&gt;
      &lt;%= f.inputs do %&gt;
        &lt;%= f.input :title %&gt;
        &lt;%= f.input :body %&gt;
      &lt;% end %&gt;
    &lt;% end %&gt;
</pre>
<p>
The HTML output will be something like:
</p>
<pre>
    &lt;form class=&quot;formtastic&quot; method=&quot;post&quot; action=&quot;...&quot;&gt;
      &lt;fieldset&gt;
        &lt;ol&gt;
          &lt;li class=&quot;string required&quot; id=&quot;post_title_input&quot;&gt;
            ...
          &lt;/li&gt;
          &lt;li class=&quot;text required&quot; id=&quot;post_body_input&quot;&gt;
            ...
          &lt;/li&gt;
        &lt;/ol&gt;
      &lt;/fieldset&gt;
    &lt;/form&gt;
</pre>
<p>
It&#8217;s important to note that the `semantic_form_for` and {<a
href="InputsHelper.html#M000032">inputs</a>} blocks wrap the standard Rails
`form_for` helper and <a href="../FormBuilder.html">FormBuilder</a>, so you
have full access to every standard Rails form helper, with any HTML markup
and ERB syntax, allowing you to &#8220;break free&#8221; from <a
href="../../Formtastic.html">Formtastic</a> when it doesn&#8217;t suit:
</p>
<pre>
    &lt;%= semantic_form_for @post do |f| %&gt;
      &lt;%= f.inputs do %&gt;
        &lt;%= f.input :title %&gt;
        &lt;li&gt;
          &lt;%= f.text_area :body %&gt;
        &lt;li&gt;
      &lt;% end %&gt;
    &lt;% end %&gt;
</pre>
<p>
@see <a
href="InputHelper.html#M000023">Formtastic::Helpers::InputHelper#input</a>
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000033">default_columns_for_object</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000034">fieldset_contents_from_column_list</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000032">inputs</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="../Inputs/Base/Stringish.html">Formtastic::Inputs::Base::Stringish</a>
            
            START:includes
        </li>
        
        <li>
            
            <a href="../Inputs/Base/Stringish.html">Formtastic::Inputs::Base::Stringish</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">SKIPPED_COLUMNS</td>
            <td>=</td>
            <td class="attr-value">[:created_at, :updated_at, :created_on, :updated_on, :lock_version, :version]</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Which columns to skip when automatically rendering a form without any
fields specified.
</p>
</td>
        </tr>
        
        
    </table>
    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000032">
                    
                    <a name="M000032"></a><b>inputs</b>(*args, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
{<a href="InputsHelper.html#M000032">inputs</a>} creates an input fieldset
and ol tag wrapping for use around a set of inputs. It can be called either
with a block (in which you can do the usual Rails form stuff, HTML, ERB,
etc), or with a list of fields (accepting all default arguments and
options). These two examples are functionally equivalent:
</p>
<pre>
    # With a block:
    &lt;% semantic_form_for @post do |form| %&gt;
      &lt;% f.inputs do %&gt;
        &lt;%= f.input :title %&gt;
        &lt;%= f.input :body %&gt;
      &lt;% end %&gt;
    &lt;% end %&gt;

    # With a list of fields (short hand syntax):
    &lt;% semantic_form_for @post do |form| %&gt;
      &lt;%= f.inputs :title, :body %&gt;
    &lt;% end %&gt;

    # Output:
    &lt;form ...&gt;
      &lt;fieldset class=&quot;inputs&quot;&gt;
        &lt;ol&gt;
          &lt;li class=&quot;string&quot;&gt;...&lt;/li&gt;
          &lt;li class=&quot;text&quot;&gt;...&lt;/li&gt;
        &lt;/ol&gt;
      &lt;/fieldset&gt;
    &lt;/form&gt;
</pre>
<p>
**Quick Forms**
</p>
<p>
Quick, scaffolding-style forms can be easily rendered for rapid early
development if called without a block or a field list. In the case an input
is rendered for *<b>most</b>* columns in the model&#8217;s database table
(like Rails&#8217; scaffolding) plus inputs for some model associations.
</p>
<p>
In this case, all inputs are rendered with default options and arguments.
You&#8217;ll want more control than this in a production application, but
it&#8217;s a great way to get started, then come back later to customise
the form with a field list or a block of inputs. Example:
</p>
<pre>
    &lt;% semantic_form_for @post do |form| %&gt;
      &lt;%= f.inputs %&gt;
    &lt;% end %&gt;
</pre>
<p>
**Nested Attributes**
</p>
<p>
One of the most complicated parts of Rails forms comes when nesting the
inputs for attrinbutes on associated models. <a
href="../../Formtastic.html">Formtastic</a> can take the pain away for many
(but not all) situations.
</p>
<p>
Given the following models:
</p>
<pre>
    # Models
    class User &lt; ActiveRecord::Base
      has_one :profile
      accepts_nested_attributes_for :profile
    end
    class Profile &lt; ActiveRecord::Base
      belongs_to :user
    end
</pre>
<p>
<a href="../../Formtastic.html">Formtastic</a> provides a helper called
`semantic_fields_for`, which wraps around Rails&#8217; built-in
`fields_for` helper for backwards compatibility with previous versions of
<a href="../../Formtastic.html">Formtastic</a>, and for a consistent method
naming API. The following examples are functionally equivalent:
</p>
<pre>
    &lt;% semantic_form_for @user do |form| %&gt;
      &lt;%= f.inputs :name, :email %&gt;

      &lt;% f.semantic_fields_for :profile do |profile| %&gt;
        &lt;% profile.inputs do %&gt;
          &lt;%= profile.input :biography %&gt;
          &lt;%= profile.input :twitter_name %&gt;
        &lt;% end %&gt;
      &lt;% end %&gt;
    &lt;% end %&gt;

    &lt;% semantic_form_for @user do |form| %&gt;
      &lt;%= f.inputs :name, :email %&gt;

      &lt;% f.fields_for :profile do |profile| %&gt;
        &lt;% profile.inputs do %&gt;
          &lt;%= profile.input :biography %&gt;
          &lt;%= profile.input :twitter_name %&gt;
        &lt;% end %&gt;
      &lt;% end %&gt;
    &lt;% end %&gt;
</pre>
<p>
{<a href="InputsHelper.html#M000032">inputs</a>} also provides a DSL
similar to `fields_for` / `semantic_fields_for` to reduce the lines of code
a little:
</p>
<pre>
    &lt;% semantic_form_for @user do |f| %&gt;
      &lt;%= f.inputs :name, :email %&gt;

      &lt;% f.inputs :for =&gt; :profile do %&gt;
        &lt;%= profile.input :biography %&gt;
        &lt;%= profile.input :twitter_name %&gt;
        &lt;%= profile.input :shoe_size %&gt;
      &lt;% end %&gt;
    &lt;% end %&gt;
</pre>
<p>
The `:for` option also works with short hand syntax:
</p>
<pre>
    &lt;% semantic_form_for @post do |form| %&gt;
      &lt;%= f.inputs :name, :email %&gt;
      &lt;%= f.inputs :biography, :twitter_name, :shoe_size, :for =&gt; :profile %&gt;
    &lt;% end %&gt;
</pre>
<p>
{<a href="InputsHelper.html#M000032">inputs</a>} will always create a new
`<fieldset>` wrapping, so only use it when it makes sense in the document
structure and semantics (using `semantic_fields_for` otherwise).
</p>
<p>
All options except `:name`, `:title` and `:for` will be passed down to the
fieldset as HTML attributes (id, class, style, etc).
</p>
<p>
When nesting `inputs()` inside another `inputs()` block, the nested content
will automatically be wrapped in an `<li>` tag to preserve the HTML
validity (a `<fieldset>` cannot be a direct descendant of an `<ol>`.
</p>
<p>
@option *args :for [Symbol, ActiveModel, Array]
</p>
<pre>
  The contents of this option is passed down to Rails' fields_for() helper, so it accepts the same values.
</pre>
<p>
@option *args :name [String]
</p>
<pre>
  The optional name passed into the `&lt;legend&gt;` tag within the fieldset (alias of `:title`)
</pre>
<p>
@option *args :title [String]
</p>
<pre>
  The optional name passed into the `&lt;legend&gt;` tag within the fieldset (alias of `:name`)
</pre>
<p>
@example Quick form: Render a scaffold-like set of inputs for automatically
guessed attributes and simple associations on the model, with all default
arguments and options
</p>
<pre>
  &lt;% semantic_form_for @post do |form| %&gt;
    &lt;%= f.inputs %&gt;
  &lt;% end %&gt;
</pre>
<p>
@example Short hand: Render inputs for a named set of attributes and simple
associations on the model, with all default arguments and options
</p>
<pre>
  &lt;% semantic_form_for @post do |form| %&gt;
    &lt;%= f.inputs, :title, :body, :user, :categories %&gt;
  &lt;% end %&gt;
</pre>
<p>
@example Block: Render inputs for attributes and simple associations with
full control over arguments and options
</p>
<pre>
  &lt;% semantic_form_for @post do |form| %&gt;
    &lt;%= f.inputs do %&gt;
      &lt;%= f.input :title ... %&gt;
      &lt;%= f.input :body ... %&gt;
      &lt;%= f.input :user ... %&gt;
      &lt;%= f.input :categories ... %&gt;
    &lt;% end %&gt;
  &lt;% end %&gt;
</pre>
<p>
@example Multiple blocks: Render inputs in multiple fieldsets
</p>
<pre>
  &lt;% semantic_form_for @post do |form| %&gt;
    &lt;%= f.inputs do %&gt;
      &lt;%= f.input :title ... %&gt;
      &lt;%= f.input :body ... %&gt;
    &lt;% end %&gt;
    &lt;%= f.inputs do %&gt;
      &lt;%= f.input :user ... %&gt;
      &lt;%= f.input :categories ... %&gt;
    &lt;% end %&gt;
  &lt;% end %&gt;
</pre>
<p>
@example Provide text for the `<legend>` to name a fieldset (with a block)
</p>
<pre>
  &lt;% semantic_form_for @post do |form| %&gt;
    &lt;%= f.inputs :name =&gt; 'Write something:' do %&gt;
      &lt;%= f.input :title ... %&gt;
      &lt;%= f.input :body ... %&gt;
    &lt;% end %&gt;
    &lt;%= f.inputs do :name =&gt; 'Advanced options:' do %&gt;
      &lt;%= f.input :user ... %&gt;
      &lt;%= f.input :categories ... %&gt;
    &lt;% end %&gt;
  &lt;% end %&gt;
</pre>
<p>
@example Provide text for the `<legend>` to name a fieldset (with short
hand)
</p>
<pre>
  &lt;% semantic_form_for @post do |form| %&gt;
    &lt;%= f.inputs :title, :body, :name =&gt; 'Write something:'%&gt;
    &lt;%= f.inputs :user, :cateogies, :name =&gt; 'Advanced options:' %&gt;
  &lt;% end %&gt;
</pre>
<p>
@example <a href="../Inputs.html">Inputs</a> for nested attributes
(don&#8217;t forget `accepts_nested_attributes_for` in your model, see
Rails&#8217; `fields_for` documentation)
</p>
<pre>
  &lt;% semantic_form_for @user do |form| %&gt;
    &lt;%= f.inputs do %&gt;
      &lt;%= f.input :name ... %&gt;
      &lt;%= f.input :email ... %&gt;
    &lt;% end %&gt;
    &lt;%= f.inputs :for =&gt; :profile do |profile| %&gt;
      &lt;%= profile.input :user ... %&gt;
      &lt;%= profile.input :categories ... %&gt;
    &lt;% end %&gt;
  &lt;% end %&gt;
</pre>
<p>
@example <a href="../Inputs.html">Inputs</a> for nested record (don&#8217;t
forget `accepts_nested_attributes_for` in your model, see Rails&#8217;
`fields_for` documentation)
</p>
<pre>
  &lt;% semantic_form_for @user do |form| %&gt;
    &lt;%= f.inputs do %&gt;
      &lt;%= f.input :name ... %&gt;
      &lt;%= f.input :email ... %&gt;
    &lt;% end %&gt;
    &lt;%= f.inputs :for =&gt; @user.profile do |profile| %&gt;
      &lt;%= profile.input :user ... %&gt;
      &lt;%= profile.input :categories ... %&gt;
    &lt;% end %&gt;
  &lt;% end %&gt;
</pre>
<p>
@example <a href="../Inputs.html">Inputs</a> for nested record with a
different name (don&#8217;t forget `accepts_nested_attributes_for` in your
model, see Rails&#8217; `fields_for` documentation)
</p>
<pre>
  &lt;% semantic_form_for @user do |form| %&gt;
    &lt;%= f.inputs do %&gt;
      &lt;%= f.input :name ... %&gt;
      &lt;%= f.input :email ... %&gt;
    &lt;% end %&gt;
    &lt;%= f.inputs :for =&gt; [:user_profile, @user.profile] do |profile| %&gt;
      &lt;%= profile.input :user ... %&gt;
      &lt;%= profile.input :categories ... %&gt;
    &lt;% end %&gt;
  &lt;% end %&gt;
</pre>
<p>
@example Nesting {<a href="InputsHelper.html#M000032">inputs</a>} blocks
requires an extra `<li>` tag for valid markup
</p>
<pre>
  &lt;% semantic_form_for @user do |form| %&gt;
    &lt;%= f.inputs do %&gt;
      &lt;%= f.input :name ... %&gt;
      &lt;%= f.input :email ... %&gt;
      &lt;li&gt;
        &lt;%= f.inputs :for =&gt; [:user_profile, @user.profile] do |profile| %&gt;
          &lt;%= profile.input :user ... %&gt;
          &lt;%= profile.input :categories ... %&gt;
        &lt;% end %&gt;
      &lt;/li&gt;
    &lt;% end %&gt;
  &lt;% end %&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000032_source')" id="l_M000032_source">show</a>
                        
                    </p>
                    <div id="M000032_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/formtastic/helpers/inputs_helper.rb, line 279</span>
279:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inputs</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
280:         <span class="ruby-identifier">wrap_it</span> = <span class="ruby-ivar">@already_in_an_inputs_block</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">false</span>
281:         <span class="ruby-ivar">@already_in_an_inputs_block</span> = <span class="ruby-keyword kw">true</span>
282:         
283:         <span class="ruby-identifier">title</span> = <span class="ruby-identifier">field_set_title_from_args</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
284:         <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">extract_options!</span>
285:         <span class="ruby-identifier">html_options</span>[<span class="ruby-identifier">:class</span>] <span class="ruby-operator">||=</span> <span class="ruby-value str">&quot;inputs&quot;</span>
286:         <span class="ruby-identifier">html_options</span>[<span class="ruby-identifier">:name</span>] = <span class="ruby-identifier">title</span>
287: 
288:         <span class="ruby-identifier">out</span> = <span class="ruby-keyword kw">begin</span>
289:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">html_options</span>[<span class="ruby-identifier">:for</span>] <span class="ruby-comment cmt"># Nested form</span>
290:             <span class="ruby-identifier">inputs_for_nested_attributes</span>(<span class="ruby-operator">*</span>(<span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">html_options</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
291:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">block_given?</span>
292:             <span class="ruby-identifier">field_set_and_list_wrapping</span>(<span class="ruby-operator">*</span>(<span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">html_options</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
293:           <span class="ruby-keyword kw">else</span>
294:             <span class="ruby-identifier">legend</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">String</span>)
295:             <span class="ruby-identifier">args</span> = <span class="ruby-identifier">default_columns_for_object</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@object</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>
296:             <span class="ruby-identifier">contents</span> = <span class="ruby-identifier">fieldset_contents_from_column_list</span>(<span class="ruby-identifier">args</span>)
297:             <span class="ruby-identifier">args</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-identifier">legend</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">legend</span>.<span class="ruby-identifier">present?</span>
298:             <span class="ruby-identifier">field_set_and_list_wrapping</span>(<span class="ruby-operator">*</span>((<span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">html_options</span>) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">contents</span>))
299:           <span class="ruby-keyword kw">end</span>
300:         <span class="ruby-keyword kw">end</span>
301:         
302:         <span class="ruby-identifier">out</span> = <span class="ruby-identifier">template</span>.<span class="ruby-identifier">content_tag</span>(<span class="ruby-identifier">:li</span>, <span class="ruby-identifier">out</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;input&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">wrap_it</span>
303:         <span class="ruby-ivar">@already_in_an_inputs_block</span> = <span class="ruby-keyword kw">false</span>
304:         <span class="ruby-identifier">out</span>
305:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Protected methods</div>
            
            <div class="method">
                <div class="title" id="M000033">
                    
                    <a name="M000033"></a><b>default_columns_for_object</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000033_source')" id="l_M000033_source">show</a>
                        
                    </p>
                    <div id="M000033_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/formtastic/helpers/inputs_helper.rb, line 309</span>
309:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">default_columns_for_object</span>
310:         <span class="ruby-identifier">cols</span>  = <span class="ruby-identifier">association_columns</span>(<span class="ruby-identifier">:belongs_to</span>)
311:         <span class="ruby-identifier">cols</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">content_columns</span>
312:         <span class="ruby-identifier">cols</span> <span class="ruby-operator">-=</span> <span class="ruby-constant">SKIPPED_COLUMNS</span>
313:         <span class="ruby-identifier">cols</span>.<span class="ruby-identifier">compact</span>
314:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000034">
                    
                    <a name="M000034"></a><b>fieldset_contents_from_column_list</b>(columns)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000034_source')" id="l_M000034_source">show</a>
                        
                    </p>
                    <div id="M000034_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/formtastic/helpers/inputs_helper.rb, line 316</span>
316:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fieldset_contents_from_column_list</span>(<span class="ruby-identifier">columns</span>)
317:         <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
318:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@object</span>
319:             <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@object</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:reflect_on_association</span>)
320:               <span class="ruby-keyword kw">if</span> (<span class="ruby-ivar">@object</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">reflect_on_association</span>(<span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_sym</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@object</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">reflect_on_association</span>(<span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_sym</span>).<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:polymorphic</span>] <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>)
321:                 <span class="ruby-identifier">raise</span> <span class="ruby-constant">PolymorphicInputWithoutCollectionError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Please provide a collection for :#{method} input (you'll need to use block form syntax). Inputs for polymorphic associations can only be used when an explicit :collection is provided.&quot;</span>)
322:               <span class="ruby-keyword kw">end</span>
323:             <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@object</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:associations</span>)
324:               <span class="ruby-keyword kw">if</span> (<span class="ruby-ivar">@object</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">associations</span>[<span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_sym</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@object</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">associations</span>[<span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_sym</span>].<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:polymorphic</span>] <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>)
325:                 <span class="ruby-identifier">raise</span> <span class="ruby-constant">PolymorphicInputWithoutCollectionError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Please provide a collection for :#{method} input (you'll need to use block form syntax). Inputs for polymorphic associations can only be used when an explicit :collection is provided.&quot;</span>)
326:               <span class="ruby-keyword kw">end</span>            
327:             <span class="ruby-keyword kw">end</span>            
328:           <span class="ruby-keyword kw">end</span>
329:           <span class="ruby-identifier">input</span>(<span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_sym</span>)
330:         <span class="ruby-keyword kw">end</span>
331:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    