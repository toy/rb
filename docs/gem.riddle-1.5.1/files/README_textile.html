<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>README.textile</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            README.textile
        </h1>
        <ul class="files">
            <li>README.textile</li>
            <li>Last modified: Tue Jan 03 02:28:20 +0100 2012</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
h1. Riddle
</p>
<p>
This client has been written to interface with &#8220;Sphinx&#8221;:<a
href="http://sphinxsearch.com/.">sphinxsearch.com/.</a> It is written by
&#8220;Pat Allan&#8221;:<a
href="http://freelancing-gods.com">freelancing-gods.com</a>, and has been
influenced by both Dmytro Shteflyuk&#8217;s Ruby client and the original
PHP client - credit where credit&#8217;s due, after all.
</p>
<p>
It does not follow the same syntax as those two, though (not much point
writing this otherwise) - opting for a more Ruby-like structure.
</p>
<p>
h2. Installation
</p>
<p>
<pre><tt>sudo gem install riddle</tt></pre>
</p>
<p>
h3. Usage
</p>
<p>
As of version 1.0.0, Riddle now supports multiple versions of Sphinx in the
one gem - you&#8217;ll need to require your specific version after a normal
require, though.
</p>
<p>
<pre><tt>require 'riddle' require 'riddle/0.9.9'</tt></pre>
</p>
<p>
To get started, just instantiate a Client object:
</p>
<p>
<pre><tt>client = <a
href="../classes/Riddle/Client.html#M000045">Riddle::Client.new</a> #
defaults to localhost and port 3312 client = <a
href="../classes/Riddle/Client.html#M000045">Riddle::Client.new</a>
&quot;sphinxserver.domain.tld&quot;, 3333 # custom settings</tt></pre>
</p>
<p>
And then set the parameters to what you want, before running a query:
</p>
<p>
<pre><tt>client.match_mode = :extended client.query &quot;Pat Allan @state
Victoria&quot;</tt></pre>
</p>
<p>
The results from a query are similar to the other clients - but
here&#8217;s the details. It&#8217;s a hash with the following keys:
</p>
<ul>
<li>@:matches@

</li>
<li>@:fields@

</li>
<li>@:attributes@

</li>
<li>@:attribute_names@

</li>
<li>@:words@

</li>
<li>@:total@

</li>
<li>@:total_found@

</li>
<li>@:time@

</li>
<li>@:status@

</li>
<li>@:warning@ (if appropriate)

</li>
<li>@:error@ (if appropriate)

</li>
</ul>
<p>
The key @:matches@ returns an array of hashes - the actual search results.
Each hash has the document id (@:doc@), the result weighting (@:weight@),
and a hash of the attributes for the document (@:attributes@).
</p>
<p>
The @:fields@ and @:attribute_names@ keys return list of fields and
attributes for the documents. The key @:attributes@ will return a hash of
attribute name and type pairs, and @:words@ returns a hash of hashes
representing the words from the search, with the number of documents and
hits for each, along the lines of:
</p>
<p>
<pre><tt>results[:words][&quot;Pat&quot;] #=&gt; {:docs =&gt; 12, :hits
=&gt; 15}</tt></pre>
</p>
<p>
@:total@, @:total_found@ and @:time@ return the number of matches
available, the total number of matches (which may be greater than the
maximum available), and the time in milliseconds that the query took to
run.
</p>
<p>
@:status@ is the error code for the query - and if there was a related
warning, it will be under the @:warning@ key. Fatal errors will be
described under @:error@.
</p>
<p>
If you&#8217;ve installed the gem and wondering why there&#8217;s no tests
- check out the git version. I&#8217;ve kept the specs out of the gem as I
have a decent amount of test data in there, which really isn&#8217;t needed
unless you want to submit patches.
</p>
<p>
h2. Contributors
</p>
<p>
Thanks to the following people who have contributed to Riddle in some shape
or form:
</p>
<ul>
<li>Andrew Aksyonoff

</li>
<li>Brad Greenlee

</li>
<li>Lachie Cox

</li>
<li>Jeremy Seitz

</li>
<li>Mark Lane

</li>
<li>Xavier Noria

</li>
<li>Henrik Nye

</li>
<li>Kristopher Chambers

</li>
<li>Rob Anderton

</li>
<li>Dylan Egan

</li>
<li>Jerry Vos

</li>
<li>Piotr Sarnacki

</li>
<li>Tim Preston

</li>
<li>Amir Yalon

</li>
<li>Sam Goldstein

</li>
<li>Matt Todd

</li>
<li>Paco Guzm√°n

</li>
<li>Greg Weber

</li>
<li>Enrico Thierbach

</li>
<li>Jason Lambert

</li>
<li>Saberma

</li>
<li>James Cook

</li>
<li>Alexey Artamonov

</li>
<li>Paul Gibler

</li>
<li>Ngan Pham

</li>
<li>Aaron Gilbralter

</li>
</ul>

    </div>
    

    

    
    

    
    

    

    

    

    

    

    
</div>
    </div>
  </body>
</html>