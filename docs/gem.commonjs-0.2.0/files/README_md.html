<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>README.md</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            README.md
        </h1>
        <ul class="files">
            <li>README.md</li>
            <li>Last modified: Sun Jan 22 15:49:08 +0100 2012</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
# <a href="../classes/CommonJS.html">CommonJS</a>
</p>
<p>
Host <a href="../classes/CommonJS.html">CommonJS</a> JavaScript
environments in Ruby
</p>
<p>
## Why?
</p>
<p>
The internet is now awash with non-browser JavaScript code. Much of this
code conforms to some simple conventions that let you use it anywhere you
have a JavaScript interpreter available. These conventions are collectively
called &#8220;commonjs&#8220;
</p>
<p>
We have several JavaScript interpreters available to us from Ruby.
Therefore, why shouldn&#8217;t we be able to use commonjs applications and
libraries?
</p>
<p>
## Using common JS from Ruby.
</p>
<p>
`CommonJS` now passes all of the Modules 1.0 unit tests
</p>
<pre>
    env = CommonJS::Environment.new(:path =&gt; '/path/to/lib/dir')
    env.require('foo.js')
</pre>
<p>
## Future directions
</p>
<p>
By default, all you get with a bare commonjs environment is the Modules API
</p>
<p>
The plan however, is to allow you to extend your commonjs environment to
have whatever native interfaces you want in it. So for example, if you want
to allow filesystem access, as well as access to the process information,
you would say:
</p>
<pre>
    env.modules :filesystem, :process
</pre>
<p>
## Supported runtimes
</p>
<p>
### Current
</p>
<ul>
<li>The Ruby Racer (V8) - [<a
href="https://github.com/cowboyd/therubyracer">github.com/cowboyd/therubyracer</a>]

</li>
</ul>
<p>
### Desired
</p>
<ul>
<li>The Ruby Rhino (JRuby) - [<a
href="https://github.com/cowboyd/therubyrhino">github.com/cowboyd/therubyrhino</a>]

</li>
<li>Johnson (TraceMonkey) - [<a
href="https://github.com/jbarnette/johnson">github.com/jbarnette/johnson</a>]

</li>
<li>Lyndon (MacRuby) - [<a
href="https://github.com/defunkt/lyndon">github.com/defunkt/lyndon</a>]

</li>
</ul>

    </div>
    

    

    
    

    
    

    

    

    

    

    

    
</div>
    </div>
  </body>
</html>