<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Hpricot::Elements</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Hpricot::Elements 
            
                <span class="parent">&lt; 
                    
                    Array
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/hpricot/elements_rb.html">lib/hpricot/elements.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Once you&#8217;ve matched a list of elements, you will often need to handle
them as a group. Or you may want to perform the same action on each of
them. <a href="Elements.html">Hpricot::Elements</a> is an extension of
Ruby&#8217;s array class, with some methods added for altering elements
contained in the array.
</p>
<p>
If you need to create an element array from regular elements:
</p>
<pre>
  Hpricot::Elements[ele1, ele2, ele3]
</pre>
<p>
Assuming that ele1, ele2 and ele3 contain element objects (<a
href="Elem.html">Hpricot::Elem</a>, <a href="Doc.html">Hpricot::Doc</a>,
etc.)
</p>
<h2>Continuing Searches</h2>
<p>
Usually the <a href="Elements.html">Hpricot::Elements</a> you&#8217;re
working on comes from a search you&#8217;ve done. Well, you can continue
searching the list by using the same <tt>at</tt> and <tt>search</tt>
methods you can use on plain elements.
</p>
<pre>
  elements = doc.search(&quot;/div/p&quot;)
  elements = elements.search(&quot;/a[@href='http://hoodwink.d/']&quot;)
  elements = elements.at(&quot;img&quot;)
</pre>
<h2>Altering <a href="Elements.html">Elements</a></h2>
<p>
When you&#8217;re altering elements in the list, your changes will be
reflected in the document you started searching from.
</p>
<pre>
  doc = Hpricot(&quot;That's my &lt;b&gt;spoon&lt;/b&gt;, Tyler.&quot;)
  doc.at(&quot;b&quot;).swap(&quot;&lt;i&gt;fork&lt;/i&gt;&quot;)
  doc.to_html
    #=&gt; &quot;That's my &lt;i&gt;fork&lt;/i&gt;, Tyler.&quot;
</pre>
<h2>Getting More Detailed</h2>
<p>
If you can&#8217;t find a method here that does what you need, you may need
to loop through the elements and find a method in <a
href="Container/Trav.html">Hpricot::Container::Trav</a> which can do what
you need.
</p>
<p>
For example, you may want to search for all the H3 header tags in a
document and grab all the tags underneath the header, but not inside the
header. A good method for this is <tt>next_sibling</tt>:
</p>
<pre>
  doc.search(&quot;h3&quot;).each do |h3|
    while ele = h3.next_sibling
      ary &lt;&lt; ele   # stuff away all the elements under the h3
    end
  end
</pre>
<p>
Most of the useful element methods are in the mixins <a
href="Traverse.html">Hpricot::Traverse</a> and <a
href="Container/Trav.html">Hpricot::Container::Trav</a>.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M000017">%</a>,</li>
                
                <li><a href="#M000015">/</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000046">add_class</a>,</li>
                
                <li><a href="#M000040">after</a>,</li>
                
                <li><a href="#M000034">append</a>,</li>
                
                <li><a href="#M000016">at</a>,</li>
                
                <li><a href="#M000044">attr</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M000039">before</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000053">copy_node</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000033">empty</a>,</li>
                
                <li><a href="#M000050">expand</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000051">filter</a>,</li>
                
                <li><a href="#M000049">filter</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M000023">html</a>,</li>
                
                <li><a href="#M000026">html=</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000024">innerHTML</a>,</li>
                
                <li><a href="#M000027">innerHTML=</a>,</li>
                
                <li><a href="#M000020">inner_html</a>,</li>
                
                <li><a href="#M000025">inner_html=</a>,</li>
                
                <li><a href="#M000028">inner_text</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000052">not</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000035">prepend</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000031">remove</a>,</li>
                
                <li><a href="#M000047">remove_attr</a>,</li>
                
                <li><a href="#M000048">remove_class</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000014">search</a>,</li>
                
                <li><a href="#M000045">set</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000030">text</a>,</li>
                
                <li><a href="#M000018">to_html</a>,</li>
                
                <li><a href="#M000019">to_s</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M000043">wrap</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">ATTR_RE</td>
            <td>=</td>
            <td class="attr-value">%r!\[ *(?:(@)([\w\(\)-]+)|([\w\(\)-]+\(\))) *([~\!\|\*$\^=]*) *'?&quot;?([^'&quot;]*)'?&quot;? *\]!i</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">BRACK_RE</td>
            <td>=</td>
            <td class="attr-value">%r!(\[) *([^\]]*) *\]+!i</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FUNC_RE</td>
            <td>=</td>
            <td class="attr-value">%r!(:)?([a-zA-Z0-9\*_-]*)\( *[\&quot;']?([^ \)]*?)['\&quot;]? *\)!</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">CUST_RE</td>
            <td>=</td>
            <td class="attr-value">%r!(:)([a-zA-Z0-9\*_-]*)()!</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">CATCH_RE</td>
            <td>=</td>
            <td class="attr-value">%r!([:\.#]*)([a-zA-Z0-9\*_-]+)!</td>
        </tr>
        
        
    </table>
    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000050">
                    
                    <a name="M000050"></a><b>expand</b>(ele1, ele2, excl=false)
                    
                </div>
                
                <div class="description">
                  <p>
Given two elements, attempt to gather an <a
href="Elements.html">Elements</a> array of everything between (and
including) those two elements.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000050_source')" id="l_M000050_source">show</a>
                        
                    </p>
                    <div id="M000050_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 319</span>
319:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">expand</span>(<span class="ruby-identifier">ele1</span>, <span class="ruby-identifier">ele2</span>, <span class="ruby-identifier">excl</span>=<span class="ruby-keyword kw">false</span>)
320:       <span class="ruby-identifier">ary</span> = []
321:       <span class="ruby-identifier">offset</span> = <span class="ruby-identifier">excl</span> <span class="ruby-value">? </span><span class="ruby-operator">-</span><span class="ruby-value">1</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>
322: 
323:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ele1</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">ele2</span>
324:         <span class="ruby-comment cmt"># let's quickly take care of siblings</span>
325:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ele1</span>.<span class="ruby-identifier">parent</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">ele2</span>.<span class="ruby-identifier">parent</span>
326:           <span class="ruby-identifier">ary</span> = <span class="ruby-identifier">ele1</span>.<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">children</span>[<span class="ruby-identifier">ele1</span>.<span class="ruby-identifier">node_position</span><span class="ruby-operator">..</span>(<span class="ruby-identifier">ele2</span>.<span class="ruby-identifier">node_position</span><span class="ruby-operator">+</span><span class="ruby-identifier">offset</span>)]
327:         <span class="ruby-keyword kw">else</span>
328:           <span class="ruby-comment cmt"># find common parent</span>
329:           <span class="ruby-identifier">p</span>, <span class="ruby-identifier">ele1_p</span> = <span class="ruby-identifier">ele1</span>, [<span class="ruby-identifier">ele1</span>]
330:           <span class="ruby-identifier">ele1_p</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-identifier">p</span> <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:parent</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">p</span> = <span class="ruby-identifier">p</span>.<span class="ruby-identifier">parent</span>
331:           <span class="ruby-identifier">p</span>, <span class="ruby-identifier">ele2_p</span> = <span class="ruby-identifier">ele2</span>, [<span class="ruby-identifier">ele2</span>]
332:           <span class="ruby-identifier">ele2_p</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-identifier">p</span> <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:parent</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">p</span> = <span class="ruby-identifier">p</span>.<span class="ruby-identifier">parent</span>
333:           <span class="ruby-identifier">common_parent</span> = <span class="ruby-identifier">ele1_p</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">ele2_p</span>).<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p1</span>, <span class="ruby-identifier">p2</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p1</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">p2</span> }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">last</span>
334: 
335:           <span class="ruby-identifier">child</span> = <span class="ruby-keyword kw">nil</span>
336:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ele1</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">common_parent</span>
337:             <span class="ruby-identifier">child</span> = <span class="ruby-identifier">ele2</span>
338:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">ele2</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">common_parent</span>
339:             <span class="ruby-identifier">child</span> = <span class="ruby-identifier">ele1</span>
340:           <span class="ruby-keyword kw">end</span>
341: 
342:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">child</span>
343:             <span class="ruby-identifier">ary</span> = <span class="ruby-identifier">common_parent</span>.<span class="ruby-identifier">children</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span>(<span class="ruby-identifier">child</span>.<span class="ruby-identifier">node_position</span><span class="ruby-operator">+</span><span class="ruby-identifier">offset</span>)]
344:           <span class="ruby-keyword kw">end</span>
345:         <span class="ruby-keyword kw">end</span>
346:       <span class="ruby-keyword kw">end</span>
347: 
348:       <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Elements</span>[<span class="ruby-operator">*</span><span class="ruby-identifier">ary</span>]
349:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000049">
                    
                    <a name="M000049"></a><b>filter</b>(nodes, expr, truth = true)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000049_source')" id="l_M000049_source">show</a>
                        
                    </p>
                    <div id="M000049_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 274</span>
274:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-identifier">nodes</span>, <span class="ruby-identifier">expr</span>, <span class="ruby-identifier">truth</span> = <span class="ruby-keyword kw">true</span>)
275:         <span class="ruby-keyword kw">until</span> <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">empty?</span>
276:             <span class="ruby-identifier">_</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">m</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">expr</span>.<span class="ruby-identifier">match</span>(<span class="ruby-node">/^(?:#{ATTR_RE}|#{BRACK_RE}|#{FUNC_RE}|#{CUST_RE}|#{CATCH_RE})/</span>)
277:             <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">_</span>
278: 
279:             <span class="ruby-identifier">expr</span> = <span class="ruby-identifier">$'</span>
280:             <span class="ruby-identifier">m</span>.<span class="ruby-identifier">compact!</span>
281:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">m</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'@'</span>
282:                 <span class="ruby-identifier">m</span>[<span class="ruby-value">0</span>] = <span class="ruby-node">&quot;@#{m.slice!(2,1).join}&quot;</span>
283:             <span class="ruby-keyword kw">end</span>
284: 
285:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">m</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'['</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">m</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^\d+$/</span>
286:                 <span class="ruby-identifier">m</span> = [<span class="ruby-value str">&quot;:&quot;</span>, <span class="ruby-value str">&quot;nth&quot;</span>, <span class="ruby-identifier">m</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>]
287:             <span class="ruby-keyword kw">end</span>
288: 
289:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">m</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;:&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">m</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;not&quot;</span>
290:                 <span class="ruby-identifier">nodes</span>, = <span class="ruby-constant">Elements</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-identifier">nodes</span>, <span class="ruby-identifier">m</span>[<span class="ruby-value">2</span>], <span class="ruby-keyword kw">false</span>)
291:             <span class="ruby-keyword kw">elsif</span> <span class="ruby-node">&quot;#{m[0]}#{m[1]}&quot;</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^(:even|:odd)$/</span>
292:                 <span class="ruby-identifier">new_nodes</span> = []
293:                 <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">each_with_index</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">n</span>,<span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">new_nodes</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">n</span>) <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">i</span> <span class="ruby-operator">%</span> <span class="ruby-value">2</span> <span class="ruby-operator">==</span> (<span class="ruby-identifier">m</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;even&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-value">0</span> <span class="ruby-operator">:</span> <span class="ruby-value">1</span>)) }
294:                 <span class="ruby-identifier">nodes</span> = <span class="ruby-identifier">new_nodes</span>
295:             <span class="ruby-keyword kw">elsif</span> <span class="ruby-node">&quot;#{m[0]}#{m[1]}&quot;</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^(:first|:last)$/</span>
296:                 <span class="ruby-identifier">nodes</span> = [<span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">m</span>[<span class="ruby-value">1</span>])]
297:             <span class="ruby-keyword kw">else</span>
298:                 <span class="ruby-identifier">meth</span> = <span class="ruby-node">&quot;filter[#{m[0]}#{m[1]}]&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">m</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">empty?</span>
299:                 <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">meth</span> <span class="ruby-keyword kw">and</span> <span class="ruby-constant">Traverse</span>.<span class="ruby-identifier">method_defined?</span> <span class="ruby-identifier">meth</span>
300:                     <span class="ruby-identifier">args</span> = <span class="ruby-identifier">m</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>]
301:                 <span class="ruby-keyword kw">else</span>
302:                     <span class="ruby-identifier">meth</span> = <span class="ruby-node">&quot;filter[#{m[0]}]&quot;</span>
303:                     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Traverse</span>.<span class="ruby-identifier">method_defined?</span> <span class="ruby-identifier">meth</span>
304:                         <span class="ruby-identifier">args</span> = <span class="ruby-identifier">m</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>]
305:                     <span class="ruby-keyword kw">end</span>
306:                 <span class="ruby-keyword kw">end</span>
307:                 <span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">-1</span>
308:                 <span class="ruby-identifier">nodes</span> = <span class="ruby-constant">Elements</span>[<span class="ruby-operator">*</span><span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">find_all</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
309:                                       <span class="ruby-identifier">args</span>[<span class="ruby-value">-1</span>] <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
310:                                       <span class="ruby-identifier">x</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">truth</span> <span class="ruby-operator">:</span> <span class="ruby-operator">!</span><span class="ruby-identifier">truth</span>
311:                                   <span class="ruby-keyword kw">end</span>]
312:             <span class="ruby-keyword kw">end</span>
313:         <span class="ruby-keyword kw">end</span>
314:         [<span class="ruby-identifier">nodes</span>, <span class="ruby-identifier">expr</span>]
315:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000017">
                    
                    <a name="M000017"></a><b>%</b>(expr, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Elements.html#M000016">at</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000015">
                    
                    <a name="M000015"></a><b>/</b>(*expr,&amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Elements.html#M000014">search</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000046">
                    
                    <a name="M000046"></a><b>add_class</b>(class_name)
                    
                </div>
                
                <div class="description">
                  <p>
Adds the class to all matched elements.
</p>
<pre>
  (doc/&quot;p&quot;).add_class(&quot;bacon&quot;)
</pre>
<p>
Now all paragraphs will have class=&#8220;bacon&#8221;.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000046_source')" id="l_M000046_source">show</a>
                        
                    </p>
                    <div id="M000046_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 226</span>
226:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_class</span> <span class="ruby-identifier">class_name</span>
227:       <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">el</span><span class="ruby-operator">|</span>
228:         <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">el</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-identifier">:get_attribute</span>
229:         <span class="ruby-identifier">classes</span> = <span class="ruby-identifier">el</span>.<span class="ruby-identifier">get_attribute</span>(<span class="ruby-value str">'class'</span>).<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot; &quot;</span>)
230:         <span class="ruby-identifier">el</span>.<span class="ruby-identifier">set_attribute</span>(<span class="ruby-value str">'class'</span>, <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">class_name</span>).<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; &quot;</span>))
231:       <span class="ruby-keyword kw">end</span>
232:       <span class="ruby-keyword kw">self</span>
233:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000040">
                    
                    <a name="M000040"></a><b>after</b>(str = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Just after each element in this list, add some HTML. Pass in an HTML
<tt>str</tt>, which is turned into <a href="../Hpricot.html">Hpricot</a>
elements.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000040_source')" id="l_M000040_source">show</a>
                        
                    </p>
                    <div id="M000040_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 154</span>
154:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after</span>(<span class="ruby-identifier">str</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
155:       <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">insert_after</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">make</span>(<span class="ruby-identifier">str</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>), <span class="ruby-identifier">x</span> }
156:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000034">
                    
                    <a name="M000034"></a><b>append</b>(str = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Add to the end of the contents inside each element in this list. Pass in an
HTML <tt>str</tt>, which is turned into <a
href="../Hpricot.html">Hpricot</a> elements.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000034_source')" id="l_M000034_source">show</a>
                        
                    </p>
                    <div id="M000034_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 136</span>
136:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">append</span>(<span class="ruby-identifier">str</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
137:       <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">html</span>(<span class="ruby-identifier">x</span>.<span class="ruby-identifier">children</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">make</span>(<span class="ruby-identifier">str</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)) }
138:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000016">
                    
                    <a name="M000016"></a><b>at</b>(expr, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Searches this list for the first element (or child of these elements)
matching the CSS or XPath expression <tt>expr</tt>. Root is assumed to be
the element scanned.
</p>
<p>
See Hpricot::Container::Trav.at for more.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Elements.html#M000017">%</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000016_source')" id="l_M000016_source">show</a>
                        
                    </p>
                    <div id="M000016_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 67</span>
67:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">at</span>(<span class="ruby-identifier">expr</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
68:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Fixnum</span>
69:         <span class="ruby-keyword kw">super</span>
70:       <span class="ruby-keyword kw">else</span>
71:         <span class="ruby-identifier">search</span>(<span class="ruby-identifier">expr</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)[<span class="ruby-value">0</span>]
72:       <span class="ruby-keyword kw">end</span>
73:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000044">
                    
                    <a name="M000044"></a><b>attr</b>(key, value = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Gets and sets attributes on all matched elements.
</p>
<p>
Pass in a <tt>key</tt> on its own and this method will return the string
value assigned to that attribute for the first elements. Or <tt>nil</tt> if
the attribute isn&#8217;t found.
</p>
<pre>
  doc.search(&quot;a&quot;).attr(&quot;href&quot;)
    #=&gt; &quot;http://hacketyhack.net/&quot;
</pre>
<p>
Or, pass in a <tt>key</tt> and <tt>value</tt>. This will set an attribute
for all matched elements.
</p>
<pre>
  doc.search(&quot;p&quot;).attr(&quot;class&quot;, &quot;basic&quot;)
</pre>
<p>
You may also use a Hash to set a series of attributes:
</p>
<pre>
  (doc/&quot;a&quot;).attr(:class =&gt; &quot;basic&quot;, :href =&gt; &quot;http://hackety.org/&quot;)
</pre>
<p>
Lastly, a block can be used to rewrite an attribute based on the element it
belongs to. The block will pass in an element. Return from the block the
new value of the attribute.
</p>
<pre>
  records.attr(&quot;href&quot;) { |e| e['href'] + &quot;#top&quot; }
</pre>
<p>
This example adds a <tt>top</tt> anchor to each link.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Elements.html#M000045">set</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000044_source')" id="l_M000044_source">show</a>
                        
                    </p>
                    <div id="M000044_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 205</span>
205:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attr</span> <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>
206:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">blk</span>
207:         <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">el</span><span class="ruby-operator">|</span>
208:           <span class="ruby-identifier">el</span>.<span class="ruby-identifier">set_attribute</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">blk</span>[<span class="ruby-identifier">el</span>])
209:         <span class="ruby-keyword kw">end</span>
210:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>
211:       <span class="ruby-keyword kw">end</span>
212:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Hash</span>
213:         <span class="ruby-identifier">key</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">attr</span>(<span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span>) }
214:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>
215:       <span class="ruby-keyword kw">else</span>
216:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">get_attribute</span>(<span class="ruby-identifier">key</span>)
217:       <span class="ruby-keyword kw">end</span>
218:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000039">
                    
                    <a name="M000039"></a><b>before</b>(str = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Add some HTML just previous to each element in this list. Pass in an HTML
<tt>str</tt>, which is turned into <a href="../Hpricot.html">Hpricot</a>
elements.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000039_source')" id="l_M000039_source">show</a>
                        
                    </p>
                    <div id="M000039_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 148</span>
148:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before</span>(<span class="ruby-identifier">str</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
149:       <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">insert_before</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">make</span>(<span class="ruby-identifier">str</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>), <span class="ruby-identifier">x</span> }
150:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000033">
                    
                    <a name="M000033"></a><b>empty</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Empty the elements in this list, by removing their insides.
</p>
<pre>
  doc = Hpricot(&quot;&lt;p&gt; We have &lt;i&gt;so much&lt;/i&gt; to say.&lt;/p&gt;&quot;)
  doc.search(&quot;i&quot;).empty
  doc.to_html
    =&gt; &quot;&lt;p&gt; We have &lt;i&gt;&lt;/i&gt; to say.&lt;/p&gt;&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000033_source')" id="l_M000033_source">show</a>
                        
                    </p>
                    <div id="M000033_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 130</span>
130:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">empty</span>
131:       <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">inner_html</span> = <span class="ruby-keyword kw">nil</span> }
132:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000051">
                    
                    <a name="M000051"></a><b>filter</b>(expr)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000051_source')" id="l_M000051_source">show</a>
                        
                    </p>
                    <div id="M000051_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 351</span>
351:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">filter</span>(<span class="ruby-identifier">expr</span>)
352:         <span class="ruby-identifier">nodes</span>, = <span class="ruby-constant">Elements</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">expr</span>)
353:         <span class="ruby-identifier">nodes</span>
354:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000023">
                    
                    <a name="M000023"></a><b>html</b>(*string)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Elements.html#M000020">inner_html</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000026">
                    
                    <a name="M000026"></a><b>html=</b>(string)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Elements.html#M000025">inner_html=</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000024">
                    
                    <a name="M000024"></a><b>innerHTML</b>(*string)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Elements.html#M000020">inner_html</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000027">
                    
                    <a name="M000027"></a><b>innerHTML=</b>(string)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Elements.html#M000025">inner_html=</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000020">
                    
                    <a name="M000020"></a><b>inner_html</b>(*string)
                    
                </div>
                
                <div class="description">
                  <p>
Returns an HTML fragment built of the contents of each element in this
list.
</p>
<p>
If a HTML <tt>string</tt> is supplied, this method acts like <a
href="Elements.html#M000020">inner_html</a>=.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Elements.html#M000023">html</a>
                    
                    <a href="Elements.html#M000024">innerHTML</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000020_source')" id="l_M000020_source">show</a>
                        
                    </p>
                    <div id="M000020_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 86</span>
86:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inner_html</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">string</span>)
87:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">string</span>.<span class="ruby-identifier">empty?</span>
88:         <span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">inner_html</span> }.<span class="ruby-identifier">join</span>
89:       <span class="ruby-keyword kw">else</span>
90:         <span class="ruby-identifier">x</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">inner_html</span> = <span class="ruby-identifier">string</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">x</span>
91:       <span class="ruby-keyword kw">end</span>
92:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000025">
                    
                    <a name="M000025"></a><b>inner_html=</b>(string)
                    
                </div>
                
                <div class="description">
                  <p>
Replaces the contents of each element in this list. Supply an HTML
<tt>string</tt>, which is loaded into <a href="../Hpricot.html">Hpricot</a>
objects and inserted into every element in this list.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Elements.html#M000026">html=</a>
                    
                    <a href="Elements.html#M000027">innerHTML=</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000025_source')" id="l_M000025_source">show</a>
                        
                    </p>
                    <div id="M000025_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 99</span>
 99:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inner_html=</span>(<span class="ruby-identifier">string</span>)
100:       <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">inner_html</span> = <span class="ruby-identifier">string</span> }
101:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000028">
                    
                    <a name="M000028"></a><b>inner_text</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns an string containing the text contents of each element in this
list. All HTML tags are removed.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Elements.html#M000030">text</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000028_source')" id="l_M000028_source">show</a>
                        
                    </p>
                    <div id="M000028_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 107</span>
107:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inner_text</span>
108:       <span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">inner_text</span> }.<span class="ruby-identifier">join</span>
109:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000052">
                    
                    <a name="M000052"></a><b>not</b>(expr)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000052_source')" id="l_M000052_source">show</a>
                        
                    </p>
                    <div id="M000052_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 356</span>
356:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">not</span>(<span class="ruby-identifier">expr</span>)
357:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Traverse</span>
358:             <span class="ruby-identifier">nodes</span> = <span class="ruby-keyword kw">self</span> <span class="ruby-operator">-</span> [<span class="ruby-identifier">expr</span>]
359:         <span class="ruby-keyword kw">else</span>
360:             <span class="ruby-identifier">nodes</span>, = <span class="ruby-constant">Elements</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">expr</span>, <span class="ruby-keyword kw">false</span>)
361:         <span class="ruby-keyword kw">end</span>
362:         <span class="ruby-identifier">nodes</span>
363:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000035">
                    
                    <a name="M000035"></a><b>prepend</b>(str = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Add to the start of the contents inside each element in this list. Pass in
an HTML <tt>str</tt>, which is turned into <a
href="../Hpricot.html">Hpricot</a> elements.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000035_source')" id="l_M000035_source">show</a>
                        
                    </p>
                    <div id="M000035_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 142</span>
142:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prepend</span>(<span class="ruby-identifier">str</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
143:       <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">html</span>(<span class="ruby-identifier">x</span>.<span class="ruby-identifier">make</span>(<span class="ruby-identifier">str</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">children</span>) }
144:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000031">
                    
                    <a name="M000031"></a><b>remove</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Remove all elements in this list from the document which contains them.
</p>
<pre>
  doc = Hpricot(&quot;&lt;html&gt;Remove this: &lt;b&gt;here&lt;/b&gt;&lt;/html&gt;&quot;)
  doc.search(&quot;b&quot;).remove
  doc.to_html
    =&gt; &quot;&lt;html&gt;Remove this: &lt;/html&gt;&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000031_source')" id="l_M000031_source">show</a>
                        
                    </p>
                    <div id="M000031_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 119</span>
119:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove</span>
120:       <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">x</span>) }
121:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000047">
                    
                    <a name="M000047"></a><b>remove_attr</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Remove an attribute from each of the matched elements.
</p>
<pre>
  (doc/&quot;input&quot;).remove_attr(&quot;disabled&quot;)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000047_source')" id="l_M000047_source">show</a>
                        
                    </p>
                    <div id="M000047_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 239</span>
239:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_attr</span> <span class="ruby-identifier">name</span>
240:       <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">el</span><span class="ruby-operator">|</span>
241:         <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">el</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-identifier">:remove_attribute</span>
242:         <span class="ruby-identifier">el</span>.<span class="ruby-identifier">remove_attribute</span>(<span class="ruby-identifier">name</span>)
243:       <span class="ruby-keyword kw">end</span>
244:       <span class="ruby-keyword kw">self</span>
245:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000048">
                    
                    <a name="M000048"></a><b>remove_class</b>(name = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Removes a class from all matched elements.
</p>
<pre>
  (doc/&quot;span&quot;).remove_class(&quot;lightgrey&quot;)
</pre>
<p>
Or, to remove all classes:
</p>
<pre>
  (doc/&quot;span&quot;).remove_class
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000048_source')" id="l_M000048_source">show</a>
                        
                    </p>
                    <div id="M000048_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 255</span>
255:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_class</span> <span class="ruby-identifier">name</span> = <span class="ruby-keyword kw">nil</span>
256:       <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">el</span><span class="ruby-operator">|</span>
257:         <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">el</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-identifier">:get_attribute</span>
258:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span>
259:           <span class="ruby-identifier">classes</span> = <span class="ruby-identifier">el</span>.<span class="ruby-identifier">get_attribute</span>(<span class="ruby-value str">'class'</span>).<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot; &quot;</span>)
260:           <span class="ruby-identifier">el</span>.<span class="ruby-identifier">set_attribute</span>(<span class="ruby-value str">'class'</span>, (<span class="ruby-identifier">classes</span> <span class="ruby-operator">-</span> [<span class="ruby-identifier">name</span>]).<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; &quot;</span>))
261:         <span class="ruby-keyword kw">else</span>
262:           <span class="ruby-identifier">el</span>.<span class="ruby-identifier">remove_attribute</span>(<span class="ruby-value str">&quot;class&quot;</span>)
263:         <span class="ruby-keyword kw">end</span>
264:       <span class="ruby-keyword kw">end</span>
265:       <span class="ruby-keyword kw">self</span>
266:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000014">
                    
                    <a name="M000014"></a><b>search</b>(*expr,&amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Searches this list for any elements (or children of these elements)
matching the CSS or XPath expression <tt>expr</tt>. Root is assumed to be
the element scanned.
</p>
<p>
See Hpricot::Container::Trav.search for more.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Elements.html#M000015">/</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000014_source')" id="l_M000014_source">show</a>
                        
                    </p>
                    <div id="M000014_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 58</span>
58:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">search</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">expr</span>,<span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
59:       <span class="ruby-constant">Elements</span>[<span class="ruby-operator">*</span><span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">search</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">expr</span>,<span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>) }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>]
60:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000045">
                    
                    <a name="M000045"></a><b>set</b>(key, value = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Elements.html#M000044">attr</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000030">
                    
                    <a name="M000030"></a><b>text</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Elements.html#M000028">inner_text</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000018">
                    
                    <a name="M000018"></a><b>to_html</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Convert this group of elements into a complete HTML fragment, returned as a
string.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Elements.html#M000019">to_s</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000018_source')" id="l_M000018_source">show</a>
                        
                    </p>
                    <div id="M000018_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 78</span>
78:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_html</span>
79:       <span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">output</span>(<span class="ruby-value str">&quot;&quot;</span>) }.<span class="ruby-identifier">join</span>
80:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000019">
                    
                    <a name="M000019"></a><b>to_s</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Elements.html#M000018">to_html</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000043">
                    
                    <a name="M000043"></a><b>wrap</b>(str = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Wraps each element in the list inside the element created by HTML
<tt>str</tt>. If more than one element is found in the string, <a
href="../Hpricot.html">Hpricot</a> locates the deepest spot inside the
first element.
</p>
<pre>
 doc.search(&quot;a[@href]&quot;).
     wrap(%{&lt;div class=&quot;link&quot;&gt;&lt;div class=&quot;link_inner&quot;&gt;&lt;/div&gt;&lt;/div&gt;})
</pre>
<p>
This code wraps every link on the page inside a <tt>div.link</tt> and a
<tt>div.link_inner</tt> nest.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000043_source')" id="l_M000043_source">show</a>
                        
                    </p>
                    <div id="M000043_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 166</span>
166:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">wrap</span>(<span class="ruby-identifier">str</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
167:       <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
168:         <span class="ruby-identifier">wrap</span> = <span class="ruby-identifier">x</span>.<span class="ruby-identifier">make</span>(<span class="ruby-identifier">str</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
169:         <span class="ruby-identifier">nest</span> = <span class="ruby-identifier">wrap</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span> <span class="ruby-identifier">w</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-identifier">:children</span> }
170:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">nest</span>
171:           <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;No wrapping element found.&quot;</span>
172:         <span class="ruby-keyword kw">end</span>
173:         <span class="ruby-identifier">x</span>.<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">replace_child</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">wrap</span>)
174:         <span class="ruby-identifier">nest</span> = <span class="ruby-identifier">nest</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">first</span> <span class="ruby-keyword kw">until</span> <span class="ruby-identifier">nest</span>.<span class="ruby-identifier">empty?</span>
175:         <span class="ruby-identifier">nest</span>.<span class="ruby-identifier">html</span>([<span class="ruby-identifier">x</span>])
176:       <span class="ruby-keyword kw">end</span>
177:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M000053">
                    
                    <a name="M000053"></a><b>copy_node</b>(node, l)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000053_source')" id="l_M000053_source">show</a>
                        
                    </p>
                    <div id="M000053_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 366</span>
366:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">copy_node</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">l</span>)
367:         <span class="ruby-identifier">l</span>.<span class="ruby-identifier">instance_variables</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">iv</span><span class="ruby-operator">|</span>
368:             <span class="ruby-identifier">node</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-identifier">iv</span>, <span class="ruby-identifier">l</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-identifier">iv</span>))
369:         <span class="ruby-keyword kw">end</span>
370:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    