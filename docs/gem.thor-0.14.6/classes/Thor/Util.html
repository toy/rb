<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Thor::Util</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            Thor::Util 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/thor/util_rb.html">lib/thor/util.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
This module holds several utilities:
</p>
<p>
1) Methods to convert thor namespaces to constants and vice-versa.
</p>
<pre>
  Thor::Utils.namespace_from_thor_class(Foo::Bar::Baz) #=&gt; &quot;foo:bar:baz&quot;
</pre>
<p>
2) Loading thor files and sandboxing:
</p>
<pre>
  Thor::Utils.load_thorfile(&quot;~/.thor/foo&quot;)
</pre>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000174">camel_case</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000163">find_by_namespace</a>,</li>
                
                <li><a href="#M000175">find_class_and_task_by_namespace</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M000180">globs_for</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M000176">load_thorfile</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000166">namespace_from_thor_class</a>,</li>
                
                <li><a href="#M000167">namespaces_in_content</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000181">ruby_command</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000173">snake_case</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000171">thor_classes_in</a>,</li>
                
                <li><a href="#M000178">thor_root</a>,</li>
                
                <li><a href="#M000179">thor_root_glob</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M000177">user_home</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000174">
                    
                    <a name="M000174"></a><b>camel_case</b>(str)
                    
                </div>
                
                <div class="description">
                  <p>
Receives a string and convert it to camel case. <a
href="Util.html#M000174">camel_case</a> returns CamelCase.
</p>
<h4>Parameters</h4>
<p>
String
</p>
<h4>Returns</h4>
<p>
String
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000174_source')" id="l_M000174_source">show</a>
                        
                    </p>
                    <div id="M000174_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/thor/util.rb, line 104</span>
104:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">camel_case</span>(<span class="ruby-identifier">str</span>)
105:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">str</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">str</span> <span class="ruby-operator">!~</span> <span class="ruby-regexp re">/_/</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">str</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/[A-Z]+.*/</span>
106:       <span class="ruby-identifier">str</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">'_'</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span>.<span class="ruby-identifier">capitalize</span> }.<span class="ruby-identifier">join</span>
107:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000163">
                    
                    <a name="M000163"></a><b>find_by_namespace</b>(namespace)
                    
                </div>
                
                <div class="description">
                  <p>
Receives a namespace and search for it in the <a
href="Base.html">Thor::Base</a> subclasses.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">namespace<String>:</td><td>The namespace to search for.

</td></tr>
</table>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000163_source')" id="l_M000163_source">show</a>
                        
                    </p>
                    <div id="M000163_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/thor/util.rb, line 24</span>
24:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find_by_namespace</span>(<span class="ruby-identifier">namespace</span>)
25:       <span class="ruby-identifier">namespace</span> = <span class="ruby-node">&quot;default#{namespace}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">namespace</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^:/</span>
26:       <span class="ruby-constant">Thor</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">subclasses</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">namespace</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">namespace</span> }
27:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000175">
                    
                    <a name="M000175"></a><b>find_class_and_task_by_namespace</b>(namespace, fallback = true)
                    
                </div>
                
                <div class="description">
                  <p>
Receives a namespace and tries to retrieve a <a
href="../Thor.html">Thor</a> or <a href="Group.html">Thor::Group</a> class
from it. It first searches for a class using the all the given namespace,
if it&#8217;s not found, removes the highest entry and searches for the
class again. If found, returns the highest entry as the class name.
</p>
<h4>Examples</h4>
<pre>
  class Foo::Bar &lt; Thor
    def baz
    end
  end

  class Baz::Foo &lt; Thor::Group
  end

  Thor::Util.namespace_to_thor_class(&quot;foo:bar&quot;)     #=&gt; Foo::Bar, nil # will invoke default task
  Thor::Util.namespace_to_thor_class(&quot;baz:foo&quot;)     #=&gt; Baz::Foo, nil
  Thor::Util.namespace_to_thor_class(&quot;foo:bar:baz&quot;) #=&gt; Foo::Bar, &quot;baz&quot;
</pre>
<h4>Parameters</h4>
<p>
namespace<String>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000175_source')" id="l_M000175_source">show</a>
                        
                    </p>
                    <div id="M000175_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/thor/util.rb, line 131</span>
131:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">find_class_and_task_by_namespace</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">fallback</span> = <span class="ruby-keyword kw">true</span>)
132:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">?:</span>) <span class="ruby-comment cmt"># look for a namespaced task</span>
133:         <span class="ruby-identifier">pieces</span> = <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;:&quot;</span>)
134:         <span class="ruby-identifier">task</span>   = <span class="ruby-identifier">pieces</span>.<span class="ruby-identifier">pop</span>
135:         <span class="ruby-identifier">klass</span>  = <span class="ruby-constant">Thor</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">find_by_namespace</span>(<span class="ruby-identifier">pieces</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;:&quot;</span>))
136:       <span class="ruby-keyword kw">end</span>
137:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">klass</span> <span class="ruby-comment cmt"># look for a Thor::Group with the right name</span>
138:         <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">task</span> = <span class="ruby-constant">Thor</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">find_by_namespace</span>(<span class="ruby-identifier">namespace</span>), <span class="ruby-keyword kw">nil</span>
139:       <span class="ruby-keyword kw">end</span>
140:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">klass</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">fallback</span> <span class="ruby-comment cmt"># try a task in the default namespace</span>
141:         <span class="ruby-identifier">task</span> = <span class="ruby-identifier">namespace</span>
142:         <span class="ruby-identifier">klass</span> = <span class="ruby-constant">Thor</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">find_by_namespace</span>(<span class="ruby-value str">''</span>)
143:       <span class="ruby-keyword kw">end</span>
144:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">task</span>
145:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000180">
                    
                    <a name="M000180"></a><b>globs_for</b>(path)
                    
                </div>
                
                <div class="description">
                  <p>
Where to look for <a href="../Thor.html">Thor</a> files.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000180_source')" id="l_M000180_source">show</a>
                        
                    </p>
                    <div id="M000180_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/thor/util.rb, line 210</span>
210:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">globs_for</span>(<span class="ruby-identifier">path</span>)
211:       [<span class="ruby-node">&quot;#{path}/Thorfile&quot;</span>, <span class="ruby-node">&quot;#{path}/*.thor&quot;</span>, <span class="ruby-node">&quot;#{path}/tasks/*.thor&quot;</span>, <span class="ruby-node">&quot;#{path}/lib/tasks/*.thor&quot;</span>]
212:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000176">
                    
                    <a name="M000176"></a><b>load_thorfile</b>(path, content=nil, debug=false)
                    
                </div>
                
                <div class="description">
                  <p>
Receives a path and load the thor file in the path. The file is evaluated
inside the sandbox to avoid namespacing conflicts.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000176_source')" id="l_M000176_source">show</a>
                        
                    </p>
                    <div id="M000176_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/thor/util.rb, line 150</span>
150:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">load_thorfile</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">content</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">debug</span>=<span class="ruby-keyword kw">false</span>)
151:       <span class="ruby-identifier">content</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">binread</span>(<span class="ruby-identifier">path</span>)
152: 
153:       <span class="ruby-keyword kw">begin</span>
154:         <span class="ruby-constant">Thor</span><span class="ruby-operator">::</span><span class="ruby-constant">Sandbox</span>.<span class="ruby-identifier">class_eval</span>(<span class="ruby-identifier">content</span>, <span class="ruby-identifier">path</span>)
155:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
156:         <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;WARNING: unable to load thorfile #{path.inspect}: #{e.message}&quot;</span>
157:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">debug</span>
158:           <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-operator">*</span><span class="ruby-identifier">e</span>.<span class="ruby-identifier">backtrace</span>
159:         <span class="ruby-keyword kw">else</span>
160:           <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">backtrace</span>.<span class="ruby-identifier">first</span>
161:         <span class="ruby-keyword kw">end</span>
162:       <span class="ruby-keyword kw">end</span>
163:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000166">
                    
                    <a name="M000166"></a><b>namespace_from_thor_class</b>(constant)
                    
                </div>
                
                <div class="description">
                  <p>
Receives a constant and converts it to a <a href="../Thor.html">Thor</a>
namespace. Since <a href="../Thor.html">Thor</a> tasks can be added to a
sandbox, this method is also responsable for removing the sandbox
namespace.
</p>
<p>
This method should not be used in general because it&#8217;s used to deal
with older versions of <a href="../Thor.html">Thor</a>. On current
versions, if you need to get the namespace from a class, just call
namespace on it.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">constant<Object>:</td><td>The constant to be converted to the thor path.

</td></tr>
</table>
<h4>Returns</h4>
<table>
<tr><td valign="top">String:</td><td>If we receive Foo::Bar::Baz it returns &#8220;foo:bar:baz&#8220;

</td></tr>
</table>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000166_source')" id="l_M000166_source">show</a>
                        
                    </p>
                    <div id="M000166_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/thor/util.rb, line 43</span>
43:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">namespace_from_thor_class</span>(<span class="ruby-identifier">constant</span>)
44:       <span class="ruby-identifier">constant</span> = <span class="ruby-identifier">constant</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/^Thor::Sandbox::/</span>, <span class="ruby-value str">&quot;&quot;</span>)
45:       <span class="ruby-identifier">constant</span> = <span class="ruby-identifier">snake_case</span>(<span class="ruby-identifier">constant</span>).<span class="ruby-identifier">squeeze</span>(<span class="ruby-value str">&quot;:&quot;</span>)
46:       <span class="ruby-identifier">constant</span>
47:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000167">
                    
                    <a name="M000167"></a><b>namespaces_in_content</b>(contents, file=__FILE__)
                    
                </div>
                
                <div class="description">
                  <p>
Given the contents, evaluate it inside the sandbox and returns the
namespaces defined in the sandbox.
</p>
<h4>Parameters</h4>
<p>
contents<String>
</p>
<h4>Returns</h4>
<p>
Array[Object]
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000167_source')" id="l_M000167_source">show</a>
                        
                    </p>
                    <div id="M000167_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/thor/util.rb, line 58</span>
58:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">namespaces_in_content</span>(<span class="ruby-identifier">contents</span>, <span class="ruby-identifier">file</span>=<span class="ruby-keyword kw">__FILE__</span>)
59:       <span class="ruby-identifier">old_constants</span> = <span class="ruby-constant">Thor</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">subclasses</span>.<span class="ruby-identifier">dup</span>
60:       <span class="ruby-constant">Thor</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">subclasses</span>.<span class="ruby-identifier">clear</span>
61: 
62:       <span class="ruby-identifier">load_thorfile</span>(<span class="ruby-identifier">file</span>, <span class="ruby-identifier">contents</span>)
63: 
64:       <span class="ruby-identifier">new_constants</span> = <span class="ruby-constant">Thor</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">subclasses</span>.<span class="ruby-identifier">dup</span>
65:       <span class="ruby-constant">Thor</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">subclasses</span>.<span class="ruby-identifier">replace</span>(<span class="ruby-identifier">old_constants</span>)
66: 
67:       <span class="ruby-identifier">new_constants</span>.<span class="ruby-identifier">map!</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">namespace</span> }
68:       <span class="ruby-identifier">new_constants</span>.<span class="ruby-identifier">compact!</span>
69:       <span class="ruby-identifier">new_constants</span>
70:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000181">
                    
                    <a name="M000181"></a><b>ruby_command</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Return the path to the ruby interpreter taking into account multiple
installations and windows extensions.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000181_source')" id="l_M000181_source">show</a>
                        
                    </p>
                    <div id="M000181_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/thor/util.rb, line 217</span>
217:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">ruby_command</span>
218:       <span class="ruby-ivar">@ruby_command</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">begin</span>
219:         <span class="ruby-identifier">ruby</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-value str">'bindir'</span>], <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-value str">'ruby_install_name'</span>])
220:         <span class="ruby-identifier">ruby</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-value str">'EXEEXT'</span>]
221: 
222:         <span class="ruby-comment cmt"># escape string in case path to ruby executable contain spaces.</span>
223:         <span class="ruby-identifier">ruby</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp re">/.*\s.*/</span><span class="ruby-identifier">m</span>, <span class="ruby-value str">'&quot;\&amp;&quot;'</span>)
224:         <span class="ruby-identifier">ruby</span>
225:       <span class="ruby-keyword kw">end</span>
226:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000173">
                    
                    <a name="M000173"></a><b>snake_case</b>(str)
                    
                </div>
                
                <div class="description">
                  <p>
Receives a string and convert it to snake case. SnakeCase returns
snake_case.
</p>
<h4>Parameters</h4>
<p>
String
</p>
<h4>Returns</h4>
<p>
String
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000173_source')" id="l_M000173_source">show</a>
                        
                    </p>
                    <div id="M000173_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/thor/util.rb, line 90</span>
90:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">snake_case</span>(<span class="ruby-identifier">str</span>)
91:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">str</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^[A-Z_]+$/</span>
92:       <span class="ruby-identifier">str</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\B[A-Z]/</span>, <span class="ruby-value str">'_\&amp;'</span>).<span class="ruby-identifier">squeeze</span>(<span class="ruby-value str">'_'</span>) <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/_*(.*)/</span>
93:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">$+</span>.<span class="ruby-identifier">downcase</span>
94:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000171">
                    
                    <a name="M000171"></a><b>thor_classes_in</b>(klass)
                    
                </div>
                
                <div class="description">
                  <p>
Returns the thor classes declared inside the given class.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000171_source')" id="l_M000171_source">show</a>
                        
                    </p>
                    <div id="M000171_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/thor/util.rb, line 74</span>
74:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">thor_classes_in</span>(<span class="ruby-identifier">klass</span>)
75:       <span class="ruby-identifier">stringfied_constants</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">to_s</span> }
76:       <span class="ruby-constant">Thor</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">subclasses</span>.<span class="ruby-identifier">select</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">subclass</span><span class="ruby-operator">|</span>
77:         <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">subclass</span>.<span class="ruby-identifier">name</span>
78:         <span class="ruby-identifier">stringfied_constants</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">subclass</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-node">&quot;#{klass.name}::&quot;</span>, <span class="ruby-value str">''</span>))
79:       <span class="ruby-keyword kw">end</span>
80:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000178">
                    
                    <a name="M000178"></a><b>thor_root</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the root where thor files are located, dependending on the OS.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000178_source')" id="l_M000178_source">show</a>
                        
                    </p>
                    <div id="M000178_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/thor/util.rb, line 189</span>
189:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">thor_root</span>
190:       <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">user_home</span>, <span class="ruby-value str">&quot;.thor&quot;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\\/</span>, <span class="ruby-value str">'/'</span>)
191:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000179">
                    
                    <a name="M000179"></a><b>thor_root_glob</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the files in the thor root. On Windows <a
href="Util.html#M000178">thor_root</a> will be something like this:
</p>
<pre>
  C:\Documents and Settings\james\.thor
</pre>
<p>
If we don&#8217;t gsub the \ character, Dir.glob will fail.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000179_source')" id="l_M000179_source">show</a>
                        
                    </p>
                    <div id="M000179_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/thor/util.rb, line 200</span>
200:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">thor_root_glob</span>
201:       <span class="ruby-identifier">files</span> = <span class="ruby-constant">Dir</span>[<span class="ruby-node">&quot;#{thor_root}/*&quot;</span>]
202: 
203:       <span class="ruby-identifier">files</span>.<span class="ruby-identifier">map!</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
204:         <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">file</span>) <span class="ruby-operator">?</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">file</span>, <span class="ruby-value str">&quot;main.thor&quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">file</span>
205:       <span class="ruby-keyword kw">end</span>
206:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000177">
                    
                    <a name="M000177"></a><b>user_home</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000177_source')" id="l_M000177_source">show</a>
                        
                    </p>
                    <div id="M000177_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/thor/util.rb, line 165</span>
165:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">user_home</span>
166:       <span class="ruby-ivar">@@user_home</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">ENV</span>[<span class="ruby-value str">&quot;HOME&quot;</span>]
167:         <span class="ruby-constant">ENV</span>[<span class="ruby-value str">&quot;HOME&quot;</span>]
168:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">ENV</span>[<span class="ruby-value str">&quot;USERPROFILE&quot;</span>]
169:         <span class="ruby-constant">ENV</span>[<span class="ruby-value str">&quot;USERPROFILE&quot;</span>]
170:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">ENV</span>[<span class="ruby-value str">&quot;HOMEDRIVE&quot;</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">ENV</span>[<span class="ruby-value str">&quot;HOMEPATH&quot;</span>]
171:         <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">ENV</span>[<span class="ruby-value str">&quot;HOMEDRIVE&quot;</span>], <span class="ruby-constant">ENV</span>[<span class="ruby-value str">&quot;HOMEPATH&quot;</span>])
172:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">ENV</span>[<span class="ruby-value str">&quot;APPDATA&quot;</span>]
173:         <span class="ruby-constant">ENV</span>[<span class="ruby-value str">&quot;APPDATA&quot;</span>]
174:       <span class="ruby-keyword kw">else</span>
175:         <span class="ruby-keyword kw">begin</span>
176:           <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-value str">&quot;~&quot;</span>)
177:         <span class="ruby-keyword kw">rescue</span>
178:           <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">ALT_SEPARATOR</span>
179:             <span class="ruby-value str">&quot;C:/&quot;</span>
180:           <span class="ruby-keyword kw">else</span>
181:             <span class="ruby-value str">&quot;/&quot;</span>
182:           <span class="ruby-keyword kw">end</span>
183:         <span class="ruby-keyword kw">end</span>
184:       <span class="ruby-keyword kw">end</span>
185:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    