<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>GraphViz::Theory</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            GraphViz::Theory 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/graphviz/theory_rb.html">lib/graphviz/theory.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000137">adjancy_matrix</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M000158">bfs</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000150">critical_path</a>,</li>
                
                <li><a href="#M000170">critical_path_recursion</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000144">degree</a>,</li>
                
                <li><a href="#M000163">degree_matrix</a>,</li>
                
                <li><a href="#M000159">dfs</a>,</li>
                
                <li><a href="#M000161">distance_matrix</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000143">incidence_matrix</a>,</li>
                
                <li><a href="#M000157">incidents</a>,</li>
                
                <li><a href="#M000169">index_of_item</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M000145">laplacian_matrix</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000147">moore_dijkstra</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000156">neighbors</a>,</li>
                
                <li><a href="#M000136">new</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000151">pagerank</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000149">range</a>,</li>
                
                <li><a href="#M000168">range_recursion</a>,</li>
                
                <li><a href="#M000160">recursive_dfs</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000146">symmetric?</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000137">
                    
                    <a name="M000137"></a><b>adjancy_matrix</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Return the adjancy matrix of the graph
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000137_source')" id="l_M000137_source">show</a>
                        
                    </p>
                    <div id="M000137_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 10</span>
10:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">adjancy_matrix</span>
11:          <span class="ruby-identifier">matrix</span> = <span class="ruby-constant">GraphViz</span><span class="ruby-operator">::</span><span class="ruby-constant">Math</span><span class="ruby-operator">::</span><span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">new</span>( <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">node_count</span>, <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">node_count</span> )
12: 
13:          <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">each_edge</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
14:             <span class="ruby-identifier">x</span> = <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">get_node</span>(<span class="ruby-identifier">e</span>.<span class="ruby-identifier">node_one</span>( <span class="ruby-keyword kw">false</span> )).<span class="ruby-identifier">index</span>
15:             <span class="ruby-identifier">y</span> = <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">get_node</span>(<span class="ruby-identifier">e</span>.<span class="ruby-identifier">node_two</span>( <span class="ruby-keyword kw">false</span> )).<span class="ruby-identifier">index</span>
16:             <span class="ruby-identifier">matrix</span>[<span class="ruby-identifier">x</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-identifier">y</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>] = <span class="ruby-value">1</span>
17:             <span class="ruby-identifier">matrix</span>[<span class="ruby-identifier">y</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-identifier">x</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>] = <span class="ruby-value">1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;graph&quot;</span>
18:          }
19: 
20:          <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">matrix</span>
21:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000158">
                    
                    <a name="M000158"></a><b>bfs</b>(node, &amp;b)
                    
                </div>
                
                <div class="description">
                  <p>
Breadth First Search
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000158_source')" id="l_M000158_source">show</a>
                        
                    </p>
                    <div id="M000158_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 209</span>
209:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">bfs</span>(<span class="ruby-identifier">node</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>)
210:          <span class="ruby-identifier">queue</span> = []
211:          <span class="ruby-identifier">visited_nodes</span> = []
212:          <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">get_node</span>(<span class="ruby-identifier">node</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">String</span>
213:          <span class="ruby-identifier">queue</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">node</span>
214:          <span class="ruby-identifier">visited_nodes</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">node</span>
215: 
216:          <span class="ruby-keyword kw">while</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">queue</span>.<span class="ruby-identifier">empty?</span>
217:             <span class="ruby-identifier">node</span> = <span class="ruby-identifier">queue</span>.<span class="ruby-identifier">shift</span>
218:             <span class="ruby-identifier">b</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">node</span>)
219:             <span class="ruby-identifier">neighbors</span>(<span class="ruby-identifier">node</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span>
220:                <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">visited_nodes</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">n</span>)
221:                   <span class="ruby-identifier">visited_nodes</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">n</span>
222:                   <span class="ruby-identifier">queue</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">n</span>
223:                <span class="ruby-keyword kw">end</span>
224:             <span class="ruby-keyword kw">end</span>
225:          <span class="ruby-keyword kw">end</span>
226:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000150">
                    
                    <a name="M000150"></a><b>critical_path</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Return the critical path for a PERT network
</p>
<p>
If the given graph is not a PERT network, return nul
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000150_source')" id="l_M000150_source">show</a>
                        
                    </p>
                    <div id="M000150_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 149</span>
149:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">critical_path</span>
150:          <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">range</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-keyword kw">nil</span>) <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;digraph&quot;</span>
151:          <span class="ruby-identifier">r</span> = [ [<span class="ruby-value">0</span>, [<span class="ruby-value">1</span>]] ]
152: 
153:          <span class="ruby-identifier">critical_path_recursion</span>( <span class="ruby-identifier">distance_matrix</span>, <span class="ruby-identifier">adjancy_matrix</span>, <span class="ruby-identifier">r</span>, [], <span class="ruby-value">0</span> ).<span class="ruby-identifier">inject</span>( {<span class="ruby-identifier">:distance</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> []} ) { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span>, <span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
154:             (<span class="ruby-identifier">r</span>[<span class="ruby-identifier">:distance</span>] <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">item</span>[<span class="ruby-value">0</span>]) <span class="ruby-operator">?</span> { <span class="ruby-identifier">:distance</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">item</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">item</span>[<span class="ruby-value">1</span>] } <span class="ruby-operator">:</span> <span class="ruby-identifier">r</span>
155:          }
156:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000144">
                    
                    <a name="M000144"></a><b>degree</b>( node )
                    
                </div>
                
                <div class="description">
                  <p>
Return the degree of the given node
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000144_source')" id="l_M000144_source">show</a>
                        
                    </p>
                    <div id="M000144_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 43</span>
43:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">degree</span>( <span class="ruby-identifier">node</span> )
44:          <span class="ruby-identifier">degree</span> = <span class="ruby-value">0</span>
45:          <span class="ruby-identifier">name</span> = <span class="ruby-identifier">node</span> 
46:          <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">GraphViz</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>)
47:             <span class="ruby-identifier">name</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">id</span>
48:          <span class="ruby-keyword kw">end</span>
49: 
50:          <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">each_edge</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
51:             <span class="ruby-identifier">degree</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">node_one</span>(<span class="ruby-keyword kw">false</span>) <span class="ruby-operator">==</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">node_two</span>(<span class="ruby-keyword kw">false</span>) <span class="ruby-operator">==</span> <span class="ruby-identifier">name</span>
52:          <span class="ruby-keyword kw">end</span>
53: 
54:          <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">degree</span>
55:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000159">
                    
                    <a name="M000159"></a><b>dfs</b>(node, &amp;b)
                    
                </div>
                
                <div class="description">
                  <p>
Depth First Search
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000159_source')" id="l_M000159_source">show</a>
                        
                    </p>
                    <div id="M000159_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 229</span>
229:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dfs</span>(<span class="ruby-identifier">node</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>)
230:          <span class="ruby-identifier">visited_nodes</span> = []
231:          <span class="ruby-identifier">recursive_dfs</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">visited_nodes</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>)
232:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000143">
                    
                    <a name="M000143"></a><b>incidence_matrix</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Return the incidence matrix of the graph
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000143_source')" id="l_M000143_source">show</a>
                        
                    </p>
                    <div id="M000143_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 24</span>
24:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">incidence_matrix</span>
25:          <span class="ruby-identifier">tail</span> = (<span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;digraph&quot;</span>) <span class="ruby-operator">?</span> <span class="ruby-value">-1</span> <span class="ruby-operator">:</span> <span class="ruby-value">1</span>
26:          <span class="ruby-identifier">matrix</span> = <span class="ruby-constant">GraphViz</span><span class="ruby-operator">::</span><span class="ruby-constant">Math</span><span class="ruby-operator">::</span><span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">new</span>( <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">node_count</span>, <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">edge_count</span> )
27: 
28:          <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">each_edge</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
29:             <span class="ruby-identifier">x</span> = <span class="ruby-identifier">e</span>.<span class="ruby-identifier">index</span>
30: 
31:             <span class="ruby-identifier">nstart</span> = <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">get_node</span>(<span class="ruby-identifier">e</span>.<span class="ruby-identifier">node_one</span>( <span class="ruby-keyword kw">false</span> )).<span class="ruby-identifier">index</span>
32:             <span class="ruby-identifier">nend</span> = <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">get_node</span>(<span class="ruby-identifier">e</span>.<span class="ruby-identifier">node_two</span>( <span class="ruby-keyword kw">false</span> )).<span class="ruby-identifier">index</span>
33: 
34:             <span class="ruby-identifier">matrix</span>[<span class="ruby-identifier">nstart</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-identifier">x</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>] = <span class="ruby-value">1</span>
35:             <span class="ruby-identifier">matrix</span>[<span class="ruby-identifier">nend</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-identifier">x</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>] = <span class="ruby-identifier">tail</span>
36:             <span class="ruby-identifier">matrix</span>[<span class="ruby-identifier">nend</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-identifier">x</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>] = <span class="ruby-value">2</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">nstart</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">nend</span>
37:          }
38: 
39:          <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">matrix</span>
40:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000157">
                    
                    <a name="M000157"></a><b>incidents</b>(node)
                    
                </div>
                
                <div class="description">
                  <p>
Return the list of nodes that are incident to the given node (in a directed
graph neighbors == incidents)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000157_source')" id="l_M000157_source">show</a>
                        
                    </p>
                    <div id="M000157_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 200</span>
200:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">incidents</span>(<span class="ruby-identifier">node</span>)
201:          <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">String</span>
202:             <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">get_node</span>(<span class="ruby-identifier">node</span>).<span class="ruby-identifier">incidents</span>
203:          <span class="ruby-keyword kw">else</span>
204:             <span class="ruby-identifier">node</span>.<span class="ruby-identifier">incidents</span>
205:          <span class="ruby-keyword kw">end</span>
206:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000145">
                    
                    <a name="M000145"></a><b>laplacian_matrix</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Return the laplacian matrix of the graph
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000145_source')" id="l_M000145_source">show</a>
                        
                    </p>
                    <div id="M000145_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 58</span>
58:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">laplacian_matrix</span>
59:          <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">degree_matrix</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">adjancy_matrix</span>
60:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000147">
                    
                    <a name="M000147"></a><b>moore_dijkstra</b>( dep, arv )
                    
                </div>
                
                <div class="description">
                  <p>
<a href="Theory.html#M000147">moore_dijkstra</a>(source, destination)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000147_source')" id="l_M000147_source">show</a>
                        
                    </p>
                    <div id="M000147_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 68</span>
 68:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">moore_dijkstra</span>( <span class="ruby-identifier">dep</span>, <span class="ruby-identifier">arv</span> )
 69:          <span class="ruby-identifier">dep</span> = <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">get_node</span>(<span class="ruby-identifier">dep</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">GraphViz</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>)
 70:          <span class="ruby-identifier">arv</span> = <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">get_node</span>(<span class="ruby-identifier">arv</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">arv</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">GraphViz</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span>)
 71: 
 72:          <span class="ruby-identifier">m</span> = <span class="ruby-identifier">distance_matrix</span>
 73:          <span class="ruby-identifier">n</span> = <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">node_count</span>
 74:          <span class="ruby-comment cmt"># Table des sommets à choisir</span>
 75:          <span class="ruby-identifier">c</span> = [<span class="ruby-identifier">dep</span>.<span class="ruby-identifier">index</span>]
 76:          <span class="ruby-comment cmt"># Table des distances</span>
 77:          <span class="ruby-identifier">d</span> = []
 78:          <span class="ruby-identifier">d</span>[<span class="ruby-identifier">dep</span>.<span class="ruby-identifier">index</span>] = <span class="ruby-value">0</span>
 79: 
 80:          <span class="ruby-comment cmt"># Table des predecesseurs</span>
 81:          <span class="ruby-identifier">pred</span> = []
 82: 
 83:          <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">each_node</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">k</span><span class="ruby-operator">|</span>
 84:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">dep</span>
 85:                <span class="ruby-identifier">d</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">index</span>] = <span class="ruby-identifier">m</span>[<span class="ruby-identifier">dep</span>.<span class="ruby-identifier">index</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>,<span class="ruby-identifier">k</span>.<span class="ruby-identifier">index</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>]
 86:                <span class="ruby-identifier">pred</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">index</span>] = <span class="ruby-identifier">dep</span>
 87:             <span class="ruby-keyword kw">end</span>
 88:          <span class="ruby-keyword kw">end</span>
 89: 
 90:          <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">n</span>
 91:             <span class="ruby-comment cmt"># trouver y tel que d[y] = min{d[k];  k sommet tel que k n'appartient pas à c}</span>
 92:             <span class="ruby-identifier">mini</span> = <span class="ruby-value">1.0</span><span class="ruby-operator">/</span><span class="ruby-value">0</span><span class="ruby-value">.0</span>
 93:             <span class="ruby-identifier">y</span> = <span class="ruby-keyword kw">nil</span>
 94:             <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">each_node</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">k</span><span class="ruby-operator">|</span>
 95:                <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">k</span>.<span class="ruby-identifier">index</span>)
 96:                <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">d</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">index</span>] <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">mini</span>
 97:                   <span class="ruby-identifier">mini</span> = <span class="ruby-identifier">d</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">index</span>]
 98:                   <span class="ruby-identifier">y</span> = <span class="ruby-identifier">k</span>
 99:                <span class="ruby-keyword kw">end</span>
100:             <span class="ruby-keyword kw">end</span>
101: 
102:             <span class="ruby-comment cmt"># si ce minimum est ∞ alors sortir de la boucle fin si</span>
103:             <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">mini</span>.<span class="ruby-identifier">to_f</span>.<span class="ruby-identifier">infinite?</span>.<span class="ruby-identifier">nil?</span>
104: 
105:             <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">y</span>.<span class="ruby-identifier">index</span>
106:             <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">each_node</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">k</span><span class="ruby-operator">|</span>
107:                <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">k</span>.<span class="ruby-identifier">index</span>)
108:                <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">d</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">index</span>] <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">d</span>[<span class="ruby-identifier">y</span>.<span class="ruby-identifier">index</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">m</span>[<span class="ruby-identifier">y</span>.<span class="ruby-identifier">index</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>,<span class="ruby-identifier">k</span>.<span class="ruby-identifier">index</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>]
109:                   <span class="ruby-identifier">d</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">index</span>] = <span class="ruby-identifier">d</span>[<span class="ruby-identifier">y</span>.<span class="ruby-identifier">index</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">m</span>[<span class="ruby-identifier">y</span>.<span class="ruby-identifier">index</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>,<span class="ruby-identifier">k</span>.<span class="ruby-identifier">index</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>]
110:                   <span class="ruby-identifier">pred</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">index</span>] = <span class="ruby-identifier">y</span>
111:                <span class="ruby-keyword kw">end</span>
112:             <span class="ruby-keyword kw">end</span>
113:          <span class="ruby-keyword kw">end</span>
114: 
115:          <span class="ruby-comment cmt"># Construction du chemin le plus court</span>
116:          <span class="ruby-identifier">ch</span> = []
117:          <span class="ruby-identifier">k</span> = <span class="ruby-identifier">arv</span>
118:          <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">index</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">index</span>
119:             <span class="ruby-identifier">ch</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-identifier">k</span>)
120:             <span class="ruby-identifier">k</span> = <span class="ruby-identifier">pred</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">index</span>]
121:          <span class="ruby-keyword kw">end</span>
122:          <span class="ruby-identifier">ch</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-identifier">dep</span>)
123: 
124:          <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">d</span>[<span class="ruby-identifier">arv</span>.<span class="ruby-identifier">index</span>].<span class="ruby-identifier">to_f</span>.<span class="ruby-identifier">infinite?</span>
125:             <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>
126:          <span class="ruby-keyword kw">else</span>
127:             <span class="ruby-keyword kw">return</span>( { 
128:                <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ch</span>,
129:                <span class="ruby-identifier">:distance</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">d</span>[<span class="ruby-identifier">arv</span>.<span class="ruby-identifier">index</span>]
130:             } )
131:          <span class="ruby-keyword kw">end</span>
132:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000156">
                    
                    <a name="M000156"></a><b>neighbors</b>(node)
                    
                </div>
                
                <div class="description">
                  <p>
Return the list of nodes that are directly accessible from given node
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000156_source')" id="l_M000156_source">show</a>
                        
                    </p>
                    <div id="M000156_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 191</span>
191:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">neighbors</span>(<span class="ruby-identifier">node</span>)
192:          <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">String</span>
193:             <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">get_node</span>(<span class="ruby-identifier">node</span>).<span class="ruby-identifier">neighbors</span>
194:          <span class="ruby-keyword kw">else</span>
195:             <span class="ruby-identifier">node</span>.<span class="ruby-identifier">neighbors</span>
196:          <span class="ruby-keyword kw">end</span>
197:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000151">
                    
                    <a name="M000151"></a><b>pagerank</b>(damping_factor = 0.85, max_iterations = 100, min_delta = 0.00001)
                    
                </div>
                
                <div class="description">
                  <p>
Return the PageRank in an directed graph.
</p>
<ul>
<li>damping_factor: PageRank dumping factor.

</li>
<li>max_iterations: Maximum number of iterations.

</li>
<li>min_delta: Smallest variation required to have a new iteration.

</li>
</ul>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000151_source')" id="l_M000151_source">show</a>
                        
                    </p>
                    <div id="M000151_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 163</span>
163:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pagerank</span>(<span class="ruby-identifier">damping_factor</span> = <span class="ruby-value">0</span><span class="ruby-value">.85</span>, <span class="ruby-identifier">max_iterations</span> = <span class="ruby-value">100</span>, <span class="ruby-identifier">min_delta</span> = <span class="ruby-value">0</span><span class="ruby-value">.00001</span>)
164:          <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">directed?</span>
165: 
166:          <span class="ruby-identifier">min_value</span> = (<span class="ruby-value">1.0</span><span class="ruby-operator">-</span><span class="ruby-identifier">damping_factor</span>)<span class="ruby-operator">/</span><span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">node_count</span>
167: 
168:          <span class="ruby-identifier">pagerank</span> = {}
169:          <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">each_node</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">_</span>, <span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
170:             <span class="ruby-identifier">pagerank</span>[<span class="ruby-identifier">node</span>] = <span class="ruby-value">1.0</span><span class="ruby-operator">/</span><span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">node_count</span>
171:          }
172: 
173:          <span class="ruby-identifier">max_iterations</span>.<span class="ruby-identifier">times</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">_</span><span class="ruby-operator">|</span>
174:             <span class="ruby-identifier">diff</span> = <span class="ruby-value">0</span>
175:             <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">each_node</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">_</span>, <span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
176:                <span class="ruby-identifier">rank</span> = <span class="ruby-identifier">min_value</span>
177:                <span class="ruby-identifier">incidents</span>(<span class="ruby-identifier">node</span>).<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">referent</span><span class="ruby-operator">|</span>
178:                   <span class="ruby-identifier">rank</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">damping_factor</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">pagerank</span>[<span class="ruby-identifier">referent</span>] <span class="ruby-operator">/</span> <span class="ruby-identifier">neighbors</span>(<span class="ruby-identifier">referent</span>).<span class="ruby-identifier">size</span>
179:                }
180: 
181:                <span class="ruby-identifier">diff</span> <span class="ruby-operator">+=</span> (<span class="ruby-identifier">pagerank</span>[<span class="ruby-identifier">node</span>] <span class="ruby-operator">-</span> <span class="ruby-identifier">rank</span>).<span class="ruby-identifier">abs</span>
182:                <span class="ruby-identifier">pagerank</span>[<span class="ruby-identifier">node</span>] = <span class="ruby-identifier">rank</span>
183:             }
184:             <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">diff</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">min_delta</span>
185:          }
186: 
187:          <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">pagerank</span>
188:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000149">
                    
                    <a name="M000149"></a><b>range</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Return a liste of range
</p>
<p>
If the returned array include nil values, there is one or more circuits in
the graph
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000149_source')" id="l_M000149_source">show</a>
                        
                    </p>
                    <div id="M000149_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 137</span>
137:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">range</span>
138:          <span class="ruby-identifier">matrix</span> = <span class="ruby-identifier">adjancy_matrix</span>
139:          <span class="ruby-identifier">unseen</span> = (<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-identifier">matrix</span>.<span class="ruby-identifier">columns</span>).<span class="ruby-identifier">to_a</span>
140:          <span class="ruby-identifier">result</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">matrix</span>.<span class="ruby-identifier">columns</span>)
141:          <span class="ruby-identifier">r</span> = <span class="ruby-value">0</span>
142: 
143:          <span class="ruby-identifier">range_recursion</span>( <span class="ruby-identifier">matrix</span>, <span class="ruby-identifier">unseen</span>, <span class="ruby-identifier">result</span>, <span class="ruby-identifier">r</span> )
144:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000146">
                    
                    <a name="M000146"></a><b>symmetric?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Return <tt>true</tt> if the graph if symmetric, <tt>false</tt> otherwise
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000146_source')" id="l_M000146_source">show</a>
                        
                    </p>
                    <div id="M000146_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 63</span>
63:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">symmetric?</span>
64:          <span class="ruby-identifier">adjancy_matrix</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">adjancy_matrix</span>.<span class="ruby-identifier">transpose</span>
65:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M000170">
                    
                    <a name="M000170"></a><b>critical_path_recursion</b>( d, a, r, result, level )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000170_source')" id="l_M000170_source">show</a>
                        
                    </p>
                    <div id="M000170_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 303</span>
303:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">critical_path_recursion</span>( <span class="ruby-identifier">d</span>, <span class="ruby-identifier">a</span>, <span class="ruby-identifier">r</span>, <span class="ruby-identifier">result</span>, <span class="ruby-identifier">level</span> )
304:          <span class="ruby-identifier">r</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span>
305:             <span class="ruby-identifier">node</span> = <span class="ruby-identifier">p</span>[<span class="ruby-value">1</span>][<span class="ruby-value">-1</span>]
306:             <span class="ruby-identifier">index_of_item</span>( <span class="ruby-identifier">a</span>.<span class="ruby-identifier">line</span>(<span class="ruby-identifier">node</span>), <span class="ruby-value">1</span> ).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
307:                <span class="ruby-identifier">succ</span> = <span class="ruby-identifier">c</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
308: 
309:                <span class="ruby-identifier">cpath</span> = [ (<span class="ruby-identifier">p</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">d</span>[<span class="ruby-identifier">node</span>,<span class="ruby-identifier">succ</span>]), (<span class="ruby-identifier">p</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">clone</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">succ</span>) ]
310: 
311:                <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">index_of_item</span>( <span class="ruby-identifier">a</span>.<span class="ruby-identifier">line</span>(<span class="ruby-identifier">succ</span>), <span class="ruby-value">1</span> ).<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
312:                   <span class="ruby-identifier">capth</span> = <span class="ruby-identifier">critical_path_recursion</span>( <span class="ruby-identifier">d</span>, <span class="ruby-identifier">a</span>, [<span class="ruby-identifier">cpath</span>], <span class="ruby-identifier">result</span>, <span class="ruby-identifier">level</span><span class="ruby-operator">+</span><span class="ruby-value">1</span> )
313:                <span class="ruby-keyword kw">else</span>
314:                   <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">cpath</span>
315:                <span class="ruby-keyword kw">end</span>          
316:             <span class="ruby-keyword kw">end</span>
317:          <span class="ruby-keyword kw">end</span>
318:          <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">result</span>
319:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000163">
                    
                    <a name="M000163"></a><b>degree_matrix</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000163_source')" id="l_M000163_source">show</a>
                        
                    </p>
                    <div id="M000163_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 261</span>
261:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">degree_matrix</span>
262:          <span class="ruby-identifier">matrix</span> = <span class="ruby-constant">GraphViz</span><span class="ruby-operator">::</span><span class="ruby-constant">Math</span><span class="ruby-operator">::</span><span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">new</span>( <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">node_count</span>, <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">node_count</span> )
263:          <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">each_node</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
264:             <span class="ruby-identifier">i</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">index</span>
265:             <span class="ruby-identifier">matrix</span>[<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>] = <span class="ruby-identifier">degree</span>(<span class="ruby-identifier">node</span>)
266:          <span class="ruby-keyword kw">end</span>
267:          <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">matrix</span>
268:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000161">
                    
                    <a name="M000161"></a><b>distance_matrix</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000161_source')" id="l_M000161_source">show</a>
                        
                    </p>
                    <div id="M000161_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 244</span>
244:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">distance_matrix</span>
245:          <span class="ruby-identifier">type</span> = <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">type</span>
246:          <span class="ruby-identifier">matrix</span> = <span class="ruby-constant">GraphViz</span><span class="ruby-operator">::</span><span class="ruby-constant">Math</span><span class="ruby-operator">::</span><span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">new</span>( <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">node_count</span>, <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">node_count</span>, (<span class="ruby-value">1.0</span><span class="ruby-operator">/</span><span class="ruby-value">0</span><span class="ruby-value">.0</span>) )
247: 
248:          <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">each_edge</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
249:             <span class="ruby-identifier">x</span> = <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">get_node</span>(<span class="ruby-identifier">e</span>.<span class="ruby-identifier">node_one</span>( <span class="ruby-keyword kw">false</span> )).<span class="ruby-identifier">index</span>
250:             <span class="ruby-identifier">y</span> = <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">get_node</span>(<span class="ruby-identifier">e</span>.<span class="ruby-identifier">node_two</span>( <span class="ruby-keyword kw">false</span> )).<span class="ruby-identifier">index</span>
251:             <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">y</span>
252:                <span class="ruby-identifier">weight</span> = ((<span class="ruby-identifier">e</span>[<span class="ruby-identifier">:weight</span>].<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">?</span> <span class="ruby-value">1</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">e</span>[<span class="ruby-identifier">:weight</span>].<span class="ruby-identifier">to_f</span>)
253:                <span class="ruby-identifier">matrix</span>[<span class="ruby-identifier">x</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-identifier">y</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>] = <span class="ruby-identifier">weight</span>
254:                <span class="ruby-identifier">matrix</span>[<span class="ruby-identifier">y</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>, <span class="ruby-identifier">x</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>] = <span class="ruby-identifier">weight</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;graph&quot;</span>
255:             <span class="ruby-keyword kw">end</span>
256:          }
257: 
258:          <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">matrix</span>
259:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000169">
                    
                    <a name="M000169"></a><b>index_of_item</b>( array, item )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000169_source')" id="l_M000169_source">show</a>
                        
                    </p>
                    <div id="M000169_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 295</span>
295:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">index_of_item</span>( <span class="ruby-identifier">array</span>, <span class="ruby-identifier">item</span> )
296:          <span class="ruby-identifier">array</span>.<span class="ruby-identifier">inject</span>( [<span class="ruby-value">0</span>,[]] ){<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
297:             <span class="ruby-identifier">a</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">item</span>
298:             <span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
299:             <span class="ruby-identifier">a</span>
300:          }[<span class="ruby-value">1</span>]
301:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000168">
                    
                    <a name="M000168"></a><b>range_recursion</b>(matrix, unseen, result, r)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000168_source')" id="l_M000168_source">show</a>
                        
                    </p>
                    <div id="M000168_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 270</span>
270:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">range_recursion</span>(<span class="ruby-identifier">matrix</span>, <span class="ruby-identifier">unseen</span>, <span class="ruby-identifier">result</span>, <span class="ruby-identifier">r</span>)
271:          <span class="ruby-identifier">remove</span> = []
272:          <span class="ruby-identifier">matrix</span>.<span class="ruby-identifier">columns</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
273:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">matrix</span>.<span class="ruby-identifier">sum_of_column</span>(<span class="ruby-identifier">c</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>) <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
274:                <span class="ruby-identifier">result</span>[<span class="ruby-identifier">unseen</span>[<span class="ruby-identifier">c</span>]<span class="ruby-operator">-</span><span class="ruby-value">1</span>] = <span class="ruby-identifier">r</span>
275:                <span class="ruby-identifier">remove</span>.<span class="ruby-identifier">unshift</span>( <span class="ruby-identifier">c</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span> )
276:             <span class="ruby-keyword kw">end</span>
277:          <span class="ruby-keyword kw">end</span>
278: 
279:          <span class="ruby-identifier">remove</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">rem</span><span class="ruby-operator">|</span>
280:             <span class="ruby-identifier">matrix</span> = <span class="ruby-identifier">matrix</span>.<span class="ruby-identifier">remove_line</span>(<span class="ruby-identifier">rem</span>).<span class="ruby-identifier">remove_column</span>(<span class="ruby-identifier">rem</span>)
281:             <span class="ruby-identifier">unseen</span>.<span class="ruby-identifier">delete_at</span>(<span class="ruby-identifier">rem</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>)
282:          <span class="ruby-keyword kw">end</span>
283: 
284:          <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">matrix</span>.<span class="ruby-identifier">columns</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">matrix</span>.<span class="ruby-identifier">lines</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
285:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">matrix</span>.<span class="ruby-identifier">sum_of_column</span>(<span class="ruby-value">1</span>) <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
286:                <span class="ruby-identifier">result</span>[<span class="ruby-identifier">unseen</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">-</span><span class="ruby-value">1</span>] = <span class="ruby-identifier">r</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
287:             <span class="ruby-keyword kw">end</span>
288:          <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">remove</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
289:             <span class="ruby-identifier">range_recursion</span>( <span class="ruby-identifier">matrix</span>, <span class="ruby-identifier">unseen</span>, <span class="ruby-identifier">result</span>, <span class="ruby-identifier">r</span><span class="ruby-operator">+</span><span class="ruby-value">1</span> )
290:          <span class="ruby-keyword kw">end</span>
291: 
292:          <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">result</span>
293:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000160">
                    
                    <a name="M000160"></a><b>recursive_dfs</b>(node, visited_nodes, &amp;b)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000160_source')" id="l_M000160_source">show</a>
                        
                    </p>
                    <div id="M000160_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 235</span>
235:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">recursive_dfs</span>(<span class="ruby-identifier">node</span>, <span class="ruby-identifier">visited_nodes</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>)
236:          <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@graph</span>.<span class="ruby-identifier">get_node</span>(<span class="ruby-identifier">node</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">String</span> 
237:          <span class="ruby-identifier">b</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">node</span>)
238:          <span class="ruby-identifier">visited_nodes</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">node</span>
239:          <span class="ruby-identifier">neighbors</span>(<span class="ruby-identifier">node</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span>
240:             <span class="ruby-identifier">recursive_dfs</span>(<span class="ruby-identifier">n</span>, <span class="ruby-identifier">visited_nodes</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">visited_nodes</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">n</span>)
241:          <span class="ruby-keyword kw">end</span>
242:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000136">
                    
                    <a name="M000136"></a><b>new</b>( graph )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000136_source')" id="l_M000136_source">show</a>
                        
                    </p>
                    <div id="M000136_source" class="dyn-source">
                        <pre>   <span class="ruby-comment cmt"># File lib/graphviz/theory.rb, line 5</span>
5:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>( <span class="ruby-identifier">graph</span> )
6:          <span class="ruby-ivar">@graph</span> = <span class="ruby-identifier">graph</span>
7:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    