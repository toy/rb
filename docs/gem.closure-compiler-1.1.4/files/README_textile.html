<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>README.textile</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            README.textile
        </h1>
        <ul class="files">
            <li>README.textile</li>
            <li>Last modified: Sun Oct 09 20:12:30 +0200 2011</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
h1. The <a href="../classes/Closure.html">Closure</a> Compiler (as a Ruby
Gem)
</p>
<p>
The <b>closure-compiler</b> gem is a svelte wrapper around the
&#8220;Google <a href="../classes/Closure.html">Closure</a>
Compiler&#8221;:<a
href="http://code.google.com/closure/compiler/">code.google.com/closure/compiler/</a>
for JavaScript compression.
</p>
<p>
Latest Version: *&#8220;1.1.4&#8220;:<a
href="http://gemcutter.org/gems/closure-compiler">gemcutter.org/gems/closure-compiler</a>*
</p>
<p>
The <a href="../classes/Closure.html">Closure</a> Compiler&#8217;s
<b>2011-10-03</b> JAR-file is included with the gem.
</p>
<p>
h2. Installation
</p>
<p>
<pre> sudo gem install closure-compiler </pre>
</p>
<p>
h2. Usage
</p>
<p>
The @Closure::Compiler@ has a single method, @compile@, which can be passed
a string or an open @IO@ object, and returns the compiled JavaScript. The
result is returned as a string, or, if a block is passed, yields as an @IO@
object for streaming writes.
</p>
<p>
<pre> require &#8216;rubygems&#8217; require &#8216;closure-compiler&#8217;
<a
href="../classes/Closure/Compiler.html#M000000">Closure::Compiler.new</a>.compile(File.open(&#8216;underscore.js&#8217;,
&#8216;r&#8217;))
</p>
<h1>> &#8220;(function(){var j=this,m=j._;function i(a){.&#8230;..</h1>
<p>
</pre>
</p>
<p>
When creating a @Closure::Compiler@, you can pass &#8220;any options that
the command-line compiler accepts&#8221;:<a
href="http://code.google.com/closure/compiler/docs/gettingstarted_app.html">code.google.com/closure/compiler/docs/gettingstarted_app.html</a>
to the initializer and they&#8217;ll be forwarded. For example, to raise
the compilation level up a notch:
</p>
<p>
<pre> closure = <a
href="../classes/Closure/Compiler.html#M000000">Closure::Compiler.new</a>(:compilation_level
=> &#8216;ADVANCED_OPTIMIZATIONS&#8217;)
closure.compile(File.open(&#8216;underscore.js&#8217;, &#8216;r&#8217;))
</p>
<h1>> &#8220;(function(){var j=this,m=j.h;function i(a){.&#8230;..</h1>
<p>
</pre>
</p>
<p>
The default values of all the compiler flags are identical to the
command-line version. The default <b>compilation_level</b> is
&#8220;SIMPLE_OPTIMIZATIONS&#8220;.
</p>
<p>
A @Closure::Error@ exception will be raised, explaining the JavaScript
syntax error, if compilation fails for any reason.
</p>
<p>
h2. YUI Compressor Compatibility
</p>
<p>
Effort has been made to make the &#8220;closure-compiler&#8221; gem a
drop-in alternative to the &#8220;ruby-yui-compressor&#8221;. To that end,
@<a
href="../classes/Closure/Compiler.html#M000001">Closure::Compiler#compile</a>@
has been aliased as @compress@, and can take the same string or IO argument
that a @YUI::JavaScriptCompressor#compress@ can. In addition, the
@Closure::Compiler@ initializer can take @java@ and @jar_file@ options,
overriding the location of the Java command and the <a
href="../classes/Closure.html">Closure</a> Compiler JAR file, respectively.
</p>
<p>
<pre> compiler = <a
href="../classes/Closure/Compiler.html#M000000">Closure::Compiler.new</a>(
</p>
<pre>
  :java     =&gt; '/usr/local/bin/java16',
  :jar_file =&gt; '/usr/src/closure/build/latest.jar'
</pre>
<p>
) </pre>
</p>

    </div>
    

    

    
    

    
    

    

    

    

    

    

    
</div>
    </div>
  </body>
</html>