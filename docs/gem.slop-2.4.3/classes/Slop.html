<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Slop</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Slop 
            
                <span class="parent">&lt; 
                    
                    Object
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/lib/slop_rb.html">lib/slop.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M000024">[]</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000054">autocreate</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M000018">banner</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000047">check_optional_argument!</a>,</li>
                
                <li><a href="#M000055">clean_options</a>,</li>
                
                <li><a href="#M000029">command</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000020">description</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000023">each</a>,</li>
                
                <li><a href="#M000050">enable_multiple_switches</a>,</li>
                
                <li><a href="#M000034">execute</a>,</li>
                
                <li><a href="#M000053">execute_command</a>,</li>
                
                <li><a href="#M000052">extract_option</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M000025">get</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M000043">help</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000045">initialize_and_parse</a>,</li>
                
                <li><a href="#M000044">inspect</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000039">method_missing</a>,</li>
                
                <li><a href="#M000038">missing</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000017">new</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M000028">on</a>,</li>
                
                <li><a href="#M000030">on_empty</a>,</li>
                
                <li><a href="#M000031">on_empty=</a>,</li>
                
                <li><a href="#M000032">on_noopts</a>,</li>
                
                <li><a href="#M000033">on_optionless</a>,</li>
                
                <li><a href="#M000027">opt</a>,</li>
                
                <li><a href="#M000026">option</a>,</li>
                
                <li><a href="#M000016">optspec</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000021">parse</a>,</li>
                
                <li><a href="#M000014">parse</a>,</li>
                
                <li><a href="#M000015">parse!</a>,</li>
                
                <li><a href="#M000022">parse!</a>,</li>
                
                <li><a href="#M000046">parse_items</a>,</li>
                
                <li><a href="#M000041">present?</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000048">raise_if_invalid_options!</a>,</li>
                
                <li><a href="#M000049">raise_if_missing_required_options!</a>,</li>
                
                <li><a href="#M000040">respond_to?</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000019">summary</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000036">to_h</a>,</li>
                
                <li><a href="#M000035">to_hash</a>,</li>
                
                <li><a href="#M000042">to_s</a>,</li>
                
                <li><a href="#M000037">to_struct</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M000051">wrap_and_indent</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <span>Enumerable</span>
            
            START:includes
        </li>
        
    </ul>
    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">CLASS</span> <a href="Slop/Error.html">Slop::Error</a></li>
        
        <li><span class="type">CLASS</span> <a href="Slop/InvalidArgumentError.html">Slop::InvalidArgumentError</a></li>
        
        <li><span class="type">CLASS</span> <a href="Slop/InvalidOptionError.html">Slop::InvalidOptionError</a></li>
        
        <li><span class="type">CLASS</span> <a href="Slop/MissingArgumentError.html">Slop::MissingArgumentError</a></li>
        
        <li><span class="type">CLASS</span> <a href="Slop/MissingOptionError.html">Slop::MissingOptionError</a></li>
        
        <li><span class="type">CLASS</span> <a href="Slop/Option.html">Slop::Option</a></li>
        
        <li><span class="type">CLASS</span> <a href="Slop/Options.html">Slop::Options</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">VERSION</td>
            <td>=</td>
            <td class="attr-value">'2.4.3'</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
@return [String] The current version string
</p>
</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>options</td>
            <td class='attr-desc'><p>
@return [Options]
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>commands</td>
            <td class='attr-desc'><p>
@return [Hash]
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [W]
            </td>
            <td class='attr-name'>banner</td>
            <td class='attr-desc'><p>
@overload banner=(string)
</p>
<pre>
  Set the banner
  @param [String] string The text to set the banner to
</pre></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [W]
            </td>
            <td class='attr-name'>summary</td>
            <td class='attr-desc'><p>
@overload summary=(string)
</p>
<pre>
  Set the summary
  @param [String] string The text to set the summary to
</pre></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [W]
            </td>
            <td class='attr-name'>description</td>
            <td class='attr-desc'><p>
@overload description=(string)
</p>
<pre>
  Set the description
  @param [String] string The text to set the description to
</pre></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>longest_flag</td>
            <td class='attr-desc'><p>
@return [Integer] The length of the longest flag slop knows of
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>aliases</td>
            <td class='attr-desc'><p>
@return [Array] A list of aliases this command uses
</p></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000024">
                    
                    <a name="M000024"></a><b>[]</b>(key)
                    
                </div>
                
                <div class="description">
                  <p>
@param [Symbol] key <a href="Slop/Option.html">Option</a> symbol @example
</p>
<pre>
  opts[:name] #=&gt; &quot;Emily&quot;
  opts.get(:name) #=&gt; &quot;Emily&quot;
</pre>
<p>
@return [Object] Returns the value associated with that option. If an
</p>
<pre>
  option doesn't exist, a command will instead be searched for
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Slop.html#M000025">get</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000024_source')" id="l_M000024_source">show</a>
                        
                    </p>
                    <div id="M000024_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 505</span>
505:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">key</span>)
506:     <span class="ruby-identifier">option</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">key</span>]
507:     <span class="ruby-identifier">option</span> <span class="ruby-value">? </span><span class="ruby-identifier">option</span>.<span class="ruby-identifier">argument_value</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@commands</span>[<span class="ruby-identifier">key</span>]
508:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000018">
                    
                    <a name="M000018"></a><b>banner</b>(text=nil)
                    
                </div>
                
                <div class="description">
                  <p>
Set or return banner text
</p>
<p>
@param [String] text Displayed banner text @example
</p>
<pre>
  opts = Slop.parse do
    banner &quot;Usage - ruby foo.rb [arguments]&quot;
  end
</pre>
<p>
@return [String] The current banner
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000018_source')" id="l_M000018_source">show</a>
                        
                    </p>
                    <div id="M000018_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 449</span>
449:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">banner</span>(<span class="ruby-identifier">text</span>=<span class="ruby-keyword kw">nil</span>)
450:     <span class="ruby-ivar">@banner</span> = <span class="ruby-identifier">text</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>
451:     <span class="ruby-ivar">@banner</span>
452:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000029">
                    
                    <a name="M000029"></a><b>command</b>(label, options={}, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Namespace options depending on what command is executed
</p>
<p>
@param [Symbol, String] label @param [Hash] options @example
</p>
<pre>
  opts = Slop.new do
    command :create do
      on :v, :verbose
    end
  end

  # ARGV is `create -v`
  opts.commands[:create].verbose? #=&gt; true
</pre>
<p>
@since 1.5.0 @raise [ArgumentError] When this command already exists
@return [Slop] a new instance of <a href="Slop.html">Slop</a> namespaced to
<tt>label</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000029_source')" id="l_M000029_source">show</a>
                        
                    </p>
                    <div id="M000029_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 563</span>
563:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">command</span>(<span class="ruby-identifier">label</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
564:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">label</span>)
565:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;command `#{label}` already exists&quot;</span>
566:     <span class="ruby-keyword kw">end</span>
567: 
568:     <span class="ruby-identifier">slop</span> = <span class="ruby-constant">Slop</span>.<span class="ruby-identifier">new</span> <span class="ruby-ivar">@sloptions</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)
569:     <span class="ruby-identifier">slop</span>.<span class="ruby-identifier">aliases</span> = <span class="ruby-constant">Array</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:aliases</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:alias</span>))
570:     <span class="ruby-ivar">@commands</span>[<span class="ruby-identifier">label</span>] = <span class="ruby-identifier">slop</span>
571: 
572:     <span class="ruby-identifier">slop</span>.<span class="ruby-identifier">aliases</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@commands</span>[<span class="ruby-identifier">a</span>] = <span class="ruby-ivar">@commands</span>[<span class="ruby-identifier">label</span>] }
573: 
574:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
575:       <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">slop</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">slop</span>.<span class="ruby-identifier">instance_eval</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
576:     <span class="ruby-keyword kw">end</span>
577: 
578:     <span class="ruby-identifier">slop</span>
579:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000020">
                    
                    <a name="M000020"></a><b>description</b>(text=nil)
                    
                </div>
                
                <div class="description">
                  <p>
Set or return the description
</p>
<p>
@param [String] text Displayed description text @example
</p>
<pre>
  opts = Slop.parse do
    description &quot;This command does a lot of stuff with other stuff.&quot;
  end
</pre>
<p>
@return [String] The current description
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000020_source')" id="l_M000020_source">show</a>
                        
                    </p>
                    <div id="M000020_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 475</span>
475:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">description</span>(<span class="ruby-identifier">text</span>=<span class="ruby-keyword kw">nil</span>)
476:     <span class="ruby-ivar">@description</span> = <span class="ruby-identifier">text</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>
477:     <span class="ruby-ivar">@description</span>
478:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000023">
                    
                    <a name="M000023"></a><b>each</b>(&amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Enumerable interface
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000023_source')" id="l_M000023_source">show</a>
                        
                    </p>
                    <div id="M000023_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 495</span>
495:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
496:     <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
497:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000034">
                    
                    <a name="M000034"></a><b>execute</b>(args=[], &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Add an execution block (for commands)
</p>
<p>
@example
</p>
<pre>
  opts = Slop.new do
    command :foo do
      on :v, :verbose

      execute { |o| p o.verbose? }
    end
  end
  opts.parse %w[foo --verbose] #=&gt; true
</pre>
<p>
@param [Array] args The list of arguments to send to this command
</p>
<pre>
  is invoked
</pre>
<p>
@since 1.8.0 @yield [Slop] an instance of <a href="Slop.html">Slop</a> for
this command
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000034_source')" id="l_M000034_source">show</a>
                        
                    </p>
                    <div id="M000034_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 625</span>
625:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">execute</span>(<span class="ruby-identifier">args</span>=[], <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
626:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
627:       <span class="ruby-ivar">@execution_block</span> = <span class="ruby-identifier">block</span>
628:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@execution_block</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:call</span>)
629:       <span class="ruby-ivar">@execution_block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">args</span>)
630:     <span class="ruby-keyword kw">end</span>
631:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000025">
                    
                    <a name="M000025"></a><b>get</b>(key)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for #[]
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000043">
                    
                    <a name="M000043"></a><b>help</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Slop.html#M000042">to_s</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000044">
                    
                    <a name="M000044"></a><b>inspect</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return [String] This <a href="Slop.html">Slop</a> object will options and
configuration
</p>
<pre>
  settings revealed
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000044_source')" id="l_M000044_source">show</a>
                        
                    </p>
                    <div id="M000044_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 769</span>
769:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
770:     <span class="ruby-node">&quot;#&lt;Slop config_options=#{@sloptions.inspect}\n  &quot;</span> <span class="ruby-operator">+</span>
771:     <span class="ruby-identifier">options</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:inspect</span>).<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n  &quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;\n&gt;&quot;</span>
772:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000039">
                    
                    <a name="M000039"></a><b>method_missing</b>(meth, *args, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Allows you to check whether an option was specified in the parsed list
</p>
<p>
Merely sugar for `present?`
</p>
<p>
@example
</p>
<pre>
  #== ruby foo.rb -v
  opts.verbose? #=&gt; true
  opts.name?    #=&gt; false
</pre>
<p>
@see <a href="Slop.html#M000041">Slop#present?</a> @return [Boolean] true
if this option is present, false otherwise
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000039_source')" id="l_M000039_source">show</a>
                        
                    </p>
                    <div id="M000039_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 706</span>
706:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">method_missing</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
707:     <span class="ruby-identifier">meth</span> = <span class="ruby-identifier">meth</span>.<span class="ruby-identifier">to_s</span>
708:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">meth</span>[<span class="ruby-value">-1</span>] <span class="ruby-operator">==</span> <span class="ruby-value">??</span>
709:       <span class="ruby-identifier">present?</span>(<span class="ruby-identifier">meth</span>.<span class="ruby-identifier">chop</span>)
710:     <span class="ruby-keyword kw">else</span>
711:       <span class="ruby-keyword kw">super</span>
712:     <span class="ruby-keyword kw">end</span>
713:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000038">
                    
                    <a name="M000038"></a><b>missing</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Fetch a list of options which were missing from the parsed list
</p>
<p>
@example
</p>
<pre>
  opts = Slop.new do
    on :n, :name, 'Your name', true
    on :p, :password, 'Your password', true
    on :A, 'Use auth?'
  end

  opts.parse %w[ --name Lee ]
  opts.missing #=&gt; ['password', 'a']
</pre>
<p>
@return [Array] A list of options missing from the parsed string @since
2.1.0
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000038_source')" id="l_M000038_source">show</a>
                        
                    </p>
                    <div id="M000038_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 692</span>
692:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">missing</span>
693:     <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">opt</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">present?</span>(<span class="ruby-identifier">opt</span>.<span class="ruby-identifier">key</span>) }.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:key</span>)
694:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000028">
                    
                    <a name="M000028"></a><b>on</b>(*args, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Slop.html#M000026">option</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000030">
                    
                    <a name="M000030"></a><b>on_empty</b>(obj=nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Trigger an event when <a href="Slop.html">Slop</a> has no values to parse
</p>
<p>
@param [Object, call] obj The object (which can be anything
</p>
<pre>
  responding to `call`)
</pre>
<p>
@example
</p>
<pre>
  Slop.parse do
    on_empty { puts 'No argument given!' }
  end
</pre>
<p>
@since 1.5.0
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Slop.html#M000031">on_empty=</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000030_source')" id="l_M000030_source">show</a>
                        
                    </p>
                    <div id="M000030_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 590</span>
590:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">on_empty</span>(<span class="ruby-identifier">obj</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
591:     <span class="ruby-ivar">@on_empty</span> <span class="ruby-operator">||=</span> (<span class="ruby-identifier">obj</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">block</span>)
592:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000031">
                    
                    <a name="M000031"></a><b>on_empty=</b>(obj=nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Slop.html#M000030">on_empty</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000032">
                    
                    <a name="M000032"></a><b>on_noopts</b>(obj=nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Trigger an event when the arguments contain no options
</p>
<p>
@param [Object, call] obj The object to be triggered (anything
</p>
<pre>
  responding to `call`)
</pre>
<p>
@example
</p>
<pre>
  Slop.parse do
    on_noopts { puts 'No options here!' }
  end
</pre>
<p>
@since 1.6.0
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Slop.html#M000033">on_optionless</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000032_source')" id="l_M000032_source">show</a>
                        
                    </p>
                    <div id="M000032_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 604</span>
604:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">on_noopts</span>(<span class="ruby-identifier">obj</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
605:     <span class="ruby-ivar">@on_noopts</span> <span class="ruby-operator">||=</span> (<span class="ruby-identifier">obj</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">block</span>)
606:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000033">
                    
                    <a name="M000033"></a><b>on_optionless</b>(obj=nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Slop.html#M000032">on_noopts</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000027">
                    
                    <a name="M000027"></a><b>opt</b>(*args, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Slop.html#M000026">option</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000026">
                    
                    <a name="M000026"></a><b>option</b>(*args, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Specify an option with a short or long version, description and type
</p>
<p>
@param [*] args <a href="Slop/Option.html">Option</a> configuration.
@option args [Symbol, String] :short_flag Short option name. @option args
[Symbol, String] :long_flag Full option name. @option args [String]
:description <a href="Slop/Option.html">Option</a> description for use in
<a href="Slop.html#M000043">Slop#help</a> @option args [Boolean] :argument
Specifies whether this option requires
</p>
<pre>
  an argument
</pre>
<p>
@option args [Hash] :options Optional option configurations. @example
</p>
<pre>
  opts = Slop.parse do
    on :n, :name, 'Your username', true # Required argument
    on :a, :age,  'Your age (optional)', :optional =&gt; true
    on :g, :gender, 'Your gender', :optional =&gt; false
    on :V, :verbose, 'Run in verbose mode', :default =&gt; true
    on :P, :people, 'Your friends', true, :as =&gt; Array
    on :h, :help, 'Print this help screen' do
      puts help
    end
  end
</pre>
<p>
@return [Slop::Option]
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Slop.html#M000027">opt</a>
                    
                    <a href="Slop.html#M000028">on</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000026_source')" id="l_M000026_source">show</a>
                        
                    </p>
                    <div id="M000026_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 532</span>
532:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">option</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
533:     <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
534:     <span class="ruby-identifier">short</span>, <span class="ruby-identifier">long</span>, <span class="ruby-identifier">desc</span>, <span class="ruby-identifier">arg</span>, <span class="ruby-identifier">extras</span> = <span class="ruby-identifier">clean_options</span>(<span class="ruby-identifier">args</span>)
535: 
536:     <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">extras</span>)
537:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:argument</span>] = <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sloptions</span>[<span class="ruby-identifier">:all_accept_arguments</span>]
538: 
539:     <span class="ruby-identifier">option</span> = <span class="ruby-constant">Option</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">short</span>, <span class="ruby-identifier">long</span>, <span class="ruby-identifier">desc</span>, <span class="ruby-identifier">arg</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
540:     <span class="ruby-ivar">@options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">option</span>
541: 
542:     <span class="ruby-identifier">option</span>
543:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000021">
                    
                    <a name="M000021"></a><b>parse</b>(items=ARGV, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Parse a list of options, leaving the original Array unchanged
</p>
<p>
@param [Array] items A list of items to parse
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000021_source')" id="l_M000021_source">show</a>
                        
                    </p>
                    <div id="M000021_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 483</span>
483:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse</span>(<span class="ruby-identifier">items</span>=<span class="ruby-constant">ARGV</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
484:     <span class="ruby-identifier">parse_items</span> <span class="ruby-identifier">items</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
485:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000022">
                    
                    <a name="M000022"></a><b>parse!</b>(items=ARGV, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Parse a list of options, removing parsed options from the original Array
</p>
<p>
@param [Array] items A list of items to parse
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000022_source')" id="l_M000022_source">show</a>
                        
                    </p>
                    <div id="M000022_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 490</span>
490:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse!</span>(<span class="ruby-identifier">items</span>=<span class="ruby-constant">ARGV</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
491:     <span class="ruby-identifier">parse_items</span> <span class="ruby-identifier">items</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
492:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000041">
                    
                    <a name="M000041"></a><b>present?</b>(*option_names)
                    
                </div>
                
                <div class="description">
                  <p>
Check if an option is specified in the parsed list
</p>
<p>
Does the same as Slop#option? but a convenience method for unacceptable
method names
</p>
<p>
@param [Object] The object name(s) to check @since 1.5.0 @return [Boolean]
true if these options are present, false otherwise
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000041_source')" id="l_M000041_source">show</a>
                        
                    </p>
                    <div id="M000041_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 733</span>
733:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">present?</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">option_names</span>)
734:     <span class="ruby-identifier">option_names</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">opt</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">opt</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">opt</span>].<span class="ruby-identifier">count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> }
735:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000040">
                    
                    <a name="M000040"></a><b>respond_to?</b>(method)
                    
                </div>
                
                <div class="description">
                  <p>
Override this method so we can check if an option? method exists
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000040_source')" id="l_M000040_source">show</a>
                        
                    </p>
                    <div id="M000040_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 716</span>
716:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">method</span>)
717:     <span class="ruby-identifier">method</span> = <span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span>
718:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">method</span>[<span class="ruby-value">-1</span>] <span class="ruby-operator">==</span> <span class="ruby-value">??</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">o</span><span class="ruby-operator">|</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">key</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">method</span>.<span class="ruby-identifier">chop</span> }
719:       <span class="ruby-keyword kw">true</span>
720:     <span class="ruby-keyword kw">else</span>
721:       <span class="ruby-keyword kw">super</span>
722:     <span class="ruby-keyword kw">end</span>
723:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000019">
                    
                    <a name="M000019"></a><b>summary</b>(text=nil)
                    
                </div>
                
                <div class="description">
                  <p>
Set or return the summary
</p>
<p>
@param [String] text Displayed summary text @example
</p>
<pre>
  opts = Slop.parse do
    summary &quot;do stuff with more stuff&quot;
  end
</pre>
<p>
@return [String] The current summary
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000019_source')" id="l_M000019_source">show</a>
                        
                    </p>
                    <div id="M000019_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 462</span>
462:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">summary</span>(<span class="ruby-identifier">text</span>=<span class="ruby-keyword kw">nil</span>)
463:     <span class="ruby-ivar">@summary</span> = <span class="ruby-identifier">text</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>
464:     <span class="ruby-ivar">@summary</span>
465:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000036">
                    
                    <a name="M000036"></a><b>to_h</b>(symbols=true)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Slop.html#M000035">to_hash</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000035">
                    
                    <a name="M000035"></a><b>to_hash</b>(symbols=true)
                    
                </div>
                
                <div class="description">
                  <p>
Returns the parsed list into a option/value hash
</p>
<p>
@example
</p>
<pre>
  opts.to_hash #=&gt; { :name =&gt; 'Emily' }

  # strings!
  opts.to_hash(false) #=&gt; { 'name' =&gt; 'Emily' }
</pre>
<p>
@return [Hash]
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Slop.html#M000036">to_h</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000035_source')" id="l_M000035_source">show</a>
                        
                    </p>
                    <div id="M000035_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 641</span>
641:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_hash</span>(<span class="ruby-identifier">symbols</span>=<span class="ruby-keyword kw">true</span>)
642:     <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">reduce</span>({}) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">hsh</span>, <span class="ruby-identifier">option</span><span class="ruby-operator">|</span>
643:       <span class="ruby-identifier">key</span> = <span class="ruby-identifier">option</span>.<span class="ruby-identifier">key</span>
644:       <span class="ruby-identifier">key</span> = <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_sym</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">symbols</span>
645:       <span class="ruby-identifier">hsh</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">option</span>.<span class="ruby-identifier">argument_value</span>
646:       <span class="ruby-identifier">hsh</span>
647:     <span class="ruby-keyword kw">end</span>
648:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000042">
                    
                    <a name="M000042"></a><b>to_s</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the banner followed by available options listed on the next line
</p>
<p>
@example
</p>
<pre>
 opts = Slop.parse do
   banner &quot;Usage - ruby foo.rb [arguments]&quot;
   on :v, :verbose, &quot;Enable verbose mode&quot;
 end
 puts opts
</pre>
<p>
@return [String] Help text.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Slop.html#M000043">help</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000042_source')" id="l_M000042_source">show</a>
                        
                    </p>
                    <div id="M000042_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 746</span>
746:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_s</span>
747:     <span class="ruby-identifier">parts</span> = []
748: 
749:     <span class="ruby-identifier">parts</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">banner</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">banner</span>
750:     <span class="ruby-identifier">parts</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">summary</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">summary</span>
751:     <span class="ruby-identifier">parts</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">wrap_and_indent</span>(<span class="ruby-identifier">description</span>, <span class="ruby-value">80</span>, <span class="ruby-value">4</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">description</span>
752: 
753:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
754:       <span class="ruby-identifier">parts</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;options:&quot;</span>
755: 
756:       <span class="ruby-identifier">heads</span> = <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">reject</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:tail</span>)
757:       <span class="ruby-identifier">tails</span> = <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">select</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:tail</span>)
758:       <span class="ruby-identifier">all</span> = (<span class="ruby-identifier">heads</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">tails</span>).<span class="ruby-identifier">select</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:help</span>)
759: 
760:       <span class="ruby-identifier">parts</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">all</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:to_s</span>).<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
761:     <span class="ruby-keyword kw">end</span>
762: 
763:     <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n\n&quot;</span>)
764:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000037">
                    
                    <a name="M000037"></a><b>to_struct</b>(name=nil)
                    
                </div>
                
                <div class="description">
                  <p>
Return parsed items as a new Class
</p>
<p>
@example
</p>
<pre>
  opts = Slop.new do
    on :n, :name, 'Persons name', true
    on :a, :age, 'Persons age', true, :as =&gt; :int
    on :s, :sex, 'Persons sex m/f', true, :match =&gt; /^[mf]$/
    on :A, :admin, 'Enable admin mode'
  end

  opts.parse %w[ --name Lee --age 22 -s m --admin ]

  person = opts.to_struct(&quot;Person&quot;)
  person.class  #=&gt; Struct::Person
  person.name   #=&gt; 'Lee'
  person.age    #=&gt; 22
  person.sex    #=&gt; m
  person.admin  #=&gt; true
</pre>
<p>
@param [String] name The name of this class @return [Class] The new class,
or nil if there are no options @since 2.0.0
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000037_source')" id="l_M000037_source">show</a>
                        
                    </p>
                    <div id="M000037_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 673</span>
673:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_struct</span>(<span class="ruby-identifier">name</span>=<span class="ruby-keyword kw">nil</span>)
674:     <span class="ruby-identifier">hash</span> = <span class="ruby-identifier">to_hash</span>
675:     <span class="ruby-constant">Struct</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">hash</span>.<span class="ruby-identifier">keys</span>).<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">hash</span>.<span class="ruby-identifier">values</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">empty?</span>
676:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M000054">
                    
                    <a name="M000054"></a><b>autocreate</b>(flag, index, items)
                    
                </div>
                
                <div class="description">
                  <p>
If autocreation is enabled this method simply generates an option and
add&#8217;s it to the existing list of options
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000054_source')" id="l_M000054_source">show</a>
                        
                    </p>
                    <div id="M000054_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/slop.rb, line 994</span>
 994:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">autocreate</span>(<span class="ruby-identifier">flag</span>, <span class="ruby-identifier">index</span>, <span class="ruby-identifier">items</span>)
 995:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">present?</span> <span class="ruby-identifier">flag</span>
 996:     <span class="ruby-identifier">short</span>, <span class="ruby-identifier">long</span> = <span class="ruby-identifier">clean_options</span> <span class="ruby-constant">Array</span>(<span class="ruby-identifier">flag</span>)
 997:     <span class="ruby-identifier">arg</span> = (<span class="ruby-identifier">items</span>[<span class="ruby-identifier">index</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">items</span>[<span class="ruby-identifier">index</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>] <span class="ruby-operator">!~</span> <span class="ruby-regexp re">/\A--?/</span>)
 998:     <span class="ruby-identifier">option</span> = <span class="ruby-constant">Option</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">short</span>, <span class="ruby-identifier">long</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">arg</span>, {})
 999:     <span class="ruby-identifier">option</span>.<span class="ruby-identifier">count</span> = <span class="ruby-value">1</span>
1000:     <span class="ruby-ivar">@options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">option</span>
1001:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000047">
                    
                    <a name="M000047"></a><b>check_optional_argument!</b>(option, flag)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000047_source')" id="l_M000047_source">show</a>
                        
                    </p>
                    <div id="M000047_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 869</span>
869:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_optional_argument!</span>(<span class="ruby-identifier">option</span>, <span class="ruby-identifier">flag</span>)
870:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">accepts_optional_argument?</span>
871:       <span class="ruby-identifier">option</span>.<span class="ruby-identifier">call</span>
872:     <span class="ruby-keyword kw">else</span>
873:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">MissingArgumentError</span>, <span class="ruby-node">&quot;'#{flag}' expects an argument, none given&quot;</span>
874:     <span class="ruby-keyword kw">end</span>
875:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000055">
                    
                    <a name="M000055"></a><b>clean_options</b>(args)
                    
                </div>
                
                <div class="description">
                  <p>
Clean up arguments sent to `on` and return a list of 5 elements:
</p>
<ul>
<li>short flag (or nil)

</li>
<li>long flag (or nil)

</li>
<li>description (or nil)

</li>
<li>true/false if this option takes an argument or not

</li>
<li>extra options (ie: :as, :optional, and :help)

</li>
</ul>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000055_source')" id="l_M000055_source">show</a>
                        
                    </p>
                    <div id="M000055_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/slop.rb, line 1009</span>
1009:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clean_options</span>(<span class="ruby-identifier">args</span>)
1010:     <span class="ruby-identifier">options</span> = []
1011:     <span class="ruby-identifier">extras</span> = {}
1012: 
1013:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Class</span>) }
1014:       <span class="ruby-identifier">extras</span>[<span class="ruby-identifier">:as</span>] = <span class="ruby-identifier">klass</span>
1015:       <span class="ruby-identifier">args</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">klass</span>
1016:     <span class="ruby-keyword kw">end</span>
1017: 
1018:     <span class="ruby-identifier">short</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/\A--?/</span>, <span class="ruby-value str">''</span>)
1019:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">short</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">short</span>[<span class="ruby-value">-1</span>, <span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'='</span>
1020:       <span class="ruby-identifier">extras</span>[<span class="ruby-identifier">:argument</span>] = <span class="ruby-keyword kw">true</span>
1021:       <span class="ruby-identifier">short</span>.<span class="ruby-identifier">chop!</span>
1022:     <span class="ruby-keyword kw">end</span>
1023: 
1024:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">short</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
1025:       <span class="ruby-identifier">options</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">short</span>
1026:       <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>
1027:     <span class="ruby-keyword kw">else</span>
1028:       <span class="ruby-identifier">options</span>.<span class="ruby-identifier">push</span> <span class="ruby-keyword kw">nil</span>
1029:     <span class="ruby-keyword kw">end</span>
1030: 
1031:     <span class="ruby-identifier">long</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>
1032:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">long</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">TrueClass</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">long</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">FalseClass</span>)
1033:       <span class="ruby-identifier">options</span>.<span class="ruby-identifier">push</span> <span class="ruby-keyword kw">nil</span>
1034:     <span class="ruby-keyword kw">else</span>
1035:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">long</span>.<span class="ruby-identifier">to_s</span>
1036:       <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/\A(?:--?)?[a-z_-]+\s[A-Z\s\[\]]+\z/</span>
1037:         <span class="ruby-identifier">arg</span>, <span class="ruby-identifier">help</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/ /</span>, <span class="ruby-value">2</span>)
1038:         <span class="ruby-identifier">extras</span>[<span class="ruby-identifier">:optional</span>] = <span class="ruby-identifier">help</span>[<span class="ruby-value">0</span>, <span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'['</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">help</span>[<span class="ruby-value">-1</span>, <span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">']'</span>
1039:         <span class="ruby-identifier">extras</span>[<span class="ruby-identifier">:help</span>] = <span class="ruby-identifier">help</span>
1040:         <span class="ruby-identifier">options</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/\A--?/</span>, <span class="ruby-value str">''</span>)
1041:       <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/\A(?:--?)?[a-zA-Z][a-zA-Z0-9_-]+\=?\z/</span>
1042:         <span class="ruby-identifier">extras</span>[<span class="ruby-identifier">:argument</span>] = <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">long</span>.<span class="ruby-identifier">to_s</span>[<span class="ruby-value">-1</span>, <span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'='</span>
1043:         <span class="ruby-identifier">options</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/\A--?/</span>, <span class="ruby-value str">''</span>).<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/\=\z/</span>, <span class="ruby-value str">''</span>)
1044:       <span class="ruby-keyword kw">else</span>
1045:         <span class="ruby-identifier">options</span>.<span class="ruby-identifier">push</span> <span class="ruby-keyword kw">nil</span>
1046:       <span class="ruby-keyword kw">end</span>
1047:     <span class="ruby-keyword kw">end</span>
1048: 
1049:     <span class="ruby-identifier">options</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:to_sym</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
1050:     <span class="ruby-identifier">options</span>.<span class="ruby-identifier">push</span>((<span class="ruby-ivar">@arguments</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">extras</span>[<span class="ruby-identifier">:argument</span>]) <span class="ruby-operator">?</span> <span class="ruby-keyword kw">true</span> <span class="ruby-operator">:</span> (<span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">false</span>))
1051:     <span class="ruby-identifier">options</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">extras</span>
1052:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000050">
                    
                    <a name="M000050"></a><b>enable_multiple_switches</b>(item)
                    
                </div>
                
                <div class="description">
                  <p>
if multiple_switches is enabled, this method filters through an items
characters and attempts to find an <a href="Slop/Option.html">Option</a>
object for each flag.
</p>
<p>
Raises if a flag expects an argument or strict mode is enabled and a flag
was not found
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000050_source')" id="l_M000050_source">show</a>
                        
                    </p>
                    <div id="M000050_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 897</span>
897:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">enable_multiple_switches</span>(<span class="ruby-identifier">item</span>)
898:     <span class="ruby-identifier">item</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>].<span class="ruby-identifier">each_char</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">switch</span><span class="ruby-operator">|</span>
899:       <span class="ruby-identifier">option</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">switch</span>]
900: 
901:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">option</span>
902:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">expects_argument?</span>
903:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">MissingArgumentError</span>, <span class="ruby-node">&quot;'-#{switch}' expects an argument, used in multiple_switch context&quot;</span>
904:         <span class="ruby-keyword kw">end</span>
905: 
906:         <span class="ruby-identifier">option</span>.<span class="ruby-identifier">argument_value</span> = <span class="ruby-keyword kw">true</span>
907:         <span class="ruby-identifier">option</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
908:       <span class="ruby-keyword kw">else</span>
909:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidOptionError</span>, <span class="ruby-node">&quot;Unknown option '-#{switch}'&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@strict</span>
910:       <span class="ruby-keyword kw">end</span>
911:     <span class="ruby-keyword kw">end</span>
912:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000053">
                    
                    <a name="M000053"></a><b>execute_command</b>(items, delete)
                    
                </div>
                
                <div class="description">
                  <p>
attempt to execute a command if one exists, returns a positive (tru-ish)
result if the command was found and executed. If completion is enabled and
a flag is found to be ambiguous, this method prints an error message to the
@io object informing the user
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000053_source')" id="l_M000053_source">show</a>
                        
                    </p>
                    <div id="M000053_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 966</span>
966:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">execute_command</span>(<span class="ruby-identifier">items</span>, <span class="ruby-identifier">delete</span>)
967:     <span class="ruby-identifier">str</span> = <span class="ruby-identifier">items</span>[<span class="ruby-value">0</span>]
968: 
969:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">str</span>
970:       <span class="ruby-identifier">command</span> = <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">to_s</span> }
971: 
972:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@completion</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">command</span>
973:         <span class="ruby-identifier">cmds</span> = <span class="ruby-ivar">@commands</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">to_s</span>[<span class="ruby-value">0</span>, <span class="ruby-identifier">str</span>.<span class="ruby-identifier">length</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">str</span> }
974: 
975:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">cmds</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
976:           <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Command '#{str}' is ambiguous:&quot;</span>
977:           <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;  &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">cmds</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:to_s</span>).<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">', '</span>)
978:         <span class="ruby-keyword kw">else</span>
979:           <span class="ruby-identifier">command</span> = <span class="ruby-identifier">cmds</span>.<span class="ruby-identifier">shift</span>
980:         <span class="ruby-keyword kw">end</span>
981:       <span class="ruby-keyword kw">end</span>
982:     <span class="ruby-keyword kw">end</span>
983: 
984:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">command</span>
985:       <span class="ruby-identifier">items</span>.<span class="ruby-identifier">shift</span>
986:       <span class="ruby-identifier">opts</span> = <span class="ruby-ivar">@commands</span>[<span class="ruby-identifier">command</span>]
987:       <span class="ruby-identifier">delete</span> <span class="ruby-value">? </span><span class="ruby-identifier">opts</span>.<span class="ruby-identifier">parse!</span>(<span class="ruby-identifier">items</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">items</span>)
988:       <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">execute</span>(<span class="ruby-identifier">items</span>.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'--'</span> })
989:     <span class="ruby-keyword kw">end</span>
990:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000052">
                    
                    <a name="M000052"></a><b>extract_option</b>(item, flag)
                    
                </div>
                
                <div class="description">
                  <p>
attempt to extract an option from an argument, this method allows us to
parse things like &#8216;foo=bar&#8217; and &#8217;&#8212;no-value&#8217;
for negative values returns an array of the <a
href="Slop/Option.html">Option</a> object and an argument if one was found
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000052_source')" id="l_M000052_source">show</a>
                        
                    </p>
                    <div id="M000052_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 936</span>
936:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">extract_option</span>(<span class="ruby-identifier">item</span>, <span class="ruby-identifier">flag</span>)
937:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">item</span>[<span class="ruby-value">0</span>, <span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'-'</span>
938:       <span class="ruby-identifier">option</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">flag</span>]
939:       <span class="ruby-identifier">option</span> <span class="ruby-operator">||=</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">flag</span>.<span class="ruby-identifier">downcase</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@ignore_case</span>
940:     <span class="ruby-keyword kw">end</span>
941: 
942:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">option</span>
943:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">item</span>
944:       <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/\A-[^-]/</span>
945:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@multiple_switches</span>
946:           <span class="ruby-identifier">enable_multiple_switches</span>(<span class="ruby-identifier">item</span>)
947:         <span class="ruby-keyword kw">else</span>
948:           <span class="ruby-identifier">flag</span>, <span class="ruby-identifier">argument</span> = <span class="ruby-identifier">flag</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">''</span>, <span class="ruby-value">2</span>)
949:           <span class="ruby-identifier">option</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">flag</span>]
950:         <span class="ruby-keyword kw">end</span>
951:       <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/\A--([^=]+)=(.+)\z/</span>
952:         <span class="ruby-identifier">option</span>, <span class="ruby-identifier">argument</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">$1</span>], <span class="ruby-identifier">$2</span>
953:       <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/\A--no-(.+)\z/</span>
954:         <span class="ruby-identifier">option</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">$1</span>]
955:         <span class="ruby-identifier">option</span>.<span class="ruby-identifier">force_argument_value</span>(<span class="ruby-keyword kw">false</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">option</span>
956:       <span class="ruby-keyword kw">end</span>
957:     <span class="ruby-keyword kw">end</span>
958: 
959:     [<span class="ruby-identifier">option</span>, <span class="ruby-identifier">argument</span>]
960:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000046">
                    
                    <a name="M000046"></a><b>parse_items</b>(items, delete=false, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
traverse through the list of items sent to parse() or parse!() and attempt
to do the following:
</p>
<ul>
<li>Find an option object

</li>
<li>Assign an argument to this option

</li>
<li>Validate an option and/or argument depending on configuration options

</li>
<li>Remove non-parsed items if `delete` is true

</li>
<li>Yield any non-options to the block (if one is given)

</li>
</ul>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000046_source')" id="l_M000046_source">show</a>
                        
                    </p>
                    <div id="M000046_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 799</span>
799:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse_items</span>(<span class="ruby-identifier">items</span>, <span class="ruby-identifier">delete</span>=<span class="ruby-keyword kw">false</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
800:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">items</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@on_empty</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:call</span>)
801:       <span class="ruby-ivar">@on_empty</span>.<span class="ruby-identifier">call</span> <span class="ruby-keyword kw">self</span>
802:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">items</span>
803:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">items</span>.<span class="ruby-identifier">any?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span>.<span class="ruby-identifier">to_s</span>[<span class="ruby-regexp re">/\A--?/</span>] } <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@on_noopts</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:call</span>)
804:       <span class="ruby-ivar">@on_noopts</span>.<span class="ruby-identifier">call</span> <span class="ruby-keyword kw">self</span>
805:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">items</span>
806:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">execute_command</span>(<span class="ruby-identifier">items</span>, <span class="ruby-identifier">delete</span>)
807:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">items</span>
808:     <span class="ruby-keyword kw">end</span>
809: 
810:     <span class="ruby-identifier">trash</span> = []
811: 
812:     <span class="ruby-identifier">items</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
813:       <span class="ruby-identifier">item</span> = <span class="ruby-identifier">item</span>.<span class="ruby-identifier">to_s</span>
814:       <span class="ruby-identifier">flag</span> = <span class="ruby-identifier">item</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/\A--?/</span>, <span class="ruby-value str">''</span>)
815: 
816:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">item</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'--'</span>
817:         <span class="ruby-identifier">trash</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">index</span>
818:         <span class="ruby-keyword kw">break</span>
819:       <span class="ruby-keyword kw">end</span>
820: 
821:       <span class="ruby-identifier">autocreate</span>(<span class="ruby-identifier">flag</span>, <span class="ruby-identifier">index</span>, <span class="ruby-identifier">items</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@autocreate</span>
822:       <span class="ruby-identifier">option</span>, <span class="ruby-identifier">argument</span> = <span class="ruby-identifier">extract_option</span>(<span class="ruby-identifier">item</span>, <span class="ruby-identifier">flag</span>)
823: 
824:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@multiple_switches</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">item</span>[<span class="ruby-regexp re">/\A-[^-][A-Za-z]/</span>] <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">option</span>
825:         <span class="ruby-identifier">trash</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">index</span>
826:         <span class="ruby-keyword kw">next</span>
827:       <span class="ruby-keyword kw">end</span>
828: 
829:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">option</span>
830:         <span class="ruby-identifier">option</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">item</span>[<span class="ruby-regexp re">/\A--no-/</span>]
831:         <span class="ruby-identifier">trash</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">index</span>
832:         <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">forced</span>
833:         <span class="ruby-identifier">option</span>.<span class="ruby-identifier">argument_value</span> = <span class="ruby-keyword kw">true</span>
834: 
835:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">expects_argument?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">accepts_optional_argument?</span>
836:           <span class="ruby-identifier">argument</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">items</span>.<span class="ruby-identifier">at</span>(<span class="ruby-identifier">index</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
837:           <span class="ruby-identifier">trash</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">index</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
838: 
839:           <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">accepts_optional_argument?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">argument</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\A--?[a-zA-Z][a-zA-Z0-9_-]*\z/</span>
840:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">MissingArgumentError</span>, <span class="ruby-node">&quot;'#{option.key}' expects an argument, none given&quot;</span>
841:           <span class="ruby-keyword kw">end</span>
842: 
843:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">argument</span>
844:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">match</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">argument</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">option</span>.<span class="ruby-identifier">match</span>)
845:               <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidArgumentError</span>, <span class="ruby-node">&quot;'#{argument}' does not match #{option.match.inspect}&quot;</span>
846:             <span class="ruby-keyword kw">end</span>
847: 
848:             <span class="ruby-identifier">option</span>.<span class="ruby-identifier">argument_value</span> = <span class="ruby-identifier">argument</span>
849:             <span class="ruby-identifier">option</span>.<span class="ruby-identifier">call</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">argument_value</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">omit_exec?</span>(<span class="ruby-identifier">items</span>)
850:           <span class="ruby-keyword kw">else</span>
851:             <span class="ruby-identifier">option</span>.<span class="ruby-identifier">argument_value</span> = <span class="ruby-keyword kw">nil</span>
852:             <span class="ruby-identifier">check_optional_argument!</span>(<span class="ruby-identifier">option</span>, <span class="ruby-identifier">flag</span>)
853:           <span class="ruby-keyword kw">end</span>
854:         <span class="ruby-keyword kw">else</span>
855:           <span class="ruby-identifier">option</span>.<span class="ruby-identifier">call</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">omit_exec?</span>(<span class="ruby-identifier">items</span>)
856:         <span class="ruby-keyword kw">end</span>
857:       <span class="ruby-keyword kw">else</span>
858:         <span class="ruby-ivar">@invalid_options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">flag</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">item</span>[<span class="ruby-regexp re">/\A--?/</span>] <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@strict</span>
859:         <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">item</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">trash</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">index</span>)
860:       <span class="ruby-keyword kw">end</span>
861:     <span class="ruby-keyword kw">end</span>
862: 
863:     <span class="ruby-identifier">items</span>.<span class="ruby-identifier">reject!</span>.<span class="ruby-identifier">with_index</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">o</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">trash</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">i</span>) } <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">delete</span>
864:     <span class="ruby-identifier">raise_if_invalid_options!</span>
865:     <span class="ruby-identifier">raise_if_missing_required_options!</span>(<span class="ruby-identifier">items</span>)
866:     <span class="ruby-identifier">items</span>
867:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000048">
                    
                    <a name="M000048"></a><b>raise_if_invalid_options!</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000048_source')" id="l_M000048_source">show</a>
                        
                    </p>
                    <div id="M000048_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 877</span>
877:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">raise_if_invalid_options!</span>
878:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span> <span class="ruby-ivar">@strict</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@invalid_options</span>.<span class="ruby-identifier">empty?</span>
879:     <span class="ruby-identifier">message</span> = <span class="ruby-node">&quot;Unknown option#{'s' if @invalid_options.size &gt; 1}&quot;</span>
880:     <span class="ruby-identifier">message</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">' -- '</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@invalid_options</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">o</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;'#{o}'&quot;</span> }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">', '</span>)
881:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidOptionError</span>, <span class="ruby-identifier">message</span>
882:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000049">
                    
                    <a name="M000049"></a><b>raise_if_missing_required_options!</b>(items)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000049_source')" id="l_M000049_source">show</a>
                        
                    </p>
                    <div id="M000049_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 884</span>
884:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">raise_if_missing_required_options!</span>(<span class="ruby-identifier">items</span>)
885:     <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">select</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:required</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">o</span><span class="ruby-operator">|</span>
886:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">argument_value</span>.<span class="ruby-identifier">nil?</span>
887:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">MissingOptionError</span>, <span class="ruby-node">&quot;Expected option `#{o.key}` is required&quot;</span>
888:       <span class="ruby-keyword kw">end</span>
889:     <span class="ruby-keyword kw">end</span>
890:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000051">
                    
                    <a name="M000051"></a><b>wrap_and_indent</b>(string, width, indentation)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000051_source')" id="l_M000051_source">show</a>
                        
                    </p>
                    <div id="M000051_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 914</span>
914:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">wrap_and_indent</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">width</span>, <span class="ruby-identifier">indentation</span>)
915:     <span class="ruby-identifier">string</span>.<span class="ruby-identifier">lines</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">paragraph</span><span class="ruby-operator">|</span>
916:       <span class="ruby-identifier">lines</span> = []
917:       <span class="ruby-identifier">line</span> = <span class="ruby-value str">''</span>
918: 
919:       <span class="ruby-identifier">paragraph</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/\s/</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">word</span><span class="ruby-operator">|</span>
920:         <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">line</span> <span class="ruby-operator">+</span> <span class="ruby-value str">' '</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">word</span>).<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-identifier">width</span>
921:           <span class="ruby-identifier">lines</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">line</span>
922:           <span class="ruby-identifier">line</span> = <span class="ruby-value str">''</span>
923:         <span class="ruby-keyword kw">end</span>
924: 
925:         <span class="ruby-identifier">line</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">line</span> <span class="ruby-operator">==</span> <span class="ruby-value str">''</span> <span class="ruby-operator">?</span> <span class="ruby-value str">''</span> <span class="ruby-operator">:</span> <span class="ruby-value str">' '</span> ) <span class="ruby-operator">+</span> <span class="ruby-identifier">word</span>
926:       <span class="ruby-keyword kw">end</span>
927:       <span class="ruby-identifier">lines</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">line</span>
928: 
929:       <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">l</span><span class="ruby-operator">|</span> <span class="ruby-value str">' '</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">indentation</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">l</span> }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
930:     <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
931:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000017">
                    
                    <a name="M000017"></a><b>new</b>(*opts, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
@option opts [Boolean] :help
</p>
<pre>
  * Automatically add the `help` option
</pre>
<p>
@option opts [Boolean] :strict
</p>
<pre>
  * Raises when a non listed option is found, false by default
</pre>
<p>
@option opts [Boolean] :multiple_switches
</p>
<pre>
  * Allows `-abc` to be processed as the options 'a', 'b', 'c' and will
    force their argument values to true. By default Slop with parse this
    as 'a' with the argument 'bc'
</pre>
<p>
@option opts [String] :banner
</p>
<pre>
  * The banner text used for the help
</pre>
<p>
@option opts [Proc, call] :<a href="Slop.html#M000030">on_empty</a>
</p>
<pre>
  * Any object that respondes to `call` which is executed when Slop has
    no items to parse
</pre>
<p>
@option opts [IO, puts] :io ($stderr)
</p>
<pre>
  * An IO object for writing to when :help =&gt; true is used
</pre>
<p>
@option opts [Boolean] :exit_on_help (true)
</p>
<pre>
  * When false and coupled with the :help option, Slop will not exit
    inside of the `help` option
</pre>
<p>
@option opts [Boolean] :ignore_case (false)
</p>
<pre>
  * Ignore options case
</pre>
<p>
@option opts [Proc, call] :<a href="Slop.html#M000032">on_noopts</a>
</p>
<pre>
  * Trigger an event when no options are found
</pre>
<p>
@option opts [Boolean] :autocreate (false)
</p>
<pre>
  * Autocreate options depending on the Array passed to {#parse}
</pre>
<p>
@option opts [Boolean] :arguments (false)
</p>
<pre>
  * Set to true to enable all specified options to accept arguments
    by default
</pre>
<p>
@option opts [Array] :aliases ([])
</p>
<pre>
  * Primary uses by commands to implement command aliases
</pre>
<p>
@option opts [Boolean] :completion (true)
</p>
<pre>
  * When true, commands will be auto completed. Ie `foobar` will be
    executed simply when `foo` `fo` or `foob` are used
</pre>
<p>
@option options [Boolean] :all_accept_arguments (false)
</p>
<pre>
  * When true, every option added will take an argument, this saves
    having to enable it for every option
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000017_source')" id="l_M000017_source">show</a>
                        
                    </p>
                    <div id="M000017_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 405</span>
405:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">opts</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
406:     <span class="ruby-identifier">sloptions</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
407:     <span class="ruby-identifier">sloptions</span>[<span class="ruby-identifier">:banner</span>] = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">shift</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:to_str</span>)
408:     <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">o</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sloptions</span>[<span class="ruby-identifier">o</span>] = <span class="ruby-keyword kw">true</span> }
409: 
410:     <span class="ruby-ivar">@options</span> = <span class="ruby-constant">Options</span>.<span class="ruby-identifier">new</span>
411:     <span class="ruby-ivar">@commands</span> = {}
412:     <span class="ruby-ivar">@execution_block</span> = <span class="ruby-keyword kw">nil</span>
413: 
414:     <span class="ruby-ivar">@longest_flag</span> = <span class="ruby-value">0</span>
415:     <span class="ruby-ivar">@invalid_options</span> = []
416: 
417:     <span class="ruby-ivar">@banner</span> = <span class="ruby-identifier">sloptions</span>[<span class="ruby-identifier">:banner</span>]
418:     <span class="ruby-ivar">@strict</span> = <span class="ruby-identifier">sloptions</span>[<span class="ruby-identifier">:strict</span>]
419:     <span class="ruby-ivar">@ignore_case</span> = <span class="ruby-identifier">sloptions</span>[<span class="ruby-identifier">:ignore_case</span>]
420:     <span class="ruby-ivar">@multiple_switches</span> = <span class="ruby-identifier">sloptions</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">:multiple_switches</span>, <span class="ruby-keyword kw">true</span>)
421:     <span class="ruby-ivar">@autocreate</span> = <span class="ruby-identifier">sloptions</span>[<span class="ruby-identifier">:autocreate</span>]
422:     <span class="ruby-ivar">@completion</span> = <span class="ruby-identifier">sloptions</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">:completion</span>, <span class="ruby-keyword kw">true</span>)
423:     <span class="ruby-ivar">@arguments</span> = <span class="ruby-identifier">sloptions</span>[<span class="ruby-identifier">:arguments</span>]
424:     <span class="ruby-ivar">@on_empty</span> = <span class="ruby-identifier">sloptions</span>[<span class="ruby-identifier">:on_empty</span>]
425:     <span class="ruby-ivar">@io</span> = <span class="ruby-identifier">sloptions</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">:io</span>, <span class="ruby-identifier">$stderr</span>)
426:     <span class="ruby-ivar">@on_noopts</span> = <span class="ruby-identifier">sloptions</span>[<span class="ruby-identifier">:on_noopts</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">sloptions</span>[<span class="ruby-identifier">:on_optionless</span>]
427:     <span class="ruby-ivar">@sloptions</span> = <span class="ruby-identifier">sloptions</span>
428: 
429:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
430:       <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-keyword kw">self</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">instance_eval</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
431:     <span class="ruby-keyword kw">end</span>
432: 
433:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sloptions</span>[<span class="ruby-identifier">:help</span>]
434:       <span class="ruby-identifier">on</span> <span class="ruby-identifier">:h</span>, <span class="ruby-identifier">:help</span>, <span class="ruby-value str">'Print this help message'</span>, <span class="ruby-identifier">:tail</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">do</span>
435:         <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">help</span>
436:         <span class="ruby-identifier">exit</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">sloptions</span>[<span class="ruby-identifier">:exit_on_help</span>] <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
437:       <span class="ruby-keyword kw">end</span>
438:     <span class="ruby-keyword kw">end</span>
439:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000016">
                    
                    <a name="M000016"></a><b>optspec</b>(optspec, *options)
                    
                </div>
                
                <div class="description">
                  <p>
Build options from an optspec string
</p>
<p>
@param [String] optspec The option spec string @param [Array] options A
list of options to forward to <a href="Slop.html#M000017">Slop.new</a>
@return [Slop] A new instance of <a href="Slop.html">Slop</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000016_source')" id="l_M000016_source">show</a>
                        
                    </p>
                    <div id="M000016_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 311</span>
311:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">optspec</span>(<span class="ruby-identifier">optspec</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">options</span>)
312:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">optspec</span>[<span class="ruby-regexp re">/^--+$/</span>]
313:       <span class="ruby-identifier">banner</span>, <span class="ruby-identifier">optspec</span> = <span class="ruby-identifier">optspec</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/^--+$/</span>, <span class="ruby-value">2</span>)
314:     <span class="ruby-keyword kw">end</span>
315: 
316:     <span class="ruby-identifier">lines</span> = <span class="ruby-identifier">optspec</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;\n&quot;</span>).<span class="ruby-identifier">reject</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:empty?</span>)
317:     <span class="ruby-identifier">opts</span>  = <span class="ruby-constant">Slop</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">banner</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">options</span>)
318: 
319:     <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
320:       <span class="ruby-identifier">opt</span>, <span class="ruby-identifier">description</span> = <span class="ruby-identifier">line</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">' '</span>, <span class="ruby-value">2</span>)
321:       <span class="ruby-identifier">short</span>, <span class="ruby-identifier">long</span> = <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">','</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/\A--?/</span>, <span class="ruby-value str">''</span>) }
322:       <span class="ruby-identifier">argument</span> = <span class="ruby-identifier">long</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">long</span>[<span class="ruby-value">-1</span>] <span class="ruby-operator">==</span> <span class="ruby-value">?$</span>
323:       <span class="ruby-identifier">long</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp re">/\=$/</span>, <span class="ruby-value str">''</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">argument</span>
324:       <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span> <span class="ruby-identifier">short</span>, <span class="ruby-identifier">long</span>, <span class="ruby-identifier">description</span>, <span class="ruby-identifier">argument</span>
325:     <span class="ruby-keyword kw">end</span>
326: 
327:     <span class="ruby-identifier">opts</span>
328:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000014">
                    
                    <a name="M000014"></a><b>parse</b>(items=ARGV, options={}, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Parses the items from a CLI format into a friendly object
</p>
<p>
@param [Array] items Items to parse into options. @example Specifying three
options to parse:
</p>
<pre>
 opts = Slops.parse do
   on :v, :verbose, 'Enable verbose mode'
   on :n, :name,    'Your name'
   on :a, :age,     'Your age'
 end
</pre>
<p>
@return [Slop] Returns an instance of <a href="Slop.html">Slop</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000014_source')" id="l_M000014_source">show</a>
                        
                    </p>
                    <div id="M000014_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 294</span>
294:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">items</span>=<span class="ruby-constant">ARGV</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
295:     <span class="ruby-identifier">initialize_and_parse</span> <span class="ruby-identifier">items</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
296:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000015">
                    
                    <a name="M000015"></a><b>parse!</b>(items=ARGV, options={}, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Identical to {<a href="Slop.html#M000014">Slop.parse</a>}, but removes
parsed options from the original Array
</p>
<p>
@return [Slop] Returns an instance of <a href="Slop.html">Slop</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000015_source')" id="l_M000015_source">show</a>
                        
                    </p>
                    <div id="M000015_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 302</span>
302:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">parse!</span>(<span class="ruby-identifier">items</span>=<span class="ruby-constant">ARGV</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
303:     <span class="ruby-identifier">initialize_and_parse</span> <span class="ruby-identifier">items</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
304:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Private methods</div>
            
            <div class="method">
                <div class="title" id="M000045">
                    
                    <a name="M000045"></a><b>initialize_and_parse</b>(items, delete, options, &amp;block)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000045_source')" id="l_M000045_source">show</a>
                        
                    </p>
                    <div id="M000045_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/slop.rb, line 779</span>
779:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_and_parse</span>(<span class="ruby-identifier">items</span>, <span class="ruby-identifier">delete</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
780:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">items</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">empty?</span>
781:         <span class="ruby-identifier">options</span> = <span class="ruby-identifier">items</span>
782:         <span class="ruby-identifier">items</span> = <span class="ruby-constant">ARGV</span>
783:       <span class="ruby-keyword kw">end</span>
784: 
785:       <span class="ruby-identifier">slop</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
786:       <span class="ruby-identifier">delete</span> <span class="ruby-value">? </span><span class="ruby-identifier">slop</span>.<span class="ruby-identifier">parse!</span>(<span class="ruby-identifier">items</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">slop</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">items</span>)
787:       <span class="ruby-identifier">slop</span>
788:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    