<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>RDoc::RD</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            RDoc::RD 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/rdoc/rd_rb.html">lib/rdoc/rd.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
<a href="RD.html">RDoc::RD</a> implements the <a href="RD.html">RD</a>
format from the rdtool gem.
</p>
<h1>LICENSE</h1>
<p>
The grammar that produces RDoc::RD::BlockParser and RDoc::RD::InlineParser
is included in <a href="RDoc.html">RDoc</a> under the Ruby License.
</p>
<p>
You can find the original source for rdtool at <a
href="https://github.com/uwabami/rdtool/">github.com/uwabami/rdtool/</a>
</p>
<p>
You can use, re-distribute or change these files under Ruby&#8217;s License
or GPL.
</p>
<ol>
<li>You may make and give away verbatim copies of the source form of the
software without restriction, provided that you duplicate all of the
original copyright notices and associated disclaimers.

</li>
<li>You may modify your copy of the software in any way, provided that you do
at least ONE of the following:

<ol>
<li type="a">place your modifications in the Public Domain or otherwise make them Freely
Available, such as by posting said modifications to Usenet or an equivalent
medium, or by allowing the author to include your modifications in the
software.

</li>
<li type="a">use the modified software only within your corporation or organization.

</li>
<li type="a">give non-standard binaries non-standard names, with instructions on where
to get the original software distribution.

</li>
<li type="a">make other distribution arrangements with the author.

</li>
</ol>
</li>
<li>You may distribute the software in object code or binary form, provided
that you do at least ONE of the following:

<ol>
<li type="a">distribute the binaries and library files of the software, together with
instructions (in the manual page or equivalent) on where to get the
original distribution.

</li>
<li type="a">accompany the distribution with the machine-readable source of the
software.

</li>
<li type="a">give non-standard binaries non-standard names, with instructions on where
to get the original software distribution.

</li>
<li type="a">make other distribution arrangements with the author.

</li>
</ol>
</li>
<li>You may modify and include the part of the software into any other software
(possibly commercial). But some files in the distribution are not written
by the author, so that they are not under these terms.

<p>
For the list of those files and their copying conditions, see the file
LEGAL.
</p>
</li>
<li>The scripts and library files supplied as input to or produced as output
from the software do not automatically fall under the copyright of the
software, but belong to whomever generated them, and may be sold
commercially, and may be aggregated with this software.

</li>
<li>THIS SOFTWARE IS PROVIDED &#8220;AS IS&#8221; AND WITHOUT ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.

</li>
</ol>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000667">parse</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">CLASS</span> <a href="RD/Inline.html">RDoc::RD::Inline</a></li>
        
    </ul>
    

    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000667">
                    
                    <a name="M000667"></a><b>parse</b>(rd)
                    
                </div>
                
                <div class="description">
                  <p>
Parses <tt>rd</tt> source and returns an <a
href="Markup/Document.html">RDoc::Markup::Document</a>. If the
<tt>=begin</tt> or <tt>=end</tt> lines are missing they will be added.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000667_source')" id="l_M000667_source">show</a>
                        
                    </p>
                    <div id="M000667_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rdoc/rd.rb, line 73</span>
73:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">parse</span> <span class="ruby-identifier">rd</span>
74:     <span class="ruby-identifier">rd</span> = <span class="ruby-identifier">rd</span>.<span class="ruby-identifier">lines</span>.<span class="ruby-identifier">to_a</span>
75: 
76:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rd</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-regexp re">/\S/</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">i</span> } <span class="ruby-keyword kw">and</span> <span class="ruby-operator">!</span><span class="ruby-identifier">rd</span>.<span class="ruby-identifier">find</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-regexp re">/^=begin\b/</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">i</span> } <span class="ruby-keyword kw">then</span>
77:       <span class="ruby-identifier">rd</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-value str">&quot;=begin\n&quot;</span>).<span class="ruby-identifier">push</span>(<span class="ruby-value str">&quot;=end\n&quot;</span>)
78:     <span class="ruby-keyword kw">end</span>
79: 
80:     <span class="ruby-identifier">parser</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RD</span><span class="ruby-operator">::</span><span class="ruby-constant">BlockParser</span>.<span class="ruby-identifier">new</span>
81:     <span class="ruby-identifier">document</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">parse</span> <span class="ruby-identifier">rd</span>
82: 
83:     <span class="ruby-comment cmt"># isn't this always true?</span>
84:     <span class="ruby-identifier">document</span>.<span class="ruby-identifier">parts</span>.<span class="ruby-identifier">shift</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">document</span>.<span class="ruby-identifier">parts</span>.<span class="ruby-identifier">first</span>
85:     <span class="ruby-identifier">document</span>.<span class="ruby-identifier">parts</span>.<span class="ruby-identifier">pop</span>   <span class="ruby-keyword kw">if</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">document</span>.<span class="ruby-identifier">parts</span>.<span class="ruby-identifier">last</span>
86: 
87:     <span class="ruby-identifier">document</span>
88:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    