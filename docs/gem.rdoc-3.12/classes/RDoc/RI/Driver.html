<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>RDoc::RI::Driver</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            RDoc::RI::Driver 
            
                <span class="parent">&lt; 
                    
                    <a href="../../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/rdoc/ri/driver_rb.html">lib/rdoc/ri/driver.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000719">add_also_in</a>,</li>
                
                <li><a href="#M000720">add_class</a>,</li>
                
                <li><a href="#M000721">add_from</a>,</li>
                
                <li><a href="#M000722">add_includes</a>,</li>
                
                <li><a href="#M000723">add_method_list</a>,</li>
                
                <li><a href="#M000725">ancestors_of</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000731">class_document</a>,</li>
                
                <li><a href="#M000742">classes</a>,</li>
                
                <li><a href="#M000743">classes_and_includes_for</a>,</li>
                
                <li><a href="#M000746">complete</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000710">default_options</a>,</li>
                
                <li><a href="#M000748">display</a>,</li>
                
                <li><a href="#M000749">display_class</a>,</li>
                
                <li><a href="#M000750">display_method</a>,</li>
                
                <li><a href="#M000751">display_name</a>,</li>
                
                <li><a href="#M000753">display_names</a>,</li>
                
                <li><a href="#M000711">dump</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000754">expand_class</a>,</li>
                
                <li><a href="#M000755">expand_name</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000756">filter_methods</a>,</li>
                
                <li><a href="#M000757">find_methods</a>,</li>
                
                <li><a href="#M000758">formatter</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000760">in_path?</a>,</li>
                
                <li><a href="#M000759">interactive</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M000761">list_known_classes</a>,</li>
                
                <li><a href="#M000762">list_methods_matching</a>,</li>
                
                <li><a href="#M000763">load_method</a>,</li>
                
                <li><a href="#M000764">load_methods_matching</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000765">method_document</a>,</li>
                
                <li><a href="#M000766">method_type</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000767">name_regexp</a>,</li>
                
                <li><a href="#M000718">new</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000768">page</a>,</li>
                
                <li><a href="#M000770">paging?</a>,</li>
                
                <li><a href="#M000771">parse_name</a>,</li>
                
                <li><a href="#M000712">process_args</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000717">run</a>,</li>
                
                <li><a href="#M000773">run</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000774">setup_pager</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">CLASS</span> <a href="Driver/Error.html">RDoc::RI::Driver::Error</a></li>
        
        <li><span class="type">CLASS</span> <a href="Driver/NotFoundError.html">RDoc::RI::Driver::NotFoundError</a></li>
        
    </ul>
    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>stores</td>
            <td class='attr-desc'><p>
An <a href="Store.html">RDoc::RI::Store</a> for each entry in the <a
href="../RI.html">RI</a> path
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>use_stdout</td>
            <td class='attr-desc'><p>
Controls the user of the pager vs $stdout
</p></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000710">
                    
                    <a name="M000710"></a><b>default_options</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Default options for ri
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000710_source')" id="l_M000710_source">show</a>
                        
                    </p>
                    <div id="M000710_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 72</span>
72:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">default_options</span>
73:     <span class="ruby-identifier">options</span> = {}
74:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_stdout</span>] = <span class="ruby-operator">!</span><span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">tty?</span>
75:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:width</span>] = <span class="ruby-value">72</span>
76:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:interactive</span>] = <span class="ruby-keyword kw">false</span>
77:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_cache</span>] = <span class="ruby-keyword kw">true</span>
78:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:profile</span>] = <span class="ruby-keyword kw">false</span>
79: 
80:     <span class="ruby-comment cmt"># By default all standard paths are used.</span>
81:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_system</span>] = <span class="ruby-keyword kw">true</span>
82:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_site</span>] = <span class="ruby-keyword kw">true</span>
83:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_home</span>] = <span class="ruby-keyword kw">true</span>
84:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_gems</span>] = <span class="ruby-keyword kw">true</span>
85:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:extra_doc_dirs</span>] = []
86: 
87:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">options</span>
88:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000711">
                    
                    <a name="M000711"></a><b>dump</b>(data_path)
                    
                </div>
                
                <div class="description">
                  <p>
Dump <tt>data_path</tt> using pp
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000711_source')" id="l_M000711_source">show</a>
                        
                    </p>
                    <div id="M000711_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 93</span>
93:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dump</span> <span class="ruby-identifier">data_path</span>
94:     <span class="ruby-identifier">require</span> <span class="ruby-value str">'pp'</span>
95: 
96:     <span class="ruby-identifier">open</span> <span class="ruby-identifier">data_path</span>, <span class="ruby-value str">'rb'</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span>
97:       <span class="ruby-identifier">pp</span> <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">io</span>.<span class="ruby-identifier">read</span>)
98:     <span class="ruby-keyword kw">end</span>
99:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000718">
                    
                    <a name="M000718"></a><b>new</b>(initial_options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new driver using <tt>initial_options</tt> from ::<a
href="Driver.html#M000712">process_args</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000718_source')" id="l_M000718_source">show</a>
                        
                    </p>
                    <div id="M000718_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 327</span>
327:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span> <span class="ruby-identifier">initial_options</span> = {}
328:     <span class="ruby-ivar">@paging</span> = <span class="ruby-keyword kw">false</span>
329:     <span class="ruby-ivar">@classes</span> = <span class="ruby-keyword kw">nil</span>
330: 
331:     <span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">default_options</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">initial_options</span>)
332: 
333:     <span class="ruby-ivar">@formatter_klass</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:formatter</span>]
334: 
335:     <span class="ruby-identifier">require</span> <span class="ruby-value str">'profile'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:profile</span>]
336: 
337:     <span class="ruby-ivar">@names</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:names</span>]
338:     <span class="ruby-ivar">@list</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:list</span>]
339: 
340:     <span class="ruby-ivar">@doc_dirs</span> = []
341:     <span class="ruby-ivar">@stores</span>   = []
342: 
343:     <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RI</span><span class="ruby-operator">::</span><span class="ruby-constant">Paths</span>.<span class="ruby-identifier">each</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_system</span>], <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_site</span>],
344:                          <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_home</span>], <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_gems</span>],
345:                          <span class="ruby-operator">*</span><span class="ruby-identifier">options</span>[<span class="ruby-identifier">:extra_doc_dirs</span>]) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">type</span><span class="ruby-operator">|</span>
346:       <span class="ruby-ivar">@doc_dirs</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">path</span>
347: 
348:       <span class="ruby-identifier">store</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RI</span><span class="ruby-operator">::</span><span class="ruby-constant">Store</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">type</span>
349:       <span class="ruby-identifier">store</span>.<span class="ruby-identifier">load_cache</span>
350:       <span class="ruby-ivar">@stores</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">store</span>
351:     <span class="ruby-keyword kw">end</span>
352: 
353:     <span class="ruby-ivar">@list_doc_dirs</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:list_doc_dirs</span>]
354: 
355:     <span class="ruby-ivar">@interactive</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:interactive</span>]
356:     <span class="ruby-ivar">@use_stdout</span>  = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_stdout</span>]
357:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000712">
                    
                    <a name="M000712"></a><b>process_args</b>(argv)
                    
                </div>
                
                <div class="description">
                  <p>
Parses <tt>argv</tt> and returns a Hash of options
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000712_source')" id="l_M000712_source">show</a>
                        
                    </p>
                    <div id="M000712_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 104</span>
104:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">process_args</span> <span class="ruby-identifier">argv</span>
105:     <span class="ruby-identifier">options</span> = <span class="ruby-identifier">default_options</span>
106: 
107:     <span class="ruby-identifier">opts</span> = <span class="ruby-constant">OptionParser</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">opt</span><span class="ruby-operator">|</span>
108:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">accept</span> <span class="ruby-constant">File</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span>,<span class="ruby-operator">|</span>
109:         <span class="ruby-constant">File</span>.<span class="ruby-identifier">readable?</span>(<span class="ruby-identifier">file</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">file</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">file</span>
110:       <span class="ruby-keyword kw">end</span>
111: 
112:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">program_name</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span> <span class="ruby-identifier">$0</span>
113:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">version</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span>
114:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">release</span> = <span class="ruby-keyword kw">nil</span>
115:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">summary_indent</span> = <span class="ruby-value str">' '</span> <span class="ruby-operator">*</span> <span class="ruby-value">4</span>
116: 
117:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">banner</span> = <span class="ruby-value str">&quot;Usage: \#{opt.program_name} [options] [names...]\n\nWhere name can be:\n\nClass | Class::method | Class#method | Class.method | method\n\nAll class names may be abbreviated to their minimum unambiguous form. If a name\nis ambiguous, all valid options will be listed.\n\nA '.' matches either class or instance methods, while #method\nmatches only instance and ::method matches only class methods.\n\nFor example:\n\n\#{opt.program_name} Fil\n\#{opt.program_name} File\n\#{opt.program_name} File.new\n\#{opt.program_name} zip\n\nNote that shell quoting or escaping may be required for method names containing\npunctuation:\n\n\#{opt.program_name} 'Array.[]'\n\#{opt.program_name} compact\\\\!\n\nTo see the default directories ri will search, run:\n\n\#{opt.program_name} --list-doc-dirs\n\nSpecifying the --system, --site, --home, --gems or --doc-dir options will\nlimit ri to searching only the specified directories.\n\nOptions may also be set in the 'RI' environment variable.\n&quot;</span>
118: 
119:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
120:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-value str">&quot;Options:&quot;</span>
121: 
122:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
123: 
124:       <span class="ruby-identifier">formatters</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-regexp re">/^To[A-Z][a-z]+$/</span>).<span class="ruby-identifier">sort</span>
125:       <span class="ruby-identifier">formatters</span> = <span class="ruby-identifier">formatters</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">formatter</span><span class="ruby-operator">|</span>
126:         <span class="ruby-identifier">formatter</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-value str">'To'</span>, <span class="ruby-value str">''</span>).<span class="ruby-identifier">downcase</span>
127:       <span class="ruby-keyword kw">end</span>
128: 
129:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--format=NAME&quot;</span>, <span class="ruby-value str">&quot;-f&quot;</span>,
130:              <span class="ruby-value str">&quot;Uses the selected formatter. The default&quot;</span>,
131:              <span class="ruby-value str">&quot;formatter is bs for paged output and ansi&quot;</span>,
132:              <span class="ruby-value str">&quot;otherwise. Valid formatters are:&quot;</span>,
133:              <span class="ruby-identifier">formatters</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">' '</span>), <span class="ruby-identifier">formatters</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
134:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:formatter</span>] = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span>.<span class="ruby-identifier">const_get</span> <span class="ruby-node">&quot;To#{value.capitalize}&quot;</span>
135:       <span class="ruby-keyword kw">end</span>
136: 
137:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
138: 
139:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--no-pager&quot;</span>, <span class="ruby-value str">&quot;-T&quot;</span>,
140:              <span class="ruby-value str">&quot;Send output directly to stdout,&quot;</span>,
141:              <span class="ruby-value str">&quot;rather than to a pager.&quot;</span>) <span class="ruby-keyword kw">do</span>
142:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_stdout</span>] = <span class="ruby-keyword kw">true</span>
143:       <span class="ruby-keyword kw">end</span>
144: 
145:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
146: 
147:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--width=WIDTH&quot;</span>, <span class="ruby-value str">&quot;-w&quot;</span>, <span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">DecimalInteger</span>,
148:              <span class="ruby-value str">&quot;Set the width of the output.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
149:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:width</span>] = <span class="ruby-identifier">value</span>
150:       <span class="ruby-keyword kw">end</span>
151: 
152:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
153: 
154:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--interactive&quot;</span>, <span class="ruby-value str">&quot;-i&quot;</span>,
155:              <span class="ruby-value str">&quot;In interactive mode you can repeatedly&quot;</span>,
156:              <span class="ruby-value str">&quot;look up methods with autocomplete.&quot;</span>) <span class="ruby-keyword kw">do</span>
157:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:interactive</span>] = <span class="ruby-keyword kw">true</span>
158:       <span class="ruby-keyword kw">end</span>
159: 
160:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
161: 
162:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--list&quot;</span>, <span class="ruby-value str">&quot;-l&quot;</span>,
163:              <span class="ruby-value str">&quot;List classes ri knows about.&quot;</span>) <span class="ruby-keyword kw">do</span>
164:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:list</span>] = <span class="ruby-keyword kw">true</span>
165:       <span class="ruby-keyword kw">end</span>
166: 
167:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
168: 
169:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--[no-]profile&quot;</span>,
170:              <span class="ruby-value str">&quot;Run with the ruby profiler&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
171:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:profile</span>] = <span class="ruby-identifier">value</span>
172:       <span class="ruby-keyword kw">end</span>
173: 
174:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
175:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-value str">&quot;Data source options:&quot;</span>
176:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
177: 
178:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--list-doc-dirs&quot;</span>,
179:              <span class="ruby-value str">&quot;List the directories from which ri will&quot;</span>,
180:              <span class="ruby-value str">&quot;source documentation on stdout and exit.&quot;</span>) <span class="ruby-keyword kw">do</span>
181:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:list_doc_dirs</span>] = <span class="ruby-keyword kw">true</span>
182:       <span class="ruby-keyword kw">end</span>
183: 
184:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
185: 
186:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--doc-dir=DIRNAME&quot;</span>, <span class="ruby-value str">&quot;-d&quot;</span>, <span class="ruby-constant">Array</span>,
187:              <span class="ruby-value str">&quot;List of directories from which to source&quot;</span>,
188:              <span class="ruby-value str">&quot;documentation in addition to the standard&quot;</span>,
189:              <span class="ruby-value str">&quot;directories.  May be repeated.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
190:         <span class="ruby-identifier">value</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span>
191:           <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span> <span class="ruby-identifier">dir</span> <span class="ruby-keyword kw">then</span>
192:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidArgument</span>, <span class="ruby-node">&quot;#{dir} is not a directory&quot;</span>
193:           <span class="ruby-keyword kw">end</span>
194: 
195:           <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:extra_doc_dirs</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">dir</span>)
196:         <span class="ruby-keyword kw">end</span>
197:       <span class="ruby-keyword kw">end</span>
198: 
199:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
200: 
201:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--no-standard-docs&quot;</span>,
202:              <span class="ruby-value str">&quot;Do not include documentation from&quot;</span>,
203:              <span class="ruby-value str">&quot;the Ruby standard library, site_lib,&quot;</span>,
204:              <span class="ruby-value str">&quot;installed gems, or ~/.rdoc.&quot;</span>,
205:              <span class="ruby-value str">&quot;Use with --doc-dir&quot;</span>) <span class="ruby-keyword kw">do</span>
206:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_system</span>] = <span class="ruby-keyword kw">false</span>
207:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_site</span>] = <span class="ruby-keyword kw">false</span>
208:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_gems</span>] = <span class="ruby-keyword kw">false</span>
209:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_home</span>] = <span class="ruby-keyword kw">false</span>
210:       <span class="ruby-keyword kw">end</span>
211: 
212:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
213: 
214:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--[no-]system&quot;</span>,
215:              <span class="ruby-value str">&quot;Include documentation from Ruby's standard&quot;</span>,
216:              <span class="ruby-value str">&quot;library.  Defaults to true.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
217:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_system</span>] = <span class="ruby-identifier">value</span>
218:       <span class="ruby-keyword kw">end</span>
219: 
220:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
221: 
222:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--[no-]site&quot;</span>,
223:              <span class="ruby-value str">&quot;Include documentation from libraries&quot;</span>,
224:              <span class="ruby-value str">&quot;installed in site_lib.&quot;</span>,
225:              <span class="ruby-value str">&quot;Defaults to true.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
226:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_site</span>] = <span class="ruby-identifier">value</span>
227:       <span class="ruby-keyword kw">end</span>
228: 
229:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
230: 
231:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--[no-]gems&quot;</span>,
232:              <span class="ruby-value str">&quot;Include documentation from RubyGems.&quot;</span>,
233:              <span class="ruby-value str">&quot;Defaults to true.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
234:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_gems</span>] = <span class="ruby-identifier">value</span>
235:       <span class="ruby-keyword kw">end</span>
236: 
237:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
238: 
239:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--[no-]home&quot;</span>,
240:              <span class="ruby-value str">&quot;Include documentation stored in ~/.rdoc.&quot;</span>,
241:              <span class="ruby-value str">&quot;Defaults to true.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
242:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_home</span>] = <span class="ruby-identifier">value</span>
243:       <span class="ruby-keyword kw">end</span>
244: 
245:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
246:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-value str">&quot;Debug options:&quot;</span>
247:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
248: 
249:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--dump=CACHE&quot;</span>, <span class="ruby-constant">File</span>,
250:              <span class="ruby-value str">&quot;Dumps data from an ri cache or data file&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
251:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:dump_path</span>] = <span class="ruby-identifier">value</span>
252:       <span class="ruby-keyword kw">end</span>
253:     <span class="ruby-keyword kw">end</span>
254: 
255:     <span class="ruby-identifier">argv</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'RI'</span>].<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">argv</span>
256: 
257:     <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">parse!</span> <span class="ruby-identifier">argv</span>
258: 
259:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:names</span>] = <span class="ruby-identifier">argv</span>
260: 
261:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_stdout</span>] <span class="ruby-operator">||=</span> <span class="ruby-operator">!</span><span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">tty?</span>
262:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_stdout</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:interactive</span>]
263:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:width</span>] <span class="ruby-operator">||=</span> <span class="ruby-value">72</span>
264: 
265:     <span class="ruby-identifier">options</span>
266: 
267:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidArgument</span>, <span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidOption</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
268:     <span class="ruby-identifier">puts</span> <span class="ruby-identifier">opts</span>
269:     <span class="ruby-identifier">puts</span>
270:     <span class="ruby-identifier">puts</span> <span class="ruby-identifier">e</span>
271:     <span class="ruby-identifier">exit</span> <span class="ruby-value">1</span>
272:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000717">
                    
                    <a name="M000717"></a><b>run</b>(argv = ARGV)
                    
                </div>
                
                <div class="description">
                  <p>
Runs the ri command line executable using <tt>argv</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000717_source')" id="l_M000717_source">show</a>
                        
                    </p>
                    <div id="M000717_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 312</span>
312:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">run</span> <span class="ruby-identifier">argv</span> = <span class="ruby-constant">ARGV</span>
313:     <span class="ruby-identifier">options</span> = <span class="ruby-identifier">process_args</span> <span class="ruby-identifier">argv</span>
314: 
315:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:dump_path</span>] <span class="ruby-keyword kw">then</span>
316:       <span class="ruby-identifier">dump</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:dump_path</span>]
317:       <span class="ruby-keyword kw">return</span>
318:     <span class="ruby-keyword kw">end</span>
319: 
320:     <span class="ruby-identifier">ri</span> = <span class="ruby-identifier">new</span> <span class="ruby-identifier">options</span>
321:     <span class="ruby-identifier">ri</span>.<span class="ruby-identifier">run</span>
322:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000719">
                    
                    <a name="M000719"></a><b>add_also_in</b>(out, also_in)
                    
                </div>
                
                <div class="description">
                  <p>
Adds paths for undocumented classes <tt>also_in</tt> to <tt>out</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000719_source')" id="l_M000719_source">show</a>
                        
                    </p>
                    <div id="M000719_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 362</span>
362:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_also_in</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">also_in</span>
363:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">also_in</span>.<span class="ruby-identifier">empty?</span>
364: 
365:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Rule</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>)
366:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Paragraph</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;Also found in:&quot;</span>)
367: 
368:     <span class="ruby-identifier">paths</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Verbatim</span>.<span class="ruby-identifier">new</span>
369:     <span class="ruby-identifier">also_in</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span><span class="ruby-operator">|</span>
370:       <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">parts</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">store</span>.<span class="ruby-identifier">friendly_path</span>, <span class="ruby-value str">&quot;\n&quot;</span>
371:     <span class="ruby-keyword kw">end</span>
372:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">paths</span>
373:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000720">
                    
                    <a name="M000720"></a><b>add_class</b>(out, name, classes)
                    
                </div>
                
                <div class="description">
                  <p>
Adds a class header to <tt>out</tt> for class <tt>name</tt> which is
described in <tt>classes</tt>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000720_source')" id="l_M000720_source">show</a>
                        
                    </p>
                    <div id="M000720_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 379</span>
379:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_class</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">classes</span>
380:     <span class="ruby-identifier">heading</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">module?</span> } <span class="ruby-keyword kw">then</span>
381:                 <span class="ruby-identifier">name</span>
382:               <span class="ruby-keyword kw">else</span>
383:                 <span class="ruby-identifier">superclass</span> = <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span>
384:                   <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">superclass</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">module?</span>
385:                 <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">shift</span> <span class="ruby-operator">||</span> <span class="ruby-value str">'Object'</span>
386: 
387:                 <span class="ruby-identifier">superclass</span> = <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">full_name</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">superclass</span>
388: 
389:                 <span class="ruby-node">&quot;#{name} &lt; #{superclass}&quot;</span>
390:               <span class="ruby-keyword kw">end</span>
391: 
392:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Heading</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">heading</span>)
393:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
394:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000721">
                    
                    <a name="M000721"></a><b>add_from</b>(out, store)
                    
                </div>
                
                <div class="description">
                  <p>
Adds &#8220;(from &#8230;)&#8221; to <tt>out</tt> for <tt>store</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000721_source')" id="l_M000721_source">show</a>
                        
                    </p>
                    <div id="M000721_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 399</span>
399:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_from</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">store</span>
400:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Paragraph</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;(from #{store.friendly_path})&quot;</span>)
401:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000722">
                    
                    <a name="M000722"></a><b>add_includes</b>(out, includes)
                    
                </div>
                
                <div class="description">
                  <p>
Adds <tt>includes</tt> to <tt>out</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000722_source')" id="l_M000722_source">show</a>
                        
                    </p>
                    <div id="M000722_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 406</span>
406:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_includes</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">includes</span>
407:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">includes</span>.<span class="ruby-identifier">empty?</span>
408: 
409:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Rule</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>)
410:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Heading</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>, <span class="ruby-value str">&quot;Includes:&quot;</span>)
411: 
412:     <span class="ruby-identifier">includes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">modules</span>, <span class="ruby-identifier">store</span><span class="ruby-operator">|</span>
413:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">modules</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">then</span>
414:         <span class="ruby-identifier">include</span> = <span class="ruby-identifier">modules</span>.<span class="ruby-identifier">first</span>
415:         <span class="ruby-identifier">name</span> = <span class="ruby-identifier">include</span>.<span class="ruby-identifier">name</span>
416:         <span class="ruby-identifier">path</span> = <span class="ruby-identifier">store</span>.<span class="ruby-identifier">friendly_path</span>
417:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Paragraph</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;#{name} (from #{path})&quot;</span>)
418: 
419:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">include</span>.<span class="ruby-identifier">comment</span> <span class="ruby-keyword kw">then</span>
420:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
421:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">include</span>.<span class="ruby-identifier">comment</span>
422:         <span class="ruby-keyword kw">end</span>
423:       <span class="ruby-keyword kw">else</span>
424:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Paragraph</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;(from #{store.friendly_path})&quot;</span>)
425: 
426:         <span class="ruby-identifier">wout</span>, <span class="ruby-identifier">with</span> = <span class="ruby-identifier">modules</span>.<span class="ruby-identifier">partition</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">incl</span><span class="ruby-operator">|</span> <span class="ruby-identifier">incl</span>.<span class="ruby-identifier">comment</span>.<span class="ruby-identifier">empty?</span> }
427: 
428:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">with</span>.<span class="ruby-identifier">empty?</span>
429: 
430:         <span class="ruby-identifier">with</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">incl</span><span class="ruby-operator">|</span>
431:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Paragraph</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">incl</span>.<span class="ruby-identifier">name</span>)
432:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
433:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">incl</span>.<span class="ruby-identifier">comment</span>
434:         <span class="ruby-keyword kw">end</span>
435: 
436:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">wout</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
437:           <span class="ruby-identifier">verb</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Verbatim</span>.<span class="ruby-identifier">new</span>
438: 
439:           <span class="ruby-identifier">wout</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">incl</span><span class="ruby-operator">|</span>
440:             <span class="ruby-identifier">verb</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">incl</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;\n&quot;</span>
441:           <span class="ruby-keyword kw">end</span>
442: 
443:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">verb</span>
444:         <span class="ruby-keyword kw">end</span>
445:       <span class="ruby-keyword kw">end</span>
446:     <span class="ruby-keyword kw">end</span>
447:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000723">
                    
                    <a name="M000723"></a><b>add_method_list</b>(out, methods, name)
                    
                </div>
                
                <div class="description">
                  <p>
Adds a list of <tt>methods</tt> to <tt>out</tt> with a heading of
<tt>name</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000723_source')" id="l_M000723_source">show</a>
                        
                    </p>
                    <div id="M000723_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 452</span>
452:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_method_list</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">methods</span>, <span class="ruby-identifier">name</span>
453:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">empty?</span>
454: 
455:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Heading</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>, <span class="ruby-node">&quot;#{name}:&quot;</span>)
456:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
457: 
458:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@use_stdout</span> <span class="ruby-keyword kw">and</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@interactive</span>
459:       <span class="ruby-identifier">out</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">methods</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
460:         <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Verbatim</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">method</span>
461:       <span class="ruby-keyword kw">end</span>)
462:     <span class="ruby-keyword kw">else</span>
463:       <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">IndentedParagraph</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2</span>, <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">', '</span>))
464:     <span class="ruby-keyword kw">end</span>
465: 
466:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
467:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000725">
                    
                    <a name="M000725"></a><b>ancestors_of</b>(klass)
                    
                </div>
                
                <div class="description">
                  <p>
Returns ancestor classes of <tt>klass</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000725_source')" id="l_M000725_source">show</a>
                        
                    </p>
                    <div id="M000725_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 472</span>
472:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ancestors_of</span> <span class="ruby-identifier">klass</span>
473:     <span class="ruby-identifier">ancestors</span> = []
474: 
475:     <span class="ruby-identifier">unexamined</span> = [<span class="ruby-identifier">klass</span>]
476:     <span class="ruby-identifier">seen</span> = []
477: 
478:     <span class="ruby-identifier">loop</span> <span class="ruby-keyword kw">do</span>
479:       <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">unexamined</span>.<span class="ruby-identifier">empty?</span>
480:       <span class="ruby-identifier">current</span> = <span class="ruby-identifier">unexamined</span>.<span class="ruby-identifier">shift</span>
481:       <span class="ruby-identifier">seen</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">current</span>
482: 
483:       <span class="ruby-identifier">stores</span> = <span class="ruby-identifier">classes</span>[<span class="ruby-identifier">current</span>]
484: 
485:       <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">stores</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">stores</span>.<span class="ruby-identifier">empty?</span>
486: 
487:       <span class="ruby-identifier">klasses</span> = <span class="ruby-identifier">stores</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span><span class="ruby-operator">|</span>
488:         <span class="ruby-identifier">store</span>.<span class="ruby-identifier">ancestors</span>[<span class="ruby-identifier">current</span>]
489:       <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>
490: 
491:       <span class="ruby-identifier">klasses</span> = <span class="ruby-identifier">klasses</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">seen</span>
492: 
493:       <span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">klasses</span>)
494:       <span class="ruby-identifier">unexamined</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">klasses</span>)
495:     <span class="ruby-keyword kw">end</span>
496: 
497:     <span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">reverse</span>
498:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000731">
                    
                    <a name="M000731"></a><b>class_document</b>(name, found, klasses, includes)
                    
                </div>
                
                <div class="description">
                  <p>
Builds a <a href="../Markup/Document.html">RDoc::Markup::Document</a> from
<tt>found</tt>, <tt>klasess</tt> and <tt>includes</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000731_source')" id="l_M000731_source">show</a>
                        
                    </p>
                    <div id="M000731_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 509</span>
509:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">class_document</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">found</span>, <span class="ruby-identifier">klasses</span>, <span class="ruby-identifier">includes</span>
510:     <span class="ruby-identifier">also_in</span> = []
511: 
512:     <span class="ruby-identifier">out</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
513: 
514:     <span class="ruby-identifier">add_class</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">klasses</span>
515: 
516:     <span class="ruby-identifier">add_includes</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">includes</span>
517: 
518:     <span class="ruby-identifier">found</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span>, <span class="ruby-identifier">klass</span><span class="ruby-operator">|</span>
519:       <span class="ruby-identifier">comment</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">comment</span>
520:       <span class="ruby-comment cmt"># TODO the store's cache should always return an empty Array</span>
521:       <span class="ruby-identifier">class_methods</span>    = <span class="ruby-identifier">store</span>.<span class="ruby-identifier">class_methods</span>[<span class="ruby-identifier">klass</span>.<span class="ruby-identifier">full_name</span>]    <span class="ruby-operator">||</span> []
522:       <span class="ruby-identifier">instance_methods</span> = <span class="ruby-identifier">store</span>.<span class="ruby-identifier">instance_methods</span>[<span class="ruby-identifier">klass</span>.<span class="ruby-identifier">full_name</span>] <span class="ruby-operator">||</span> []
523:       <span class="ruby-identifier">attributes</span>       = <span class="ruby-identifier">store</span>.<span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">klass</span>.<span class="ruby-identifier">full_name</span>]       <span class="ruby-operator">||</span> []
524: 
525:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">comment</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">and</span>
526:          <span class="ruby-identifier">instance_methods</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">class_methods</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
527:         <span class="ruby-identifier">also_in</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">store</span>
528:         <span class="ruby-keyword kw">next</span>
529:       <span class="ruby-keyword kw">end</span>
530: 
531:       <span class="ruby-identifier">add_from</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">store</span>
532: 
533:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">comment</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
534:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Rule</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>)
535: 
536:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">comment</span>.<span class="ruby-identifier">merged?</span> <span class="ruby-keyword kw">then</span>
537:           <span class="ruby-identifier">parts</span> = <span class="ruby-identifier">comment</span>.<span class="ruby-identifier">parts</span>
538:           <span class="ruby-identifier">parts</span> = <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">zip</span> [<span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>] <span class="ruby-operator">*</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">length</span>
539:           <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">flatten!</span>
540:           <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">pop</span>
541: 
542:           <span class="ruby-identifier">out</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">parts</span>)
543:         <span class="ruby-keyword kw">else</span>
544:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">comment</span>
545:         <span class="ruby-keyword kw">end</span>
546:       <span class="ruby-keyword kw">end</span>
547: 
548:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">class_methods</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">instance_methods</span> <span class="ruby-keyword kw">or</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
549:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Rule</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>)
550:       <span class="ruby-keyword kw">end</span>
551: 
552:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
553:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Heading</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>, <span class="ruby-value str">&quot;Constants:&quot;</span>)
554:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
555:         <span class="ruby-identifier">list</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">List</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">:NOTE</span>
556: 
557:         <span class="ruby-identifier">constants</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">sort_by</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">constant</span><span class="ruby-operator">|</span> <span class="ruby-identifier">constant</span>.<span class="ruby-identifier">name</span> }
558: 
559:         <span class="ruby-identifier">list</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">constants</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">constant</span><span class="ruby-operator">|</span>
560:           <span class="ruby-identifier">parts</span> = <span class="ruby-identifier">constant</span>.<span class="ruby-identifier">comment</span>.<span class="ruby-identifier">parts</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">constant</span>.<span class="ruby-identifier">comment</span>
561:           <span class="ruby-identifier">parts</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Paragraph</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'[not documented]'</span>) <span class="ruby-keyword kw">if</span>
562:             <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">empty?</span>
563: 
564:           <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">ListItem</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">constant</span>.<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parts</span>)
565:         <span class="ruby-keyword kw">end</span>)
566: 
567:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">list</span>
568:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
569:       <span class="ruby-keyword kw">end</span>
570: 
571:       <span class="ruby-identifier">add_method_list</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">class_methods</span>,    <span class="ruby-value str">'Class methods'</span>
572:       <span class="ruby-identifier">add_method_list</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">instance_methods</span>, <span class="ruby-value str">'Instance methods'</span>
573:       <span class="ruby-identifier">add_method_list</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">attributes</span>,       <span class="ruby-value str">'Attributes'</span>
574:     <span class="ruby-keyword kw">end</span>
575: 
576:     <span class="ruby-identifier">add_also_in</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">also_in</span>
577: 
578:     <span class="ruby-identifier">out</span>
579:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000742">
                    
                    <a name="M000742"></a><b>classes</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Hash mapping a known class or module to the stores it can be loaded from
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000742_source')" id="l_M000742_source">show</a>
                        
                    </p>
                    <div id="M000742_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 584</span>
584:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">classes</span>
585:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@classes</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@classes</span>
586: 
587:     <span class="ruby-ivar">@classes</span> = {}
588: 
589:     <span class="ruby-ivar">@stores</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span><span class="ruby-operator">|</span>
590:       <span class="ruby-identifier">store</span>.<span class="ruby-identifier">cache</span>[<span class="ruby-identifier">:modules</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mod</span><span class="ruby-operator">|</span>
591:         <span class="ruby-comment cmt"># using default block causes searched-for modules to be added</span>
592:         <span class="ruby-ivar">@classes</span>[<span class="ruby-identifier">mod</span>] <span class="ruby-operator">||=</span> []
593:         <span class="ruby-ivar">@classes</span>[<span class="ruby-identifier">mod</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">store</span>
594:       <span class="ruby-keyword kw">end</span>
595:     <span class="ruby-keyword kw">end</span>
596: 
597:     <span class="ruby-ivar">@classes</span>
598:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000743">
                    
                    <a name="M000743"></a><b>classes_and_includes_for</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Returns the stores wherin <tt>name</tt> is found along with the classes and
includes that match it
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000743_source')" id="l_M000743_source">show</a>
                        
                    </p>
                    <div id="M000743_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 604</span>
604:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">classes_and_includes_for</span> <span class="ruby-identifier">name</span>
605:     <span class="ruby-identifier">klasses</span> = []
606:     <span class="ruby-identifier">includes</span> = []
607: 
608:     <span class="ruby-identifier">found</span> = <span class="ruby-ivar">@stores</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span><span class="ruby-operator">|</span>
609:       <span class="ruby-keyword kw">begin</span>
610:         <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">store</span>.<span class="ruby-identifier">load_class</span> <span class="ruby-identifier">name</span>
611:         <span class="ruby-identifier">klasses</span>  <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">klass</span>
612:         <span class="ruby-identifier">includes</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">klass</span>.<span class="ruby-identifier">includes</span>, <span class="ruby-identifier">store</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">includes</span>
613:         [<span class="ruby-identifier">store</span>, <span class="ruby-identifier">klass</span>]
614:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>
615:       <span class="ruby-keyword kw">end</span>
616:     <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">compact</span>
617: 
618:     <span class="ruby-identifier">includes</span>.<span class="ruby-identifier">reject!</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">modules</span>,<span class="ruby-operator">|</span> <span class="ruby-identifier">modules</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">end</span>
619: 
620:     [<span class="ruby-identifier">found</span>, <span class="ruby-identifier">klasses</span>, <span class="ruby-identifier">includes</span>]
621:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000746">
                    
                    <a name="M000746"></a><b>complete</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Completes <tt>name</tt> based on the caches. For Readline
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000746_source')" id="l_M000746_source">show</a>
                        
                    </p>
                    <div id="M000746_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 626</span>
626:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">complete</span> <span class="ruby-identifier">name</span>
627:     <span class="ruby-identifier">klasses</span> = <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">keys</span>
628:     <span class="ruby-identifier">completions</span> = []
629: 
630:     <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">selector</span>, <span class="ruby-identifier">method</span> = <span class="ruby-identifier">parse_name</span> <span class="ruby-identifier">name</span>
631: 
632:     <span class="ruby-comment cmt"># may need to include Foo when given Foo::</span>
633:     <span class="ruby-identifier">klass_name</span> = <span class="ruby-identifier">method</span> <span class="ruby-value">? </span><span class="ruby-identifier">name</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">klass</span>
634: 
635:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">!~</span> <span class="ruby-regexp re">/#|\./</span> <span class="ruby-keyword kw">then</span>
636:       <span class="ruby-identifier">completions</span> = <span class="ruby-identifier">klasses</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-node">/^#{Regexp.escape klass_name}[^:]*$/</span>)
637:       <span class="ruby-identifier">completions</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">klasses</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-node">/^#{Regexp.escape name}[^:]*$/</span>) <span class="ruby-keyword kw">if</span>
638:         <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/::$/</span>
639: 
640:       <span class="ruby-identifier">completions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">klass</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">key?</span> <span class="ruby-identifier">klass</span> <span class="ruby-comment cmt"># to complete a method name</span>
641:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">selector</span> <span class="ruby-keyword kw">then</span>
642:       <span class="ruby-identifier">completions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">klass</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">key?</span> <span class="ruby-identifier">klass</span>
643:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">key?</span> <span class="ruby-identifier">klass_name</span> <span class="ruby-keyword kw">then</span>
644:       <span class="ruby-identifier">completions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">klass_name</span>
645:     <span class="ruby-keyword kw">end</span>
646: 
647:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">completions</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">klass</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/#|\.|::/</span> <span class="ruby-keyword kw">then</span>
648:       <span class="ruby-identifier">methods</span> = <span class="ruby-identifier">list_methods_matching</span> <span class="ruby-identifier">name</span>
649: 
650:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
651:         <span class="ruby-comment cmt"># remove Foo if given Foo:: and a method was found</span>
652:         <span class="ruby-identifier">completions</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">klass</span>
653:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">selector</span> <span class="ruby-keyword kw">then</span>
654:         <span class="ruby-comment cmt"># replace Foo with Foo:: as given</span>
655:         <span class="ruby-identifier">completions</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">klass</span>
656:         <span class="ruby-identifier">completions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{klass}#{selector}&quot;</span>
657:       <span class="ruby-keyword kw">end</span>
658: 
659:       <span class="ruby-identifier">completions</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">methods</span>)
660:     <span class="ruby-keyword kw">end</span>
661: 
662:     <span class="ruby-identifier">completions</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">uniq</span>
663:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000748">
                    
                    <a name="M000748"></a><b>display</b>(document)
                    
                </div>
                
                <div class="description">
                  <p>
Converts <tt>document</tt> to text and writes it to the pager
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000748_source')" id="l_M000748_source">show</a>
                        
                    </p>
                    <div id="M000748_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 668</span>
668:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">display</span> <span class="ruby-identifier">document</span>
669:     <span class="ruby-identifier">page</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span>
670:       <span class="ruby-identifier">text</span> = <span class="ruby-identifier">document</span>.<span class="ruby-identifier">accept</span> <span class="ruby-identifier">formatter</span>(<span class="ruby-identifier">io</span>)
671: 
672:       <span class="ruby-identifier">io</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">text</span>
673:     <span class="ruby-keyword kw">end</span>
674:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000749">
                    
                    <a name="M000749"></a><b>display_class</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Outputs formatted <a href="../RI.html">RI</a> data for class <tt>name</tt>.
Groups undocumented classes
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000749_source')" id="l_M000749_source">show</a>
                        
                    </p>
                    <div id="M000749_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 679</span>
679:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">display_class</span> <span class="ruby-identifier">name</span>
680:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/#|\./</span>
681: 
682:     <span class="ruby-identifier">found</span>, <span class="ruby-identifier">klasses</span>, <span class="ruby-identifier">includes</span> = <span class="ruby-identifier">classes_and_includes_for</span> <span class="ruby-identifier">name</span>
683: 
684:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">found</span>.<span class="ruby-identifier">empty?</span>
685: 
686:     <span class="ruby-identifier">out</span> = <span class="ruby-identifier">class_document</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">found</span>, <span class="ruby-identifier">klasses</span>, <span class="ruby-identifier">includes</span>
687: 
688:     <span class="ruby-identifier">display</span> <span class="ruby-identifier">out</span>
689:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000750">
                    
                    <a name="M000750"></a><b>display_method</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Outputs formatted <a href="../RI.html">RI</a> data for method <tt>name</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000750_source')" id="l_M000750_source">show</a>
                        
                    </p>
                    <div id="M000750_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 694</span>
694:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">display_method</span> <span class="ruby-identifier">name</span>
695:     <span class="ruby-identifier">found</span> = <span class="ruby-identifier">load_methods_matching</span> <span class="ruby-identifier">name</span>
696: 
697:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotFoundError</span>, <span class="ruby-identifier">name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">found</span>.<span class="ruby-identifier">empty?</span>
698: 
699:     <span class="ruby-identifier">filtered</span> = <span class="ruby-identifier">filter_methods</span> <span class="ruby-identifier">found</span>, <span class="ruby-identifier">name</span>
700: 
701:     <span class="ruby-identifier">out</span> = <span class="ruby-identifier">method_document</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">filtered</span>
702: 
703:     <span class="ruby-identifier">display</span> <span class="ruby-identifier">out</span>
704:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000751">
                    
                    <a name="M000751"></a><b>display_name</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Outputs formatted <a href="../RI.html">RI</a> data for the class or method
<tt>name</tt>.
</p>
<p>
Returns true if <tt>name</tt> was found, false if it was not an alternative
could be guessed, raises an error if <tt>name</tt> couldn&#8217;t be
guessed.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000751_source')" id="l_M000751_source">show</a>
                        
                    </p>
                    <div id="M000751_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 712</span>
712:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">display_name</span> <span class="ruby-identifier">name</span>
713:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">display_class</span> <span class="ruby-identifier">name</span>
714: 
715:     <span class="ruby-identifier">display_method</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/::|#|\./</span>
716: 
717:     <span class="ruby-keyword kw">true</span>
718:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">NotFoundError</span>
719:     <span class="ruby-identifier">matches</span> = <span class="ruby-identifier">list_methods_matching</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/::|#|\./</span>
720:     <span class="ruby-identifier">matches</span> = <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-node">/^#{name}/</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">empty?</span>
721: 
722:     <span class="ruby-identifier">raise</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">empty?</span>
723: 
724:     <span class="ruby-identifier">page</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span>
725:       <span class="ruby-identifier">io</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;#{name} not found, maybe you meant:&quot;</span>
726:       <span class="ruby-identifier">io</span>.<span class="ruby-identifier">puts</span>
727:       <span class="ruby-identifier">io</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
728:     <span class="ruby-keyword kw">end</span>
729: 
730:     <span class="ruby-keyword kw">false</span>
731:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000753">
                    
                    <a name="M000753"></a><b>display_names</b>(names)
                    
                </div>
                
                <div class="description">
                  <p>
Displays each name in <tt>name</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000753_source')" id="l_M000753_source">show</a>
                        
                    </p>
                    <div id="M000753_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 736</span>
736:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">display_names</span> <span class="ruby-identifier">names</span>
737:     <span class="ruby-identifier">names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
738:       <span class="ruby-identifier">name</span> = <span class="ruby-identifier">expand_name</span> <span class="ruby-identifier">name</span>
739: 
740:       <span class="ruby-identifier">display_name</span> <span class="ruby-identifier">name</span>
741:     <span class="ruby-keyword kw">end</span>
742:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000754">
                    
                    <a name="M000754"></a><b>expand_class</b>(klass)
                    
                </div>
                
                <div class="description">
                  <p>
Expands abbreviated klass <tt>klass</tt> into a fully-qualified class.
&#8220;Zl::Da&#8221; will be expanded to Zlib::DataError.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000754_source')" id="l_M000754_source">show</a>
                        
                    </p>
                    <div id="M000754_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 748</span>
748:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expand_class</span> <span class="ruby-identifier">klass</span>
749:     <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">'::'</span>).<span class="ruby-identifier">inject</span> <span class="ruby-value str">''</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">expanded</span>, <span class="ruby-identifier">klass_part</span><span class="ruby-operator">|</span>
750:       <span class="ruby-identifier">expanded</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'::'</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">expanded</span>.<span class="ruby-identifier">empty?</span>
751:       <span class="ruby-identifier">short</span> = <span class="ruby-identifier">expanded</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">klass_part</span>
752: 
753:       <span class="ruby-identifier">subset</span> = <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">select</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">klass_name</span><span class="ruby-operator">|</span>
754:         <span class="ruby-identifier">klass_name</span> <span class="ruby-operator">=~</span> <span class="ruby-node">/^#{expanded}[^:]*$/</span>
755:       <span class="ruby-keyword kw">end</span>
756: 
757:       <span class="ruby-identifier">abbrevs</span> = <span class="ruby-constant">Abbrev</span>.<span class="ruby-identifier">abbrev</span> <span class="ruby-identifier">subset</span>
758: 
759:       <span class="ruby-identifier">expanded</span> = <span class="ruby-identifier">abbrevs</span>[<span class="ruby-identifier">short</span>]
760: 
761:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotFoundError</span>, <span class="ruby-identifier">short</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">expanded</span>
762: 
763:       <span class="ruby-identifier">expanded</span>.<span class="ruby-identifier">dup</span>
764:     <span class="ruby-keyword kw">end</span>
765:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000755">
                    
                    <a name="M000755"></a><b>expand_name</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Expands the class portion of <tt>name</tt> into a fully-qualified class.
See <a href="Driver.html#M000754">expand_class</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000755_source')" id="l_M000755_source">show</a>
                        
                    </p>
                    <div id="M000755_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 771</span>
771:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expand_name</span> <span class="ruby-identifier">name</span>
772:     <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">selector</span>, <span class="ruby-identifier">method</span> = <span class="ruby-identifier">parse_name</span> <span class="ruby-identifier">name</span>
773: 
774:     <span class="ruby-keyword kw">return</span> [<span class="ruby-identifier">selector</span>, <span class="ruby-identifier">method</span>].<span class="ruby-identifier">join</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">empty?</span>
775: 
776:     <span class="ruby-node">&quot;#{expand_class klass}#{selector}#{method}&quot;</span>
777:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000756">
                    
                    <a name="M000756"></a><b>filter_methods</b>(found, name)
                    
                </div>
                
                <div class="description">
                  <p>
Filters the methods in <tt>found</tt> trying to find a match for
<tt>name</tt>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000756_source')" id="l_M000756_source">show</a>
                        
                    </p>
                    <div id="M000756_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 782</span>
782:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">filter_methods</span> <span class="ruby-identifier">found</span>, <span class="ruby-identifier">name</span>
783:     <span class="ruby-identifier">regexp</span> = <span class="ruby-identifier">name_regexp</span> <span class="ruby-identifier">name</span>
784: 
785:     <span class="ruby-identifier">filtered</span> = <span class="ruby-identifier">found</span>.<span class="ruby-identifier">find_all</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span>, <span class="ruby-identifier">methods</span><span class="ruby-operator">|</span>
786:       <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span> <span class="ruby-identifier">method</span>.<span class="ruby-identifier">full_name</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">regexp</span> }
787:     <span class="ruby-keyword kw">end</span>
788: 
789:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">filtered</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">filtered</span>.<span class="ruby-identifier">empty?</span>
790: 
791:     <span class="ruby-identifier">found</span>
792:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000757">
                    
                    <a name="M000757"></a><b>find_methods</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Yields items matching <tt>name</tt> including the store they were found in,
the class being searched for, the class they were found in (an ancestor)
the types of methods to look up (from <a
href="Driver.html#M000766">method_type</a>), and the method name being
searched for
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000757_source')" id="l_M000757_source">show</a>
                        
                    </p>
                    <div id="M000757_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 800</span>
800:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find_methods</span> <span class="ruby-identifier">name</span>
801:     <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">selector</span>, <span class="ruby-identifier">method</span> = <span class="ruby-identifier">parse_name</span> <span class="ruby-identifier">name</span>
802: 
803:     <span class="ruby-identifier">types</span> = <span class="ruby-identifier">method_type</span> <span class="ruby-identifier">selector</span>
804: 
805:     <span class="ruby-identifier">klasses</span> = <span class="ruby-keyword kw">nil</span>
806:     <span class="ruby-identifier">ambiguous</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">empty?</span>
807: 
808:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ambiguous</span> <span class="ruby-keyword kw">then</span>
809:       <span class="ruby-identifier">klasses</span> = <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">keys</span>
810:     <span class="ruby-keyword kw">else</span>
811:       <span class="ruby-identifier">klasses</span> = <span class="ruby-identifier">ancestors_of</span> <span class="ruby-identifier">klass</span>
812:       <span class="ruby-identifier">klasses</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-identifier">klass</span>
813:     <span class="ruby-keyword kw">end</span>
814: 
815:     <span class="ruby-identifier">methods</span> = []
816: 
817:     <span class="ruby-identifier">klasses</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ancestor</span><span class="ruby-operator">|</span>
818:       <span class="ruby-identifier">ancestors</span> = <span class="ruby-identifier">classes</span>[<span class="ruby-identifier">ancestor</span>]
819: 
820:       <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">ancestors</span>
821: 
822:       <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">ancestor</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ambiguous</span>
823: 
824:       <span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span><span class="ruby-operator">|</span>
825:         <span class="ruby-identifier">methods</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">store</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">ancestor</span>, <span class="ruby-identifier">types</span>, <span class="ruby-identifier">method</span>]
826:       <span class="ruby-keyword kw">end</span>
827:     <span class="ruby-keyword kw">end</span>
828: 
829:     <span class="ruby-identifier">methods</span> = <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">sort_by</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">_</span>, <span class="ruby-identifier">k</span>, <span class="ruby-identifier">a</span>, <span class="ruby-identifier">_</span>, <span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
830:       [<span class="ruby-identifier">k</span>, <span class="ruby-identifier">a</span>, <span class="ruby-identifier">m</span>].<span class="ruby-identifier">compact</span>
831:     <span class="ruby-keyword kw">end</span>
832: 
833:     <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
834:       <span class="ruby-keyword kw">yield</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">item</span>) <span class="ruby-comment cmt"># :yields: store, klass, ancestor, types, method</span>
835:     <span class="ruby-keyword kw">end</span>
836: 
837:     <span class="ruby-keyword kw">self</span>
838:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000758">
                    
                    <a name="M000758"></a><b>formatter</b>(io)
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new <a
href="../Markup/Formatter.html">RDoc::Markup::Formatter</a>. If a formatter
is given with -f, use it. If we&#8217;re outputting to a pager, use bs,
otherwise ansi.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000758_source')" id="l_M000758_source">show</a>
                        
                    </p>
                    <div id="M000758_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 844</span>
844:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">formatter</span>(<span class="ruby-identifier">io</span>)
845:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@formatter_klass</span> <span class="ruby-keyword kw">then</span>
846:       <span class="ruby-ivar">@formatter_klass</span>.<span class="ruby-identifier">new</span>
847:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">paging?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-operator">!</span><span class="ruby-identifier">io</span>.<span class="ruby-identifier">tty?</span> <span class="ruby-keyword kw">then</span>
848:       <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">ToBs</span>.<span class="ruby-identifier">new</span>
849:     <span class="ruby-keyword kw">else</span>
850:       <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">ToAnsi</span>.<span class="ruby-identifier">new</span>
851:     <span class="ruby-keyword kw">end</span>
852:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000760">
                    
                    <a name="M000760"></a><b>in_path?</b>(file)
                    
                </div>
                
                <div class="description">
                  <p>
Is <tt>file</tt> in ENV[&#8216;PATH&#8217;]?
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000760_source')" id="l_M000760_source">show</a>
                        
                    </p>
                    <div id="M000760_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 893</span>
893:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">in_path?</span> <span class="ruby-identifier">file</span>
894:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">file</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">%r%\A/%</span> <span class="ruby-keyword kw">and</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span> <span class="ruby-identifier">file</span>
895: 
896:     <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'PATH'</span>].<span class="ruby-identifier">split</span>(<span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">PATH_SEPARATOR</span>).<span class="ruby-identifier">any?</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
897:       <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">file</span>)
898:     <span class="ruby-keyword kw">end</span>
899:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000759">
                    
                    <a name="M000759"></a><b>interactive</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Runs ri interactively using Readline if it is available.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000759_source')" id="l_M000759_source">show</a>
                        
                    </p>
                    <div id="M000759_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 857</span>
857:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">interactive</span>
858:     <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;\nEnter the method name you want to look up.&quot;</span>
859: 
860:     <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-constant">Readline</span> <span class="ruby-keyword kw">then</span>
861:       <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_proc</span> = <span class="ruby-identifier">method</span> <span class="ruby-identifier">:complete</span>
862:       <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;You can use tab to autocomplete.&quot;</span>
863:     <span class="ruby-keyword kw">end</span>
864: 
865:     <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Enter a blank line to exit.\n\n&quot;</span>
866: 
867:     <span class="ruby-identifier">loop</span> <span class="ruby-keyword kw">do</span>
868:       <span class="ruby-identifier">name</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-constant">Readline</span> <span class="ruby-keyword kw">then</span>
869:                <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span> <span class="ruby-value str">&quot;&gt;&gt; &quot;</span>
870:              <span class="ruby-keyword kw">else</span>
871:                <span class="ruby-identifier">print</span> <span class="ruby-value str">&quot;&gt;&gt; &quot;</span>
872:                <span class="ruby-identifier">$stdin</span>.<span class="ruby-identifier">gets</span>
873:              <span class="ruby-keyword kw">end</span>
874: 
875:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">empty?</span>
876: 
877:       <span class="ruby-identifier">name</span> = <span class="ruby-identifier">expand_name</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">strip</span>
878: 
879:       <span class="ruby-keyword kw">begin</span>
880:         <span class="ruby-identifier">display_name</span> <span class="ruby-identifier">name</span>
881:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">NotFoundError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
882:         <span class="ruby-identifier">puts</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
883:       <span class="ruby-keyword kw">end</span>
884:     <span class="ruby-keyword kw">end</span>
885: 
886:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Interrupt</span>
887:     <span class="ruby-identifier">exit</span>
888:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000761">
                    
                    <a name="M000761"></a><b>list_known_classes</b>(names = [])
                    
                </div>
                
                <div class="description">
                  <p>
Lists classes known to ri starting with <tt>names</tt>. If <tt>names</tt>
is empty all known classes are shown.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000761_source')" id="l_M000761_source">show</a>
                        
                    </p>
                    <div id="M000761_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 905</span>
905:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list_known_classes</span> <span class="ruby-identifier">names</span> = []
906:     <span class="ruby-identifier">classes</span> = []
907: 
908:     <span class="ruby-identifier">stores</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span><span class="ruby-operator">|</span>
909:       <span class="ruby-identifier">classes</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">store</span>.<span class="ruby-identifier">modules</span>
910:     <span class="ruby-keyword kw">end</span>
911: 
912:     <span class="ruby-identifier">classes</span> = <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">sort</span>
913: 
914:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
915:       <span class="ruby-identifier">filter</span> = <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">union</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-node">/^#{name}/</span> }
916: 
917:       <span class="ruby-identifier">classes</span> = <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">grep</span> <span class="ruby-identifier">filter</span>
918:     <span class="ruby-keyword kw">end</span>
919: 
920:     <span class="ruby-identifier">page</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span>
921:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">paging?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">io</span>.<span class="ruby-identifier">tty?</span> <span class="ruby-keyword kw">then</span>
922:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
923:           <span class="ruby-identifier">io</span>.<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Classes and Modules known to ri:&quot;</span>
924:         <span class="ruby-keyword kw">else</span>
925:           <span class="ruby-identifier">io</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Classes and Modules starting with #{names.join ', '}:&quot;</span>
926:         <span class="ruby-keyword kw">end</span>
927:         <span class="ruby-identifier">io</span>.<span class="ruby-identifier">puts</span>
928:       <span class="ruby-keyword kw">end</span>
929: 
930:       <span class="ruby-identifier">io</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
931:     <span class="ruby-keyword kw">end</span>
932:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000762">
                    
                    <a name="M000762"></a><b>list_methods_matching</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Returns an Array of methods matching <tt>name</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000762_source')" id="l_M000762_source">show</a>
                        
                    </p>
                    <div id="M000762_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 937</span>
937:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list_methods_matching</span> <span class="ruby-identifier">name</span>
938:     <span class="ruby-identifier">found</span> = []
939: 
940:     <span class="ruby-identifier">find_methods</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">ancestor</span>, <span class="ruby-identifier">types</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
941:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">types</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:instance</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">types</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:both</span> <span class="ruby-keyword kw">then</span>
942:         <span class="ruby-identifier">methods</span> = <span class="ruby-identifier">store</span>.<span class="ruby-identifier">instance_methods</span>[<span class="ruby-identifier">ancestor</span>]
943: 
944:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">methods</span> <span class="ruby-keyword kw">then</span>
945:           <span class="ruby-identifier">matches</span> = <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-node">/^#{Regexp.escape method.to_s}/</span>)
946: 
947:           <span class="ruby-identifier">matches</span> = <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">match</span><span class="ruby-operator">|</span>
948:             <span class="ruby-node">&quot;#{klass}##{match}&quot;</span>
949:           <span class="ruby-keyword kw">end</span>
950: 
951:           <span class="ruby-identifier">found</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">matches</span>)
952:         <span class="ruby-keyword kw">end</span>
953:       <span class="ruby-keyword kw">end</span>
954: 
955:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">types</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:class</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">types</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:both</span> <span class="ruby-keyword kw">then</span>
956:         <span class="ruby-identifier">methods</span> = <span class="ruby-identifier">store</span>.<span class="ruby-identifier">class_methods</span>[<span class="ruby-identifier">ancestor</span>]
957: 
958:         <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">methods</span>
959:         <span class="ruby-identifier">matches</span> = <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-node">/^#{Regexp.escape method.to_s}/</span>)
960: 
961:         <span class="ruby-identifier">matches</span> = <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">match</span><span class="ruby-operator">|</span>
962:           <span class="ruby-node">&quot;#{klass}::#{match}&quot;</span>
963:         <span class="ruby-keyword kw">end</span>
964: 
965:         <span class="ruby-identifier">found</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">matches</span>)
966:       <span class="ruby-keyword kw">end</span>
967:     <span class="ruby-keyword kw">end</span>
968: 
969:     <span class="ruby-identifier">found</span>.<span class="ruby-identifier">uniq</span>
970:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000763">
                    
                    <a name="M000763"></a><b>load_method</b>(store, cache, klass, type, name)
                    
                </div>
                
                <div class="description">
                  <p>
Loads <a href="../RI.html">RI</a> data for method <tt>name</tt> on
<tt>klass</tt> from <tt>store</tt>. <tt>type</tt> and <tt>cache</tt>
indicate if it is a class or instance method.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000763_source')" id="l_M000763_source">show</a>
                        
                    </p>
                    <div id="M000763_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 976</span>
976:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_method</span> <span class="ruby-identifier">store</span>, <span class="ruby-identifier">cache</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">name</span>
977:     <span class="ruby-identifier">methods</span> = <span class="ruby-identifier">store</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">cache</span>)[<span class="ruby-identifier">klass</span>]
978: 
979:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">methods</span>
980: 
981:     <span class="ruby-identifier">method</span> = <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">find</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method_name</span><span class="ruby-operator">|</span>
982:       <span class="ruby-identifier">method_name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">name</span>
983:     <span class="ruby-keyword kw">end</span>
984: 
985:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">method</span>
986: 
987:     <span class="ruby-identifier">store</span>.<span class="ruby-identifier">load_method</span> <span class="ruby-identifier">klass</span>, <span class="ruby-node">&quot;#{type}#{method}&quot;</span>
988:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000764">
                    
                    <a name="M000764"></a><b>load_methods_matching</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Returns an Array of <a href="../RI.html">RI</a> data for methods matching
<tt>name</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000764_source')" id="l_M000764_source">show</a>
                        
                    </p>
                    <div id="M000764_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 993</span>
 993:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_methods_matching</span> <span class="ruby-identifier">name</span>
 994:     <span class="ruby-identifier">found</span> = []
 995: 
 996:     <span class="ruby-identifier">find_methods</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">ancestor</span>, <span class="ruby-identifier">types</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
 997:       <span class="ruby-identifier">methods</span> = []
 998: 
 999:       <span class="ruby-identifier">methods</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">load_method</span>(<span class="ruby-identifier">store</span>, <span class="ruby-identifier">:class_methods</span>, <span class="ruby-identifier">ancestor</span>, <span class="ruby-value str">'::'</span>,  <span class="ruby-identifier">method</span>) <span class="ruby-keyword kw">if</span>
1000:         [<span class="ruby-identifier">:class</span>, <span class="ruby-identifier">:both</span>].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">types</span>
1001: 
1002:       <span class="ruby-identifier">methods</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">load_method</span>(<span class="ruby-identifier">store</span>, <span class="ruby-identifier">:instance_methods</span>, <span class="ruby-identifier">ancestor</span>, <span class="ruby-value str">'#'</span>,  <span class="ruby-identifier">method</span>) <span class="ruby-keyword kw">if</span>
1003:         [<span class="ruby-identifier">:instance</span>, <span class="ruby-identifier">:both</span>].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">types</span>
1004: 
1005:       <span class="ruby-identifier">found</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">store</span>, <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">compact</span>]
1006:     <span class="ruby-keyword kw">end</span>
1007: 
1008:     <span class="ruby-identifier">found</span>.<span class="ruby-identifier">reject</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">methods</span><span class="ruby-operator">|</span> <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">end</span>
1009:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000765">
                    
                    <a name="M000765"></a><b>method_document</b>(name, filtered)
                    
                </div>
                
                <div class="description">
                  <p>
Builds a <a href="../Markup/Document.html">RDoc::Markup::Document</a> from
<tt>found</tt>, <tt>klasess</tt> and <tt>includes</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000765_source')" id="l_M000765_source">show</a>
                        
                    </p>
                    <div id="M000765_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 1014</span>
1014:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">method_document</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">filtered</span>
1015:     <span class="ruby-identifier">out</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
1016: 
1017:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Heading</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">name</span>)
1018:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
1019: 
1020:     <span class="ruby-identifier">filtered</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span>, <span class="ruby-identifier">methods</span><span class="ruby-operator">|</span>
1021:       <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
1022:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Paragraph</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;(from #{store.friendly_path})&quot;</span>)
1023: 
1024:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-node">/^#{Regexp.escape method.parent_name}/</span> <span class="ruby-keyword kw">then</span>
1025:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Heading</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">3</span>, <span class="ruby-node">&quot;Implementation from #{method.parent_name}&quot;</span>)
1026:         <span class="ruby-keyword kw">end</span>
1027:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Rule</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>)
1028: 
1029:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">method</span>.<span class="ruby-identifier">arglists</span> <span class="ruby-keyword kw">then</span>
1030:           <span class="ruby-identifier">arglists</span> = <span class="ruby-identifier">method</span>.<span class="ruby-identifier">arglists</span>.<span class="ruby-identifier">chomp</span>.<span class="ruby-identifier">split</span> <span class="ruby-value str">&quot;\n&quot;</span>
1031:           <span class="ruby-identifier">arglists</span> = <span class="ruby-identifier">arglists</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;\n&quot;</span> }
1032:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Verbatim</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arglists</span>)
1033:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Rule</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>)
1034:         <span class="ruby-keyword kw">end</span>
1035: 
1036:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
1037:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">method</span>.<span class="ruby-identifier">comment</span>
1038:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
1039:       <span class="ruby-keyword kw">end</span>
1040:     <span class="ruby-keyword kw">end</span>
1041: 
1042:     <span class="ruby-identifier">out</span>
1043:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000766">
                    
                    <a name="M000766"></a><b>method_type</b>(selector)
                    
                </div>
                
                <div class="description">
                  <p>
Returns the type of method (:both, :instance, :class) for <tt>selector</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000766_source')" id="l_M000766_source">show</a>
                        
                    </p>
                    <div id="M000766_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 1048</span>
1048:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">method_type</span> <span class="ruby-identifier">selector</span>
1049:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">selector</span>
1050:     <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'.'</span>, <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">:both</span>
1051:     <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'#'</span>      <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">:instance</span>
1052:     <span class="ruby-keyword kw">else</span>               <span class="ruby-identifier">:class</span>
1053:     <span class="ruby-keyword kw">end</span>
1054:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000767">
                    
                    <a name="M000767"></a><b>name_regexp</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a regular expression for <tt>name</tt> that will match an
RDoc::AnyMethod&#8217;s name.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000767_source')" id="l_M000767_source">show</a>
                        
                    </p>
                    <div id="M000767_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 1060</span>
1060:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">name_regexp</span> <span class="ruby-identifier">name</span>
1061:     <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">name</span> = <span class="ruby-identifier">parse_name</span> <span class="ruby-identifier">name</span>
1062: 
1063:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">type</span>
1064:     <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'#'</span>, <span class="ruby-value str">'::'</span> <span class="ruby-keyword kw">then</span>
1065:       <span class="ruby-node">/^#{klass}#{type}#{Regexp.escape name}$/</span>
1066:     <span class="ruby-keyword kw">else</span>
1067:       <span class="ruby-node">/^#{klass}(#|::)#{Regexp.escape name}$/</span>
1068:     <span class="ruby-keyword kw">end</span>
1069:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000768">
                    
                    <a name="M000768"></a><b>page</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Paginates output through a pager program.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000768_source')" id="l_M000768_source">show</a>
                        
                    </p>
                    <div id="M000768_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 1074</span>
1074:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">page</span>
1075:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pager</span> = <span class="ruby-identifier">setup_pager</span> <span class="ruby-keyword kw">then</span>
1076:       <span class="ruby-keyword kw">begin</span>
1077:         <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">pager</span>
1078:       <span class="ruby-keyword kw">ensure</span>
1079:         <span class="ruby-identifier">pager</span>.<span class="ruby-identifier">close</span>
1080:       <span class="ruby-keyword kw">end</span>
1081:     <span class="ruby-keyword kw">else</span>
1082:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">$stdout</span>
1083:     <span class="ruby-keyword kw">end</span>
1084:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EPIPE</span>
1085:   <span class="ruby-keyword kw">ensure</span>
1086:     <span class="ruby-ivar">@paging</span> = <span class="ruby-keyword kw">false</span>
1087:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000770">
                    
                    <a name="M000770"></a><b>paging?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Are we using a pager?
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000770_source')" id="l_M000770_source">show</a>
                        
                    </p>
                    <div id="M000770_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 1092</span>
1092:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">paging?</span>
1093:     <span class="ruby-ivar">@paging</span>
1094:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000771">
                    
                    <a name="M000771"></a><b>parse_name</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Extracts the class, selector and method name parts from <tt>name</tt> like
Foo::Bar#baz.
</p>
<p>
NOTE: Given Foo::Bar, Bar is considered a class even though it may be a
method
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000771_source')" id="l_M000771_source">show</a>
                        
                    </p>
                    <div id="M000771_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 1103</span>
1103:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse_name</span> <span class="ruby-identifier">name</span>
1104:     <span class="ruby-identifier">parts</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/(::|#|\.)/</span>)
1105: 
1106:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">then</span>
1107:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^[a-z]|^([%&amp;*+\/&lt;&gt;^`|~-]|\+@|-@|&lt;&lt;|&lt;=&gt;?|===?|=&gt;|=~|&gt;&gt;|\[\]=?|~@)$/</span> <span class="ruby-keyword kw">then</span>
1108:         <span class="ruby-identifier">type</span> = <span class="ruby-value str">'.'</span>
1109:         <span class="ruby-identifier">meth</span> = <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">pop</span>
1110:       <span class="ruby-keyword kw">else</span>
1111:         <span class="ruby-identifier">type</span> = <span class="ruby-keyword kw">nil</span>
1112:         <span class="ruby-identifier">meth</span> = <span class="ruby-keyword kw">nil</span>
1113:       <span class="ruby-keyword kw">end</span>
1114:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/::|#|\./</span> <span class="ruby-keyword kw">then</span>
1115:       <span class="ruby-identifier">type</span> = <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">pop</span>
1116:       <span class="ruby-identifier">meth</span> = <span class="ruby-keyword kw">nil</span>
1117:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">parts</span>[<span class="ruby-value">-2</span>] <span class="ruby-operator">!=</span> <span class="ruby-value str">'::'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">!~</span> <span class="ruby-regexp re">/^[A-Z]/</span> <span class="ruby-keyword kw">then</span>
1118:       <span class="ruby-identifier">meth</span> = <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">pop</span>
1119:       <span class="ruby-identifier">type</span> = <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">pop</span>
1120:     <span class="ruby-keyword kw">end</span>
1121: 
1122:     <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">join</span>
1123: 
1124:     [<span class="ruby-identifier">klass</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">meth</span>]
1125:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000773">
                    
                    <a name="M000773"></a><b>run</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Looks up and displays ri data according to the options given.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000773_source')" id="l_M000773_source">show</a>
                        
                    </p>
                    <div id="M000773_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 1130</span>
1130:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run</span>
1131:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@list_doc_dirs</span> <span class="ruby-keyword kw">then</span>
1132:       <span class="ruby-identifier">puts</span> <span class="ruby-ivar">@doc_dirs</span>
1133:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@list</span> <span class="ruby-keyword kw">then</span>
1134:       <span class="ruby-identifier">list_known_classes</span> <span class="ruby-ivar">@names</span>
1135:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@interactive</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@names</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
1136:       <span class="ruby-identifier">interactive</span>
1137:     <span class="ruby-keyword kw">else</span>
1138:       <span class="ruby-identifier">display_names</span> <span class="ruby-ivar">@names</span>
1139:     <span class="ruby-keyword kw">end</span>
1140:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">NotFoundError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
1141:     <span class="ruby-identifier">abort</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
1142:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000774">
                    
                    <a name="M000774"></a><b>setup_pager</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Sets up a pager program to pass output through. Tries the RI_PAGER and
PAGER environment variables followed by pager, less then more.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000774_source')" id="l_M000774_source">show</a>
                        
                    </p>
                    <div id="M000774_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 1148</span>
1148:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup_pager</span>
1149:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@use_stdout</span>
1150: 
1151:     <span class="ruby-identifier">pagers</span> = [<span class="ruby-constant">ENV</span>[<span class="ruby-value str">'RI_PAGER'</span>], <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'PAGER'</span>], <span class="ruby-value str">'pager'</span>, <span class="ruby-value str">'less'</span>, <span class="ruby-value str">'more'</span>]
1152: 
1153:     <span class="ruby-identifier">pagers</span>.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pager</span><span class="ruby-operator">|</span>
1154:       <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">pager</span>
1155: 
1156:       <span class="ruby-identifier">pager_cmd</span> = <span class="ruby-identifier">pager</span>.<span class="ruby-identifier">split</span>.<span class="ruby-identifier">first</span>
1157: 
1158:       <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">in_path?</span> <span class="ruby-identifier">pager_cmd</span>
1159: 
1160:       <span class="ruby-identifier">io</span> = <span class="ruby-constant">IO</span>.<span class="ruby-identifier">popen</span>(<span class="ruby-identifier">pager</span>, <span class="ruby-value str">'w'</span>) <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">next</span>
1161: 
1162:       <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">$?</span>.<span class="ruby-identifier">exited?</span> <span class="ruby-comment cmt"># pager didn't work</span>
1163: 
1164:       <span class="ruby-ivar">@paging</span> = <span class="ruby-keyword kw">true</span>
1165: 
1166:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">io</span>
1167:     <span class="ruby-keyword kw">end</span>
1168: 
1169:     <span class="ruby-ivar">@use_stdout</span> = <span class="ruby-keyword kw">true</span>
1170: 
1171:     <span class="ruby-keyword kw">nil</span>
1172:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    