<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Renee::Core::Routing</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            Renee::Core::Routing 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/renee_core/routing_rb.html">lib/renee_core/routing.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Collection of useful methods for routing within a {Renee::Core} app.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000058">catchall</a>,</li>
                
                <li><a href="#M000064">complete</a>,</li>
                
                <li><a href="#M000069">complex_variable</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000063">delete</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000065">empty</a>,</li>
                
                <li><a href="#M000052">ext</a>,</li>
                
                <li><a href="#M000049">extension</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M000059">get</a>,</li>
                
                <li><a href="#M000046">glob</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000042">multi_var</a>,</li>
                
                <li><a href="#M000041">multi_variable</a>,</li>
                
                <li><a href="#M000043">mvar</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000053">no_extension</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000037">part</a>,</li>
                
                <li><a href="#M000048">part_var</a>,</li>
                
                <li><a href="#M000047">partial_variable</a>,</li>
                
                <li><a href="#M000035">path</a>,</li>
                
                <li><a href="#M000060">post</a>,</li>
                
                <li><a href="#M000062">put</a></li>
                
            </ul>
        </dd>
    
        <dt>Q</dt>
        <dd>
            <ul>
                
                <li><a href="#M000067">query</a>,</li>
                
                <li><a href="#M000068">query_string</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000054">remainder</a>,</li>
                
                <li><a href="#M000044">repeating_variable</a>,</li>
                
                <li><a href="#M000074">request_method</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M000040">var</a>,</li>
                
                <li><a href="#M000038">variable</a>,</li>
                
                <li><a href="#M000071">variable_matcher_for_type</a>,</li>
                
                <li><a href="#M000070">variable_matching_loop</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M000036">whole_path</a>,</li>
                
                <li><a href="#M000072">with_path_part</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="Routing.html">Renee::Core::Routing</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    

    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000058">
                    
                    <a name="M000058"></a><b>catchall</b>(&amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Routing.html#M000054">remainder</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000064">
                    
                    <a name="M000064"></a><b>complete</b>(&amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Match only when the path is either &#8217;&#8217; or &#8217;/&#8217;.
</p>
<p>
@example
</p>
<pre>
  complete { halt [200, {}, &quot;hello world&quot;] }
</pre>
<p>
@api public
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000064_source')" id="l_M000064_source">show</a>
                        
                    </p>
                    <div id="M000064_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 193</span>
193:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">complete</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
194:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">env</span>[<span class="ruby-value str">'PATH_INFO'</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'/'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">env</span>[<span class="ruby-value str">'PATH_INFO'</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">''</span>
195:           <span class="ruby-identifier">with_path_part</span>(<span class="ruby-identifier">env</span>[<span class="ruby-value str">'PATH_INFO'</span>]) { <span class="ruby-identifier">blk</span>.<span class="ruby-identifier">call</span> }
196:         <span class="ruby-keyword kw">end</span>
197:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000063">
                    
                    <a name="M000063"></a><b>delete</b>(path = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Respond to a DELETE request and yield the block.
</p>
<p>
@example
</p>
<pre>
  delete { halt [200, {}, &quot;hello world&quot;] }
</pre>
<p>
@api public
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000063_source')" id="l_M000063_source">show</a>
                        
                    </p>
                    <div id="M000063_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 182</span>
182:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
183:         <span class="ruby-identifier">request_method</span>(<span class="ruby-value str">'DELETE'</span>, <span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
184:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000065">
                    
                    <a name="M000065"></a><b>empty</b>(&amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Match only when the path is &#8217;&#8217;.
</p>
<p>
@example
</p>
<pre>
  empty { halt [200, {}, &quot;hello world&quot;] }
</pre>
<p>
@api public
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000065_source')" id="l_M000065_source">show</a>
                        
                    </p>
                    <div id="M000065_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 206</span>
206:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">empty</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
207:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">env</span>[<span class="ruby-value str">'PATH_INFO'</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">''</span>
208:           <span class="ruby-identifier">with_path_part</span>(<span class="ruby-identifier">env</span>[<span class="ruby-value str">'PATH_INFO'</span>]) { <span class="ruby-identifier">blk</span>.<span class="ruby-identifier">call</span> }
209:         <span class="ruby-keyword kw">end</span>
210:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000052">
                    
                    <a name="M000052"></a><b>ext</b>(ext, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Routing.html#M000049">extension</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000049">
                    
                    <a name="M000049"></a><b>extension</b>(ext, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Match an extension.
</p>
<p>
@example
</p>
<pre>
  extension('html') { |path| halt [200, {}, path] }
</pre>
<p>
@api public
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Routing.html#M000052">ext</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000049_source')" id="l_M000049_source">show</a>
                        
                    </p>
                    <div id="M000049_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 109</span>
109:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">extension</span>(<span class="ruby-identifier">ext</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
110:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">detected_extension</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">match</span> = <span class="ruby-identifier">detected_extension</span>[<span class="ruby-identifier">ext</span>]
111:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">match</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">detected_extension</span>
112:             (<span class="ruby-identifier">ext_match</span> = <span class="ruby-identifier">env</span>[<span class="ruby-value str">'PATH_INFO'</span>][<span class="ruby-node">/\/?\.#{match}/</span>]) <span class="ruby-operator">?</span>
113:               <span class="ruby-identifier">with_path_part</span>(<span class="ruby-identifier">ext_match</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">blk</span>.<span class="ruby-identifier">call</span>
114:           <span class="ruby-keyword kw">end</span>
115:         <span class="ruby-keyword kw">end</span>
116:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000059">
                    
                    <a name="M000059"></a><b>get</b>(path = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Respond to a GET request and yield the block.
</p>
<p>
@example
</p>
<pre>
  get { halt [200, {}, &quot;hello world&quot;] }
</pre>
<p>
@api public
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000059_source')" id="l_M000059_source">show</a>
                        
                    </p>
                    <div id="M000059_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 149</span>
149:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get</span>(<span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
150:         <span class="ruby-identifier">request_method</span>(<span class="ruby-value str">'GET'</span>, <span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
151:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000046">
                    
                    <a name="M000046"></a><b>glob</b>(type = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Routing.html#M000044">repeating_variable</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000042">
                    
                    <a name="M000042"></a><b>multi_var</b>(count, type = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Routing.html#M000041">multi_variable</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000041">
                    
                    <a name="M000041"></a><b>multi_variable</b>(count, type = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Same as variable except you can match multiple variables with the same
type. @param [Range, Integer] count The number of parameters to capture.
@param [Symbol] type The type to use for match.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Routing.html#M000042">multi_var</a>
                    
                    <a href="Routing.html#M000043">mvar</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000041_source')" id="l_M000041_source">show</a>
                        
                    </p>
                    <div id="M000041_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 79</span>
79:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">multi_variable</span>(<span class="ruby-identifier">count</span>, <span class="ruby-identifier">type</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
80:         <span class="ruby-identifier">complex_variable</span>(<span class="ruby-identifier">type</span>, <span class="ruby-value str">'/'</span>, <span class="ruby-identifier">count</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
81:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000043">
                    
                    <a name="M000043"></a><b>mvar</b>(count, type = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Routing.html#M000041">multi_variable</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000053">
                    
                    <a name="M000053"></a><b>no_extension</b>(&amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Match no extension.
</p>
<p>
@example
</p>
<pre>
  no_extension { |path| halt [200, {}, path] }
</pre>
<p>
@api public
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000053_source')" id="l_M000053_source">show</a>
                        
                    </p>
                    <div id="M000053_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 126</span>
126:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">no_extension</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
127:         <span class="ruby-identifier">blk</span>.<span class="ruby-identifier">call</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">detected_extension</span>.<span class="ruby-identifier">nil?</span>
128:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000037">
                    
                    <a name="M000037"></a><b>part</b>(p, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Like <a href="Routing.html#M000035">path</a>, but doesn&#8217;t look for
leading slashes.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000037_source')" id="l_M000037_source">show</a>
                        
                    </p>
                    <div id="M000037_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 38</span>
38:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">part</span>(<span class="ruby-identifier">p</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
39:         <span class="ruby-identifier">p</span> = <span class="ruby-node">/^\/?#{Regexp.quote(p)}/</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
40:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">match</span> = <span class="ruby-identifier">env</span>[<span class="ruby-value str">'PATH_INFO'</span>][<span class="ruby-identifier">p</span>]
41:           <span class="ruby-identifier">with_path_part</span>(<span class="ruby-identifier">match</span>) { <span class="ruby-identifier">blk</span>.<span class="ruby-identifier">call</span> }
42:         <span class="ruby-keyword kw">end</span>
43:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000048">
                    
                    <a name="M000048"></a><b>part_var</b>(type = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Routing.html#M000047">partial_variable</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000047">
                    
                    <a name="M000047"></a><b>partial_variable</b>(type = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Match parts off the path as variables without a leading slash. @see <a
href="Routing.html#M000038">variable</a> @api public
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Routing.html#M000048">part_var</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000047_source')" id="l_M000047_source">show</a>
                        
                    </p>
                    <div id="M000047_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 97</span>
97:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">partial_variable</span>(<span class="ruby-identifier">type</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
98:         <span class="ruby-identifier">complex_variable</span>(<span class="ruby-identifier">type</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">1</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
99:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000035">
                    
                    <a name="M000035"></a><b>path</b>(p, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Match a path to respond to.
</p>
<p>
@param [String] p
</p>
<pre>
  path to match.
</pre>
<p>
@param [Proc] blk
</p>
<pre>
  block to yield
</pre>
<p>
@example
</p>
<pre>
  path('/')    { ... } #=&gt; '/'
  path('test') { ... } #=&gt; '/test'

  path 'foo' do
    path('bar') { ... } #=&gt; '/foo/bar'
  end
</pre>
<p>
@api public
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000035_source')" id="l_M000035_source">show</a>
                        
                    </p>
                    <div id="M000035_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 23</span>
23:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">path</span>(<span class="ruby-identifier">p</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
24:         <span class="ruby-identifier">p</span> = <span class="ruby-identifier">p</span>[<span class="ruby-value">1</span>, <span class="ruby-identifier">p</span>.<span class="ruby-identifier">size</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value">?/</span>
25:         <span class="ruby-identifier">extension_part</span> = <span class="ruby-identifier">detected_extension</span> <span class="ruby-value">? </span><span class="ruby-node">&quot;|\\.#{Regexp.quote(detected_extension)}&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;&quot;</span>
26:         <span class="ruby-identifier">part</span>(<span class="ruby-node">/^\/#{Regexp.quote(p)}(?=\/|$#{extension_part})/</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
27:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000060">
                    
                    <a name="M000060"></a><b>post</b>(path = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Respond to a POST request and yield the block.
</p>
<p>
@example
</p>
<pre>
  post { halt [200, {}, &quot;hello world&quot;] }
</pre>
<p>
@api public
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000060_source')" id="l_M000060_source">show</a>
                        
                    </p>
                    <div id="M000060_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 160</span>
160:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">post</span>(<span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
161:         <span class="ruby-identifier">request_method</span>(<span class="ruby-value str">'POST'</span>, <span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
162:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000062">
                    
                    <a name="M000062"></a><b>put</b>(path = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Respond to a PUT request and yield the block.
</p>
<p>
@example
</p>
<pre>
  put { halt [200, {}, &quot;hello world&quot;] }
</pre>
<p>
@api public
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000062_source')" id="l_M000062_source">show</a>
                        
                    </p>
                    <div id="M000062_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 171</span>
171:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">put</span>(<span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
172:         <span class="ruby-identifier">request_method</span>(<span class="ruby-value str">'PUT'</span>, <span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
173:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000067">
                    
                    <a name="M000067"></a><b>query</b>(q, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Match variables within the query string.
</p>
<p>
@param [Array, Hash] q
</p>
<pre>
  Either an array or hash of things to match query string variables. If given
  an array, if you pass the values for each key as parameters to the block given.
  If given a hash, then every value must be able to be matched by a registered type.
</pre>
<p>
@example
</p>
<pre>
  query(:key =&gt; :integer) { |h| halt [200, {}, &quot;hello world #{h[:key]}&quot;] }
</pre>
<p>
@example
</p>
<pre>
  query(:key) { |val| halt [200, {}, &quot;key is #{val}&quot;] }
</pre>
<p>
@api public
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000067_source')" id="l_M000067_source">show</a>
                        
                    </p>
                    <div id="M000067_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 227</span>
227:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">query</span>(<span class="ruby-identifier">q</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
228:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">q</span>
229:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Hash</span>  <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">blk</span>.<span class="ruby-identifier">call</span>(<span class="ruby-constant">Hash</span>[<span class="ruby-identifier">q</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span>(<span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span>)<span class="ruby-operator">|</span> [<span class="ruby-identifier">k</span>, <span class="ruby-identifier">transform</span>(<span class="ruby-identifier">v</span>, <span class="ruby-identifier">request</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_s</span>]) <span class="ruby-operator">||</span> <span class="ruby-keyword kw">return</span>]}])
230:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Array</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">blk</span>.<span class="ruby-identifier">call</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">q</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">qk</span><span class="ruby-operator">|</span> <span class="ruby-identifier">request</span>[<span class="ruby-identifier">qk</span>.<span class="ruby-identifier">to_s</span>] <span class="ruby-keyword kw">or</span> <span class="ruby-keyword kw">return</span> })
231:         <span class="ruby-keyword kw">else</span>            <span class="ruby-identifier">query</span>([<span class="ruby-identifier">q</span>], <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
232:         <span class="ruby-keyword kw">end</span>
233:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000068">
                    
                    <a name="M000068"></a><b>query_string</b>(qs, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Yield block if the query string matches.
</p>
<p>
@param [String] qs
</p>
<pre>
  The query string to match.
</pre>
<p>
@example
</p>
<pre>
  path 'test' do
    query_string 'foo=bar' do
      halt [200, {}, 'matched']
    end
  end
  GET /test?foo=bar #=&gt; 'matched'
</pre>
<p>
@api public
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000068_source')" id="l_M000068_source">show</a>
                        
                    </p>
                    <div id="M000068_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 250</span>
250:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">query_string</span>(<span class="ruby-identifier">qs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
251:         <span class="ruby-identifier">blk</span>.<span class="ruby-identifier">call</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">qs</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">env</span>[<span class="ruby-value str">'QUERY_STRING'</span>]
252:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000054">
                    
                    <a name="M000054"></a><b>remainder</b>(&amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Match any remaining path.
</p>
<p>
@example
</p>
<pre>
  remainder { |path| halt [200, {}, path] }
</pre>
<p>
@api public
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Routing.html#M000058">catchall</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000054_source')" id="l_M000054_source">show</a>
                        
                    </p>
                    <div id="M000054_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 137</span>
137:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remainder</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
138:         <span class="ruby-identifier">with_path_part</span>(<span class="ruby-identifier">env</span>[<span class="ruby-value str">'PATH_INFO'</span>]) { <span class="ruby-operator">|</span><span class="ruby-identifier">var</span><span class="ruby-operator">|</span> <span class="ruby-identifier">blk</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">var</span>) }
139:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000044">
                    
                    <a name="M000044"></a><b>repeating_variable</b>(type = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Same as variable except it matches indefinitely. @param [Symbol] type The
type to use for match.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Routing.html#M000046">glob</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000044_source')" id="l_M000044_source">show</a>
                        
                    </p>
                    <div id="M000044_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 88</span>
88:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">repeating_variable</span>(<span class="ruby-identifier">type</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
89:         <span class="ruby-identifier">complex_variable</span>(<span class="ruby-identifier">type</span>, <span class="ruby-value str">'/'</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
90:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000040">
                    
                    <a name="M000040"></a><b>var</b>(type = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Routing.html#M000038">variable</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000038">
                    
                    <a name="M000038"></a><b>variable</b>(type = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Match parts off the path as variables. The parts matcher can conform to
either a regular expression, or be an Integer, or simply a String.
@param[Object] type the type of object to match for. If you supply Integer,
this will only match integers in addition to casting your variable for you.
@param[Object] default the default value to use if your param cannot be
successfully matched.
</p>
<p>
@example
</p>
<pre>
  path '/' do
    variable { |id| halt [200, {}, id] }
  end
  GET /hey  #=&gt; [200, {}, 'hey']
</pre>
<p>
@example
</p>
<pre>
  path '/' do
    variable(:integer) { |id| halt [200, {}, &quot;This is a numeric id: #{id}&quot;] }
  end
  GET /123  #=&gt; [200, {}, 'This is a numeric id: 123']
</pre>
<p>
@example
</p>
<pre>
  path '/test' do
    variable { |foo, bar| halt [200, {}, &quot;#{foo}-#{bar}&quot;] }
  end
  GET /test/hey/there  #=&gt; [200, {}, 'hey-there']
</pre>
<p>
@api public
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Routing.html#M000040">var</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000038_source')" id="l_M000038_source">show</a>
                        
                    </p>
                    <div id="M000038_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 70</span>
70:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">variable</span>(<span class="ruby-identifier">type</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
71:         <span class="ruby-identifier">complex_variable</span>(<span class="ruby-identifier">type</span>, <span class="ruby-value str">'/'</span>, <span class="ruby-value">1</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
72:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000036">
                    
                    <a name="M000036"></a><b>whole_path</b>(p, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Like <a href="Routing.html#M000035">path</a>, but requires the entire path
to be consumed. @see <a href="Routing.html#M000035">path</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000036_source')" id="l_M000036_source">show</a>
                        
                    </p>
                    <div id="M000036_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 32</span>
32:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">whole_path</span>(<span class="ruby-identifier">p</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
33:         <span class="ruby-identifier">path</span>(<span class="ruby-identifier">p</span>) { <span class="ruby-identifier">complete</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>) }
34:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M000069">
                    
                    <a name="M000069"></a><b>complex_variable</b>(type, prefix, count)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000069_source')" id="l_M000069_source">show</a>
                        
                    </p>
                    <div id="M000069_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 256</span>
256:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">complex_variable</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">count</span>)
257:         <span class="ruby-identifier">matcher</span> = <span class="ruby-identifier">variable_matcher_for_type</span>(<span class="ruby-identifier">type</span>)
258:         <span class="ruby-identifier">path</span> = <span class="ruby-identifier">env</span>[<span class="ruby-value str">'PATH_INFO'</span>].<span class="ruby-identifier">dup</span>
259:         <span class="ruby-identifier">vals</span> = []
260:         <span class="ruby-identifier">var_index</span> = <span class="ruby-value">0</span>
261:         <span class="ruby-identifier">variable_matching_loop</span>(<span class="ruby-identifier">count</span>) <span class="ruby-keyword kw">do</span>
262:           <span class="ruby-identifier">path</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-identifier">prefix</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">prefix</span>.<span class="ruby-identifier">size</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">prefix</span>
263:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">match</span> = <span class="ruby-identifier">matcher</span>[<span class="ruby-identifier">path</span>]
264:             <span class="ruby-identifier">path</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">match</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">size</span>)
265:             <span class="ruby-identifier">vals</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">match</span>.<span class="ruby-identifier">last</span>
266:           <span class="ruby-keyword kw">end</span>
267:         <span class="ruby-keyword kw">end</span>
268:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">count</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">count</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">vals</span>.<span class="ruby-identifier">size</span>
269:         <span class="ruby-identifier">with_path_part</span>(<span class="ruby-identifier">env</span>[<span class="ruby-value str">'PATH_INFO'</span>][<span class="ruby-value">0</span>, <span class="ruby-identifier">env</span>[<span class="ruby-value str">'PATH_INFO'</span>].<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">size</span>]) <span class="ruby-keyword kw">do</span>
270:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">count</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
271:             <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">vals</span>.<span class="ruby-identifier">first</span>)
272:           <span class="ruby-keyword kw">else</span>
273:             <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">vals</span>)
274:           <span class="ruby-keyword kw">end</span>
275:         <span class="ruby-keyword kw">end</span>
276:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000074">
                    
                    <a name="M000074"></a><b>request_method</b>(method, path = nil, &amp;blk)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000074_source')" id="l_M000074_source">show</a>
                        
                    </p>
                    <div id="M000074_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 316</span>
316:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_method</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
317:         <span class="ruby-identifier">path</span> <span class="ruby-value">? </span><span class="ruby-identifier">whole_path</span>(<span class="ruby-identifier">path</span>) { <span class="ruby-identifier">blk</span>.<span class="ruby-identifier">call</span> } <span class="ruby-operator">:</span> <span class="ruby-identifier">complete</span> { <span class="ruby-identifier">blk</span>.<span class="ruby-identifier">call</span> } <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">env</span>[<span class="ruby-value str">'REQUEST_METHOD'</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">method</span>
318:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000071">
                    
                    <a name="M000071"></a><b>variable_matcher_for_type</b>(type)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000071_source')" id="l_M000071_source">show</a>
                        
                    </p>
                    <div id="M000071_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 286</span>
286:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">variable_matcher_for_type</span>(<span class="ruby-identifier">type</span>)
287:         <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">variable_types</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">type</span>)
288:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">variable_types</span>[<span class="ruby-identifier">type</span>]
289:         <span class="ruby-keyword kw">else</span>
290:           <span class="ruby-identifier">regexp</span> = <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">type</span>
291:           <span class="ruby-keyword kw">when</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-constant">String</span>
292:             <span class="ruby-identifier">detected_extension</span> <span class="ruby-value">?
293: </span>              <span class="ruby-operator">/</span>(([<span class="ruby-operator">^</span>\<span class="ruby-node">/](?!#{Regexp.quote(detected_extension)}$))+)(?=$|\/|\.#{Regexp.quote(detected_extension)})/</span> <span class="ruby-operator">:</span>
294:               <span class="ruby-regexp re">/([^\/]+)(?=$|\/)/</span>
295:           <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Regexp</span>
296:             <span class="ruby-identifier">type</span>
297:           <span class="ruby-keyword kw">else</span>
298:             <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Unexpected variable type #{type.inspect}&quot;</span>
299:           <span class="ruby-keyword kw">end</span>
300:           <span class="ruby-identifier">proc</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
301:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">match</span> = <span class="ruby-node">/^#{regexp.to_s}/</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">path</span>)
302:               [<span class="ruby-identifier">match</span>[<span class="ruby-value">0</span>]]
303:             <span class="ruby-keyword kw">end</span>
304:           <span class="ruby-keyword kw">end</span>
305:         <span class="ruby-keyword kw">end</span>
306:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000070">
                    
                    <a name="M000070"></a><b>variable_matching_loop</b>(count)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000070_source')" id="l_M000070_source">show</a>
                        
                    </p>
                    <div id="M000070_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 278</span>
278:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">variable_matching_loop</span>(<span class="ruby-identifier">count</span>)
279:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">count</span>
280:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Range</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">count</span>.<span class="ruby-identifier">max</span>.<span class="ruby-identifier">times</span> { <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">yield</span> }
281:         <span class="ruby-keyword kw">when</span> <span class="ruby-keyword kw">nil</span>   <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">loop</span> { <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">yield</span> }
282:         <span class="ruby-keyword kw">else</span>            <span class="ruby-identifier">count</span>.<span class="ruby-identifier">times</span> { <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">yield</span> }
283:         <span class="ruby-keyword kw">end</span>
284:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000072">
                    
                    <a name="M000072"></a><b>with_path_part</b>(part)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000072_source')" id="l_M000072_source">show</a>
                        
                    </p>
                    <div id="M000072_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/renee_core/routing.rb, line 308</span>
308:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">with_path_part</span>(<span class="ruby-identifier">part</span>)
309:         <span class="ruby-identifier">old_path_info</span>, <span class="ruby-identifier">old_script_name</span> = <span class="ruby-identifier">env</span>[<span class="ruby-value str">'PATH_INFO'</span>], <span class="ruby-identifier">env</span>[<span class="ruby-value str">'SCRIPT_NAME'</span>]
310:         <span class="ruby-identifier">script_part</span>, <span class="ruby-identifier">env</span>[<span class="ruby-value str">'PATH_INFO'</span>] = <span class="ruby-identifier">old_path_info</span>[<span class="ruby-value">0</span>, <span class="ruby-identifier">part</span>.<span class="ruby-identifier">size</span>], <span class="ruby-identifier">old_path_info</span>[<span class="ruby-identifier">part</span>.<span class="ruby-identifier">size</span>, <span class="ruby-identifier">old_path_info</span>.<span class="ruby-identifier">size</span>]
311:         <span class="ruby-identifier">env</span>[<span class="ruby-value str">'SCRIPT_NAME'</span>] <span class="ruby-operator">+=</span> <span class="ruby-identifier">script_part</span>
312:         <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">script_part</span>
313:         <span class="ruby-identifier">env</span>[<span class="ruby-value str">'PATH_INFO'</span>], <span class="ruby-identifier">env</span>[<span class="ruby-value str">'SCRIPT_NAME'</span>] = <span class="ruby-identifier">old_path_info</span>, <span class="ruby-identifier">old_script_name</span>
314:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    