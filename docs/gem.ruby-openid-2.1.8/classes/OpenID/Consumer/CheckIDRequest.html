<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>OpenID::Consumer::CheckIDRequest</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            OpenID::Consumer::CheckIDRequest 
            
                <span class="parent">&lt; 
                    
                    Object
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/openid/consumer/checkid_request_rb.html">lib/openid/consumer/checkid_request.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
An object that holds the state necessary for generating an <a
href="../../OpenID.html">OpenID</a> authentication request. This object
holds the association with the server and the discovered information with
which the request will be made.
</p>
<p>
It is separate from the consumer because you may wish to add things to the
request before sending it on its way to the server. It also has
serialization options that let you encode the authentication request as a
URL or as a form POST.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000050">add_extension</a>,</li>
                
                <li><a href="#M000051">add_extension_arg</a>,</li>
                
                <li><a href="#M000049">anonymous=</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000056">form_markup</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M000054">get_message</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M000057">html_markup</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000047">new</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000055">redirect_url</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000058">send_redirect?</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>return_to_args</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>message</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>endpoint</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>anonymous</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000047">
                    
                    <a name="M000047"></a><b>new</b>(assoc, endpoint)
                    
                </div>
                
                <div class="description">
                  <p>
Users of this library should not create instances of this class. Instances
of this class are created by the library when needed.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000047_source')" id="l_M000047_source">show</a>
                        
                    </p>
                    <div id="M000047_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/openid/consumer/checkid_request.rb, line 22</span>
22:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">assoc</span>, <span class="ruby-identifier">endpoint</span>)
23:         <span class="ruby-ivar">@assoc</span> = <span class="ruby-identifier">assoc</span>
24:         <span class="ruby-ivar">@endpoint</span> = <span class="ruby-identifier">endpoint</span>
25:         <span class="ruby-ivar">@return_to_args</span> = {}
26:         <span class="ruby-ivar">@message</span> = <span class="ruby-constant">Message</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">endpoint</span>.<span class="ruby-identifier">preferred_namespace</span>)
27:         <span class="ruby-ivar">@anonymous</span> = <span class="ruby-keyword kw">false</span>
28:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000050">
                    
                    <a name="M000050"></a><b>add_extension</b>(extension_request)
                    
                </div>
                
                <div class="description">
                  <p>
Add an object that implements the extension interface for adding arguments
to an <a href="../../OpenID.html">OpenID</a> message to this checkid
request.
</p>
<p>
extension_request: an <a href="../Extension.html">OpenID::Extension</a>
object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000050_source')" id="l_M000050_source">show</a>
                        
                    </p>
                    <div id="M000050_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/openid/consumer/checkid_request.rb, line 51</span>
51:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_extension</span>(<span class="ruby-identifier">extension_request</span>)
52:         <span class="ruby-identifier">extension_request</span>.<span class="ruby-identifier">to_message</span>(<span class="ruby-ivar">@message</span>)
53:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000051">
                    
                    <a name="M000051"></a><b>add_extension_arg</b>(namespace, key, value)
                    
                </div>
                
                <div class="description">
                  <p>
Add an extension argument to this <a href="../../OpenID.html">OpenID</a>
authentication request. You probably want to use <a
href="CheckIDRequest.html#M000050">add_extension</a> and the <a
href="../Extension.html">OpenID::Extension</a> interface.
</p>
<p>
Use caution when adding arguments, because they will be URL-escaped and
appended to the redirect URL, which can easily get quite long.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000051_source')" id="l_M000051_source">show</a>
                        
                    </p>
                    <div id="M000051_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/openid/consumer/checkid_request.rb, line 62</span>
62:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_extension_arg</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
63:         <span class="ruby-ivar">@message</span>.<span class="ruby-identifier">set_arg</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
64:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000049">
                    
                    <a name="M000049"></a><b>anonymous=</b>(is_anonymous)
                    
                </div>
                
                <div class="description">
                  <p>
Set whether this request should be made anonymously. If a request is
anonymous, the identifier will not be sent in the request. This is only
useful if you are making another kind of request with an extension in this
request.
</p>
<p>
Anonymous requests are not allowed when the request is made with <a
href="../../OpenID.html">OpenID</a> 1.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000049_source')" id="l_M000049_source">show</a>
                        
                    </p>
                    <div id="M000049_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/openid/consumer/checkid_request.rb, line 39</span>
39:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">anonymous=</span>(<span class="ruby-identifier">is_anonymous</span>)
40:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">is_anonymous</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@message</span>.<span class="ruby-identifier">is_openid1</span>
41:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, (<span class="ruby-value str">&quot;OpenID1 requests MUST include the &quot;</span>\
42:                                 <span class="ruby-value str">&quot;identifier in the request&quot;</span>)
43:         <span class="ruby-keyword kw">end</span>
44:         <span class="ruby-ivar">@anonymous</span> = <span class="ruby-identifier">is_anonymous</span>
45:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000056">
                    
                    <a name="M000056"></a><b>form_markup</b>(realm, return_to=nil, immediate=false, form_tag_attrs=nil)
                    
                </div>
                
                <div class="description">
                  <p>
Get html for a form to submit this request to the IDP.
</p>
<p>
form_tag_attrs is a hash of attributes to be added to the form tag.
&#8216;accept-charset&#8217; and &#8216;enctype&#8217; have defaults that
can be overridden. If a value is supplied for &#8216;action&#8217; or
&#8216;method&#8217;, it will be replaced.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000056_source')" id="l_M000056_source">show</a>
                        
                    </p>
                    <div id="M000056_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/openid/consumer/checkid_request.rb, line 155</span>
155:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">form_markup</span>(<span class="ruby-identifier">realm</span>, <span class="ruby-identifier">return_to</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">immediate</span>=<span class="ruby-keyword kw">false</span>,
156:                       <span class="ruby-identifier">form_tag_attrs</span>=<span class="ruby-keyword kw">nil</span>)
157:         <span class="ruby-identifier">message</span> = <span class="ruby-identifier">get_message</span>(<span class="ruby-identifier">realm</span>, <span class="ruby-identifier">return_to</span>, <span class="ruby-identifier">immediate</span>)
158:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">message</span>.<span class="ruby-identifier">to_form_markup</span>(<span class="ruby-ivar">@endpoint</span>.<span class="ruby-identifier">server_url</span>, <span class="ruby-identifier">form_tag_attrs</span>)
159:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000054">
                    
                    <a name="M000054"></a><b>get_message</b>(realm, return_to=nil, immediate=false)
                    
                </div>
                
                <div class="description">
                  <p>
Produce a <a href="../Message.html">OpenID::Message</a> representing this
request.
</p>
<p>
Not specifying a return_to URL means that the user will not be returned to
the site issuing the request upon its completion.
</p>
<p>
If immediate mode is requested, the <a href="../../OpenID.html">OpenID</a>
provider is to send back a response immediately, useful for
behind-the-scenes authentication attempts. Otherwise the <a
href="../../OpenID.html">OpenID</a> provider may engage the user before
providing a response. This is the default case, as the user may need to
provide credentials or approve the request before a positive response can
be sent.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000054_source')" id="l_M000054_source">show</a>
                        
                    </p>
                    <div id="M000054_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/openid/consumer/checkid_request.rb, line 77</span>
 77:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_message</span>(<span class="ruby-identifier">realm</span>, <span class="ruby-identifier">return_to</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">immediate</span>=<span class="ruby-keyword kw">false</span>)
 78:         <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">return_to</span>.<span class="ruby-identifier">nil?</span>
 79:           <span class="ruby-identifier">return_to</span> = <span class="ruby-constant">Util</span>.<span class="ruby-identifier">append_args</span>(<span class="ruby-identifier">return_to</span>, <span class="ruby-ivar">@return_to_args</span>)
 80:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">immediate</span>
 81:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, (<span class="ruby-value str">'&quot;return_to&quot; is mandatory when using '</span>\
 82:                                 <span class="ruby-value str">'&quot;checkid_immediate&quot;'</span>)
 83:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@message</span>.<span class="ruby-identifier">is_openid1</span>
 84:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, (<span class="ruby-value str">'&quot;return_to&quot; is mandatory for OpenID 1 '</span>\
 85:                                 <span class="ruby-value str">'requests'</span>)
 86:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@return_to_args</span>.<span class="ruby-identifier">empty?</span>
 87:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, (<span class="ruby-value str">'extra &quot;return_to&quot; arguments were specified, '</span>\
 88:                                 <span class="ruby-value str">'but no return_to was specified'</span>)
 89:         <span class="ruby-keyword kw">end</span>
 90: 
 91: 
 92:         <span class="ruby-identifier">message</span> = <span class="ruby-ivar">@message</span>.<span class="ruby-identifier">copy</span>
 93: 
 94:         <span class="ruby-identifier">mode</span> = <span class="ruby-identifier">immediate</span> <span class="ruby-value">? </span><span class="ruby-value str">'checkid_immediate'</span> <span class="ruby-operator">:</span> <span class="ruby-value str">'checkid_setup'</span>
 95:         <span class="ruby-identifier">message</span>.<span class="ruby-identifier">set_arg</span>(<span class="ruby-constant">OPENID_NS</span>, <span class="ruby-value str">'mode'</span>, <span class="ruby-identifier">mode</span>)
 96: 
 97:         <span class="ruby-identifier">realm_key</span> = <span class="ruby-identifier">message</span>.<span class="ruby-identifier">is_openid1</span> <span class="ruby-value">? </span><span class="ruby-value str">'trust_root'</span> <span class="ruby-operator">:</span> <span class="ruby-value str">'realm'</span>
 98:         <span class="ruby-identifier">message</span>.<span class="ruby-identifier">set_arg</span>(<span class="ruby-constant">OPENID_NS</span>, <span class="ruby-identifier">realm_key</span>, <span class="ruby-identifier">realm</span>)
 99: 
100:         <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">return_to</span>.<span class="ruby-identifier">nil?</span>
101:           <span class="ruby-identifier">message</span>.<span class="ruby-identifier">set_arg</span>(<span class="ruby-constant">OPENID_NS</span>, <span class="ruby-value str">'return_to'</span>, <span class="ruby-identifier">return_to</span>)
102:         <span class="ruby-keyword kw">end</span>
103: 
104:         <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span> <span class="ruby-ivar">@anonymous</span>
105:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@endpoint</span>.<span class="ruby-identifier">is_op_identifier</span>
106:             <span class="ruby-comment cmt"># This will never happen when we're in OpenID 1</span>
107:             <span class="ruby-comment cmt"># compatibility mode, as long as is_op_identifier()</span>
108:             <span class="ruby-comment cmt"># returns false whenever preferred_namespace returns</span>
109:             <span class="ruby-comment cmt"># OPENID1_NS.</span>
110:             <span class="ruby-identifier">claimed_id</span> = <span class="ruby-identifier">request_identity</span> = <span class="ruby-constant">IDENTIFIER_SELECT</span>
111:           <span class="ruby-keyword kw">else</span>
112:             <span class="ruby-identifier">request_identity</span> = <span class="ruby-ivar">@endpoint</span>.<span class="ruby-identifier">get_local_id</span>
113:             <span class="ruby-identifier">claimed_id</span> = <span class="ruby-ivar">@endpoint</span>.<span class="ruby-identifier">claimed_id</span>
114:           <span class="ruby-keyword kw">end</span>
115: 
116:           <span class="ruby-comment cmt"># This is true for both OpenID 1 and 2</span>
117:           <span class="ruby-identifier">message</span>.<span class="ruby-identifier">set_arg</span>(<span class="ruby-constant">OPENID_NS</span>, <span class="ruby-value str">'identity'</span>, <span class="ruby-identifier">request_identity</span>)
118: 
119:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">message</span>.<span class="ruby-identifier">is_openid2</span>
120:             <span class="ruby-identifier">message</span>.<span class="ruby-identifier">set_arg</span>(<span class="ruby-constant">OPENID2_NS</span>, <span class="ruby-value str">'claimed_id'</span>, <span class="ruby-identifier">claimed_id</span>)
121:           <span class="ruby-keyword kw">end</span>
122:         <span class="ruby-keyword kw">end</span>
123: 
124:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@assoc</span>
125:           <span class="ruby-identifier">message</span>.<span class="ruby-identifier">set_arg</span>(<span class="ruby-constant">OPENID_NS</span>, <span class="ruby-value str">'assoc_handle'</span>, <span class="ruby-ivar">@assoc</span>.<span class="ruby-identifier">handle</span>)
126:           <span class="ruby-identifier">assoc_log_msg</span> = <span class="ruby-node">&quot;with assocication #{@assoc.handle}&quot;</span>
127:         <span class="ruby-keyword kw">else</span>
128:           <span class="ruby-identifier">assoc_log_msg</span> = <span class="ruby-value str">'using stateless mode.'</span>
129:         <span class="ruby-keyword kw">end</span>
130: 
131:         <span class="ruby-constant">Util</span>.<span class="ruby-identifier">log</span>(<span class="ruby-node">&quot;Generated #{mode} request to #{@endpoint.server_url} &quot;</span>\
132:                  <span class="ruby-node">&quot;#{assoc_log_msg}&quot;</span>)
133:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">message</span>
134:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000057">
                    
                    <a name="M000057"></a><b>html_markup</b>(realm, return_to=nil, immediate=false, form_tag_attrs=nil)
                    
                </div>
                
                <div class="description">
                  <p>
Get a complete HTML document that autosubmits the request to the IDP with
javascript. This method wraps <a
href="CheckIDRequest.html#M000056">form_markup</a> - see that
method&#8217;s documentation for help with the parameters.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000057_source')" id="l_M000057_source">show</a>
                        
                    </p>
                    <div id="M000057_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/openid/consumer/checkid_request.rb, line 164</span>
164:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">html_markup</span>(<span class="ruby-identifier">realm</span>, <span class="ruby-identifier">return_to</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">immediate</span>=<span class="ruby-keyword kw">false</span>,
165:                       <span class="ruby-identifier">form_tag_attrs</span>=<span class="ruby-keyword kw">nil</span>)
166:         <span class="ruby-constant">Util</span>.<span class="ruby-identifier">auto_submit_html</span>(<span class="ruby-identifier">form_markup</span>(<span class="ruby-identifier">realm</span>, 
167:                                           <span class="ruby-identifier">return_to</span>, 
168:                                           <span class="ruby-identifier">immediate</span>, 
169:                                           <span class="ruby-identifier">form_tag_attrs</span>))
170:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000055">
                    
                    <a name="M000055"></a><b>redirect_url</b>(realm, return_to=nil, immediate=false)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a URL with an encoded <a href="../../OpenID.html">OpenID</a>
request.
</p>
<p>
The resulting URL is the <a href="../../OpenID.html">OpenID</a>
provider&#8217;s endpoint URL with parameters appended as query arguments.
You should redirect the user agent to this URL.
</p>
<p>
<a href="../../OpenID.html">OpenID</a> 2.0 endpoints also accept POST
requests, see &#8216;send_redirect?&#8217; and &#8216;<a
href="CheckIDRequest.html#M000056">form_markup</a>&#8217;.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000055_source')" id="l_M000055_source">show</a>
                        
                    </p>
                    <div id="M000055_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/openid/consumer/checkid_request.rb, line 144</span>
144:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">redirect_url</span>(<span class="ruby-identifier">realm</span>, <span class="ruby-identifier">return_to</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">immediate</span>=<span class="ruby-keyword kw">false</span>)
145:         <span class="ruby-identifier">message</span> = <span class="ruby-identifier">get_message</span>(<span class="ruby-identifier">realm</span>, <span class="ruby-identifier">return_to</span>, <span class="ruby-identifier">immediate</span>)
146:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">message</span>.<span class="ruby-identifier">to_url</span>(<span class="ruby-ivar">@endpoint</span>.<span class="ruby-identifier">server_url</span>)
147:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000058">
                    
                    <a name="M000058"></a><b>send_redirect?</b>(realm, return_to=nil, immediate=false)
                    
                </div>
                
                <div class="description">
                  <p>
Should this <a href="../../OpenID.html">OpenID</a> authentication request
be sent as a HTTP redirect or as a POST (form submission)?
</p>
<p>
This takes the same parameters as <a
href="CheckIDRequest.html#M000055">redirect_url</a> or <a
href="CheckIDRequest.html#M000056">form_markup</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000058_source')" id="l_M000058_source">show</a>
                        
                    </p>
                    <div id="M000058_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/openid/consumer/checkid_request.rb, line 176</span>
176:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">send_redirect?</span>(<span class="ruby-identifier">realm</span>, <span class="ruby-identifier">return_to</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">immediate</span>=<span class="ruby-keyword kw">false</span>)
177:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@endpoint</span>.<span class="ruby-identifier">compatibility_mode</span>
178:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
179:         <span class="ruby-keyword kw">else</span>
180:           <span class="ruby-identifier">url</span> = <span class="ruby-identifier">redirect_url</span>(<span class="ruby-identifier">realm</span>, <span class="ruby-identifier">return_to</span>, <span class="ruby-identifier">immediate</span>)
181:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">url</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-constant">OPENID1_URL_LIMIT</span>
182:         <span class="ruby-keyword kw">end</span>
183:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    