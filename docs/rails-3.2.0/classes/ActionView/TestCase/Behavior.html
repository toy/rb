<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ActionView::TestCase::Behavior</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            ActionView::TestCase::Behavior 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/actionpack-3_2_0/lib/action_view/test_case_rb.html">actionpack-3.2.0/lib/action_view/test_case.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M000652">_routes</a>,</li>
                
                <li><a href="#M000650">_user_defined_ivars</a>,</li>
                
                <li><a href="#M000648">_view</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000636">config</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M000638">locals</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000642">make_test_case_available_to_view!</a>,</li>
                
                <li><a href="#M000653">method_missing</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000641">protect_against_forgery?</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000637">render</a>,</li>
                
                <li><a href="#M000639">response_from_page</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000640">say_no_to_protect_against_forgery!</a>,</li>
                
                <li><a href="#M000635">setup_with_controller</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M000647">view</a>,</li>
                
                <li><a href="#M000651">view_assigns</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <span>ActionDispatch::Assertions</span>
            
            START:includes
        </li>
        
        <li>
            
            <span>ActionDispatch::TestProcess</span>
            
            START:includes
        </li>
        
        <li>
            
            <a href="../../ActiveResource/CustomMethods.html">ActiveResource::CustomMethods</a>
            
            START:includes
        </li>
        
        <li>
            
            <a href="../../ActiveResource/CustomMethods.html">ActiveResource::CustomMethods</a>
            
            START:includes
        </li>
        
        <li>
            
            <span>ActionDispatch::Routing::PolymorphicRoutes</span>
            
            START:includes
        </li>
        
        <li>
            
            <a href="../../ActiveResource/CustomMethods.html">ActiveResource::CustomMethods</a>
            
            START:includes
        </li>
        
        <li>
            
            <span>AbstractController::Helpers</span>
            
            START:includes
        </li>
        
        <li>
            
            <a href="../../ActiveResource/CustomMethods.html">ActiveResource::CustomMethods</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">MODULE</span> <a href="Behavior/ClassMethods.html">ActionView::TestCase::Behavior::ClassMethods</a></li>
        
        <li><span class="type">MODULE</span> <a href="Behavior/Locals.html">ActionView::TestCase::Behavior::Locals</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">INTERNAL_IVARS</td>
            <td>=</td>
            <td class="attr-value">%w{         @__name__         @__io__         @_assertion_wrapped         @_assertions         @_result         @_routes         @controller         @layouts         @locals         @method_name         @output_buffer         @partials         @passed         @rendered         @request         @routes         @templates         @options         @test_passed         @view         @view_context_class       }</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>controller</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>output_buffer</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>rendered</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000636">
                    
                    <a name="M000636"></a><b>config</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000636_source')" id="l_M000636_source">show</a>
                        
                    </p>
                    <div id="M000636_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack-3.2.0/lib/action_view/test_case.rb, line 108</span>
108:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">config</span>
109:         <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">config</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:config</span>)
110:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000638">
                    
                    <a name="M000638"></a><b>locals</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000638_source')" id="l_M000638_source">show</a>
                        
                    </p>
                    <div id="M000638_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack-3.2.0/lib/action_view/test_case.rb, line 118</span>
118:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">locals</span>
119:         <span class="ruby-ivar">@locals</span> <span class="ruby-operator">||=</span> {}
120:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000637">
                    
                    <a name="M000637"></a><b>render</b>(options = {}, local_assigns = {}, &amp;block)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000637_source')" id="l_M000637_source">show</a>
                        
                    </p>
                    <div id="M000637_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack-3.2.0/lib/action_view/test_case.rb, line 112</span>
112:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render</span>(<span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">local_assigns</span> = {}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
113:         <span class="ruby-identifier">view</span>.<span class="ruby-identifier">assign</span>(<span class="ruby-identifier">view_assigns</span>)
114:         <span class="ruby-ivar">@rendered</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">output</span> = <span class="ruby-identifier">view</span>.<span class="ruby-identifier">render</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">local_assigns</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
115:         <span class="ruby-identifier">output</span>
116:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000635">
                    
                    <a name="M000635"></a><b>setup_with_controller</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000635_source')" id="l_M000635_source">show</a>
                        
                    </p>
                    <div id="M000635_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack-3.2.0/lib/action_view/test_case.rb, line 98</span>
 98:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup_with_controller</span>
 99:         <span class="ruby-ivar">@controller</span> = <span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">TestController</span>.<span class="ruby-identifier">new</span>
100:         <span class="ruby-ivar">@request</span> = <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span>
101:         <span class="ruby-ivar">@output_buffer</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">SafeBuffer</span>.<span class="ruby-identifier">new</span>
102:         <span class="ruby-ivar">@rendered</span> = <span class="ruby-value str">''</span>
103: 
104:         <span class="ruby-identifier">make_test_case_available_to_view!</span>
105:         <span class="ruby-identifier">say_no_to_protect_against_forgery!</span>
106:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M000652">
                    
                    <a name="M000652"></a><b>_routes</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000652_source')" id="l_M000652_source">show</a>
                        
                    </p>
                    <div id="M000652_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack-3.2.0/lib/action_view/test_case.rb, line 225</span>
225:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">_routes</span>
226:         <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">_routes</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:_routes</span>)
227:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000650">
                    
                    <a name="M000650"></a><b>_user_defined_ivars</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000650_source')" id="l_M000650_source">show</a>
                        
                    </p>
                    <div id="M000650_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack-3.2.0/lib/action_view/test_case.rb, line 211</span>
211:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">_user_defined_ivars</span>
212:         <span class="ruby-identifier">instance_variables</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:to_s</span>) <span class="ruby-operator">-</span> <span class="ruby-constant">INTERNAL_IVARS</span>
213:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000648">
                    
                    <a name="M000648"></a><b>_view</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Behavior.html#M000647">view</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000642">
                    
                    <a name="M000642"></a><b>make_test_case_available_to_view!</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000642_source')" id="l_M000642_source">show</a>
                        
                    </p>
                    <div id="M000642_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack-3.2.0/lib/action_view/test_case.rb, line 144</span>
144:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">make_test_case_available_to_view!</span>
145:         <span class="ruby-identifier">test_case_instance</span> = <span class="ruby-keyword kw">self</span>
146:         <span class="ruby-identifier">_helpers</span>.<span class="ruby-identifier">module_eval</span> <span class="ruby-keyword kw">do</span>
147:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">private_method_defined?</span>(<span class="ruby-identifier">:_test_case</span>)
148:             <span class="ruby-identifier">define_method</span>(<span class="ruby-identifier">:_test_case</span>) { <span class="ruby-identifier">test_case_instance</span> }
149:             <span class="ruby-identifier">private</span> <span class="ruby-identifier">:_test_case</span>
150:           <span class="ruby-keyword kw">end</span>
151:         <span class="ruby-keyword kw">end</span>
152:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000653">
                    
                    <a name="M000653"></a><b>method_missing</b>(selector, *args)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000653_source')" id="l_M000653_source">show</a>
                        
                    </p>
                    <div id="M000653_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack-3.2.0/lib/action_view/test_case.rb, line 229</span>
229:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">method_missing</span>(<span class="ruby-identifier">selector</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
230:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:_routes</span>) <span class="ruby-operator">&amp;&amp;</span>
231:           <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">_routes</span>.<span class="ruby-identifier">named_routes</span>.<span class="ruby-identifier">helpers</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">selector</span>)
232:           <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">selector</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
233:         <span class="ruby-keyword kw">else</span>
234:           <span class="ruby-keyword kw">super</span>
235:         <span class="ruby-keyword kw">end</span>
236:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000641">
                    
                    <a name="M000641"></a><b>protect_against_forgery?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000641_source')" id="l_M000641_source">show</a>
                        
                    </p>
                    <div id="M000641_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack-3.2.0/lib/action_view/test_case.rb, line 138</span>
138:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">protect_against_forgery?</span>
139:             <span class="ruby-keyword kw">false</span>
140:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000639">
                    
                    <a name="M000639"></a><b>response_from_page</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Support the selector assertions
</p>
<p>
Need to experiment if this priority is the best one: rendered => <a
href="Behavior.html#output_buffer">output_buffer</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000639_source')" id="l_M000639_source">show</a>
                        
                    </p>
                    <div id="M000639_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack-3.2.0/lib/action_view/test_case.rb, line 131</span>
131:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">response_from_page</span>
132:         <span class="ruby-constant">HTML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@rendered</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-value">? </span><span class="ruby-ivar">@output_buffer</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@rendered</span>).<span class="ruby-identifier">root</span>
133:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000640">
                    
                    <a name="M000640"></a><b>say_no_to_protect_against_forgery!</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000640_source')" id="l_M000640_source">show</a>
                        
                    </p>
                    <div id="M000640_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack-3.2.0/lib/action_view/test_case.rb, line 135</span>
135:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">say_no_to_protect_against_forgery!</span>
136:         <span class="ruby-identifier">_helpers</span>.<span class="ruby-identifier">module_eval</span> <span class="ruby-keyword kw">do</span>
137:           <span class="ruby-identifier">remove_possible_method</span> <span class="ruby-identifier">:protect_against_forgery?</span>
138:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">protect_against_forgery?</span>
139:             <span class="ruby-keyword kw">false</span>
140:           <span class="ruby-keyword kw">end</span>
141:         <span class="ruby-keyword kw">end</span>
142:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000647">
                    
                    <a name="M000647"></a><b>view</b>()
                    
                </div>
                
                <div class="description">
                  <p>
The instance of <a href="../Base.html">ActionView::Base</a> that is used by
<tt>render</tt>.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Behavior.html#M000648">_view</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000647_source')" id="l_M000647_source">show</a>
                        
                    </p>
                    <div id="M000647_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack-3.2.0/lib/action_view/test_case.rb, line 174</span>
174:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">view</span>
175:         <span class="ruby-ivar">@view</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">begin</span>
176:           <span class="ruby-identifier">view</span> = <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">view_context</span>
177:           <span class="ruby-identifier">view</span>.<span class="ruby-identifier">singleton_class</span>.<span class="ruby-identifier">send</span> <span class="ruby-identifier">:include</span>, <span class="ruby-identifier">_helpers</span>
178:           <span class="ruby-identifier">view</span>.<span class="ruby-identifier">extend</span>(<span class="ruby-constant">Locals</span>)
179:           <span class="ruby-identifier">view</span>.<span class="ruby-identifier">locals</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">locals</span>
180:           <span class="ruby-identifier">view</span>.<span class="ruby-identifier">output_buffer</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">output_buffer</span>
181:           <span class="ruby-identifier">view</span>
182:         <span class="ruby-keyword kw">end</span>
183:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000651">
                    
                    <a name="M000651"></a><b>view_assigns</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a <a href="../../Hash.html">Hash</a> of instance variables and
their values, as defined by the user in the test case, which are then
assigned to the view being rendered. This is generally intended for
internal use and extension frameworks.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000651_source')" id="l_M000651_source">show</a>
                        
                    </p>
                    <div id="M000651_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack-3.2.0/lib/action_view/test_case.rb, line 219</span>
219:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">view_assigns</span>
220:         <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">_user_defined_ivars</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">var</span><span class="ruby-operator">|</span>
221:           [<span class="ruby-identifier">var</span>[<span class="ruby-value">1</span>, <span class="ruby-identifier">var</span>.<span class="ruby-identifier">length</span>].<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-identifier">var</span>)]
222:         <span class="ruby-keyword kw">end</span>]
223:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    