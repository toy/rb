<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Gem::StreamUI</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Gem::StreamUI 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/rubygems/user_interaction_rb.html">lib/rubygems/user_interaction.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
<a href="StreamUI.html">Gem::StreamUI</a> implements a simple stream based
user interface.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M007273">alert</a>,</li>
                
                <li><a href="#M007275">alert_error</a>,</li>
                
                <li><a href="#M007274">alert_warning</a>,</li>
                
                <li><a href="#M007266">ask</a>,</li>
                
                <li><a href="#M007269">ask_for_password</a>,</li>
                
                <li><a href="#M007267">ask_for_password</a>,</li>
                
                <li><a href="#M007271">ask_for_password_on_unix</a>,</li>
                
                <li><a href="#M007270">ask_for_password_on_windows</a>,</li>
                
                <li><a href="#M007264">ask_yes_no</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M007263">choose_from_list</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M007276">debug</a>,</li>
                
                <li><a href="#M007288">download_reporter</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M007261">new</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M007278">progress_reporter</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M007272">say</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M007277">terminate_interaction</a>,</li>
                
                <li><a href="#M007262">tty?</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">CLASS</span> <a href="StreamUI/SilentDownloadReporter.html">Gem::StreamUI::SilentDownloadReporter</a></li>
        
        <li><span class="type">CLASS</span> <a href="StreamUI/SilentProgressReporter.html">Gem::StreamUI::SilentProgressReporter</a></li>
        
        <li><span class="type">CLASS</span> <a href="StreamUI/SimpleProgressReporter.html">Gem::StreamUI::SimpleProgressReporter</a></li>
        
        <li><span class="type">CLASS</span> <a href="StreamUI/VerboseDownloadReporter.html">Gem::StreamUI::VerboseDownloadReporter</a></li>
        
        <li><span class="type">CLASS</span> <a href="StreamUI/VerboseProgressReporter.html">Gem::StreamUI::VerboseProgressReporter</a></li>
        
    </ul>
    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>ins</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>outs</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>errs</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M007261">
                    
                    <a name="M007261"></a><b>new</b>(in_stream, out_stream, err_stream=STDERR, usetty=true)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007261_source')" id="l_M007261_source">show</a>
                        
                    </p>
                    <div id="M007261_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/user_interaction.rb, line 131</span>
131:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">in_stream</span>, <span class="ruby-identifier">out_stream</span>, <span class="ruby-identifier">err_stream</span>=<span class="ruby-constant">STDERR</span>, <span class="ruby-identifier">usetty</span>=<span class="ruby-keyword kw">true</span>)
132:     <span class="ruby-ivar">@ins</span> = <span class="ruby-identifier">in_stream</span>
133:     <span class="ruby-ivar">@outs</span> = <span class="ruby-identifier">out_stream</span>
134:     <span class="ruby-ivar">@errs</span> = <span class="ruby-identifier">err_stream</span>
135:     <span class="ruby-ivar">@usetty</span> = <span class="ruby-identifier">usetty</span>
136:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M007273">
                    
                    <a name="M007273"></a><b>alert</b>(statement, question=nil)
                    
                </div>
                
                <div class="description">
                  <p>
Display an informational alert. Will ask <tt>question</tt> if it is not
nil.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007273_source')" id="l_M007273_source">show</a>
                        
                    </p>
                    <div id="M007273_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/user_interaction.rb, line 297</span>
297:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">alert</span>(<span class="ruby-identifier">statement</span>, <span class="ruby-identifier">question</span>=<span class="ruby-keyword kw">nil</span>)
298:     <span class="ruby-ivar">@outs</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;INFO:  #{statement}&quot;</span>
299:     <span class="ruby-identifier">ask</span>(<span class="ruby-identifier">question</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">question</span>
300:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007275">
                    
                    <a name="M007275"></a><b>alert_error</b>(statement, question=nil)
                    
                </div>
                
                <div class="description">
                  <p>
Display an error message in a location expected to get error messages. Will
ask <tt>question</tt> if it is not nil.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007275_source')" id="l_M007275_source">show</a>
                        
                    </p>
                    <div id="M007275_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/user_interaction.rb, line 315</span>
315:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">alert_error</span>(<span class="ruby-identifier">statement</span>, <span class="ruby-identifier">question</span>=<span class="ruby-keyword kw">nil</span>)
316:     <span class="ruby-ivar">@errs</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;ERROR:  #{statement}&quot;</span>
317:     <span class="ruby-identifier">ask</span>(<span class="ruby-identifier">question</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">question</span>
318:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007274">
                    
                    <a name="M007274"></a><b>alert_warning</b>(statement, question=nil)
                    
                </div>
                
                <div class="description">
                  <p>
Display a warning in a location expected to get error messages. Will ask
<tt>question</tt> if it is not nil.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007274_source')" id="l_M007274_source">show</a>
                        
                    </p>
                    <div id="M007274_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/user_interaction.rb, line 306</span>
306:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">alert_warning</span>(<span class="ruby-identifier">statement</span>, <span class="ruby-identifier">question</span>=<span class="ruby-keyword kw">nil</span>)
307:     <span class="ruby-ivar">@errs</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;WARNING:  #{statement}&quot;</span>
308:     <span class="ruby-identifier">ask</span>(<span class="ruby-identifier">question</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">question</span>
309:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007266">
                    
                    <a name="M007266"></a><b>ask</b>(question)
                    
                </div>
                
                <div class="description">
                  <p>
Ask a question. Returns an answer if connected to a tty, nil otherwise.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007266_source')" id="l_M007266_source">show</a>
                        
                    </p>
                    <div id="M007266_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/user_interaction.rb, line 210</span>
210:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ask</span>(<span class="ruby-identifier">question</span>)
211:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">tty?</span>
212: 
213:     <span class="ruby-ivar">@outs</span>.<span class="ruby-identifier">print</span>(<span class="ruby-identifier">question</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>)
214:     <span class="ruby-ivar">@outs</span>.<span class="ruby-identifier">flush</span>
215: 
216:     <span class="ruby-identifier">result</span> = <span class="ruby-ivar">@ins</span>.<span class="ruby-identifier">gets</span>
217:     <span class="ruby-identifier">result</span>.<span class="ruby-identifier">chomp!</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">result</span>
218:     <span class="ruby-identifier">result</span>
219:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007267">
                    
                    <a name="M007267"></a><b>ask_for_password</b>(question)
                    
                </div>
                
                <div class="description">
                  <p>
Ask for a password. Does not echo response to terminal.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007267_source')" id="l_M007267_source">show</a>
                        
                    </p>
                    <div id="M007267_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/user_interaction.rb, line 225</span>
225:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ask_for_password</span>(<span class="ruby-identifier">question</span>)
226:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">tty?</span>
227: 
228:       <span class="ruby-identifier">require</span> <span class="ruby-value str">'io/console'</span>
229: 
230:       <span class="ruby-ivar">@outs</span>.<span class="ruby-identifier">print</span>(<span class="ruby-identifier">question</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>)
231:       <span class="ruby-ivar">@outs</span>.<span class="ruby-identifier">flush</span>
232: 
233:       <span class="ruby-identifier">password</span> = <span class="ruby-ivar">@ins</span>.<span class="ruby-identifier">noecho</span> {<span class="ruby-ivar">@ins</span>.<span class="ruby-identifier">gets</span>}
234:       <span class="ruby-identifier">password</span>.<span class="ruby-identifier">chomp!</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">password</span>
235:       <span class="ruby-identifier">password</span>
236:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007269">
                    
                    <a name="M007269"></a><b>ask_for_password</b>(question)
                    
                </div>
                
                <div class="description">
                  <p>
Ask for a password. Does not echo response to terminal.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007269_source')" id="l_M007269_source">show</a>
                        
                    </p>
                    <div id="M007269_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/user_interaction.rb, line 241</span>
241:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ask_for_password</span>(<span class="ruby-identifier">question</span>)
242:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">tty?</span>
243: 
244:       <span class="ruby-ivar">@outs</span>.<span class="ruby-identifier">print</span>(<span class="ruby-identifier">question</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;  &quot;</span>)
245:       <span class="ruby-ivar">@outs</span>.<span class="ruby-identifier">flush</span>
246: 
247:       <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">win_platform?</span> <span class="ruby-value">? </span><span class="ruby-identifier">ask_for_password_on_windows</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">ask_for_password_on_unix</span>
248:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007271">
                    
                    <a name="M007271"></a><b>ask_for_password_on_unix</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Asks for a password that works on unix
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007271_source')" id="l_M007271_source">show</a>
                        
                    </p>
                    <div id="M007271_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/user_interaction.rb, line 276</span>
276:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ask_for_password_on_unix</span>
277:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">tty?</span>
278: 
279:       <span class="ruby-identifier">system</span> <span class="ruby-value str">&quot;stty -echo&quot;</span>
280:       <span class="ruby-identifier">password</span> = <span class="ruby-ivar">@ins</span>.<span class="ruby-identifier">gets</span>
281:       <span class="ruby-identifier">password</span>.<span class="ruby-identifier">chomp!</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">password</span>
282:       <span class="ruby-identifier">system</span> <span class="ruby-value str">&quot;stty echo&quot;</span>
283:       <span class="ruby-identifier">password</span>
284:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007270">
                    
                    <a name="M007270"></a><b>ask_for_password_on_windows</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Asks for a password that works on windows. Ripped from the Heroku gem.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007270_source')" id="l_M007270_source">show</a>
                        
                    </p>
                    <div id="M007270_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/user_interaction.rb, line 253</span>
253:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ask_for_password_on_windows</span>
254:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">tty?</span>
255: 
256:       <span class="ruby-identifier">require</span> <span class="ruby-value str">&quot;Win32API&quot;</span>
257:       <span class="ruby-identifier">char</span> = <span class="ruby-keyword kw">nil</span>
258:       <span class="ruby-identifier">password</span> = <span class="ruby-value str">''</span>
259: 
260:       <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">char</span> = <span class="ruby-constant">Win32API</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;crtdll&quot;</span>, <span class="ruby-value str">&quot;_getch&quot;</span>, [ ], <span class="ruby-value str">&quot;L&quot;</span>).<span class="ruby-constant">Call</span> <span class="ruby-keyword kw">do</span>
261:         <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">char</span> <span class="ruby-operator">==</span> <span class="ruby-value">10</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">char</span> <span class="ruby-operator">==</span> <span class="ruby-value">13</span> <span class="ruby-comment cmt"># received carriage return or newline</span>
262:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">char</span> <span class="ruby-operator">==</span> <span class="ruby-value">127</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">char</span> <span class="ruby-operator">==</span> <span class="ruby-value">8</span> <span class="ruby-comment cmt"># backspace and delete</span>
263:           <span class="ruby-identifier">password</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">-1</span>, <span class="ruby-value">1</span>)
264:         <span class="ruby-keyword kw">else</span>
265:           <span class="ruby-identifier">password</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">char</span>.<span class="ruby-identifier">chr</span>
266:         <span class="ruby-keyword kw">end</span>
267:       <span class="ruby-keyword kw">end</span>
268: 
269:       <span class="ruby-identifier">puts</span>
270:       <span class="ruby-identifier">password</span>
271:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007264">
                    
                    <a name="M007264"></a><b>ask_yes_no</b>(question, default=nil)
                    
                </div>
                
                <div class="description">
                  <p>
Ask a question. Returns a true for yes, false for no. If not connected to a
tty, raises an exception if default is nil, otherwise returns default.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007264_source')" id="l_M007264_source">show</a>
                        
                    </p>
                    <div id="M007264_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/user_interaction.rb, line 174</span>
174:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ask_yes_no</span>(<span class="ruby-identifier">question</span>, <span class="ruby-identifier">default</span>=<span class="ruby-keyword kw">nil</span>)
175:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">tty?</span> <span class="ruby-keyword kw">then</span>
176:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">default</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">then</span>
177:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">OperationNotSupportedError</span>,
178:               <span class="ruby-value str">&quot;Not connected to a tty and no default specified&quot;</span>
179:       <span class="ruby-keyword kw">else</span>
180:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">default</span>
181:       <span class="ruby-keyword kw">end</span>
182:     <span class="ruby-keyword kw">end</span>
183: 
184:     <span class="ruby-identifier">default_answer</span> = <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">default</span>
185:                      <span class="ruby-keyword kw">when</span> <span class="ruby-keyword kw">nil</span>
186:                        <span class="ruby-value str">'yn'</span>
187:                      <span class="ruby-keyword kw">when</span> <span class="ruby-keyword kw">true</span>
188:                        <span class="ruby-value str">'Yn'</span>
189:                      <span class="ruby-keyword kw">else</span>
190:                        <span class="ruby-value str">'yN'</span>
191:                      <span class="ruby-keyword kw">end</span>
192: 
193:     <span class="ruby-identifier">result</span> = <span class="ruby-keyword kw">nil</span>
194: 
195:     <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">do</span>
196:       <span class="ruby-identifier">result</span> = <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">ask</span> <span class="ruby-node">&quot;#{question} [#{default_answer}]&quot;</span>
197:                <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/^y/i</span> <span class="ruby-keyword kw">then</span> <span class="ruby-keyword kw">true</span>
198:                <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/^n/i</span> <span class="ruby-keyword kw">then</span> <span class="ruby-keyword kw">false</span>
199:                <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/^$/</span>  <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">default</span>
200:                <span class="ruby-keyword kw">else</span>            <span class="ruby-keyword kw">nil</span>
201:                <span class="ruby-keyword kw">end</span>
202:     <span class="ruby-keyword kw">end</span>
203: 
204:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">result</span>
205:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007263">
                    
                    <a name="M007263"></a><b>choose_from_list</b>(question, list)
                    
                </div>
                
                <div class="description">
                  <p>
Choose from a list of options. <tt>question</tt> is a prompt displayed
above the list. <tt>list</tt> is a list of option strings. Returns the pair
[option_name, option_index].
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007263_source')" id="l_M007263_source">show</a>
                        
                    </p>
                    <div id="M007263_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/user_interaction.rb, line 151</span>
151:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">choose_from_list</span>(<span class="ruby-identifier">question</span>, <span class="ruby-identifier">list</span>)
152:     <span class="ruby-ivar">@outs</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">question</span>
153: 
154:     <span class="ruby-identifier">list</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
155:       <span class="ruby-ivar">@outs</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot; #{index+1}. #{item}&quot;</span>
156:     <span class="ruby-keyword kw">end</span>
157: 
158:     <span class="ruby-ivar">@outs</span>.<span class="ruby-identifier">print</span> <span class="ruby-value str">&quot;&gt; &quot;</span>
159:     <span class="ruby-ivar">@outs</span>.<span class="ruby-identifier">flush</span>
160: 
161:     <span class="ruby-identifier">result</span> = <span class="ruby-ivar">@ins</span>.<span class="ruby-identifier">gets</span>
162: 
163:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">result</span>
164: 
165:     <span class="ruby-identifier">result</span> = <span class="ruby-identifier">result</span>.<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
166:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">list</span>[<span class="ruby-identifier">result</span>], <span class="ruby-identifier">result</span>
167:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007276">
                    
                    <a name="M007276"></a><b>debug</b>(statement)
                    
                </div>
                
                <div class="description">
                  <p>
Display a debug message on the same location as error messages.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007276_source')" id="l_M007276_source">show</a>
                        
                    </p>
                    <div id="M007276_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/user_interaction.rb, line 323</span>
323:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">debug</span>(<span class="ruby-identifier">statement</span>)
324:     <span class="ruby-ivar">@errs</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">statement</span>
325:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007288">
                    
                    <a name="M007288"></a><b>download_reporter</b>(*args)
                    
                </div>
                
                <div class="description">
                  <p>
Return a download reporter object chosen from the current verbosity
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007288_source')" id="l_M007288_source">show</a>
                        
                    </p>
                    <div id="M007288_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/user_interaction.rb, line 444</span>
444:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">download_reporter</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
445:     <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">SilentUI</span>)
446:       <span class="ruby-keyword kw">return</span> <span class="ruby-constant">SilentDownloadReporter</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@outs</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
447:     <span class="ruby-keyword kw">end</span>
448: 
449:     <span class="ruby-keyword kw">case</span> <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">verbose</span>
450:     <span class="ruby-keyword kw">when</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">false</span>
451:       <span class="ruby-constant">SilentDownloadReporter</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@outs</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
452:     <span class="ruby-keyword kw">else</span>
453:       <span class="ruby-constant">VerboseDownloadReporter</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@outs</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
454:     <span class="ruby-keyword kw">end</span>
455:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007278">
                    
                    <a name="M007278"></a><b>progress_reporter</b>(*args)
                    
                </div>
                
                <div class="description">
                  <p>
Return a progress reporter object chosen from the current verbosity.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007278_source')" id="l_M007278_source">show</a>
                        
                    </p>
                    <div id="M007278_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/user_interaction.rb, line 338</span>
338:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">progress_reporter</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
339:     <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">SilentUI</span>)
340:       <span class="ruby-keyword kw">return</span> <span class="ruby-constant">SilentProgressReporter</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@outs</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
341:     <span class="ruby-keyword kw">end</span>
342: 
343:     <span class="ruby-keyword kw">case</span> <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">verbose</span>
344:     <span class="ruby-keyword kw">when</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">false</span>
345:       <span class="ruby-constant">SilentProgressReporter</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@outs</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
346:     <span class="ruby-keyword kw">when</span> <span class="ruby-keyword kw">true</span>
347:       <span class="ruby-constant">SimpleProgressReporter</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@outs</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
348:     <span class="ruby-keyword kw">else</span>
349:       <span class="ruby-constant">VerboseProgressReporter</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@outs</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
350:     <span class="ruby-keyword kw">end</span>
351:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007272">
                    
                    <a name="M007272"></a><b>say</b>(statement=&quot;&quot;)
                    
                </div>
                
                <div class="description">
                  <p>
Display a statement.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007272_source')" id="l_M007272_source">show</a>
                        
                    </p>
                    <div id="M007272_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/user_interaction.rb, line 290</span>
290:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">say</span>(<span class="ruby-identifier">statement</span>=<span class="ruby-value str">&quot;&quot;</span>)
291:     <span class="ruby-ivar">@outs</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">statement</span>
292:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007277">
                    
                    <a name="M007277"></a><b>terminate_interaction</b>(status = 0)
                    
                </div>
                
                <div class="description">
                  <p>
Terminate the application with exit code <tt>status</tt>, running any exit
handlers that might have been defined.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007277_source')" id="l_M007277_source">show</a>
                        
                    </p>
                    <div id="M007277_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/user_interaction.rb, line 331</span>
331:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">terminate_interaction</span>(<span class="ruby-identifier">status</span> = <span class="ruby-value">0</span>)
332:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">SystemExitException</span>, <span class="ruby-identifier">status</span>
333:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007262">
                    
                    <a name="M007262"></a><b>tty?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007262_source')" id="l_M007262_source">show</a>
                        
                    </p>
                    <div id="M007262_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/user_interaction.rb, line 138</span>
138:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">tty?</span>
139:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">RUBY_VERSION</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value str">'1.9.3'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-constant">RUBY_PLATFORM</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/mingw|mswin/</span> <span class="ruby-keyword kw">then</span>
140:       <span class="ruby-ivar">@usetty</span>
141:     <span class="ruby-keyword kw">else</span>
142:       <span class="ruby-ivar">@usetty</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@ins</span>.<span class="ruby-identifier">tty?</span>
143:     <span class="ruby-keyword kw">end</span>
144:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    