<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Gem::DependencyList</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Gem::DependencyList 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/rubygems/dependency_list_rb.html">lib/rubygems/dependency_list.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
<a href="DependencyList.html">Gem::DependencyList</a> is used for
installing and uninstalling gems in the correct order to avoid conflicts.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M006713">active_count</a>,</li>
                
                <li><a href="#M006698">add</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M006699">clear</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M006700">dependency_order</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M006702">each</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M006703">find_name</a>,</li>
                
                <li><a href="#M006696">from_source_index</a>,</li>
                
                <li><a href="#M006695">from_specs</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M006697">new</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M006705">ok?</a>,</li>
                
                <li><a href="#M006707">ok_to_remove?</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M006709">remove_by_name</a>,</li>
                
                <li><a href="#M006708">remove_specs_unsatisfied_by</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M006710">spec_predecessors</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M006712">tsort_each_child</a>,</li>
                
                <li><a href="#M006711">tsort_each_node</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M006706">why_not_ok?</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="../JSON.html">JSON</a>
            
            START:includes
        </li>
        
        <li>
            
            <a href="../JSON.html">JSON</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>specs</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>development</td>
            <td class='attr-desc'><p>
Allows enabling/disabling use of development dependencies
</p></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M006696">
                    
                    <a name="M006696"></a><b>from_source_index</b>(ignored=nil)
                    
                </div>
                
                <div class="description">
                  <p>
Creates a <a href="DependencyList.html">DependencyList</a> from a <a
href="SourceIndex.html">Gem::SourceIndex</a> <tt>source_index</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006696_source')" id="l_M006696_source">show</a>
                        
                    </p>
                    <div id="M006696_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rubygems/dependency_list.rb, line 37</span>
37:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">from_source_index</span>(<span class="ruby-identifier">ignored</span>=<span class="ruby-keyword kw">nil</span>)
38:     <span class="ruby-identifier">warn</span> <span class="ruby-value str">&quot;NOTE: DependencyList.from_source_index ignores it's arg&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ignored</span>
39: 
40:     <span class="ruby-identifier">from_specs</span>
41:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006695">
                    
                    <a name="M006695"></a><b>from_specs</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Creates a <a href="DependencyList.html">DependencyList</a> from the current
specs.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006695_source')" id="l_M006695_source">show</a>
                        
                    </p>
                    <div id="M006695_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rubygems/dependency_list.rb, line 28</span>
28:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">from_specs</span>
29:     <span class="ruby-identifier">list</span> = <span class="ruby-identifier">new</span>
30:     <span class="ruby-identifier">list</span>.<span class="ruby-identifier">add</span>(<span class="ruby-operator">*</span><span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">map</span>)
31:     <span class="ruby-identifier">list</span>
32:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006697">
                    
                    <a name="M006697"></a><b>new</b>(development = false)
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new <a href="DependencyList.html">DependencyList</a>. If
<tt>development</tt> is true, development dependencies will be included.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006697_source')" id="l_M006697_source">show</a>
                        
                    </p>
                    <div id="M006697_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rubygems/dependency_list.rb, line 47</span>
47:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span> <span class="ruby-identifier">development</span> = <span class="ruby-keyword kw">false</span>
48:     <span class="ruby-ivar">@specs</span> = []
49: 
50:     <span class="ruby-ivar">@development</span> = <span class="ruby-identifier">development</span>
51:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M006698">
                    
                    <a name="M006698"></a><b>add</b>(*gemspecs)
                    
                </div>
                
                <div class="description">
                  <p>
Adds <tt>gemspecs</tt> to the dependency list.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006698_source')" id="l_M006698_source">show</a>
                        
                    </p>
                    <div id="M006698_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rubygems/dependency_list.rb, line 56</span>
56:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">gemspecs</span>)
57:     <span class="ruby-ivar">@specs</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">gemspecs</span>)
58:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006699">
                    
                    <a name="M006699"></a><b>clear</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006699_source')" id="l_M006699_source">show</a>
                        
                    </p>
                    <div id="M006699_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rubygems/dependency_list.rb, line 60</span>
60:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clear</span>
61:     <span class="ruby-ivar">@specs</span>.<span class="ruby-identifier">clear</span>
62:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006700">
                    
                    <a name="M006700"></a><b>dependency_order</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Return a list of the gem specifications in the dependency list, sorted in
order so that no gemspec in the list depends on a gemspec earlier in the
list.
</p>
<p>
This is useful when removing gems from a set of installed gems. By removing
them in the returned order, you don&#8217;t get into as many dependency
issues.
</p>
<p>
If there are circular dependencies (yuck!), then gems will be returned in
order until only the circular dependents and anything they reference are
left. Then arbitrary gemspecs will be returned until the circular
dependency is broken, after which gems will be returned in dependency order
again.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006700_source')" id="l_M006700_source">show</a>
                        
                    </p>
                    <div id="M006700_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rubygems/dependency_list.rb, line 79</span>
79:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dependency_order</span>
80:     <span class="ruby-identifier">sorted</span> = <span class="ruby-identifier">strongly_connected_components</span>.<span class="ruby-identifier">flatten</span>
81: 
82:     <span class="ruby-identifier">result</span> = []
83:     <span class="ruby-identifier">seen</span> = {}
84: 
85:     <span class="ruby-identifier">sorted</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
86:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">index</span> = <span class="ruby-identifier">seen</span>[<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">name</span>] <span class="ruby-keyword kw">then</span>
87:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">result</span>[<span class="ruby-identifier">index</span>].<span class="ruby-identifier">version</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">version</span> <span class="ruby-keyword kw">then</span>
88:           <span class="ruby-identifier">result</span>[<span class="ruby-identifier">index</span>] = <span class="ruby-identifier">spec</span>
89:         <span class="ruby-keyword kw">end</span>
90:       <span class="ruby-keyword kw">else</span>
91:         <span class="ruby-identifier">seen</span>[<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">result</span>.<span class="ruby-identifier">length</span>
92:         <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">spec</span>
93:       <span class="ruby-keyword kw">end</span>
94:     <span class="ruby-keyword kw">end</span>
95: 
96:     <span class="ruby-identifier">result</span>.<span class="ruby-identifier">reverse</span>
97:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006702">
                    
                    <a name="M006702"></a><b>each</b>(&amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Iterator over <a href="DependencyList.html#M006700">dependency_order</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006702_source')" id="l_M006702_source">show</a>
                        
                    </p>
                    <div id="M006702_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/dependency_list.rb, line 102</span>
102:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
103:     <span class="ruby-identifier">dependency_order</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
104:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006703">
                    
                    <a name="M006703"></a><b>find_name</b>(full_name)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006703_source')" id="l_M006703_source">show</a>
                        
                    </p>
                    <div id="M006703_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/dependency_list.rb, line 106</span>
106:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find_name</span>(<span class="ruby-identifier">full_name</span>)
107:     <span class="ruby-ivar">@specs</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">full_name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">full_name</span> }
108:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006705">
                    
                    <a name="M006705"></a><b>ok?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Are all the dependencies in the list satisfied?
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006705_source')" id="l_M006705_source">show</a>
                        
                    </p>
                    <div id="M006705_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/dependency_list.rb, line 117</span>
117:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ok?</span>
118:     <span class="ruby-identifier">why_not_ok?</span>(<span class="ruby-identifier">:quick</span>).<span class="ruby-identifier">empty?</span>
119:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006707">
                    
                    <a name="M006707"></a><b>ok_to_remove?</b>(full_name)
                    
                </div>
                
                <div class="description">
                  <p>
Is is ok to remove a gemspec from the dependency list?
</p>
<p>
If removing the gemspec creates breaks a currently ok dependency, then it
is NOT ok to remove the gemspec.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006707_source')" id="l_M006707_source">show</a>
                        
                    </p>
                    <div id="M006707_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/dependency_list.rb, line 146</span>
146:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ok_to_remove?</span>(<span class="ruby-identifier">full_name</span>)
147:     <span class="ruby-identifier">gem_to_remove</span> = <span class="ruby-identifier">find_name</span> <span class="ruby-identifier">full_name</span>
148: 
149:     <span class="ruby-identifier">siblings</span> = <span class="ruby-ivar">@specs</span>.<span class="ruby-identifier">find_all</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
150:       <span class="ruby-identifier">s</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">gem_to_remove</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">&amp;&amp;</span>
151:         <span class="ruby-identifier">s</span>.<span class="ruby-identifier">full_name</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">gem_to_remove</span>.<span class="ruby-identifier">full_name</span>
152:     }
153: 
154:     <span class="ruby-identifier">deps</span> = []
155: 
156:     <span class="ruby-ivar">@specs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
157:       <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span>
158:         <span class="ruby-identifier">deps</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">dep</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">gem_to_remove</span>.<span class="ruby-identifier">satisfies_requirement?</span>(<span class="ruby-identifier">dep</span>)
159:       <span class="ruby-keyword kw">end</span>
160:     <span class="ruby-keyword kw">end</span>
161: 
162:     <span class="ruby-identifier">deps</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span>
163:       <span class="ruby-identifier">siblings</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
164:         <span class="ruby-identifier">s</span>.<span class="ruby-identifier">satisfies_requirement?</span> <span class="ruby-identifier">dep</span>
165:       }
166:     }
167:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006709">
                    
                    <a name="M006709"></a><b>remove_by_name</b>(full_name)
                    
                </div>
                
                <div class="description">
                  <p>
Removes the gemspec matching <tt>full_name</tt> from the dependency list
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006709_source')" id="l_M006709_source">show</a>
                        
                    </p>
                    <div id="M006709_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/dependency_list.rb, line 184</span>
184:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_by_name</span>(<span class="ruby-identifier">full_name</span>)
185:     <span class="ruby-ivar">@specs</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">full_name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">full_name</span> }
186:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006708">
                    
                    <a name="M006708"></a><b>remove_specs_unsatisfied_by</b>(dependencies)
                    
                </div>
                
                <div class="description">
                  <p>
Remove everything in the <a href="DependencyList.html">DependencyList</a>
that matches but doesn&#8217;t satisfy items in <tt>dependencies</tt> (a
hash of gem names to arrays of dependencies).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006708_source')" id="l_M006708_source">show</a>
                        
                    </p>
                    <div id="M006708_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/dependency_list.rb, line 174</span>
174:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_specs_unsatisfied_by</span> <span class="ruby-identifier">dependencies</span>
175:     <span class="ruby-identifier">specs</span>.<span class="ruby-identifier">reject!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
176:       <span class="ruby-identifier">dep</span> = <span class="ruby-identifier">dependencies</span>[<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">name</span>]
177:       <span class="ruby-identifier">dep</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">requirement</span>.<span class="ruby-identifier">satisfied_by?</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">version</span>
178:     }
179:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006710">
                    
                    <a name="M006710"></a><b>spec_predecessors</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Return a hash of predecessors. <tt>result[spec]</tt> is an <a
href="../Array.html">Array</a> of gemspecs that have a dependency satisfied
by the named gemspec.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006710_source')" id="l_M006710_source">show</a>
                        
                    </p>
                    <div id="M006710_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/dependency_list.rb, line 192</span>
192:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">spec_predecessors</span>
193:     <span class="ruby-identifier">result</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>,<span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">k</span>] = [] }
194: 
195:     <span class="ruby-identifier">specs</span> = <span class="ruby-ivar">@specs</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">reverse</span>
196: 
197:     <span class="ruby-identifier">specs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
198:       <span class="ruby-identifier">specs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">other</span><span class="ruby-operator">|</span>
199:         <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">spec</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>
200: 
201:         <span class="ruby-identifier">other</span>.<span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span>
202:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">satisfies_requirement?</span> <span class="ruby-identifier">dep</span> <span class="ruby-keyword kw">then</span>
203:             <span class="ruby-identifier">result</span>[<span class="ruby-identifier">spec</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">other</span>
204:           <span class="ruby-keyword kw">end</span>
205:         <span class="ruby-keyword kw">end</span>
206:       <span class="ruby-keyword kw">end</span>
207:     <span class="ruby-keyword kw">end</span>
208: 
209:     <span class="ruby-identifier">result</span>
210:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006712">
                    
                    <a name="M006712"></a><b>tsort_each_child</b>(node, &amp;block)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006712_source')" id="l_M006712_source">show</a>
                        
                    </p>
                    <div id="M006712_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/dependency_list.rb, line 216</span>
216:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">tsort_each_child</span>(<span class="ruby-identifier">node</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
217:     <span class="ruby-identifier">specs</span> = <span class="ruby-ivar">@specs</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">reverse</span>
218: 
219:     <span class="ruby-identifier">dependencies</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">runtime_dependencies</span>
220:     <span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">development_dependencies</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@development</span>
221: 
222:     <span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span>
223:       <span class="ruby-identifier">specs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
224:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">satisfies_requirement?</span> <span class="ruby-identifier">dep</span> <span class="ruby-keyword kw">then</span>
225:           <span class="ruby-keyword kw">begin</span>
226:             <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">spec</span>
227:           <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">TSort</span><span class="ruby-operator">::</span><span class="ruby-constant">Cyclic</span>
228:             <span class="ruby-comment cmt"># do nothing</span>
229:           <span class="ruby-keyword kw">end</span>
230:           <span class="ruby-keyword kw">break</span>
231:         <span class="ruby-keyword kw">end</span>
232:       <span class="ruby-keyword kw">end</span>
233:     <span class="ruby-keyword kw">end</span>
234:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006711">
                    
                    <a name="M006711"></a><b>tsort_each_node</b>(&amp;block)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006711_source')" id="l_M006711_source">show</a>
                        
                    </p>
                    <div id="M006711_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/dependency_list.rb, line 212</span>
212:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">tsort_each_node</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
213:     <span class="ruby-ivar">@specs</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
214:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006706">
                    
                    <a name="M006706"></a><b>why_not_ok?</b>(quick = false)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006706_source')" id="l_M006706_source">show</a>
                        
                    </p>
                    <div id="M006706_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/dependency_list.rb, line 121</span>
121:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">why_not_ok?</span> <span class="ruby-identifier">quick</span> = <span class="ruby-keyword kw">false</span>
122:     <span class="ruby-identifier">unsatisfied</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>,<span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">k</span>] = [] }
123:     <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span>
124:       <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">runtime_dependencies</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span>
125:         <span class="ruby-identifier">inst</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">installed_spec</span><span class="ruby-operator">|</span>
126:           <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">installed_spec</span>.<span class="ruby-identifier">name</span> <span class="ruby-keyword kw">and</span>
127:             <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">requirement</span>.<span class="ruby-identifier">satisfied_by?</span> <span class="ruby-identifier">installed_spec</span>.<span class="ruby-identifier">version</span>
128:         }
129: 
130:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">inst</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@specs</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">satisfies_requirement?</span> <span class="ruby-identifier">dep</span> } <span class="ruby-keyword kw">then</span>
131:           <span class="ruby-identifier">unsatisfied</span>[<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">name</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">dep</span>
132:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">unsatisfied</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">quick</span>
133:         <span class="ruby-keyword kw">end</span>
134:       <span class="ruby-keyword kw">end</span>
135:     <span class="ruby-keyword kw">end</span>
136: 
137:     <span class="ruby-identifier">unsatisfied</span>
138:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M006713">
                    
                    <a name="M006713"></a><b>active_count</b>(specs, ignored)
                    
                </div>
                
                <div class="description">
                  <p>
Count the number of gemspecs in the list <tt>specs</tt> that are not in
<tt>ignored</tt>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006713_source')" id="l_M006713_source">show</a>
                        
                    </p>
                    <div id="M006713_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rubygems/dependency_list.rb, line 242</span>
242:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">active_count</span>(<span class="ruby-identifier">specs</span>, <span class="ruby-identifier">ignored</span>)
243:     <span class="ruby-identifier">specs</span>.<span class="ruby-identifier">count</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">spec</span><span class="ruby-operator">|</span> <span class="ruby-identifier">ignored</span>[<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">full_name</span>].<span class="ruby-identifier">nil?</span> }
244:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    