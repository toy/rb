<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Range</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Range 
            
                <span class="parent">&lt; 
                    
                    <a href="Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/range_c.html">range.c</a></li>
            
            <li><a href="../files/lib/pp_rb.html">lib/pp.rb</a></li>
            
            <li><a href="../files/ext/json/lib/json/add/core_rb.html">ext/json/lib/json/add/core.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
<a href="Range.html">Range</a> serialization/deserialization
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M001096">==</a>,</li>
                
                <li><a href="#M001097">===</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M009206">as_json</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M001102">begin</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M001113">cover?</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M001100">each</a>,</li>
                
                <li><a href="#M001103">end</a>,</li>
                
                <li><a href="#M001098">eql?</a>,</li>
                
                <li><a href="#M001110">exclude_end?</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M001104">first</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M001099">hash</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M001112">include?</a>,</li>
                
                <li><a href="#M001109">inspect</a></li>
                
            </ul>
        </dd>
    
        <dt>J</dt>
        <dd>
            <ul>
                
                <li><a href="#M009205">json_create</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M001105">last</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M001107">max</a>,</li>
                
                <li><a href="#M001111">member?</a>,</li>
                
                <li><a href="#M001106">min</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M001094">new</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M003606">pretty_print</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M001101">step</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M009207">to_json</a>,</li>
                
                <li><a href="#M001108">to_s</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="JSON.html">JSON</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    

    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M009205">
                    
                    <a name="M009205"></a><b>json_create</b>(object)
                    
                </div>
                
                <div class="description">
                  <p>
Deserializes <a href="JSON.html">JSON</a> string by constructing new <a
href="Range.html">Range</a> object with arguments <tt>a</tt> serialized by
<tt><a href="Range.html#M009207">to_json</a></tt>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M009205_source')" id="l_M009205_source">show</a>
                        
                    </p>
                    <div id="M009205_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/json/lib/json/add/core.rb, line 142</span>
142:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">json_create</span>(<span class="ruby-identifier">object</span>)
143:     <span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">object</span>[<span class="ruby-value str">'a'</span>])
144:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001094">
                    
                    <a name="M001094"></a><b>Range.new(start, end, exclusive=false)    &rarr; range
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Constructs a range using the given <em>start</em> and <em>end</em>. If the
third parameter is omitted or is <tt>false</tt>, the <em>range</em> will
include the end object; otherwise, it will be excluded.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001094_source')" id="l_M001094_source">show</a>
                        
                    </p>
                    <div id="M001094_source" class="dyn-source">
                        <pre>static VALUE
range_initialize(int argc, VALUE *argv, VALUE range)
{
    VALUE beg, end, flags;

    rb_scan_args(argc, argv, &quot;21&quot;, &amp;beg, &amp;end, &amp;flags);
    /* Ranges are immutable, so that they should be initialized only once. */
    if (RANGE_EXCL(range) != Qnil) {
  rb_name_error(rb_intern(&quot;initialize&quot;), &quot;`initialize' called twice&quot;);
    }
    range_init(range, beg, end, RTEST(flags));
    return Qnil;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M001096">
                    
                    <a name="M001096"></a><b>rng == obj    &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> only if <em>obj</em> is a <a
href="Range.html">Range</a>, has equivalent beginning and end items (by
comparing them with <tt>==</tt>), and has the same <tt>exclude_end?</tt>
setting as <em>rng</em>.
</p>
<pre>
  (0..2) == (0..2)            #=&gt; true
  (0..2) == Range.new(0,2)    #=&gt; true
  (0..2) == (0...2)           #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001096_source')" id="l_M001096_source">show</a>
                        
                    </p>
                    <div id="M001096_source" class="dyn-source">
                        <pre>static VALUE
range_eq(VALUE range, VALUE obj)
{
    if (range == obj)
  return Qtrue;
    if (!rb_obj_is_kind_of(obj, rb_cRange))
  return Qfalse;

    return rb_exec_recursive_paired(recursive_equal, range, obj, obj);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001097">
                    
                    <a name="M001097"></a><b>rng === obj       &rarr;  true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>obj</em> is an element of <em>rng</em>,
<tt>false</tt> otherwise. Conveniently, <tt>===</tt> is the comparison
operator used by <tt>case</tt> statements.
</p>
<pre>
   case 79
   when 1..50   then   print &quot;low\n&quot;
   when 51..75  then   print &quot;medium\n&quot;
   when 76..100 then   print &quot;high\n&quot;
   end
</pre>
<p>
<em>produces:</em>
</p>
<pre>
   high
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001097_source')" id="l_M001097_source">show</a>
                        
                    </p>
                    <div id="M001097_source" class="dyn-source">
                        <pre>static VALUE
range_eqq(VALUE range, VALUE val)
{
    return rb_funcall(range, rb_intern(&quot;include?&quot;), 1, val);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M009206">
                    
                    <a name="M009206"></a><b>as_json</b>(*)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a hash, that will be turned into a <a href="JSON.html">JSON</a>
object and represent this object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M009206_source')" id="l_M009206_source">show</a>
                        
                    </p>
                    <div id="M009206_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/json/lib/json/add/core.rb, line 148</span>
148:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">as_json</span>(<span class="ruby-operator">*</span>)
149:     {
150:       <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">create_id</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>,
151:       <span class="ruby-value str">'a'</span>             =<span class="ruby-operator">&gt;</span> [ <span class="ruby-identifier">first</span>, <span class="ruby-identifier">last</span>, <span class="ruby-identifier">exclude_end?</span> ]
152:     }
153:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001102">
                    
                    <a name="M001102"></a><b>rng.begin    &rarr; obj
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the first object in <em>rng</em>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001102_source')" id="l_M001102_source">show</a>
                        
                    </p>
                    <div id="M001102_source" class="dyn-source">
                        <pre>static VALUE
range_begin(VALUE range)
{
    return RANGE_BEG(range);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001113">
                    
                    <a name="M001113"></a><b>rng.cover?(val)  &rarr;  true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>obj</em> is between beg and end, i.e <tt>beg
&lt;= obj &lt;= end</tt> (or <em>end</em> exclusive when
<tt>exclude_end?</tt> is true).
</p>
<pre>
   (&quot;a&quot;..&quot;z&quot;).cover?(&quot;c&quot;)    #=&gt; true
   (&quot;a&quot;..&quot;z&quot;).cover?(&quot;5&quot;)    #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001113_source')" id="l_M001113_source">show</a>
                        
                    </p>
                    <div id="M001113_source" class="dyn-source">
                        <pre>static VALUE
range_cover(VALUE range, VALUE val)
{
    VALUE beg, end;

    beg = RANGE_BEG(range);
    end = RANGE_END(range);
    if (r_le(beg, val)) {
  if (EXCL(range)) {
      if (r_lt(val, end))
    return Qtrue;
  }
  else {
      if (r_le(val, end))
    return Qtrue;
  }
    }
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001100">
                    
                    <a name="M001100"></a><b>rng.each {| i | block } &rarr; rng
rng.each                &rarr; an_enumerator
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Iterates over the elements <em>rng</em>, passing each in turn to the block.
You can only iterate if the start object of the range supports the
<tt>succ</tt> method (which means that you can&#8217;t iterate over ranges
of <tt>Float</tt> objects).
</p>
<p>
If no block is given, an enumerator is returned instead.
</p>
<pre>
   (10..15).each do |n|
      print n, ' '
   end
</pre>
<p>
<em>produces:</em>
</p>
<pre>
   10 11 12 13 14 15
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001100_source')" id="l_M001100_source">show</a>
                        
                    </p>
                    <div id="M001100_source" class="dyn-source">
                        <pre>static VALUE
range_each(VALUE range)
{
    VALUE beg, end;

    RETURN_ENUMERATOR(range, 0, 0);

    beg = RANGE_BEG(range);
    end = RANGE_END(range);

    if (FIXNUM_P(beg) &amp;&amp; FIXNUM_P(end)) { /* fixnums are special */
  long lim = FIX2LONG(end);
  long i;

  if (!EXCL(range))
      lim += 1;
  for (i = FIX2LONG(beg); i &lt; lim; i++) {
      rb_yield(LONG2FIX(i));
  }
    }
    else if (SYMBOL_P(beg) &amp;&amp; SYMBOL_P(end)) { /* symbols are special */
  VALUE args[2];

  args[0] = rb_sym_to_s(end);
  args[1] = EXCL(range) ? Qtrue : Qfalse;
  rb_block_call(rb_sym_to_s(beg), rb_intern(&quot;upto&quot;), 2, args, sym_each_i, 0);
    }
    else {
  VALUE tmp = rb_check_string_type(beg);

  if (!NIL_P(tmp)) {
      VALUE args[2];

      args[0] = end;
      args[1] = EXCL(range) ? Qtrue : Qfalse;
      rb_block_call(tmp, rb_intern(&quot;upto&quot;), 2, args, rb_yield, 0);
  }
  else {
      if (!discrete_object_p(beg)) {
    rb_raise(rb_eTypeError, &quot;can't iterate from %s&quot;,
       rb_obj_classname(beg));
      }
      range_each_func(range, each_i, NULL);
  }
    }
    return range;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001103">
                    
                    <a name="M001103"></a><b>rng.end    &rarr; obj
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the object that defines the end of <em>rng</em>.
</p>
<pre>
   (1..10).end    #=&gt; 10
   (1...10).end   #=&gt; 10
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001103_source')" id="l_M001103_source">show</a>
                        
                    </p>
                    <div id="M001103_source" class="dyn-source">
                        <pre>static VALUE
range_end(VALUE range)
{
    return RANGE_END(range);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001098">
                    
                    <a name="M001098"></a><b>rng.eql?(obj)    &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> only if <em>obj</em> is a <a
href="Range.html">Range</a>, has equivalent beginning and end items (by
comparing them with <a href="Range.html#M001098">eql?</a>), and has the
same <a href="Range.html#M001110">exclude_end?</a> setting as <em>rng</em>.
</p>
<pre>
  (0..2).eql?(0..2)            #=&gt; true
  (0..2).eql?(Range.new(0,2))  #=&gt; true
  (0..2).eql?(0...2)           #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001098_source')" id="l_M001098_source">show</a>
                        
                    </p>
                    <div id="M001098_source" class="dyn-source">
                        <pre>static VALUE
range_eql(VALUE range, VALUE obj)
{
    if (range == obj)
  return Qtrue;
    if (!rb_obj_is_kind_of(obj, rb_cRange))
  return Qfalse;
    return rb_exec_recursive_paired(recursive_eql, range, obj, obj);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001110">
                    
                    <a name="M001110"></a><b>rng.exclude_end?    &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>rng</em> excludes its end value.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001110_source')" id="l_M001110_source">show</a>
                        
                    </p>
                    <div id="M001110_source" class="dyn-source">
                        <pre>static VALUE
range_exclude_end_p(VALUE range)
{
    return EXCL(range) ? Qtrue : Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001104">
                    
                    <a name="M001104"></a><b>rng.first    &rarr; obj
rng.first(n) &rarr; an_array
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the first object in <em>rng</em>, or the first <tt>n</tt> elements.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001104_source')" id="l_M001104_source">show</a>
                        
                    </p>
                    <div id="M001104_source" class="dyn-source">
                        <pre>static VALUE
range_first(int argc, VALUE *argv, VALUE range)
{
    VALUE n, ary[2];

    if (argc == 0) return RANGE_BEG(range);

    rb_scan_args(argc, argv, &quot;1&quot;, &amp;n);
    ary[0] = n;
    ary[1] = rb_ary_new2(NUM2LONG(n));
    rb_block_call(range, rb_intern(&quot;each&quot;), 0, 0, first_i, (VALUE)ary);

    return ary[1];
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001099">
                    
                    <a name="M001099"></a><b>rng.hash    &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Generate a hash value such that two ranges with the same start and end
points, and the same value for the &#8220;exclude end&#8221; flag, generate
the same hash value.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001099_source')" id="l_M001099_source">show</a>
                        
                    </p>
                    <div id="M001099_source" class="dyn-source">
                        <pre>static VALUE
range_hash(VALUE range)
{
    return rb_exec_recursive_outer(recursive_hash, range, 0);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001112">
                    
                    <a name="M001112"></a><b>rng.member?(val)  &rarr;  true or false
rng.include?(val) &rarr;  true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>obj</em> is an element of <em>rng</em>,
<tt>false</tt> otherwise. If beg and end are numeric, comparison is done
according magnitude of values.
</p>
<pre>
   (&quot;a&quot;..&quot;z&quot;).include?(&quot;g&quot;)  # -&gt; true
   (&quot;a&quot;..&quot;z&quot;).include?(&quot;A&quot;)  # -&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001112_source')" id="l_M001112_source">show</a>
                        
                    </p>
                    <div id="M001112_source" class="dyn-source">
                        <pre>static VALUE
range_include(VALUE range, VALUE val)
{
    VALUE beg = RANGE_BEG(range);
    VALUE end = RANGE_END(range);
    int nv = FIXNUM_P(beg) || FIXNUM_P(end) ||
       rb_obj_is_kind_of(beg, rb_cNumeric) ||
       rb_obj_is_kind_of(end, rb_cNumeric);

    if (nv ||
  !NIL_P(rb_check_to_integer(beg, &quot;to_int&quot;)) ||
  !NIL_P(rb_check_to_integer(end, &quot;to_int&quot;))) {
  if (r_le(beg, val)) {
      if (EXCL(range)) {
    if (r_lt(val, end))
        return Qtrue;
      }
      else {
    if (r_le(val, end))
        return Qtrue;
      }
  }
  return Qfalse;
    }
    else if (TYPE(beg) == T_STRING &amp;&amp; TYPE(end) == T_STRING &amp;&amp;
       RSTRING_LEN(beg) == 1 &amp;&amp; RSTRING_LEN(end) == 1) {
  if (NIL_P(val)) return Qfalse;
  if (TYPE(val) == T_STRING) {
      if (RSTRING_LEN(val) == 0 || RSTRING_LEN(val) &gt; 1)
    return Qfalse;
      else {
    char b = RSTRING_PTR(beg)[0];
    char e = RSTRING_PTR(end)[0];
    char v = RSTRING_PTR(val)[0];

    if (ISASCII(b) &amp;&amp; ISASCII(e) &amp;&amp; ISASCII(v)) {
        if (b &lt;= v &amp;&amp; v &lt; e) return Qtrue;
        if (!EXCL(range) &amp;&amp; v == e) return Qtrue;
        return Qfalse;
    }
      }
  }
    }
    /* TODO: ruby_frame-&gt;this_func = rb_intern(&quot;include?&quot;); */
    return rb_call_super(1, &amp;val);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001109">
                    
                    <a name="M001109"></a><b>rng.inspect  &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Convert this range object to a printable form (using <tt>inspect</tt> to
convert the start and end objects).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001109_source')" id="l_M001109_source">show</a>
                        
                    </p>
                    <div id="M001109_source" class="dyn-source">
                        <pre>static VALUE
range_inspect(VALUE range)
{
    return rb_exec_recursive(inspect_range, range, 0);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001105">
                    
                    <a name="M001105"></a><b>rng.last    &rarr; obj
rng.last(n) &rarr; an_array
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the last object in <em>rng</em>, or the last <tt>n</tt> elements.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001105_source')" id="l_M001105_source">show</a>
                        
                    </p>
                    <div id="M001105_source" class="dyn-source">
                        <pre>static VALUE
range_last(int argc, VALUE *argv, VALUE range)
{
    if (argc == 0) return RANGE_END(range);
    return rb_ary_last(argc, argv, rb_Array(range));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001107">
                    
                    <a name="M001107"></a><b>rng.max                    &rarr; obj
rng.max {| a,b | block }   &rarr; obj
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the maximum value in <em>rng</em>. The second uses the block to
compare values. Returns nil if the first value in range is larger than the
last value.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001107_source')" id="l_M001107_source">show</a>
                        
                    </p>
                    <div id="M001107_source" class="dyn-source">
                        <pre>static VALUE
range_max(VALUE range)
{
    VALUE e = RANGE_END(range);
    int nm = FIXNUM_P(e) || rb_obj_is_kind_of(e, rb_cNumeric);

    if (rb_block_given_p() || (EXCL(range) &amp;&amp; !nm)) {
  return rb_call_super(0, 0);
    }
    else {
  VALUE b = RANGE_BEG(range);
  int c = rb_cmpint(rb_funcall(b, id_cmp, 1, e), b, e);

  if (c &gt; 0)
      return Qnil;
  if (EXCL(range)) {
      if (!FIXNUM_P(e) &amp;&amp; !rb_obj_is_kind_of(e, rb_cInteger)) {
    rb_raise(rb_eTypeError, &quot;cannot exclude non Integer end value&quot;);
      }
      if (c == 0) return Qnil;
      if (!FIXNUM_P(b) &amp;&amp; !rb_obj_is_kind_of(b,rb_cInteger)) {
    rb_raise(rb_eTypeError, &quot;cannot exclude end value with non Integer begin value&quot;);
      }
      if (FIXNUM_P(e)) {
    return LONG2NUM(FIX2LONG(e) - 1);
      }
      return rb_funcall(e, '-', 1, INT2FIX(1));
  }
  return e;
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001111">
                    
                    <a name="M001111"></a><b>rng.member?(val)  &rarr;  true or false
rng.include?(val) &rarr;  true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>obj</em> is an element of <em>rng</em>,
<tt>false</tt> otherwise. If beg and end are numeric, comparison is done
according magnitude of values.
</p>
<pre>
   (&quot;a&quot;..&quot;z&quot;).include?(&quot;g&quot;)  # -&gt; true
   (&quot;a&quot;..&quot;z&quot;).include?(&quot;A&quot;)  # -&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001111_source')" id="l_M001111_source">show</a>
                        
                    </p>
                    <div id="M001111_source" class="dyn-source">
                        <pre>static VALUE
range_include(VALUE range, VALUE val)
{
    VALUE beg = RANGE_BEG(range);
    VALUE end = RANGE_END(range);
    int nv = FIXNUM_P(beg) || FIXNUM_P(end) ||
       rb_obj_is_kind_of(beg, rb_cNumeric) ||
       rb_obj_is_kind_of(end, rb_cNumeric);

    if (nv ||
  !NIL_P(rb_check_to_integer(beg, &quot;to_int&quot;)) ||
  !NIL_P(rb_check_to_integer(end, &quot;to_int&quot;))) {
  if (r_le(beg, val)) {
      if (EXCL(range)) {
    if (r_lt(val, end))
        return Qtrue;
      }
      else {
    if (r_le(val, end))
        return Qtrue;
      }
  }
  return Qfalse;
    }
    else if (TYPE(beg) == T_STRING &amp;&amp; TYPE(end) == T_STRING &amp;&amp;
       RSTRING_LEN(beg) == 1 &amp;&amp; RSTRING_LEN(end) == 1) {
  if (NIL_P(val)) return Qfalse;
  if (TYPE(val) == T_STRING) {
      if (RSTRING_LEN(val) == 0 || RSTRING_LEN(val) &gt; 1)
    return Qfalse;
      else {
    char b = RSTRING_PTR(beg)[0];
    char e = RSTRING_PTR(end)[0];
    char v = RSTRING_PTR(val)[0];

    if (ISASCII(b) &amp;&amp; ISASCII(e) &amp;&amp; ISASCII(v)) {
        if (b &lt;= v &amp;&amp; v &lt; e) return Qtrue;
        if (!EXCL(range) &amp;&amp; v == e) return Qtrue;
        return Qfalse;
    }
      }
  }
    }
    /* TODO: ruby_frame-&gt;this_func = rb_intern(&quot;include?&quot;); */
    return rb_call_super(1, &amp;val);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001106">
                    
                    <a name="M001106"></a><b>rng.min                    &rarr; obj
rng.min {| a,b | block }   &rarr; obj
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the minimum value in <em>rng</em>. The second uses the block to
compare values. Returns nil if the first value in range is larger than the
last value.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001106_source')" id="l_M001106_source">show</a>
                        
                    </p>
                    <div id="M001106_source" class="dyn-source">
                        <pre>static VALUE
range_min(VALUE range)
{
    if (rb_block_given_p()) {
  return rb_call_super(0, 0);
    }
    else {
  VALUE b = RANGE_BEG(range);
  VALUE e = RANGE_END(range);
  int c = rb_cmpint(rb_funcall(b, id_cmp, 1, e), b, e);

  if (c &gt; 0 || (c == 0 &amp;&amp; EXCL(range)))
      return Qnil;
  return b;
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003606">
                    
                    <a name="M003606"></a><b>pretty_print</b>(q)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003606_source')" id="l_M003606_source">show</a>
                        
                    </p>
                    <div id="M003606_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/pp.rb, line 390</span>
390:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pretty_print</span>(<span class="ruby-identifier">q</span>)
391:     <span class="ruby-identifier">q</span>.<span class="ruby-identifier">pp</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">begin</span>
392:     <span class="ruby-identifier">q</span>.<span class="ruby-identifier">breakable</span> <span class="ruby-value str">''</span>
393:     <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">exclude_end?</span> <span class="ruby-value">? </span><span class="ruby-value str">'...'</span> <span class="ruby-operator">:</span> <span class="ruby-value str">'..'</span>)
394:     <span class="ruby-identifier">q</span>.<span class="ruby-identifier">breakable</span> <span class="ruby-value str">''</span>
395:     <span class="ruby-identifier">q</span>.<span class="ruby-identifier">pp</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">end</span>
396:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001101">
                    
                    <a name="M001101"></a><b>rng.step(n=1) {| obj | block }    &rarr; rng
rng.step(n=1)                     &rarr; an_enumerator
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Iterates over <em>rng</em>, passing each <em>n</em>th element to the block.
If the range contains numbers, <em>n</em> is added for each iteration.
Otherwise <tt>step</tt> invokes <tt>succ</tt> to iterate through range
elements. The following code uses class <tt>Xs</tt>, which is defined in
the class-level documentation.
</p>
<p>
If no block is given, an enumerator is returned instead.
</p>
<pre>
   range = Xs.new(1)..Xs.new(10)
   range.step(2) {|x| puts x}
   range.step(3) {|x| puts x}
</pre>
<p>
<em>produces:</em>
</p>
<pre>
    1 x
    3 xxx
    5 xxxxx
    7 xxxxxxx
    9 xxxxxxxxx
    1 x
    4 xxxx
    7 xxxxxxx
   10 xxxxxxxxxx
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001101_source')" id="l_M001101_source">show</a>
                        
                    </p>
                    <div id="M001101_source" class="dyn-source">
                        <pre>static VALUE
range_step(int argc, VALUE *argv, VALUE range)
{
    VALUE b, e, step, tmp;

    RETURN_ENUMERATOR(range, argc, argv);

    b = RANGE_BEG(range);
    e = RANGE_END(range);
    if (argc == 0) {
  step = INT2FIX(1);
    }
    else {
  rb_scan_args(argc, argv, &quot;01&quot;, &amp;step);
  if (!rb_obj_is_kind_of(step, rb_cNumeric)) {
      step = rb_to_int(step);
  }
  if (rb_funcall(step, '&lt;', 1, INT2FIX(0))) {
      rb_raise(rb_eArgError, &quot;step can't be negative&quot;);
  }
  else if (!rb_funcall(step, '&gt;', 1, INT2FIX(0))) {
      rb_raise(rb_eArgError, &quot;step can't be 0&quot;);
  }
    }

    if (FIXNUM_P(b) &amp;&amp; FIXNUM_P(e) &amp;&amp; FIXNUM_P(step)) { /* fixnums are special */
  long end = FIX2LONG(e);
  long i, unit = FIX2LONG(step);

  if (!EXCL(range))
      end += 1;
  i = FIX2LONG(b);
  while (i &lt; end) {
      rb_yield(LONG2NUM(i));
      if (i + unit &lt; i) break;
      i += unit;
  }

    }
    else if (SYMBOL_P(b) &amp;&amp; SYMBOL_P(e)) { /* symbols are special */
  VALUE args[2], iter[2];

  args[0] = rb_sym_to_s(e);
  args[1] = EXCL(range) ? Qtrue : Qfalse;
  iter[0] = INT2FIX(1);
  iter[1] = step;
  rb_block_call(rb_sym_to_s(b), rb_intern(&quot;upto&quot;), 2, args, sym_step_i, (VALUE)iter);
    }
    else if (ruby_float_step(b, e, step, EXCL(range))) {
  /* done */
    }
    else if (rb_obj_is_kind_of(b, rb_cNumeric) ||
       !NIL_P(rb_check_to_integer(b, &quot;to_int&quot;)) ||
       !NIL_P(rb_check_to_integer(e, &quot;to_int&quot;))) {
  ID op = EXCL(range) ? '&lt;' : rb_intern(&quot;&lt;=&quot;);
  VALUE v = b;
  int i = 0;

  while (RTEST(rb_funcall(v, op, 1, e))) {
      rb_yield(v);
      i++;
      v = rb_funcall(b, '+', 1, rb_funcall(INT2NUM(i), '*', 1, step));
  }
    }
    else {
  tmp = rb_check_string_type(b);

  if (!NIL_P(tmp)) {
      VALUE args[2], iter[2];

      b = tmp;
      args[0] = e;
      args[1] = EXCL(range) ? Qtrue : Qfalse;
      iter[0] = INT2FIX(1);
      iter[1] = step;
      rb_block_call(b, rb_intern(&quot;upto&quot;), 2, args, step_i, (VALUE)iter);
  }
  else {
      VALUE args[2];

      if (!discrete_object_p(b)) {
    rb_raise(rb_eTypeError, &quot;can't iterate from %s&quot;,
       rb_obj_classname(b));
      }
      args[0] = INT2FIX(1);
      args[1] = step;
      range_each_func(range, step_i, args);
  }
    }
    return range;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M009207">
                    
                    <a name="M009207"></a><b>to_json</b>(*args)
                    
                </div>
                
                <div class="description">
                  <p>
Stores class name (<a href="Range.html">Range</a>) with <a
href="JSON.html">JSON</a> array of arguments <tt>a</tt> which include
<tt>first</tt> (integer), <tt>last</tt> (integer), and
<tt>exclude_end?</tt> (boolean) as <a href="JSON.html">JSON</a> string.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M009207_source')" id="l_M009207_source">show</a>
                        
                    </p>
                    <div id="M009207_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/json/lib/json/add/core.rb, line 158</span>
158:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_json</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
159:     <span class="ruby-identifier">as_json</span>.<span class="ruby-identifier">to_json</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
160:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001108">
                    
                    <a name="M001108"></a><b>rng.to_s   &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Convert this range object to a printable form.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001108_source')" id="l_M001108_source">show</a>
                        
                    </p>
                    <div id="M001108_source" class="dyn-source">
                        <pre>static VALUE
range_to_s(VALUE range)
{
    VALUE str, str2;

    str = rb_obj_as_string(RANGE_BEG(range));
    str2 = rb_obj_as_string(RANGE_END(range));
    str = rb_str_dup(str);
    rb_str_cat(str, &quot;...&quot;, EXCL(range) ? 3 : 2);
    rb_str_append(str, str2);
    OBJ_INFECT(str, str2);

    return str;
}</pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    