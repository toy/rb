<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Net::HTTP</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Net::HTTP 
            
                <span class="parent">&lt; 
                    
                    Protocol
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/net/http_rb.html">lib/net/http.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <h2>An <a href="HTTP.html">HTTP</a> client API for Ruby.</h2>
<p>
<a href="HTTP.html">Net::HTTP</a> provides a rich library which can be used
to build <a href="HTTP.html">HTTP</a> user-agents. For more details about
<a href="HTTP.html">HTTP</a> see [RFC2616](<a
href="http://www.ietf.org/rfc/rfc2616.txt">www.ietf.org/rfc/rfc2616.txt</a>)
</p>
<p>
<a href="HTTP.html">Net::HTTP</a> is designed to work closely with <a
href="../URI.html">URI</a>. URI::HTTP#host, URI::HTTP#port and <a
href="../URI/HTTP.html#M007835">URI::HTTP#request_uri</a> are designed to
work with <a href="HTTP.html">Net::HTTP</a>.
</p>
<p>
If you are only performing a few GET requests you should try <a
href="../OpenURI.html">OpenURI</a>.
</p>
<h2>Simple Examples</h2>
<p>
All examples assume you have loaded <a href="HTTP.html">Net::HTTP</a> with:
</p>
<pre>
  require 'net/http'
</pre>
<p>
This will also require &#8216;uri&#8217; so you don&#8217;t need to require
it separately.
</p>
<p>
The <a href="HTTP.html">Net::HTTP</a> methods in the following section do
not persist connections. They are not recommended if you are performing
many <a href="HTTP.html">HTTP</a> requests.
</p>
<h3>GET</h3>
<pre>
  Net::HTTP.get('example.com', '/index.html') # =&gt; String
</pre>
<h3>GET by <a href="../URI.html">URI</a></h3>
<pre>
  uri = URI('http://example.com/index.html?count=10')
  Net::HTTP.get(uri) # =&gt; String
</pre>
<h3>GET with Dynamic Parameters</h3>
<pre>
  uri = URI('http://example.com/index.html')
  params = { :limit =&gt; 10, :page =&gt; 3 }
  uri.query = URI.encode_www_form(params)

  res = Net::HTTP.get_response(uri)
  puts res.body if res.is_a?(Net::HTTPSuccess)
</pre>
<h3>POST</h3>
<pre>
  uri = URI('http://www.example.com/search.cgi')
  res = Net::HTTP.post_form(uri, 'q' =&gt; 'ruby', 'max' =&gt; '50')
  puts res.body
</pre>
<h3>POST with Multiple Values</h3>
<pre>
  uri = URI('http://www.example.com/search.cgi')
  res = Net::HTTP.post_form(uri, 'q' =&gt; ['ruby', 'perl'], 'max' =&gt; '50')
  puts res.body
</pre>
<h2>How to use <a href="HTTP.html">Net::HTTP</a></h2>
<p>
The following example code can be used as the basis of a <a
href="HTTP.html">HTTP</a> user-agent which can perform a variety of request
types using persistent connections.
</p>
<pre>
  uri = URI('http://example.com/some_path?query=string')

  Net::HTTP.start(uri.host, uri.port) do |http|
    request = Net::HTTP::Get.new uri.request_uri

    response = http.request request # Net::HTTPResponse object
  end
</pre>
<p>
Net::HTTP::start immediately creates a connection to an <a
href="HTTP.html">HTTP</a> server which is kept open for the duration of the
block. The connection will remain open for multiple requests in the block
if the server indicates it supports persistent connections.
</p>
<p>
The request types <a href="HTTP.html">Net::HTTP</a> supports are listed
below in the section &#8220;<a href="HTTP.html">HTTP</a> Request
Classes&#8221;.
</p>
<p>
If you wish to re-use a connection across multiple <a
href="HTTP.html">HTTP</a> requests without automatically closing it you can
use ::new instead of ::start. <a href="HTTP.html#M003184">request</a> will
automatically open a connection to the server if one is not currently open.
You can manually close the connection with <a
href="HTTP.html#M003122">finish</a>.
</p>
<h3>Response <a href="../Data.html">Data</a></h3>
<pre>
  uri = URI('http://example.com/index.html')
  res = Net::HTTP.get_response(uri)

  # Headers
  res['Set-Cookie']            # =&gt; String
  res.get_fields('set-cookie') # =&gt; Array
  res.to_hash['set-cookie']    # =&gt; Array
  puts &quot;Headers: #{res.to_hash.inspect}&quot;

  # Status
  puts res.code       # =&gt; '200'
  puts res.message    # =&gt; 'OK'
  puts res.class.name # =&gt; 'HTTPOK'

  # Body
  puts res.body if res.response_body_permitted?
</pre>
<h3>Following Redirection</h3>
<p>
Each <a href="HTTPResponse.html">Net::HTTPResponse</a> object belongs to a
class for its response code.
</p>
<p>
For example, all 2XX responses are instances of a Net::HTTPSuccess
subclass, a 3XX response is an instance of a Net::HTTPRedirection subclass
and a 200 response is an instance of the Net::HTTPOK class. For details of
response classes, see the section &#8220;<a href="HTTP.html">HTTP</a>
Response Classes&#8221; below.
</p>
<p>
Using a case statement you can handle various types of responses properly:
</p>
<pre>
  def fetch(uri_str, limit = 10)
    # You should choose a better exception.
    raise ArgumentError, 'too many HTTP redirects' if limit == 0

    response = Net::HTTP.get_response(URI(uri_str))

    case response
    when Net::HTTPSuccess then
      response
    when Net::HTTPRedirection then
      location = response['location']
      warn &quot;redirected to #{location}&quot;
      fetch(location, limit - 1)
    else
      response.value
    end
  end

  print fetch('http://www.ruby-lang.org')
</pre>
<h3>POST</h3>
<p>
A POST can be made using the <a href="HTTP/Post.html">Net::HTTP::Post</a>
request class. This example creates a urlencoded POST body:
</p>
<pre>
  uri = URI('http://www.example.com/todo.cgi')
  req = Net::HTTP::Post.new(uri.path)
  req.set_form_data('from' =&gt; '2005-01-01', 'to' =&gt; '2005-03-31')

  res = Net::HTTP.start(uri.hostname, uri.port) do |http|
    http.request(req)
  end

  case res
  when Net::HTTPSuccess, Net::HTTPRedirection
    # OK
  else
    res.value
  end
</pre>
<p>
At this time <a href="HTTP.html">Net::HTTP</a> does not support
multipart/form-data. To send multipart/form-data use Net::HTTPRequest#body=
and Net::HTTPRequest#content_type=:
</p>
<pre>
  req = Net::HTTP::Post.new(uri.path)
  req.body = multipart_data
  req.content_type = 'multipart/form-data'
</pre>
<p>
Other requests that can contain a body such as PUT can be created in the
same way using the corresponding request class (<a
href="HTTP/Put.html">Net::HTTP::Put</a>).
</p>
<h3>Setting Headers</h3>
<p>
The following example performs a conditional GET using the
If-Modified-Since header. If the files has not been modified since the time
in the header a Not Modified response will be returned. See RFC 2616
section 9.3 for further details.
</p>
<pre>
  uri = URI('http://example.com/cached_response')
  file = File.stat 'cached_response'

  req = Net::HTTP::Get.new(uri.request_uri)
  req['If-Modified-Since'] = file.mtime.rfc2822

  res = Net::HTTP.start(uri.hostname, uri.port) {|http|
    http.request(req)
  }

  open 'cached_response', 'w' do |io|
    io.write res.body
  end if res.is_a?(Net::HTTPSuccess)
</pre>
<h3>Basic Authentication</h3>
<p>
Basic authentication is performed according to [RFC2617](<a
href="http://www.ietf.org/rfc/rfc2617.txt">www.ietf.org/rfc/rfc2617.txt</a>)
</p>
<pre>
  uri = URI('http://example.com/index.html?key=value')

  req = Net::HTTP::Get.new(uri.request_uri)
  req.basic_auth 'user', 'pass'

  res = Net::HTTP.start(uri.hostname, uri.port) {|http|
    http.request(req)
  }
  puts res.body
</pre>
<h3>Streaming Response Bodies</h3>
<p>
By default <a href="HTTP.html">Net::HTTP</a> reads an entire response into
memory. If you are handling large files or wish to implement a progress bar
you can instead stream the body directly to an <a href="../IO.html">IO</a>.
</p>
<pre>
  uri = URI('http://example.com/large_file')

  Net::HTTP.start(uri.host, uri.port) do |http|
    request = Net::HTTP::Get.new uri.request_uri

    http.request request do |response|
      open 'large_file', 'w' do |io|
        response.read_body do |chunk|
          io.write chunk
        end
      end
    end
  end
</pre>
<h3>HTTPS</h3>
<p>
HTTPS is enabled for an <a href="HTTP.html">HTTP</a> connection by <a
href="HTTP.html#M003116">Net::HTTP#use_ssl=</a>.
</p>
<pre>
  uri = URI('https://secure.example.com/some_path?query=string')

  Net::HTTP.start(uri.host, uri.port,
    :use_ssl =&gt; uri.scheme == 'https').start do |http|
    request = Net::HTTP::Get.new uri.request_uri

    response = http.request request # Net::HTTPResponse object
  end
</pre>
<p>
In previous versions of ruby you would need to require
&#8216;net/https&#8217; to use HTTPS. This is no longer true.
</p>
<h3>Proxies</h3>
<p>
Net::HTTP::Proxy has the same methods as <a href="HTTP.html">Net::HTTP</a>
but its instances always connect via the proxy instead of directly to the
given host.
</p>
<pre>
  proxy_addr = 'your.proxy.host'
  proxy_port = 8080

  Net::HTTP::Proxy(proxy_addr, proxy_port).start('www.example.com') {|http|
    # always connect to your.proxy.addr:8080
  }
</pre>
<p>
Net::HTTP::Proxy returns a <a href="HTTP.html">Net::HTTP</a> instance when
proxy_addr is nil so there is no need for conditional code.
</p>
<p>
See Net::HTTP::Proxy for further details and examples such as proxies that
require a username and password.
</p>
<h2><a href="HTTP.html">HTTP</a> Request Classes</h2>
<p>
Here is the <a href="HTTP.html">HTTP</a> request class hierarchy.
</p>
<ul>
<li><a href="HTTPRequest.html">Net::HTTPRequest</a>

<ul>
<li><a href="HTTP/Get.html">Net::HTTP::Get</a>

</li>
<li><a href="HTTP/Head.html">Net::HTTP::Head</a>

</li>
<li><a href="HTTP/Post.html">Net::HTTP::Post</a>

</li>
<li><a href="HTTP/Put.html">Net::HTTP::Put</a>

</li>
<li><a href="HTTP/Proppatch.html">Net::HTTP::Proppatch</a>

</li>
<li><a href="HTTP/Lock.html">Net::HTTP::Lock</a>

</li>
<li><a href="HTTP/Unlock.html">Net::HTTP::Unlock</a>

</li>
<li><a href="HTTP/Options.html">Net::HTTP::Options</a>

</li>
<li><a href="HTTP/Propfind.html">Net::HTTP::Propfind</a>

</li>
<li><a href="HTTP/Delete.html">Net::HTTP::Delete</a>

</li>
<li><a href="HTTP/Move.html">Net::HTTP::Move</a>

</li>
<li><a href="HTTP/Copy.html">Net::HTTP::Copy</a>

</li>
<li><a href="HTTP/Mkcol.html">Net::HTTP::Mkcol</a>

</li>
<li><a href="HTTP/Trace.html">Net::HTTP::Trace</a>

</li>
</ul>
</li>
</ul>
<h2><a href="HTTP.html">HTTP</a> Response Classes</h2>
<p>
Here is <a href="HTTP.html">HTTP</a> response class hierarchy. All classes
are defined in <a href="../Net.html">Net</a> module and are subclasses of
<a href="HTTPResponse.html">Net::HTTPResponse</a>.
</p>
<table>
<tr><td valign="top">HTTPUnknownResponse:</td><td>For unhandled <a href="HTTP.html">HTTP</a> extensions

</td></tr>
<tr><td valign="top">HTTPInformation:</td><td>1xx

</td></tr>
</table>
<pre>
  HTTPContinue::                        100
  HTTPSwitchProtocol::                  101
</pre>
<table>
<tr><td valign="top">HTTPSuccess:</td><td>2xx

</td></tr>
</table>
<pre>
  HTTPOK::                              200
  HTTPCreated::                         201
  HTTPAccepted::                        202
  HTTPNonAuthoritativeInformation::     203
  HTTPNoContent::                       204
  HTTPResetContent::                    205
  HTTPPartialContent::                  206
</pre>
<table>
<tr><td valign="top">HTTPRedirection:</td><td>3xx

</td></tr>
</table>
<pre>
  HTTPMultipleChoice::                  300
  HTTPMovedPermanently::                301
  HTTPFound::                           302
  HTTPSeeOther::                        303
  HTTPNotModified::                     304
  HTTPUseProxy::                        305
  HTTPTemporaryRedirect::               307
</pre>
<table>
<tr><td valign="top">HTTPClientError:</td><td>4xx

</td></tr>
</table>
<pre>
  HTTPBadRequest::                      400
  HTTPUnauthorized::                    401
  HTTPPaymentRequired::                 402
  HTTPForbidden::                       403
  HTTPNotFound::                        404
  HTTPMethodNotAllowed::                405
  HTTPNotAcceptable::                   406
  HTTPProxyAuthenticationRequired::     407
  HTTPRequestTimeOut::                  408
  HTTPConflict::                        409
  HTTPGone::                            410
  HTTPLengthRequired::                  411
  HTTPPreconditionFailed::              412
  HTTPRequestEntityTooLarge::           413
  HTTPRequestURITooLong::               414
  HTTPUnsupportedMediaType::            415
  HTTPRequestedRangeNotSatisfiable::    416
  HTTPExpectationFailed::               417
</pre>
<table>
<tr><td valign="top">HTTPServerError:</td><td>5xx

</td></tr>
</table>
<pre>
  HTTPInternalServerError::             500
  HTTPNotImplemented::                  501
  HTTPBadGateway::                      502
  HTTPServiceUnavailable::              503
  HTTPGatewayTimeOut::                  504
  HTTPVersionNotSupported::             505
</pre>
<p>
There is also the Net::HTTPBadResponse exception which is raised when there
is a protocol error.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M003204">D</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M003124">Proxy</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M003114">active?</a>,</li>
                
                <li><a href="#M003203">addr_port</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M003192">begin_transport</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M003135">conn_address</a>,</li>
                
                <li><a href="#M003136">conn_port</a>,</li>
                
                <li><a href="#M003120">connect</a>,</li>
                
                <li><a href="#M003112">continue_timeout=</a>,</li>
                
                <li><a href="#M003164">copy</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M003101">default_port</a>,</li>
                
                <li><a href="#M003160">delete</a>,</li>
                
                <li><a href="#M003123">do_finish</a>,</li>
                
                <li><a href="#M003119">do_start</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M003137">edit_path</a>,</li>
                
                <li><a href="#M003193">end_transport</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M003122">finish</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M003142">get</a>,</li>
                
                <li><a href="#M003098">get</a>,</li>
                
                <li><a href="#M003177">get2</a>,</li>
                
                <li><a href="#M003097">get_print</a>,</li>
                
                <li><a href="#M003099">get_response</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M003148">head</a>,</li>
                
                <li><a href="#M003179">head2</a>,</li>
                
                <li><a href="#M003102">http_default_port</a>,</li>
                
                <li><a href="#M003103">https_default_port</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M003109">inspect</a></li>
                
            </ul>
        </dd>
    
        <dt>K</dt>
        <dd>
            <ul>
                
                <li><a href="#M003197">keep_alive?</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M003154">lock</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M003165">mkcol</a>,</li>
                
                <li><a href="#M003163">move</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M003108">new</a>,</li>
                
                <li><a href="#M003106">new</a>,</li>
                
                <li><a href="#M003107">newobj</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M003121">on_connect</a>,</li>
                
                <li><a href="#M003158">options</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M003151">patch</a>,</li>
                
                <li><a href="#M003117">peer_cert</a>,</li>
                
                <li><a href="#M003149">post</a>,</li>
                
                <li><a href="#M003180">post2</a>,</li>
                
                <li><a href="#M003100">post_form</a>,</li>
                
                <li><a href="#M003159">propfind</a>,</li>
                
                <li><a href="#M003153">proppatch</a>,</li>
                
                <li><a href="#M003126">proxy?</a>,</li>
                
                <li><a href="#M003127">proxy_address</a>,</li>
                
                <li><a href="#M003125">proxy_class?</a>,</li>
                
                <li><a href="#M003130">proxy_pass</a>,</li>
                
                <li><a href="#M003128">proxy_port</a>,</li>
                
                <li><a href="#M003129">proxy_user</a>,</li>
                
                <li><a href="#M003131">proxyaddr</a>,</li>
                
                <li><a href="#M003132">proxyport</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M003111">read_timeout=</a>,</li>
                
                <li><a href="#M003184">request</a>,</li>
                
                <li><a href="#M003170">request_get</a>,</li>
                
                <li><a href="#M003173">request_head</a>,</li>
                
                <li><a href="#M003175">request_post</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M003187">send_entity</a>,</li>
                
                <li><a href="#M003181">send_request</a>,</li>
                
                <li><a href="#M003110">set_debug_output</a>,</li>
                
                <li><a href="#M003200">sspi_auth</a>,</li>
                
                <li><a href="#M003198">sspi_auth?</a>,</li>
                
                <li><a href="#M003105">start</a>,</li>
                
                <li><a href="#M003118">start</a>,</li>
                
                <li><a href="#M003113">started?</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M003169">trace</a>,</li>
                
                <li><a href="#M003188">transport_request</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M003155">unlock</a>,</li>
                
                <li><a href="#M003116">use_ssl=</a>,</li>
                
                <li><a href="#M003115">use_ssl?</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M003094">version_1_2</a>,</li>
                
                <li><a href="#M003095">version_1_2?</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">MODULE</span> <a href="HTTP/ProxyDelta.html">Net::HTTP::ProxyDelta</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Copy.html">Net::HTTP::Copy</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Delete.html">Net::HTTP::Delete</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Get.html">Net::HTTP::Get</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Head.html">Net::HTTP::Head</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Lock.html">Net::HTTP::Lock</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Mkcol.html">Net::HTTP::Mkcol</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Move.html">Net::HTTP::Move</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Options.html">Net::HTTP::Options</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Patch.html">Net::HTTP::Patch</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Post.html">Net::HTTP::Post</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Propfind.html">Net::HTTP::Propfind</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Proppatch.html">Net::HTTP::Proppatch</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Put.html">Net::HTTP::Put</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Trace.html">Net::HTTP::Trace</a></li>
        
        <li><span class="type">CLASS</span> <a href="HTTP/Unlock.html">Net::HTTP::Unlock</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">SSL_ATTRIBUTES</td>
            <td>=</td>
            <td class="attr-value">%w(       ssl_version key cert ca_file ca_path cert_store ciphers       verify_mode verify_callback verify_depth ssl_timeout     )</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>address</td>
            <td class='attr-desc'><p>
The DNS host name or IP address to connect to.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>port</td>
            <td class='attr-desc'><p>
The port number to connect to.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>open_timeout</td>
            <td class='attr-desc'><p>
Number of seconds to wait for the connection to open. Any number may be
used, including Floats for fractional seconds. If the <a
href="HTTP.html">HTTP</a> object cannot open a connection in this many
seconds, it raises a TimeoutError exception.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>read_timeout</td>
            <td class='attr-desc'><p>
Number of seconds to wait for one block to be read (via one read(2) call).
Any number may be used, including Floats for fractional seconds. If the <a
href="HTTP.html">HTTP</a> object cannot read data in this many seconds, it
raises a TimeoutError exception.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>continue_timeout</td>
            <td class='attr-desc'><p>
Seconds to wait for 100 Continue response. If the <a
href="HTTP.html">HTTP</a> object does not receive a response in this many
seconds it sends the request body.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>close_on_empty_response</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>ca_file</td>
            <td class='attr-desc'><p>
Sets path of a CA certification file in PEM format.
</p>
<p>
The file can contain several CA certificates.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>ca_path</td>
            <td class='attr-desc'><p>
Sets path of a CA certification directory containing certifications in PEM
format.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>cert</td>
            <td class='attr-desc'><p>
Sets an <a
href="../OpenSSL/X509/Certificate.html">OpenSSL::X509::Certificate</a>
object as client certificate. (This method is appeared in Michal
Rokos&#8217;s <a href="../OpenSSL.html">OpenSSL</a> extension).
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>cert_store</td>
            <td class='attr-desc'><p>
Sets the X509::Store to verify peer certificate.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>ciphers</td>
            <td class='attr-desc'><p>
Sets the available ciphers. See <a
href="../OpenSSL/SSL/SSLContext.html#M009636">OpenSSL::SSL::SSLContext#ciphers=</a>
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>key</td>
            <td class='attr-desc'><p>
Sets an <a href="../OpenSSL/PKey/RSA.html">OpenSSL::PKey::RSA</a> or <a
href="../OpenSSL/PKey/DSA.html">OpenSSL::PKey::DSA</a> object. (This method
is appeared in Michal Rokos&#8217;s <a href="../OpenSSL.html">OpenSSL</a>
extension.)
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>ssl_timeout</td>
            <td class='attr-desc'><p>
Sets the SSL timeout seconds.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>ssl_version</td>
            <td class='attr-desc'><p>
Sets the SSL version. See <a
href="../OpenSSL/SSL/SSLContext.html#M009634">OpenSSL::SSL::SSLContext#ssl_version=</a>
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>verify_callback</td>
            <td class='attr-desc'><p>
Sets the verify callback for the server certification verification.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>verify_depth</td>
            <td class='attr-desc'><p>
Sets the maximum depth for the certificate chain verification.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>verify_mode</td>
            <td class='attr-desc'><p>
Sets the flags for server the certification verification at beginning of
SSL/TLS session.
</p>
<p>
OpenSSL::SSL::VERIFY_NONE or OpenSSL::SSL::VERIFY_PEER are acceptable.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>proxy_address</td>
            <td class='attr-desc'><p>
Address of proxy host. If <a href="HTTP.html">Net::HTTP</a> does not use a
proxy, nil.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>proxy_port</td>
            <td class='attr-desc'><p>
Port number of proxy host. If <a href="HTTP.html">Net::HTTP</a> does not
use a proxy, nil.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>proxy_user</td>
            <td class='attr-desc'><p>
User name for accessing proxy. If <a href="HTTP.html">Net::HTTP</a> does
not use a proxy, nil.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>proxy_pass</td>
            <td class='attr-desc'><p>
User password for accessing proxy. If <a href="HTTP.html">Net::HTTP</a>
does not use a proxy, nil.
</p></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M003124">
                    
                    <a name="M003124"></a><b>Proxy</b>(p_addr, p_port = nil, p_user = nil, p_pass = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Creates an <a href="HTTP.html">HTTP</a> proxy class which behaves like <a
href="HTTP.html">Net::HTTP</a>, but performs all access via the specified
proxy.
</p>
<p>
The arguments are the DNS name or IP address of the proxy host, the port to
use to access the proxy, and a username and password if authorization is
required to use the proxy.
</p>
<p>
You can replace any use of the <a href="HTTP.html">Net::HTTP</a> class with
use of the proxy class created.
</p>
<p>
If <tt>p_addr</tt> is nil, this method returns self (a <a
href="HTTP.html">Net::HTTP</a> object).
</p>
<pre>
  # Example
  proxy_class = Net::HTTP::Proxy('proxy.example.com', 8080)

  proxy_class.start('www.ruby-lang.org') {|http|
    # connecting proxy.foo.org:8080
  }
</pre>
<p>
You may use them to work with authorization-enabled proxies:
</p>
<pre>
  proxy_host = 'your.proxy.example'
  proxy_port = 8080
  proxy_user = 'user'
  proxy_pass = 'pass'

  proxy = Net::HTTP::Proxy(proxy_host, proxy_port, proxy_user, proxy_pass)
  proxy.start('www.example.com') { |http|
    # always connect to your.proxy.example:8080 using specified username
    # and password
  }
</pre>
<p>
Note that net/http does not use the HTTP_PROXY environment variable. If you
want to use a proxy, you must set it explicitly.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003124_source')" id="l_M003124_source">show</a>
                        
                    </p>
                    <div id="M003124_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 879</span>
879:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-constant">Proxy</span>(<span class="ruby-identifier">p_addr</span>, <span class="ruby-identifier">p_port</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">p_user</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">p_pass</span> = <span class="ruby-keyword kw">nil</span>)
880:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">p_addr</span>
881:       <span class="ruby-identifier">delta</span> = <span class="ruby-constant">ProxyDelta</span>
882:       <span class="ruby-identifier">proxyclass</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
883:       <span class="ruby-identifier">proxyclass</span>.<span class="ruby-identifier">module_eval</span> {
884:         <span class="ruby-identifier">include</span> <span class="ruby-identifier">delta</span>
885:         <span class="ruby-comment cmt"># with proxy</span>
886:         <span class="ruby-ivar">@is_proxy_class</span> = <span class="ruby-keyword kw">true</span>
887:         <span class="ruby-ivar">@proxy_address</span> = <span class="ruby-identifier">p_addr</span>
888:         <span class="ruby-ivar">@proxy_port</span>    = <span class="ruby-identifier">p_port</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default_port</span>()
889:         <span class="ruby-ivar">@proxy_user</span>    = <span class="ruby-identifier">p_user</span>
890:         <span class="ruby-ivar">@proxy_pass</span>    = <span class="ruby-identifier">p_pass</span>
891:       }
892:       <span class="ruby-identifier">proxyclass</span>
893:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003101">
                    
                    <a name="M003101"></a><b>default_port</b>()
                    
                </div>
                
                <div class="description">
                  <p>
The default port to use for <a href="HTTP.html">HTTP</a> requests; defaults
to 80.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003101_source')" id="l_M003101_source">show</a>
                        
                    </p>
                    <div id="M003101_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 492</span>
492:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">default_port</span>
493:       <span class="ruby-identifier">http_default_port</span>()
494:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003098">
                    
                    <a name="M003098"></a><b>get</b>(uri_or_host, path = nil, port = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a GET request to the target and returns the <a
href="HTTP.html">HTTP</a> response as a string. The target can either be
specified as (<tt>uri</tt>), or as (<tt>host</tt>, <tt>path</tt>,
<tt>port</tt> = 80); so:
</p>
<pre>
   print Net::HTTP.get(URI('http://www.example.com/index.html'))
</pre>
<p>
or:
</p>
<pre>
   print Net::HTTP.get('www.example.com', '/index.html')
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003098_source')" id="l_M003098_source">show</a>
                        
                    </p>
                    <div id="M003098_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 430</span>
430:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword kw">nil</span>)
431:       <span class="ruby-identifier">get_response</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">port</span>).<span class="ruby-identifier">body</span>
432:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003097">
                    
                    <a name="M003097"></a><b>get_print</b>(uri_or_host, path = nil, port = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Gets the body text from the target and outputs it to $stdout. The target
can either be specified as (<tt>uri</tt>), or as (<tt>host</tt>,
<tt>path</tt>, <tt>port</tt> = 80); so:
</p>
<pre>
   Net::HTTP.get_print URI('http://www.example.com/index.html')
</pre>
<p>
or:
</p>
<pre>
   Net::HTTP.get_print 'www.example.com', '/index.html'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003097_source')" id="l_M003097_source">show</a>
                        
                    </p>
                    <div id="M003097_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 411</span>
411:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get_print</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword kw">nil</span>)
412:       <span class="ruby-identifier">get_response</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">port</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">res</span><span class="ruby-operator">|</span>
413:         <span class="ruby-identifier">res</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">chunk</span><span class="ruby-operator">|</span>
414:           <span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">print</span> <span class="ruby-identifier">chunk</span>
415:         <span class="ruby-keyword kw">end</span>
416:       }
417:       <span class="ruby-keyword kw">nil</span>
418:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003099">
                    
                    <a name="M003099"></a><b>get_response</b>(uri_or_host, path = nil, port = nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a GET request to the target and returns the <a
href="HTTP.html">HTTP</a> response as a <a
href="HTTPResponse.html">Net::HTTPResponse</a> object. The target can
either be specified as (<tt>uri</tt>), or as (<tt>host</tt>, <tt>path</tt>,
<tt>port</tt> = 80); so:
</p>
<pre>
   res = Net::HTTP.get_response(URI('http://www.example.com/index.html'))
   print res.body
</pre>
<p>
or:
</p>
<pre>
   res = Net::HTTP.get_response('www.example.com', '/index.html')
   print res.body
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003099_source')" id="l_M003099_source">show</a>
                        
                    </p>
                    <div id="M003099_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 446</span>
446:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get_response</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
447:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span>
448:         <span class="ruby-identifier">host</span> = <span class="ruby-identifier">uri_or_host</span>
449:         <span class="ruby-identifier">new</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span> <span class="ruby-operator">||</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">default_port</span>).<span class="ruby-identifier">start</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
450:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_get</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
451:         }
452:       <span class="ruby-keyword kw">else</span>
453:         <span class="ruby-identifier">uri</span> = <span class="ruby-identifier">uri_or_host</span>
454:         <span class="ruby-identifier">new</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">hostname</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>).<span class="ruby-identifier">start</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
455:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_get</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">request_uri</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
456:         }
457:       <span class="ruby-keyword kw">end</span>
458:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003102">
                    
                    <a name="M003102"></a><b>http_default_port</b>()
                    
                </div>
                
                <div class="description">
                  <p>
The default port to use for <a href="HTTP.html">HTTP</a> requests; defaults
to 80.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003102_source')" id="l_M003102_source">show</a>
                        
                    </p>
                    <div id="M003102_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 497</span>
497:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">http_default_port</span>
498:       <span class="ruby-value">80</span>
499:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003103">
                    
                    <a name="M003103"></a><b>https_default_port</b>()
                    
                </div>
                
                <div class="description">
                  <p>
The default port to use for HTTPS requests; defaults to 443.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003103_source')" id="l_M003103_source">show</a>
                        
                    </p>
                    <div id="M003103_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 502</span>
502:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">https_default_port</span>
503:       <span class="ruby-value">443</span>
504:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003108">
                    
                    <a name="M003108"></a><b>new</b>(address, port = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new <a href="HTTP.html">Net::HTTP</a> object for the specified
server address, without opening the TCP connection or initializing the <a
href="HTTP.html">HTTP</a> session. The <tt>address</tt> should be a DNS
hostname or IP address.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003108_source')" id="l_M003108_source">show</a>
                        
                    </p>
                    <div id="M003108_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 575</span>
575:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">address</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword kw">nil</span>)
576:       <span class="ruby-ivar">@address</span> = <span class="ruby-identifier">address</span>
577:       <span class="ruby-ivar">@port</span>    = (<span class="ruby-identifier">port</span> <span class="ruby-operator">||</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">default_port</span>)
578:       <span class="ruby-ivar">@curr_http_version</span> = <span class="ruby-constant">HTTPVersion</span>
579:       <span class="ruby-ivar">@no_keepalive_server</span> = <span class="ruby-keyword kw">false</span>
580:       <span class="ruby-ivar">@close_on_empty_response</span> = <span class="ruby-keyword kw">false</span>
581:       <span class="ruby-ivar">@socket</span>  = <span class="ruby-keyword kw">nil</span>
582:       <span class="ruby-ivar">@started</span> = <span class="ruby-keyword kw">false</span>
583:       <span class="ruby-ivar">@open_timeout</span> = <span class="ruby-keyword kw">nil</span>
584:       <span class="ruby-ivar">@read_timeout</span> = <span class="ruby-value">60</span>
585:       <span class="ruby-ivar">@continue_timeout</span> = <span class="ruby-keyword kw">nil</span>
586:       <span class="ruby-ivar">@debug_output</span> = <span class="ruby-keyword kw">nil</span>
587:       <span class="ruby-ivar">@use_ssl</span> = <span class="ruby-keyword kw">false</span>
588:       <span class="ruby-ivar">@ssl_context</span> = <span class="ruby-keyword kw">nil</span>
589:       <span class="ruby-ivar">@enable_post_connection_check</span> = <span class="ruby-keyword kw">true</span>
590:       <span class="ruby-ivar">@compression</span> = <span class="ruby-keyword kw">nil</span>
591:       <span class="ruby-ivar">@sspi_enabled</span> = <span class="ruby-keyword kw">false</span>
592:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-constant">SSL_ATTRIBUTES</span>)
593:         <span class="ruby-constant">SSL_ATTRIBUTES</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
594:           <span class="ruby-identifier">instance_variable_set</span> <span class="ruby-node">&quot;@#{name}&quot;</span>, <span class="ruby-keyword kw">nil</span>
595:         <span class="ruby-keyword kw">end</span>
596:       <span class="ruby-keyword kw">end</span>
597:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003106">
                    
                    <a name="M003106"></a><b>new</b>(address, port = nil, p_addr = nil, p_port = nil, p_user = nil, p_pass = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new <a href="HTTP.html">Net::HTTP</a> object without opening a
TCP connection or <a href="HTTP.html">HTTP</a> session. The
<tt>address</tt> should be a DNS hostname or IP address. If <tt>p_addr</tt>
is given, creates a <a href="HTTP.html">Net::HTTP</a> object with proxy
support.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="HTTP.html#M003107">newobj</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003106_source')" id="l_M003106_source">show</a>
                        
                    </p>
                    <div id="M003106_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 568</span>
568:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">address</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">p_addr</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">p_port</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">p_user</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">p_pass</span> = <span class="ruby-keyword kw">nil</span>)
569:       <span class="ruby-constant">Proxy</span>(<span class="ruby-identifier">p_addr</span>, <span class="ruby-identifier">p_port</span>, <span class="ruby-identifier">p_user</span>, <span class="ruby-identifier">p_pass</span>).<span class="ruby-identifier">newobj</span>(<span class="ruby-identifier">address</span>, <span class="ruby-identifier">port</span>)
570:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003107">
                    
                    <a name="M003107"></a><b>newobj</b>(address, port = nil, p_addr = nil, p_port = nil, p_user = nil, p_pass = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="HTTP.html#M003106">new</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003100">
                    
                    <a name="M003100"></a><b>post_form</b>(url, params)
                    
                </div>
                
                <div class="description">
                  <p>
Posts HTML form data to the specified <a href="../URI.html">URI</a> object.
The form data must be provided as a <a href="../Hash.html">Hash</a> mapping
from <a href="../String.html">String</a> to <a
href="../String.html">String</a>. Example:
</p>
<pre>
  { &quot;cmd&quot; =&gt; &quot;search&quot;, &quot;q&quot; =&gt; &quot;ruby&quot;, &quot;max&quot; =&gt; &quot;50&quot; }
</pre>
<p>
This method also does Basic Authentication iff <tt>url</tt>.user exists.
But userinfo for authentication is deprecated (RFC3986). So this feature
will be removed.
</p>
<p>
Example:
</p>
<pre>
  require 'net/http'
  require 'uri'

  HTTP.post_form URI('http://www.example.com/search.cgi'),
                 { &quot;q&quot; =&gt; &quot;ruby&quot;, &quot;max&quot; =&gt; &quot;50&quot; }
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003100_source')" id="l_M003100_source">show</a>
                        
                    </p>
                    <div id="M003100_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 478</span>
478:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">post_form</span>(<span class="ruby-identifier">url</span>, <span class="ruby-identifier">params</span>)
479:       <span class="ruby-identifier">req</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">url</span>.<span class="ruby-identifier">request_uri</span>)
480:       <span class="ruby-identifier">req</span>.<span class="ruby-identifier">form_data</span> = <span class="ruby-identifier">params</span>
481:       <span class="ruby-identifier">req</span>.<span class="ruby-identifier">basic_auth</span> <span class="ruby-identifier">url</span>.<span class="ruby-identifier">user</span>, <span class="ruby-identifier">url</span>.<span class="ruby-identifier">password</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">url</span>.<span class="ruby-identifier">user</span>
482:       <span class="ruby-identifier">new</span>(<span class="ruby-identifier">url</span>.<span class="ruby-identifier">hostname</span>, <span class="ruby-identifier">url</span>.<span class="ruby-identifier">port</span>).<span class="ruby-identifier">start</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
483:         <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request</span>(<span class="ruby-identifier">req</span>)
484:       }
485:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003125">
                    
                    <a name="M003125"></a><b>proxy_class?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
returns true if self is a class which was created by HTTP::Proxy.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003125_source')" id="l_M003125_source">show</a>
                        
                    </p>
                    <div id="M003125_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 897</span>
897:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">proxy_class?</span>
898:         <span class="ruby-ivar">@is_proxy_class</span>
899:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003105">
                    
                    <a name="M003105"></a><b>HTTP.start(address, port, p_addr, p_port, p_user, p_pass, &block)
HTTP.start(address, port=nil, p_addr=nil, p_port=nil, p_user=nil, p_pass=nil, opt, &block)
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new <a href="HTTP.html">Net::HTTP</a> object, then additionally
opens the TCP connection and <a href="HTTP.html">HTTP</a> session.
</p>
<p>
Arguments are the following:
</p>
<table>
<tr><td valign="top"><em>address</em> :</td><td>hostname or IP address of the server

</td></tr>
<tr><td valign="top"><em>port</em>    :</td><td>port of the server

</td></tr>
<tr><td valign="top"><em>p_addr</em>  :</td><td>address of proxy

</td></tr>
<tr><td valign="top"><em>p_port</em>  :</td><td>port of proxy

</td></tr>
<tr><td valign="top"><em>p_user</em>  :</td><td>user of proxy

</td></tr>
<tr><td valign="top"><em>p_pass</em>  :</td><td>pass of proxy

</td></tr>
<tr><td valign="top"><em>opt</em>     :</td><td>optional hash

</td></tr>
</table>
<p>
<em>opt</em> sets following values by its accessor. The keys are <a
href="HTTP.html#ca_file">ca_file</a>, <a
href="HTTP.html#ca_path">ca_path</a>, cert, <a
href="HTTP.html#cert_store">cert_store</a>, ciphers, <a
href="HTTP.html#close_on_empty_response">close_on_empty_response</a>, key,
<a href="HTTP.html#open_timeout">open_timeout</a>, <a
href="HTTP.html#read_timeout">read_timeout</a>, <a
href="HTTP.html#ssl_timeout">ssl_timeout</a>, <a
href="HTTP.html#ssl_version">ssl_version</a>, use_ssl, <a
href="HTTP.html#verify_callback">verify_callback</a>, <a
href="HTTP.html#verify_depth">verify_depth</a> and verify_mode. If you set
:use_ssl as true, you can use https and default value of <a
href="HTTP.html#verify_mode">verify_mode</a> is set as
OpenSSL::SSL::VERIFY_PEER.
</p>
<p>
If the optional block is given, the newly created <a
href="HTTP.html">Net::HTTP</a> object is passed to it and closed when the
block finishes. In this case, the return value of this method is the return
value of the block. If no block is given, the return value of this method
is the newly created <a href="HTTP.html">Net::HTTP</a> object itself, and
the caller is responsible for closing it upon completion using the finish()
method.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003105_source')" id="l_M003105_source">show</a>
                        
                    </p>
                    <div id="M003105_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 540</span>
540:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">address</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt"># :yield: +http+</span>
541:       <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">pop</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opt</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">try_convert</span>(<span class="ruby-identifier">arg</span>[<span class="ruby-value">-1</span>])
542:       <span class="ruby-identifier">port</span>, <span class="ruby-identifier">p_addr</span>, <span class="ruby-identifier">p_port</span>, <span class="ruby-identifier">p_user</span>, <span class="ruby-identifier">p_pass</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>
543:       <span class="ruby-identifier">port</span> = <span class="ruby-identifier">https_default_port</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">port</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">opt</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:use_ssl</span>]
544:       <span class="ruby-identifier">http</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">address</span>, <span class="ruby-identifier">port</span>, <span class="ruby-identifier">p_addr</span>, <span class="ruby-identifier">p_port</span>, <span class="ruby-identifier">p_user</span>, <span class="ruby-identifier">p_pass</span>)
545: 
546:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opt</span>
547:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:use_ssl</span>]
548:           <span class="ruby-identifier">opt</span> = {<span class="ruby-identifier">verify_mode</span><span class="ruby-operator">:</span> <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">VERIFY_PEER</span>}.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">opt</span>)
549:         <span class="ruby-keyword kw">end</span>
550:         <span class="ruby-identifier">http</span>.<span class="ruby-identifier">methods</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-regexp re">/\A(\w+)=\z/</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">meth</span><span class="ruby-operator">|</span>
551:           <span class="ruby-identifier">key</span> = <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">to_sym</span>
552:           <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">key</span>) <span class="ruby-keyword kw">or</span> <span class="ruby-keyword kw">next</span>
553:           <span class="ruby-identifier">http</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">key</span>])
554:         <span class="ruby-keyword kw">end</span>
555:       <span class="ruby-keyword kw">end</span>
556: 
557:       <span class="ruby-identifier">http</span>.<span class="ruby-identifier">start</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
558:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003094">
                    
                    <a name="M003094"></a><b>version_1_2</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Turns on net/http 1.2 (ruby 1.8) features. Defaults to ON in ruby 1.8 or
later.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003094_source')" id="l_M003094_source">show</a>
                        
                    </p>
                    <div id="M003094_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 377</span>
377:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">version_1_2</span>
378:       <span class="ruby-keyword kw">true</span>
379:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003095">
                    
                    <a name="M003095"></a><b>version_1_2?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if net/http is in version 1.2 mode. Defaults to true.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003095_source')" id="l_M003095_source">show</a>
                        
                    </p>
                    <div id="M003095_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 383</span>
383:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">version_1_2?</span>
384:       <span class="ruby-keyword kw">true</span>
385:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M003114">
                    
                    <a name="M003114"></a><b>active?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="HTTP.html#M003113">started?</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003112">
                    
                    <a name="M003112"></a><b>continue_timeout=</b>(sec)
                    
                </div>
                
                <div class="description">
                  <p>
Setter for the <a href="HTTP.html#continue_timeout">continue_timeout</a>
attribute.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003112_source')" id="l_M003112_source">show</a>
                        
                    </p>
                    <div id="M003112_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 646</span>
646:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">continue_timeout=</span>(<span class="ruby-identifier">sec</span>)
647:       <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">continue_timeout</span> = <span class="ruby-identifier">sec</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@socket</span>
648:       <span class="ruby-ivar">@continue_timeout</span> = <span class="ruby-identifier">sec</span>
649:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003164">
                    
                    <a name="M003164"></a><b>copy</b>(path, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a COPY request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003164_source')" id="l_M003164_source">show</a>
                        
                    </p>
                    <div id="M003164_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1153</span>
1153:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">copy</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>)
1154:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Copy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
1155:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003160">
                    
                    <a name="M003160"></a><b>delete</b>(path, initheader = {'Depth' =&gt; 'Infinity'})
                    
                </div>
                
                <div class="description">
                  <p>
Sends a DELETE request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003160_source')" id="l_M003160_source">show</a>
                        
                    </p>
                    <div id="M003160_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1141</span>
1141:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = {<span class="ruby-value str">'Depth'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'Infinity'</span>})
1142:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Delete</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
1143:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003122">
                    
                    <a name="M003122"></a><b>finish</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Finishes the <a href="HTTP.html">HTTP</a> session and closes the TCP
connection. Raises <a href="../IOError.html">IOError</a> if the session has
not been started.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003122_source')" id="l_M003122_source">show</a>
                        
                    </p>
                    <div id="M003122_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 819</span>
819:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">finish</span>
820:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">IOError</span>, <span class="ruby-value str">'HTTP session not yet started'</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">started?</span>
821:       <span class="ruby-identifier">do_finish</span>
822:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003142">
                    
                    <a name="M003142"></a><b>get</b>(path, initheader = {}, dest = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Gets data from <tt>path</tt> on the connected-to host. <tt>initheader</tt>
must be a <a href="../Hash.html">Hash</a> like { &#8216;Accept&#8217; =>
&#8216;<b>/</b>&#8217;, &#8230; }, and it defaults to an empty hash. If
<tt>initheader</tt> doesn&#8217;t have the key
&#8216;accept-encoding&#8217;, then a value of
&#8220;gzip;q=1.0,deflate;q=0.6,identity;q=0.3&#8220; is used, so that gzip
compression is used in preference to deflate compression, which is used in
preference to no compression. Ruby doesn&#8217;t have libraries to support
the compress (Lempel-Ziv) compression, so that is not supported. The intent
of this is to reduce bandwidth by default. If this routine sets up
compression, then it does the decompression also, removing the header as
well to prevent confusion. Otherwise it leaves the body as it found it.
</p>
<p>
This method returns a <a href="HTTPResponse.html">Net::HTTPResponse</a>
object.
</p>
<p>
If called with a block, yields each fragment of the entity body in turn as
a string as it is read from the socket. Note that in this case, the
returned response object will <b>not</b> contain a (meaningful) body.
</p>
<p>
<tt>dest</tt> argument is obsolete. It still works but you must not use it.
</p>
<p>
This method never raises an exception.
</p>
<pre>
    response = http.get('/index.html')

    # using block
    File.open('result.txt', 'w') {|f|
      http.get('/~foo/') do |str|
        f.write str
      end
    }
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003142_source')" id="l_M003142_source">show</a>
                        
                    </p>
                    <div id="M003142_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1016</span>
1016:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = {}, <span class="ruby-identifier">dest</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt"># :yield: +body_segment+</span>
1017:       <span class="ruby-identifier">res</span> = <span class="ruby-keyword kw">nil</span>
1018:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">HAVE_ZLIB</span>
1019:         <span class="ruby-keyword kw">unless</span>  <span class="ruby-identifier">initheader</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">any?</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;accept-encoding&quot;</span>}
1020:           <span class="ruby-identifier">initheader</span> = <span class="ruby-identifier">initheader</span>.<span class="ruby-identifier">merge</span>({
1021:             <span class="ruby-value str">&quot;accept-encoding&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;gzip;q=1.0,deflate;q=0.6,identity;q=0.3&quot;</span>
1022:           })
1023:           <span class="ruby-ivar">@compression</span> = <span class="ruby-keyword kw">true</span>
1024:         <span class="ruby-keyword kw">end</span>
1025:       <span class="ruby-keyword kw">end</span>
1026:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Get</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>)) {<span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>
1027:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value str">&quot;content-encoding&quot;</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@compression</span>
1028:           <span class="ruby-ivar">@compression</span> = <span class="ruby-keyword kw">nil</span> <span class="ruby-comment cmt"># Clear it till next set.</span>
1029:           <span class="ruby-identifier">the_body</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-identifier">dest</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
1030:           <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">r</span>[<span class="ruby-value str">&quot;content-encoding&quot;</span>]
1031:           <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;gzip&quot;</span>
1032:             <span class="ruby-identifier">r</span>.<span class="ruby-identifier">body</span>= <span class="ruby-constant">Zlib</span><span class="ruby-operator">::</span><span class="ruby-constant">GzipReader</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">the_body</span>), <span class="ruby-identifier">encoding</span><span class="ruby-operator">:</span> <span class="ruby-value str">&quot;ASCII-8BIT&quot;</span>).<span class="ruby-identifier">read</span>
1033:             <span class="ruby-identifier">r</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;content-encoding&quot;</span>)
1034:           <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;deflate&quot;</span>
1035:             <span class="ruby-identifier">r</span>.<span class="ruby-identifier">body</span>= <span class="ruby-constant">Zlib</span><span class="ruby-operator">::</span><span class="ruby-constant">Inflate</span>.<span class="ruby-identifier">inflate</span>(<span class="ruby-identifier">the_body</span>);
1036:             <span class="ruby-identifier">r</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;content-encoding&quot;</span>)
1037:           <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;identity&quot;</span>
1038:             ; <span class="ruby-comment cmt"># nothing needed</span>
1039:           <span class="ruby-keyword kw">else</span>
1040:             ; <span class="ruby-comment cmt"># Don't do anything dramatic, unless we need to later</span>
1041:           <span class="ruby-keyword kw">end</span>
1042:         <span class="ruby-keyword kw">else</span>
1043:           <span class="ruby-identifier">r</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-identifier">dest</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
1044:         <span class="ruby-keyword kw">end</span>
1045:         <span class="ruby-identifier">res</span> = <span class="ruby-identifier">r</span>
1046:       }
1047:       <span class="ruby-identifier">res</span>
1048:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003177">
                    
                    <a name="M003177"></a><b>get2</b>(path, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="HTTP.html#M003170">request_get</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003148">
                    
                    <a name="M003148"></a><b>head</b>(path, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Gets only the header from <tt>path</tt> on the connected-to host.
<tt>header</tt> is a <a href="../Hash.html">Hash</a> like {
&#8216;Accept&#8217; => &#8216;<b>/</b>&#8217;, &#8230; }.
</p>
<p>
This method returns a <a href="HTTPResponse.html">Net::HTTPResponse</a>
object.
</p>
<p>
This method never raises an exception.
</p>
<pre>
    response = nil
    Net::HTTP.start('some.www.server', 80) {|http|
      response = http.head('/index.html')
    }
    p response['content-type']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003148_source')" id="l_M003148_source">show</a>
                        
                    </p>
                    <div id="M003148_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1063</span>
1063:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">head</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>)
1064:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Head</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
1065:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003179">
                    
                    <a name="M003179"></a><b>head2</b>(path, initheader = nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="HTTP.html#M003173">request_head</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003109">
                    
                    <a name="M003109"></a><b>inspect</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003109_source')" id="l_M003109_source">show</a>
                        
                    </p>
                    <div id="M003109_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 599</span>
599:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
600:       <span class="ruby-node">&quot;#&lt;#{self.class} #{@address}:#{@port} open=#{started?}&gt;&quot;</span>
601:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003154">
                    
                    <a name="M003154"></a><b>lock</b>(path, body, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a LOCK request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003154_source')" id="l_M003154_source">show</a>
                        
                    </p>
                    <div id="M003154_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1117</span>
1117:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">lock</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>)
1118:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Lock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
1119:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003165">
                    
                    <a name="M003165"></a><b>mkcol</b>(path, body = nil, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a MKCOL request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003165_source')" id="l_M003165_source">show</a>
                        
                    </p>
                    <div id="M003165_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1159</span>
1159:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mkcol</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>)
1160:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Mkcol</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
1161:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003163">
                    
                    <a name="M003163"></a><b>move</b>(path, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a MOVE request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003163_source')" id="l_M003163_source">show</a>
                        
                    </p>
                    <div id="M003163_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1147</span>
1147:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">move</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>)
1148:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Move</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
1149:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003158">
                    
                    <a name="M003158"></a><b>options</b>(path, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a OPTIONS request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003158_source')" id="l_M003158_source">show</a>
                        
                    </p>
                    <div id="M003158_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1129</span>
1129:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">options</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>)
1130:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Options</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
1131:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003151">
                    
                    <a name="M003151"></a><b>patch</b>(path, data, initheader = nil, dest = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a PATCH request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003151_source')" id="l_M003151_source">show</a>
                        
                    </p>
                    <div id="M003151_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1101</span>
1101:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">patch</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">dest</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt"># :yield: +body_segment+</span>
1102:       <span class="ruby-identifier">send_entity</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-constant">Patch</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1103:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003117">
                    
                    <a name="M003117"></a><b>peer_cert</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the X.509 certificates the server presented.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003117_source')" id="l_M003117_source">show</a>
                        
                    </p>
                    <div id="M003117_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 724</span>
724:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">peer_cert</span>
725:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">use_ssl?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-keyword kw">not</span> <span class="ruby-ivar">@socket</span>
726:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>
727:       <span class="ruby-keyword kw">end</span>
728:       <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">io</span>.<span class="ruby-identifier">peer_cert</span>
729:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003149">
                    
                    <a name="M003149"></a><b>post</b>(path, data, initheader = nil, dest = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Posts <tt>data</tt> (must be a <a href="../String.html">String</a>) to
<tt>path</tt>. <tt>header</tt> must be a <a href="../Hash.html">Hash</a>
like { &#8216;Accept&#8217; => &#8216;<b>/</b>&#8217;, &#8230; }.
</p>
<p>
This method returns a <a href="HTTPResponse.html">Net::HTTPResponse</a>
object.
</p>
<p>
If called with a block, yields each fragment of the entity body in turn as
a string as it is read from the socket. Note that in this case, the
returned response object will <b>not</b> contain a (meaningful) body.
</p>
<p>
<tt>dest</tt> argument is obsolete. It still works but you must not use it.
</p>
<p>
This method never raises exception.
</p>
<pre>
    response = http.post('/cgi-bin/search.rb', 'query=foo')

    # using block
    File.open('result.txt', 'w') {|f|
      http.post('/cgi-bin/search.rb', 'query=foo') do |str|
        f.write str
      end
    }
</pre>
<p>
You should set Content-Type: header field for POST. If no Content-Type:
field given, this method uses
&#8220;application/x-www-form-urlencoded&#8221; by default.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003149_source')" id="l_M003149_source">show</a>
                        
                    </p>
                    <div id="M003149_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1095</span>
1095:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">post</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">dest</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt"># :yield: +body_segment+</span>
1096:       <span class="ruby-identifier">send_entity</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-constant">Post</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1097:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003180">
                    
                    <a name="M003180"></a><b>post2</b>(path, data, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="HTTP.html#M003175">request_post</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003159">
                    
                    <a name="M003159"></a><b>propfind</b>(path, body = nil, initheader = {'Depth' =&gt; '0'})
                    
                </div>
                
                <div class="description">
                  <p>
Sends a PROPFIND request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003159_source')" id="l_M003159_source">show</a>
                        
                    </p>
                    <div id="M003159_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1135</span>
1135:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">propfind</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">initheader</span> = {<span class="ruby-value str">'Depth'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'0'</span>})
1136:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Propfind</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
1137:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003153">
                    
                    <a name="M003153"></a><b>proppatch</b>(path, body, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a PROPPATCH request to the <tt>path</tt> and gets a response, as an
<a href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003153_source')" id="l_M003153_source">show</a>
                        
                    </p>
                    <div id="M003153_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1111</span>
1111:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">proppatch</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>)
1112:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Proppatch</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
1113:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003126">
                    
                    <a name="M003126"></a><b>proxy?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
True if self is a <a href="HTTP.html">HTTP</a> proxy class.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003126_source')" id="l_M003126_source">show</a>
                        
                    </p>
                    <div id="M003126_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 916</span>
916:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">proxy?</span>
917:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">proxy_class?</span>
918:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003127">
                    
                    <a name="M003127"></a><b>proxy_address</b>()
                    
                </div>
                
                <div class="description">
                  <p>
A convenience method for accessing value of <a
href="HTTP.html#M003127">proxy_address</a> from <a
href="HTTP.html">Net::HTTP</a>.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="HTTP.html#M003131">proxyaddr</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003127_source')" id="l_M003127_source">show</a>
                        
                    </p>
                    <div id="M003127_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 921</span>
921:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">proxy_address</span>
922:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">proxy_address</span>
923:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003130">
                    
                    <a name="M003130"></a><b>proxy_pass</b>()
                    
                </div>
                
                <div class="description">
                  <p>
A convenience method for accessing value of <a
href="HTTP.html#M003130">proxy_pass</a> from <a
href="HTTP.html">Net::HTTP</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003130_source')" id="l_M003130_source">show</a>
                        
                    </p>
                    <div id="M003130_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 936</span>
936:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">proxy_pass</span>
937:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">proxy_pass</span>
938:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003128">
                    
                    <a name="M003128"></a><b>proxy_port</b>()
                    
                </div>
                
                <div class="description">
                  <p>
A convenience method for accessing value of <a
href="HTTP.html#M003128">proxy_port</a> from <a
href="HTTP.html">Net::HTTP</a>.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="HTTP.html#M003132">proxyport</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003128_source')" id="l_M003128_source">show</a>
                        
                    </p>
                    <div id="M003128_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 926</span>
926:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">proxy_port</span>
927:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">proxy_port</span>
928:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003129">
                    
                    <a name="M003129"></a><b>proxy_user</b>()
                    
                </div>
                
                <div class="description">
                  <p>
A convenience method for accessing value of <a
href="HTTP.html#M003129">proxy_user</a> from <a
href="HTTP.html">Net::HTTP</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003129_source')" id="l_M003129_source">show</a>
                        
                    </p>
                    <div id="M003129_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 931</span>
931:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">proxy_user</span>
932:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">proxy_user</span>
933:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003131">
                    
                    <a name="M003131"></a><b>proxyaddr</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="HTTP.html#M003127">proxy_address</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003132">
                    
                    <a name="M003132"></a><b>proxyport</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="HTTP.html#M003128">proxy_port</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M003111">
                    
                    <a name="M003111"></a><b>read_timeout=</b>(sec)
                    
                </div>
                
                <div class="description">
                  <p>
Setter for the <a href="HTTP.html#read_timeout">read_timeout</a> attribute.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003111_source')" id="l_M003111_source">show</a>
                        
                    </p>
                    <div id="M003111_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 636</span>
636:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">read_timeout=</span>(<span class="ruby-identifier">sec</span>)
637:       <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-identifier">sec</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@socket</span>
638:       <span class="ruby-ivar">@read_timeout</span> = <span class="ruby-identifier">sec</span>
639:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003184">
                    
                    <a name="M003184"></a><b>request</b>(req, body = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends an <a href="HTTPRequest.html">HTTPRequest</a> object <tt>req</tt> to
the <a href="HTTP.html">HTTP</a> server.
</p>
<p>
If <tt>req</tt> is a <a href="HTTP/Post.html">Net::HTTP::Post</a> or <a
href="HTTP/Put.html">Net::HTTP::Put</a> request containing data, the data
is also sent. Providing data for a <a
href="HTTP/Head.html">Net::HTTP::Head</a> or <a
href="HTTP/Get.html">Net::HTTP::Get</a> request results in an <a
href="../ArgumentError.html">ArgumentError</a>.
</p>
<p>
Returns an <a href="HTTPResponse.html">HTTPResponse</a> object.
</p>
<p>
When called with a block, passes an <a
href="HTTPResponse.html">HTTPResponse</a> object to the block. The body of
the response will not have been read yet; the block can process it using <a
href="HTTPResponse.html#M003334">HTTPResponse#read_body</a>, if desired.
</p>
<p>
This method never raises Net::* exceptions.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003184_source')" id="l_M003184_source">show</a>
                        
                    </p>
                    <div id="M003184_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1282</span>
1282:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">body</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)  <span class="ruby-comment cmt"># :yield: +response+</span>
1283:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">started?</span>
1284:         <span class="ruby-identifier">start</span> {
1285:           <span class="ruby-identifier">req</span>[<span class="ruby-value str">'connection'</span>] <span class="ruby-operator">||=</span> <span class="ruby-value str">'close'</span>
1286:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">request</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">body</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1287:         }
1288:       <span class="ruby-keyword kw">end</span>
1289:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">proxy_user</span>()
1290:         <span class="ruby-identifier">req</span>.<span class="ruby-identifier">proxy_basic_auth</span> <span class="ruby-identifier">proxy_user</span>(), <span class="ruby-identifier">proxy_pass</span>() <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">use_ssl?</span>
1291:       <span class="ruby-keyword kw">end</span>
1292:       <span class="ruby-identifier">req</span>.<span class="ruby-identifier">set_body_internal</span> <span class="ruby-identifier">body</span>
1293:       <span class="ruby-identifier">res</span> = <span class="ruby-identifier">transport_request</span>(<span class="ruby-identifier">req</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1294:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sspi_auth?</span>(<span class="ruby-identifier">res</span>)
1295:         <span class="ruby-identifier">sspi_auth</span>(<span class="ruby-identifier">req</span>)
1296:         <span class="ruby-identifier">res</span> = <span class="ruby-identifier">transport_request</span>(<span class="ruby-identifier">req</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1297:       <span class="ruby-keyword kw">end</span>
1298:       <span class="ruby-identifier">res</span>
1299:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003170">
                    
                    <a name="M003170"></a><b>request_get</b>(path, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a GET request to the <tt>path</tt>. Returns the response as a <a
href="HTTPResponse.html">Net::HTTPResponse</a> object.
</p>
<p>
When called with a block, passes an <a
href="HTTPResponse.html">HTTPResponse</a> object to the block. The body of
the response will not have been read yet; the block can process it using <a
href="HTTPResponse.html#M003334">HTTPResponse#read_body</a>, if desired.
</p>
<p>
Returns the response.
</p>
<p>
This method never raises Net::* exceptions.
</p>
<pre>
    response = http.request_get('/index.html')
    # The entity body is already read in this case.
    p response['content-type']
    puts response.body

    # Using a block
    http.request_get('/index.html') {|response|
      p response['content-type']
      response.read_body do |str|   # read body now
        print str
      end
    }
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="HTTP.html#M003177">get2</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003170_source')" id="l_M003170_source">show</a>
                        
                    </p>
                    <div id="M003170_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1194</span>
1194:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_get</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt"># :yield: +response+</span>
1195:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Get</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1196:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003173">
                    
                    <a name="M003173"></a><b>request_head</b>(path, initheader = nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a HEAD request to the <tt>path</tt> and returns the response as a <a
href="HTTPResponse.html">Net::HTTPResponse</a> object.
</p>
<p>
Returns the response.
</p>
<p>
This method never raises Net::* exceptions.
</p>
<pre>
    response = http.request_head('/index.html')
    p response['content-type']
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="HTTP.html#M003179">head2</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003173_source')" id="l_M003173_source">show</a>
                        
                    </p>
                    <div id="M003173_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1208</span>
1208:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_head</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1209:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Head</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1210:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003175">
                    
                    <a name="M003175"></a><b>request_post</b>(path, data, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a POST request to the <tt>path</tt>.
</p>
<p>
Returns the response as a <a href="HTTPResponse.html">Net::HTTPResponse</a>
object.
</p>
<p>
When called with a block, the block is passed an <a
href="HTTPResponse.html">HTTPResponse</a> object. The body of that response
will not have been read yet; the block can process it using <a
href="HTTPResponse.html#M003334">HTTPResponse#read_body</a>, if desired.
</p>
<p>
Returns the response.
</p>
<p>
This method never raises Net::* exceptions.
</p>
<pre>
    # example
    response = http.request_post('/cgi-bin/nice.rb', 'datadatadata...')
    p response.status
    puts response.body          # body is already read in this case

    # using block
    http.request_post('/cgi-bin/nice.rb', 'datadatadata...') {|response|
      p response.status
      p response['content-type']
      response.read_body do |str|   # read body now
        print str
      end
    }
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="HTTP.html#M003180">post2</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003175_source')" id="l_M003175_source">show</a>
                        
                    </p>
                    <div id="M003175_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1238</span>
1238:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_post</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt"># :yield: +response+</span>
1239:       <span class="ruby-identifier">request</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">data</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
1240:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003181">
                    
                    <a name="M003181"></a><b>send_request</b>(name, path, data = nil, header = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends an <a href="HTTP.html">HTTP</a> request to the <a
href="HTTP.html">HTTP</a> server. Also sends a DATA string if <tt>data</tt>
is given.
</p>
<p>
Returns a <a href="HTTPResponse.html">Net::HTTPResponse</a> object.
</p>
<p>
This method never raises Net::* exceptions.
</p>
<pre>
   response = http.send_request('GET', '/index.html')
   puts response.body
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003181_source')" id="l_M003181_source">show</a>
                        
                    </p>
                    <div id="M003181_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1262</span>
1262:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">send_request</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">header</span> = <span class="ruby-keyword kw">nil</span>)
1263:       <span class="ruby-identifier">r</span> = <span class="ruby-constant">HTTPGenericRequest</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>,(<span class="ruby-identifier">data</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">false</span>),<span class="ruby-keyword kw">true</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">header</span>)
1264:       <span class="ruby-identifier">request</span> <span class="ruby-identifier">r</span>, <span class="ruby-identifier">data</span>
1265:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003110">
                    
                    <a name="M003110"></a><b>set_debug_output</b>(output)
                    
                </div>
                
                <div class="description">
                  <p>
<b>WARNING</b> This method opens a serious security hole. Never use this
method in production code.
</p>
<p>
Sets an output stream for debugging.
</p>
<pre>
  http = Net::HTTP.new
  http.set_debug_output $stderr
  http.start { .... }
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003110_source')" id="l_M003110_source">show</a>
                        
                    </p>
                    <div id="M003110_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 612</span>
612:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_debug_output</span>(<span class="ruby-identifier">output</span>)
613:       <span class="ruby-identifier">warn</span> <span class="ruby-value str">'Net::HTTP#set_debug_output called after HTTP started'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">started?</span>
614:       <span class="ruby-ivar">@debug_output</span> = <span class="ruby-identifier">output</span>
615:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003118">
                    
                    <a name="M003118"></a><b>start</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Opens a TCP connection and <a href="HTTP.html">HTTP</a> session.
</p>
<p>
When this method is called with a block, it passes the <a
href="HTTP.html">Net::HTTP</a> object to the block, and closes the TCP
connection and <a href="HTTP.html">HTTP</a> session after the block has
been executed.
</p>
<p>
When called with a block, it returns the return value of the block;
otherwise, it returns self.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003118_source')" id="l_M003118_source">show</a>
                        
                    </p>
                    <div id="M003118_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 740</span>
740:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">start</span>  <span class="ruby-comment cmt"># :yield: http</span>
741:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">IOError</span>, <span class="ruby-value str">'HTTP session already opened'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@started</span>
742:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
743:         <span class="ruby-keyword kw">begin</span>
744:           <span class="ruby-identifier">do_start</span>
745:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-keyword kw">self</span>)
746:         <span class="ruby-keyword kw">ensure</span>
747:           <span class="ruby-identifier">do_finish</span>
748:         <span class="ruby-keyword kw">end</span>
749:       <span class="ruby-keyword kw">end</span>
750:       <span class="ruby-identifier">do_start</span>
751:       <span class="ruby-keyword kw">self</span>
752:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003113">
                    
                    <a name="M003113"></a><b>started?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the <a href="HTTP.html">HTTP</a> session has been started.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="HTTP.html#M003114">active?</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003113_source')" id="l_M003113_source">show</a>
                        
                    </p>
                    <div id="M003113_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 652</span>
652:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">started?</span>
653:       <span class="ruby-ivar">@started</span>
654:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003169">
                    
                    <a name="M003169"></a><b>trace</b>(path, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a TRACE request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003169_source')" id="l_M003169_source">show</a>
                        
                    </p>
                    <div id="M003169_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1165</span>
1165:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">trace</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>)
1166:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Trace</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
1167:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003155">
                    
                    <a name="M003155"></a><b>unlock</b>(path, body, initheader = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Sends a UNLOCK request to the <tt>path</tt> and gets a response, as an <a
href="HTTPResponse.html">HTTPResponse</a> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003155_source')" id="l_M003155_source">show</a>
                        
                    </p>
                    <div id="M003155_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1123</span>
1123:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unlock</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword kw">nil</span>)
1124:       <span class="ruby-identifier">request</span>(<span class="ruby-constant">Unlock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
1125:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003116">
                    
                    <a name="M003116"></a><b>use_ssl=</b>(flag)
                    
                </div>
                
                <div class="description">
                  <p>
Turn on/off SSL. This flag must be set before starting session. If you
change use_ssl value after session started, a <a
href="HTTP.html">Net::HTTP</a> object raises <a
href="../IOError.html">IOError</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003116_source')" id="l_M003116_source">show</a>
                        
                    </p>
                    <div id="M003116_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 669</span>
669:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">use_ssl=</span>(<span class="ruby-identifier">flag</span>)
670:       <span class="ruby-identifier">flag</span> = <span class="ruby-identifier">flag</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">false</span>
671:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">started?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@use_ssl</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">flag</span>
672:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">IOError</span>, <span class="ruby-value str">&quot;use_ssl value changed, but session already started&quot;</span>
673:       <span class="ruby-keyword kw">end</span>
674:       <span class="ruby-ivar">@use_ssl</span> = <span class="ruby-identifier">flag</span>
675:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003115">
                    
                    <a name="M003115"></a><b>use_ssl?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if SSL/TLS is being used with <a href="HTTP.html">HTTP</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003115_source')" id="l_M003115_source">show</a>
                        
                    </p>
                    <div id="M003115_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 661</span>
661:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">use_ssl?</span>
662:       <span class="ruby-ivar">@use_ssl</span>
663:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M003204">
                    
                    <a name="M003204"></a><b>D</b>(msg)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003204_source')" id="l_M003204_source">show</a>
                        
                    </p>
                    <div id="M003204_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1408</span>
1408:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">D</span>(<span class="ruby-identifier">msg</span>)
1409:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@debug_output</span>
1410:       <span class="ruby-ivar">@debug_output</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">msg</span>
1411:       <span class="ruby-ivar">@debug_output</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;\n&quot;</span>
1412:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003203">
                    
                    <a name="M003203"></a><b>addr_port</b>()
                    
                </div>
                
                <div class="description">
                  <p>
utils
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003203_source')" id="l_M003203_source">show</a>
                        
                    </p>
                    <div id="M003203_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1400</span>
1400:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">addr_port</span>
1401:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">use_ssl?</span>
1402:         <span class="ruby-identifier">address</span>() <span class="ruby-operator">+</span> (<span class="ruby-identifier">port</span> <span class="ruby-operator">==</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">https_default_port</span> <span class="ruby-value">? </span><span class="ruby-value str">''</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;:#{port()}&quot;</span>)
1403:       <span class="ruby-keyword kw">else</span>
1404:         <span class="ruby-identifier">address</span>() <span class="ruby-operator">+</span> (<span class="ruby-identifier">port</span> <span class="ruby-operator">==</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">http_default_port</span> <span class="ruby-value">? </span><span class="ruby-value str">''</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;:#{port()}&quot;</span>)
1405:       <span class="ruby-keyword kw">end</span>
1406:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003192">
                    
                    <a name="M003192"></a><b>begin_transport</b>(req)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003192_source')" id="l_M003192_source">show</a>
                        
                    </p>
                    <div id="M003192_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1334</span>
1334:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">begin_transport</span>(<span class="ruby-identifier">req</span>)
1335:       <span class="ruby-identifier">connect</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">closed?</span>
1336:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">req</span>.<span class="ruby-identifier">response_body_permitted?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@close_on_empty_response</span>
1337:         <span class="ruby-identifier">req</span>[<span class="ruby-value str">'connection'</span>] <span class="ruby-operator">||=</span> <span class="ruby-value str">'close'</span>
1338:       <span class="ruby-keyword kw">end</span>
1339:       <span class="ruby-identifier">req</span>[<span class="ruby-value str">'host'</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">addr_port</span>()
1340:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003135">
                    
                    <a name="M003135"></a><b>conn_address</b>()
                    
                </div>
                
                <div class="description">
                  <p>
without proxy
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003135_source')" id="l_M003135_source">show</a>
                        
                    </p>
                    <div id="M003135_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 947</span>
947:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">conn_address</span>
948:       <span class="ruby-identifier">address</span>()
949:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003136">
                    
                    <a name="M003136"></a><b>conn_port</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003136_source')" id="l_M003136_source">show</a>
                        
                    </p>
                    <div id="M003136_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 951</span>
951:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">conn_port</span>
952:       <span class="ruby-identifier">port</span>()
953:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003120">
                    
                    <a name="M003120"></a><b>connect</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003120_source')" id="l_M003120_source">show</a>
                        
                    </p>
                    <div id="M003120_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 760</span>
760:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">connect</span>
761:       <span class="ruby-constant">D</span> <span class="ruby-node">&quot;opening connection to #{conn_address()}...&quot;</span>
762:       <span class="ruby-identifier">s</span> = <span class="ruby-identifier">timeout</span>(<span class="ruby-ivar">@open_timeout</span>) { <span class="ruby-constant">TCPSocket</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">conn_address</span>(), <span class="ruby-identifier">conn_port</span>()) }
763:       <span class="ruby-constant">D</span> <span class="ruby-value str">&quot;opened&quot;</span>
764:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">use_ssl?</span>
765:         <span class="ruby-identifier">ssl_parameters</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
766:         <span class="ruby-identifier">iv_list</span> = <span class="ruby-identifier">instance_variables</span>
767:         <span class="ruby-constant">SSL_ATTRIBUTES</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
768:           <span class="ruby-identifier">ivname</span> = <span class="ruby-node">&quot;@#{name}&quot;</span>.<span class="ruby-identifier">intern</span>
769:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">iv_list</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">ivname</span>) <span class="ruby-keyword kw">and</span>
770:              <span class="ruby-identifier">value</span> = <span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-identifier">ivname</span>)
771:             <span class="ruby-identifier">ssl_parameters</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">value</span>
772:           <span class="ruby-keyword kw">end</span>
773:         <span class="ruby-keyword kw">end</span>
774:         <span class="ruby-ivar">@ssl_context</span> = <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSLContext</span>.<span class="ruby-identifier">new</span>
775:         <span class="ruby-ivar">@ssl_context</span>.<span class="ruby-identifier">set_params</span>(<span class="ruby-identifier">ssl_parameters</span>)
776:         <span class="ruby-identifier">s</span> = <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSLSocket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span>, <span class="ruby-ivar">@ssl_context</span>)
777:         <span class="ruby-identifier">s</span>.<span class="ruby-identifier">sync_close</span> = <span class="ruby-keyword kw">true</span>
778:       <span class="ruby-keyword kw">end</span>
779:       <span class="ruby-ivar">@socket</span> = <span class="ruby-constant">BufferedIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span>)
780:       <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-ivar">@read_timeout</span>
781:       <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">continue_timeout</span> = <span class="ruby-ivar">@continue_timeout</span>
782:       <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">debug_output</span> = <span class="ruby-ivar">@debug_output</span>
783:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">use_ssl?</span>
784:         <span class="ruby-keyword kw">begin</span>
785:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">proxy?</span>
786:             <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">writeline</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">'CONNECT %s:%s HTTP/%s'</span>,
787:                                       <span class="ruby-ivar">@address</span>, <span class="ruby-ivar">@port</span>, <span class="ruby-constant">HTTPVersion</span>)
788:             <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">writeline</span> <span class="ruby-node">&quot;Host: #{@address}:#{@port}&quot;</span>
789:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">proxy_user</span>
790:               <span class="ruby-identifier">credential</span> = [<span class="ruby-node">&quot;#{proxy_user}:#{proxy_pass}&quot;</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'m'</span>)
791:               <span class="ruby-identifier">credential</span>.<span class="ruby-identifier">delete!</span>(<span class="ruby-value str">&quot;\r\n&quot;</span>)
792:               <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">writeline</span> <span class="ruby-node">&quot;Proxy-Authorization: Basic #{credential}&quot;</span>
793:             <span class="ruby-keyword kw">end</span>
794:             <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">writeline</span> <span class="ruby-value str">''</span>
795:             <span class="ruby-constant">HTTPResponse</span>.<span class="ruby-identifier">read_new</span>(<span class="ruby-ivar">@socket</span>).<span class="ruby-identifier">value</span>
796:           <span class="ruby-keyword kw">end</span>
797:           <span class="ruby-comment cmt"># Server Name Indication (SNI) RFC 3546</span>
798:           <span class="ruby-identifier">s</span>.<span class="ruby-identifier">hostname</span> = <span class="ruby-ivar">@address</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-identifier">:hostname=</span>
799:           <span class="ruby-identifier">timeout</span>(<span class="ruby-ivar">@open_timeout</span>) { <span class="ruby-identifier">s</span>.<span class="ruby-identifier">connect</span> }
800:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@ssl_context</span>.<span class="ruby-identifier">verify_mode</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">VERIFY_NONE</span>
801:             <span class="ruby-identifier">s</span>.<span class="ruby-identifier">post_connection_check</span>(<span class="ruby-ivar">@address</span>)
802:           <span class="ruby-keyword kw">end</span>
803:         <span class="ruby-keyword kw">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">exception</span>
804:           <span class="ruby-constant">D</span> <span class="ruby-node">&quot;Conn close because of connect error #{exception}&quot;</span>
805:           <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@socket</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">closed?</span>
806:           <span class="ruby-identifier">raise</span> <span class="ruby-identifier">exception</span>
807:         <span class="ruby-keyword kw">end</span>
808:       <span class="ruby-keyword kw">end</span>
809:       <span class="ruby-identifier">on_connect</span>
810:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003123">
                    
                    <a name="M003123"></a><b>do_finish</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003123_source')" id="l_M003123_source">show</a>
                        
                    </p>
                    <div id="M003123_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 824</span>
824:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">do_finish</span>
825:       <span class="ruby-ivar">@started</span> = <span class="ruby-keyword kw">false</span>
826:       <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@socket</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">closed?</span>
827:       <span class="ruby-ivar">@socket</span> = <span class="ruby-keyword kw">nil</span>
828:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003119">
                    
                    <a name="M003119"></a><b>do_start</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003119_source')" id="l_M003119_source">show</a>
                        
                    </p>
                    <div id="M003119_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 754</span>
754:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">do_start</span>
755:       <span class="ruby-identifier">connect</span>
756:       <span class="ruby-ivar">@started</span> = <span class="ruby-keyword kw">true</span>
757:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003137">
                    
                    <a name="M003137"></a><b>edit_path</b>(path)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003137_source')" id="l_M003137_source">show</a>
                        
                    </p>
                    <div id="M003137_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 955</span>
955:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_path</span>(<span class="ruby-identifier">path</span>)
956:       <span class="ruby-identifier">path</span>
957:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003193">
                    
                    <a name="M003193"></a><b>end_transport</b>(req, res)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003193_source')" id="l_M003193_source">show</a>
                        
                    </p>
                    <div id="M003193_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1342</span>
1342:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">end_transport</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">res</span>)
1343:       <span class="ruby-ivar">@curr_http_version</span> = <span class="ruby-identifier">res</span>.<span class="ruby-identifier">http_version</span>
1344:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">closed?</span>
1345:         <span class="ruby-constant">D</span> <span class="ruby-value str">'Conn socket closed'</span>
1346:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">body</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@close_on_empty_response</span>
1347:         <span class="ruby-constant">D</span> <span class="ruby-value str">'Conn close'</span>
1348:         <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span>
1349:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">keep_alive?</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">res</span>)
1350:         <span class="ruby-constant">D</span> <span class="ruby-value str">'Conn keep-alive'</span>
1351:       <span class="ruby-keyword kw">else</span>
1352:         <span class="ruby-constant">D</span> <span class="ruby-value str">'Conn close'</span>
1353:         <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span>
1354:       <span class="ruby-keyword kw">end</span>
1355:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003197">
                    
                    <a name="M003197"></a><b>keep_alive?</b>(req, res)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003197_source')" id="l_M003197_source">show</a>
                        
                    </p>
                    <div id="M003197_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1357</span>
1357:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">keep_alive?</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">res</span>)
1358:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">req</span>.<span class="ruby-identifier">connection_close?</span>
1359:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@curr_http_version</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value str">'1.0'</span>
1360:         <span class="ruby-identifier">res</span>.<span class="ruby-identifier">connection_keep_alive?</span>
1361:       <span class="ruby-keyword kw">else</span>   <span class="ruby-comment cmt"># HTTP/1.1 or later</span>
1362:         <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">connection_close?</span>
1363:       <span class="ruby-keyword kw">end</span>
1364:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003121">
                    
                    <a name="M003121"></a><b>on_connect</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003121_source')" id="l_M003121_source">show</a>
                        
                    </p>
                    <div id="M003121_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/http.rb, line 813</span>
813:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">on_connect</span>
814:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003187">
                    
                    <a name="M003187"></a><b>send_entity</b>(path, data, initheader, dest, type, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Executes a request which uses a representation and returns its body.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003187_source')" id="l_M003187_source">show</a>
                        
                    </p>
                    <div id="M003187_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1305</span>
1305:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">send_entity</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-identifier">type</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1306:       <span class="ruby-identifier">res</span> = <span class="ruby-keyword kw">nil</span>
1307:       <span class="ruby-identifier">request</span>(<span class="ruby-identifier">type</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">data</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>
1308:         <span class="ruby-identifier">r</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-identifier">dest</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
1309:         <span class="ruby-identifier">res</span> = <span class="ruby-identifier">r</span>
1310:       }
1311:       <span class="ruby-identifier">res</span>
1312:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003200">
                    
                    <a name="M003200"></a><b>sspi_auth</b>(req)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003200_source')" id="l_M003200_source">show</a>
                        
                    </p>
                    <div id="M003200_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1381</span>
1381:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sspi_auth</span>(<span class="ruby-identifier">req</span>)
1382:       <span class="ruby-identifier">n</span> = <span class="ruby-constant">Win32</span><span class="ruby-operator">::</span><span class="ruby-constant">SSPI</span><span class="ruby-operator">::</span><span class="ruby-constant">NegotiateAuth</span>.<span class="ruby-identifier">new</span>
1383:       <span class="ruby-identifier">req</span>[<span class="ruby-value str">&quot;Proxy-Authorization&quot;</span>] = <span class="ruby-node">&quot;Negotiate #{n.get_initial_token}&quot;</span>
1384:       <span class="ruby-comment cmt"># Some versions of ISA will close the connection if this isn't present.</span>
1385:       <span class="ruby-identifier">req</span>[<span class="ruby-value str">&quot;Connection&quot;</span>] = <span class="ruby-value str">&quot;Keep-Alive&quot;</span>
1386:       <span class="ruby-identifier">req</span>[<span class="ruby-value str">&quot;Proxy-Connection&quot;</span>] = <span class="ruby-value str">&quot;Keep-Alive&quot;</span>
1387:       <span class="ruby-identifier">res</span> = <span class="ruby-identifier">transport_request</span>(<span class="ruby-identifier">req</span>)
1388:       <span class="ruby-identifier">authphrase</span> = <span class="ruby-identifier">res</span>[<span class="ruby-value str">&quot;Proxy-Authenticate&quot;</span>]  <span class="ruby-keyword kw">or</span> <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">res</span>
1389:       <span class="ruby-identifier">req</span>[<span class="ruby-value str">&quot;Proxy-Authorization&quot;</span>] = <span class="ruby-node">&quot;Negotiate #{n.complete_authentication(authphrase)}&quot;</span>
1390:     <span class="ruby-keyword kw">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">err</span>
1391:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">HTTPAuthenticationError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'HTTP authentication failed'</span>, <span class="ruby-identifier">err</span>)
1392:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003198">
                    
                    <a name="M003198"></a><b>sspi_auth?</b>(res)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003198_source')" id="l_M003198_source">show</a>
                        
                    </p>
                    <div id="M003198_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1366</span>
1366:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sspi_auth?</span>(<span class="ruby-identifier">res</span>)
1367:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@sspi_enabled</span>
1368:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">HTTPProxyAuthenticationRequired</span>) <span class="ruby-keyword kw">and</span>
1369:           <span class="ruby-identifier">proxy?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">res</span>[<span class="ruby-value str">&quot;Proxy-Authenticate&quot;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-value str">&quot;Negotiate&quot;</span>)
1370:         <span class="ruby-keyword kw">begin</span>
1371:           <span class="ruby-identifier">require</span> <span class="ruby-value str">'win32/sspi'</span>
1372:           <span class="ruby-keyword kw">true</span>
1373:         <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span>
1374:           <span class="ruby-keyword kw">false</span>
1375:         <span class="ruby-keyword kw">end</span>
1376:       <span class="ruby-keyword kw">else</span>
1377:         <span class="ruby-keyword kw">false</span>
1378:       <span class="ruby-keyword kw">end</span>
1379:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003188">
                    
                    <a name="M003188"></a><b>transport_request</b>(req)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003188_source')" id="l_M003188_source">show</a>
                        
                    </p>
                    <div id="M003188_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/net/http.rb, line 1314</span>
1314:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">transport_request</span>(<span class="ruby-identifier">req</span>)
1315:       <span class="ruby-identifier">begin_transport</span> <span class="ruby-identifier">req</span>
1316:       <span class="ruby-identifier">res</span> = <span class="ruby-identifier">catch</span>(<span class="ruby-identifier">:response</span>) {
1317:         <span class="ruby-identifier">req</span>.<span class="ruby-identifier">exec</span> <span class="ruby-ivar">@socket</span>, <span class="ruby-ivar">@curr_http_version</span>, <span class="ruby-identifier">edit_path</span>(<span class="ruby-identifier">req</span>.<span class="ruby-identifier">path</span>)
1318:         <span class="ruby-keyword kw">begin</span>
1319:           <span class="ruby-identifier">res</span> = <span class="ruby-constant">HTTPResponse</span>.<span class="ruby-identifier">read_new</span>(<span class="ruby-ivar">@socket</span>)
1320:         <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">HTTPContinue</span>)
1321:         <span class="ruby-identifier">res</span>.<span class="ruby-identifier">reading_body</span>(<span class="ruby-ivar">@socket</span>, <span class="ruby-identifier">req</span>.<span class="ruby-identifier">response_body_permitted?</span>) {
1322:           <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">res</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
1323:         }
1324:         <span class="ruby-identifier">res</span>
1325:       }
1326:       <span class="ruby-identifier">end_transport</span> <span class="ruby-identifier">req</span>, <span class="ruby-identifier">res</span>
1327:       <span class="ruby-identifier">res</span>
1328:     <span class="ruby-keyword kw">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">exception</span>
1329:       <span class="ruby-constant">D</span> <span class="ruby-node">&quot;Conn close because of error #{exception}&quot;</span>
1330:       <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@socket</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">closed?</span>
1331:       <span class="ruby-identifier">raise</span> <span class="ruby-identifier">exception</span>
1332:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    