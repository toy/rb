<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Time</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Time 
            
                <span class="parent">&lt; 
                    
                    <a href="Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/time_c.html">time.c</a></li>
            
            <li><a href="../files/lib/rake/ext/time_rb.html">lib/rake/ext/time.rb</a></li>
            
            <li><a href="../files/lib/rss/rss_rb.html">lib/rss/rss.rb</a></li>
            
            <li><a href="../files/lib/time_rb.html">lib/time.rb</a></li>
            
            <li><a href="../files/ext/date/date_core_c.html">ext/date/date_core.c</a></li>
            
            <li><a href="../files/ext/json/lib/json/add/core_rb.html">ext/json/lib/json/add/core.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
<a href="Time.html">Time</a> serialization/deserialization
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M001511">+</a>,</li>
                
                <li><a href="#M001512">-</a>,</li>
                
                <li><a href="#M001495"><=></a>,</li>
                
                <li><a href="#M003850"><=></a>,</li>
                
                <li><a href="#M001550">_dump</a>,</li>
                
                <li><a href="#M001551">_load</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M007730">apply_offset</a>,</li>
                
                <li><a href="#M009196">as_json</a>,</li>
                
                <li><a href="#M001507">asctime</a>,</li>
                
                <li><a href="#M001487">at</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M001506">ctime</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M001519">day</a>,</li>
                
                <li><a href="#M001526">dst?</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M001496">eql?</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M001538">friday?</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M001504">getgm</a>,</li>
                
                <li><a href="#M001503">getlocal</a>,</li>
                
                <li><a href="#M001505">getutc</a>,</li>
                
                <li><a href="#M001489">gm</a>,</li>
                
                <li><a href="#M001532">gmt?</a>,</li>
                
                <li><a href="#M001529">gmt_offset</a>,</li>
                
                <li><a href="#M001501">gmtime</a>,</li>
                
                <li><a href="#M001528">gmtoff</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M001497">hash</a>,</li>
                
                <li><a href="#M001517">hour</a>,</li>
                
                <li><a href="#M007740">httpdate</a>,</li>
                
                <li><a href="#M007746">httpdate</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M001509">inspect</a>,</li>
                
                <li><a href="#M001525">isdst</a>,</li>
                
                <li><a href="#M007748">iso8601</a>,</li>
                
                <li><a href="#M007749">iso8601</a></li>
                
            </ul>
        </dd>
    
        <dt>J</dt>
        <dd>
            <ul>
                
                <li><a href="#M009193">json_create</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M001490">local</a>,</li>
                
                <li><a href="#M001500">localtime</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M007733">make_time</a>,</li>
                
                <li><a href="#M001555">marshal_dump</a>,</li>
                
                <li><a href="#M001556">marshal_load</a>,</li>
                
                <li><a href="#M001518">mday</a>,</li>
                
                <li><a href="#M001516">min</a>,</li>
                
                <li><a href="#M001491">mktime</a>,</li>
                
                <li><a href="#M001520">mon</a>,</li>
                
                <li><a href="#M001534">monday?</a>,</li>
                
                <li><a href="#M001521">month</a>,</li>
                
                <li><a href="#M007727">month_days</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M001498">new</a>,</li>
                
                <li><a href="#M001486">now</a>,</li>
                
                <li><a href="#M001544">nsec</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M007735">parse</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M003849">rake_original_time_compare</a>,</li>
                
                <li><a href="#M007738">rfc2822</a>,</li>
                
                <li><a href="#M007743">rfc2822</a>,</li>
                
                <li><a href="#M007745">rfc822</a>,</li>
                
                <li><a href="#M007744">rfc822</a>,</li>
                
                <li><a href="#M001514">round</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M001539">saturday?</a>,</li>
                
                <li><a href="#M001515">sec</a>,</li>
                
                <li><a href="#M001549">strftime</a>,</li>
                
                <li><a href="#M007737">strptime</a>,</li>
                
                <li><a href="#M001545">subsec</a>,</li>
                
                <li><a href="#M001513">succ</a>,</li>
                
                <li><a href="#M001533">sunday?</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M001537">thursday?</a>,</li>
                
                <li><a href="#M001510">to_a</a>,</li>
                
                <li><a href="#M008794">to_date</a>,</li>
                
                <li><a href="#M008795">to_datetime</a>,</li>
                
                <li><a href="#M001493">to_f</a>,</li>
                
                <li><a href="#M001492">to_i</a>,</li>
                
                <li><a href="#M009197">to_json</a>,</li>
                
                <li><a href="#M001494">to_r</a>,</li>
                
                <li><a href="#M001508">to_s</a>,</li>
                
                <li><a href="#M008793">to_time</a>,</li>
                
                <li><a href="#M001535">tuesday?</a>,</li>
                
                <li><a href="#M001543">tv_nsec</a>,</li>
                
                <li><a href="#M001540">tv_sec</a>,</li>
                
                <li><a href="#M001541">tv_usec</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M001542">usec</a>,</li>
                
                <li><a href="#M001488">utc</a>,</li>
                
                <li><a href="#M001502">utc</a>,</li>
                
                <li><a href="#M001531">utc?</a>,</li>
                
                <li><a href="#M001530">utc_offset</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M006229">w3cdtf</a>,</li>
                
                <li><a href="#M006226">w3cdtf</a>,</li>
                
                <li><a href="#M001523">wday</a>,</li>
                
                <li><a href="#M001536">wednesday?</a></li>
                
            </ul>
        </dd>
    
        <dt>X</dt>
        <dd>
            <ul>
                
                <li><a href="#M007742">xmlschema</a>,</li>
                
                <li><a href="#M007747">xmlschema</a></li>
                
            </ul>
        </dd>
    
        <dt>Y</dt>
        <dd>
            <ul>
                
                <li><a href="#M001524">yday</a>,</li>
                
                <li><a href="#M001522">year</a></li>
                
            </ul>
        </dd>
    
        <dt>Z</dt>
        <dd>
            <ul>
                
                <li><a href="#M001527">zone</a>,</li>
                
                <li><a href="#M007722">zone_offset</a>,</li>
                
                <li><a href="#M007724">zone_utc?</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="JSON.html">JSON</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">ZoneOffset</td>
            <td>=</td>
            <td class="attr-value">{       'UTC' =&gt; 0,       # ISO 8601       'Z' =&gt; 0,       # RFC 822       'UT' =&gt; 0, 'GMT' =&gt; 0,       'EST' =&gt; -5, 'EDT' =&gt; -4,       'CST' =&gt; -6, 'CDT' =&gt; -5,       'MST' =&gt; -7, 'MDT' =&gt; -6,       'PST' =&gt; -8, 'PDT' =&gt; -7,       # Following definition of military zones is original one.       # See RFC 1123 and RFC 2822 for the error in RFC 822.       'A' =&gt; +1, 'B' =&gt; +2, 'C' =&gt; +3, 'D' =&gt; +4,  'E' =&gt; +5,  'F' =&gt; +6,       'G' =&gt; +7, 'H' =&gt; +8, 'I' =&gt; +9, 'K' =&gt; +10, 'L' =&gt; +11, 'M' =&gt; +12,       'N' =&gt; -1, 'O' =&gt; -2, 'P' =&gt; -3, 'Q' =&gt; -4,  'R' =&gt; -5,  'S' =&gt; -6,       'T' =&gt; -7, 'U' =&gt; -8, 'V' =&gt; -9, 'W' =&gt; -10, 'X' =&gt; -11, 'Y' =&gt; -12,     }</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">LeapYearMonthDays</td>
            <td>=</td>
            <td class="attr-value">[31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">CommonYearMonthDays</td>
            <td>=</td>
            <td class="attr-value">[31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">MonthValue</td>
            <td>=</td>
            <td class="attr-value">{       'JAN' =&gt; 1, 'FEB' =&gt; 2, 'MAR' =&gt; 3, 'APR' =&gt; 4, 'MAY' =&gt; 5, 'JUN' =&gt; 6,       'JUL' =&gt; 7, 'AUG' =&gt; 8, 'SEP' =&gt; 9, 'OCT' =&gt;10, 'NOV' =&gt;11, 'DEC' =&gt;12     }</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">RFC2822_DAY_NAME</td>
            <td>=</td>
            <td class="attr-value">[     'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'   ]</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">RFC2822_MONTH_NAME</td>
            <td>=</td>
            <td class="attr-value">[     'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',     'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'   ]</td>
        </tr>
        
        
    </table>
    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M001551">
                    
                    <a name="M001551"></a><b>Time._load(string)   &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Unmarshal a dumped <tt>Time</tt> object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001551_source')" id="l_M001551_source">show</a>
                        
                    </p>
                    <div id="M001551_source" class="dyn-source">
                        <pre>static VALUE
time_load(VALUE klass, VALUE str)
{
    VALUE time = time_s_alloc(klass);

    time_mload(time, str);
    return time;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001487">
                    
                    <a name="M001487"></a><b>Time.at(time) &rarr; time
Time.at(seconds_with_frac) &rarr; time
Time.at(seconds, microseconds_with_frac) &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new time object with the value given by <em>time</em>, the given
number of <em>seconds_with_frac</em>, or <em>seconds</em> and
<em>microseconds_with_frac</em> from the Epoch. <em>seconds_with_frac</em>
and <em>microseconds_with_frac</em> can be <a
href="Integer.html">Integer</a>, <a href="Float.html">Float</a>, <a
href="Rational.html">Rational</a>, or other <a
href="Numeric.html">Numeric</a>. non-portable feature allows the offset to
be negative on some systems.
</p>
<pre>
   Time.at(0)            #=&gt; 1969-12-31 18:00:00 -0600
   Time.at(Time.at(0))   #=&gt; 1969-12-31 18:00:00 -0600
   Time.at(946702800)    #=&gt; 1999-12-31 23:00:00 -0600
   Time.at(-284061600)   #=&gt; 1960-12-31 00:00:00 -0600
   Time.at(946684800.2).usec #=&gt; 200000
   Time.at(946684800, 123456.789).nsec #=&gt; 123456789
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001487_source')" id="l_M001487_source">show</a>
                        
                    </p>
                    <div id="M001487_source" class="dyn-source">
                        <pre>static VALUE
time_s_at(int argc, VALUE *argv, VALUE klass)
{
    VALUE time, t;
    wideval_t timew;

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;time, &amp;t) == 2) {
        time = num_exact(time);
        t = num_exact(t);
        timew = wadd(rb_time_magnify(v2w(time)), wmulquoll(v2w(t), TIME_SCALE, 1000000));
        t = time_new_timew(klass, timew);
    }
    else if (IsTimeval(time)) {
  struct time_object *tobj, *tobj2;
        GetTimeval(time, tobj);
        t = time_new_timew(klass, tobj-&gt;timew);
  GetTimeval(t, tobj2);
        TIME_COPY_GMT(tobj2, tobj);
    }
    else {
        timew = rb_time_magnify(v2w(num_exact(time)));
        t = time_new_timew(klass, timew);
    }

    return t;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001489">
                    
                    <a name="M001489"></a><b>Time.utc(year) &rarr; time
Time.utc(year, month) &rarr; time
Time.utc(year, month, day) &rarr; time
Time.utc(year, month, day, hour) &rarr; time
Time.utc(year, month, day, hour, min) &rarr; time
Time.utc(year, month, day, hour, min, sec_with_frac) &rarr; time
Time.utc(year, month, day, hour, min, sec, usec_with_frac) &rarr; time
Time.utc(sec, min, hour, day, month, year, wday, yday, isdst, tz) &rarr; time
Time.gm(year) &rarr; time
Time.gm(year, month) &rarr; time
Time.gm(year, month, day) &rarr; time
Time.gm(year, month, day, hour) &rarr; time
Time.gm(year, month, day, hour, min) &rarr; time
Time.gm(year, month, day, hour, min, sec_with_frac) &rarr; time
Time.gm(year, month, day, hour, min, sec, usec_with_frac) &rarr; time
Time.gm(sec, min, hour, day, month, year, wday, yday, isdst, tz) &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a time based on given values, interpreted as UTC (GMT). The year
must be specified. Other values default to the minimum value for that field
(and may be <tt>nil</tt> or omitted). Months may be specified by numbers
from 1 to 12, or by the three-letter English month names. Hours are
specified on a 24-hour clock (0..23). Raises an <tt>ArgumentError</tt> if
any values are out of range. Will also accept ten arguments in the order
output by <tt><a href="Time.html#M001510">Time#to_a</a></tt>.
<em>sec_with_frac</em> and <em>usec_with_frac</em> can have a fractional
part.
</p>
<pre>
   Time.utc(2000,&quot;jan&quot;,1,20,15,1)  #=&gt; 2000-01-01 20:15:01 UTC
   Time.gm(2000,&quot;jan&quot;,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 UTC
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001489_source')" id="l_M001489_source">show</a>
                        
                    </p>
                    <div id="M001489_source" class="dyn-source">
                        <pre>static VALUE
time_s_mkutc(int argc, VALUE *argv, VALUE klass)
{
    return time_utc_or_local(argc, argv, TRUE, klass);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007740">
                    
                    <a name="M007740"></a><b>httpdate</b>(date)
                    
                </div>
                
                <div class="description">
                  <p>
Parses <tt>date</tt> as HTTP-date defined by RFC 2616 and converts it to a
<a href="Time.html">Time</a> object.
</p>
<p>
<a href="ArgumentError.html">ArgumentError</a> is raised if <tt>date</tt>
is not compliant with RFC 2616 or <a href="Time.html">Time</a> class cannot
represent specified date.
</p>
<p>
See <a href="Time.html#M007740">httpdate</a> for more information on this
format.
</p>
<p>
time library should be required to use this method as follows.
</p>
<pre>
    require 'time'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007740_source')" id="l_M007740_source">show</a>
                        
                    </p>
                    <div id="M007740_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 365</span>
365:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">httpdate</span>(<span class="ruby-identifier">date</span>)
366:       <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">/\A\s*
367:           (?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),\x20
368:           (\d{2})\x20
369:           (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\x20
370:           (\d{4})\x20
371:           (\d{2}):(\d{2}):(\d{2})\x20
372:           GMT
373:           \s*\z/i</span><span class="ruby-identifier">x</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">date</span>
374:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">rfc2822</span>(<span class="ruby-identifier">date</span>)
375:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-regexp re">/\A\s*
376:              (?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday),\x20
377:              (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d)\x20
378:              (\d\d):(\d\d):(\d\d)\x20
379:              GMT
380:              \s*\z/i</span><span class="ruby-identifier">x</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">date</span>
381:         <span class="ruby-identifier">year</span> = <span class="ruby-identifier">$3</span>.<span class="ruby-identifier">to_i</span>
382:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">year</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">50</span>
383:           <span class="ruby-identifier">year</span> <span class="ruby-operator">+=</span> <span class="ruby-value">2000</span>
384:         <span class="ruby-keyword kw">else</span>
385:           <span class="ruby-identifier">year</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1900</span>
386:         <span class="ruby-keyword kw">end</span>
387:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">$2</span>, <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">$4</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">$5</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">$6</span>.<span class="ruby-identifier">to_i</span>)
388:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-regexp re">/\A\s*
389:              (?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)\x20
390:              (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\x20
391:              (\d\d|\x20\d)\x20
392:              (\d\d):(\d\d):(\d\d)\x20
393:              (\d{4})
394:              \s*\z/i</span><span class="ruby-identifier">x</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">date</span>
395:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-identifier">$6</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-constant">MonthValue</span>[<span class="ruby-identifier">$1</span>.<span class="ruby-identifier">upcase</span>], <span class="ruby-identifier">$2</span>.<span class="ruby-identifier">to_i</span>,
396:                  <span class="ruby-identifier">$3</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">$4</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">$5</span>.<span class="ruby-identifier">to_i</span>)
397:       <span class="ruby-keyword kw">else</span>
398:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;not RFC 2616 compliant date: #{date.inspect}&quot;</span>)
399:       <span class="ruby-keyword kw">end</span>
400:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M009193">
                    
                    <a name="M009193"></a><b>json_create</b>(object)
                    
                </div>
                
                <div class="description">
                  <p>
Deserializes <a href="JSON.html">JSON</a> string by converting time since
epoch to <a href="Time.html">Time</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M009193_source')" id="l_M009193_source">show</a>
                        
                    </p>
                    <div id="M009193_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/json/lib/json/add/core.rb, line 35</span>
35:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">json_create</span>(<span class="ruby-identifier">object</span>)
36:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">usec</span> = <span class="ruby-identifier">object</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">'u'</span>) <span class="ruby-comment cmt"># used to be tv_usec -&gt; tv_nsec</span>
37:       <span class="ruby-identifier">object</span>[<span class="ruby-value str">'n'</span>] = <span class="ruby-identifier">usec</span> <span class="ruby-operator">*</span> <span class="ruby-value">1000</span>
38:     <span class="ruby-keyword kw">end</span>
39:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:tv_nsec</span>)
40:       <span class="ruby-identifier">at</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">object</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-value str">'s'</span>, <span class="ruby-value str">'n'</span>))
41:     <span class="ruby-keyword kw">else</span>
42:       <span class="ruby-identifier">at</span>(<span class="ruby-identifier">object</span>[<span class="ruby-value str">'s'</span>], <span class="ruby-identifier">object</span>[<span class="ruby-value str">'n'</span>] <span class="ruby-operator">/</span> <span class="ruby-value">1000</span>)
43:     <span class="ruby-keyword kw">end</span>
44:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001490">
                    
                    <a name="M001490"></a><b>Time.local(year) &rarr; time
Time.local(year, month) &rarr; time
Time.local(year, month, day) &rarr; time
Time.local(year, month, day, hour) &rarr; time
Time.local(year, month, day, hour, min) &rarr; time
Time.local(year, month, day, hour, min, sec_with_frac) &rarr; time
Time.local(year, month, day, hour, min, sec, usec_with_frac) &rarr; time
Time.local(sec, min, hour, day, month, year, wday, yday, isdst, tz) &rarr; time
Time.mktime(year) &rarr; time
Time.mktime(year, month) &rarr; time
Time.mktime(year, month, day) &rarr; time
Time.mktime(year, month, day, hour) &rarr; time
Time.mktime(year, month, day, hour, min) &rarr; time
Time.mktime(year, month, day, hour, min, sec_with_frac) &rarr; time
Time.mktime(year, month, day, hour, min, sec, usec_with_frac) &rarr; time
Time.mktime(sec, min, hour, day, month, year, wday, yday, isdst, tz) &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Same as <tt>Time::gm</tt>, but interprets the values in the local time
zone.
</p>
<pre>
   Time.local(2000,&quot;jan&quot;,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 -0600
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001490_source')" id="l_M001490_source">show</a>
                        
                    </p>
                    <div id="M001490_source" class="dyn-source">
                        <pre>static VALUE
time_s_mktime(int argc, VALUE *argv, VALUE klass)
{
    return time_utc_or_local(argc, argv, FALSE, klass);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001491">
                    
                    <a name="M001491"></a><b>Time.local(year) &rarr; time
Time.local(year, month) &rarr; time
Time.local(year, month, day) &rarr; time
Time.local(year, month, day, hour) &rarr; time
Time.local(year, month, day, hour, min) &rarr; time
Time.local(year, month, day, hour, min, sec_with_frac) &rarr; time
Time.local(year, month, day, hour, min, sec, usec_with_frac) &rarr; time
Time.local(sec, min, hour, day, month, year, wday, yday, isdst, tz) &rarr; time
Time.mktime(year) &rarr; time
Time.mktime(year, month) &rarr; time
Time.mktime(year, month, day) &rarr; time
Time.mktime(year, month, day, hour) &rarr; time
Time.mktime(year, month, day, hour, min) &rarr; time
Time.mktime(year, month, day, hour, min, sec_with_frac) &rarr; time
Time.mktime(year, month, day, hour, min, sec, usec_with_frac) &rarr; time
Time.mktime(sec, min, hour, day, month, year, wday, yday, isdst, tz) &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Same as <tt>Time::gm</tt>, but interprets the values in the local time
zone.
</p>
<pre>
   Time.local(2000,&quot;jan&quot;,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 -0600
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001491_source')" id="l_M001491_source">show</a>
                        
                    </p>
                    <div id="M001491_source" class="dyn-source">
                        <pre>static VALUE
time_s_mktime(int argc, VALUE *argv, VALUE klass)
{
    return time_utc_or_local(argc, argv, FALSE, klass);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001498">
                    
                    <a name="M001498"></a><b>Time.new &rarr; time
Time.new(year, month=nil, day=nil, hour=nil, min=nil, sec=nil, utc_offset=nil) &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a <tt>Time</tt> object.
</p>
<p>
It is initialized to the current system time if no argument. <b>Note:</b>
The object created will be created using the resolution available on your
system clock, and so may include fractional seconds.
</p>
<p>
If one or more arguments specified, the time is initialized to the
specified time. <em>sec</em> may have fraction if it is a rational.
</p>
<p>
<em><a href="Time.html#M001530">utc_offset</a></em> is the offset from UTC.
It is a string such as &#8220;+09:00&#8221; or a number of seconds such as
32400.
</p>
<pre>
   a = Time.new      #=&gt; 2007-11-19 07:50:02 -0600
   b = Time.new      #=&gt; 2007-11-19 07:50:02 -0600
   a == b            #=&gt; false
   &quot;%.6f&quot; % a.to_f   #=&gt; &quot;1195480202.282373&quot;
   &quot;%.6f&quot; % b.to_f   #=&gt; &quot;1195480202.283415&quot;

   Time.new(2008,6,21, 13,30,0, &quot;+09:00&quot;) #=&gt; 2008-06-21 13:30:00 +0900

   # A trip for RubyConf 2007
   t1 = Time.new(2007,11,1,15,25,0, &quot;+09:00&quot;) # JST (Narita)
   t2 = Time.new(2007,11,1,12, 5,0, &quot;-05:00&quot;) # CDT (Minneapolis)
   t3 = Time.new(2007,11,1,13,25,0, &quot;-05:00&quot;) # CDT (Minneapolis)
   t4 = Time.new(2007,11,1,16,53,0, &quot;-04:00&quot;) # EDT (Charlotte)
   t5 = Time.new(2007,11,5, 9,24,0, &quot;-05:00&quot;) # EST (Charlotte)
   t6 = Time.new(2007,11,5,11,21,0, &quot;-05:00&quot;) # EST (Detroit)
   t7 = Time.new(2007,11,5,13,45,0, &quot;-05:00&quot;) # EST (Detroit)
   t8 = Time.new(2007,11,6,17,10,0, &quot;+09:00&quot;) # JST (Narita)
   p((t2-t1)/3600.0)                          #=&gt; 10.666666666666666
   p((t4-t3)/3600.0)                          #=&gt; 2.466666666666667
   p((t6-t5)/3600.0)                          #=&gt; 1.95
   p((t8-t7)/3600.0)                          #=&gt; 13.416666666666666
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001498_source')" id="l_M001498_source">show</a>
                        
                    </p>
                    <div id="M001498_source" class="dyn-source">
                        <pre>static VALUE
time_init(int argc, VALUE *argv, VALUE time)
{
    if (argc == 0)
        return time_init_0(time);
    else
        return time_init_1(argc, argv, time);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001486">
                    
                    <a name="M001486"></a><b>now</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Synonym for <tt><a href="Time.html#M001498">Time.new</a></tt>. Returns a
<tt>Time</tt> object initialized to the current system time.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001486_source')" id="l_M001486_source">show</a>
                        
                    </p>
                    <div id="M001486_source" class="dyn-source">
                        <pre>static VALUE
time_s_now(VALUE klass)
{
    return rb_class_new_instance(0, NULL, klass);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007735">
                    
                    <a name="M007735"></a><b>parse</b>(date, now=self.now)
                    
                </div>
                
                <div class="description">
                  <p>
Parses <tt>date</tt> using <a href="Date.html#M008575">Date._parse</a> and
converts it to a <a href="Time.html">Time</a> object.
</p>
<p>
If a block is given, the year described in <tt>date</tt> is converted by
the block. For example:
</p>
<pre>
    Time.parse(...) {|y| 0 &lt;= y &amp;&amp; y &lt; 100 ? (y &gt;= 69 ? y + 1900 : y + 2000) : y}
</pre>
<p>
If the upper components of the given time are broken or missing, they are
supplied with those of <tt>now</tt>. For the lower components, the minimum
values (1 or 0) are assumed if broken or missing. For example:
</p>
<pre>
    # Suppose it is &quot;Thu Nov 29 14:33:20 GMT 2001&quot; now and
    # your timezone is GMT:
    now = Time.parse(&quot;Thu Nov 29 14:33:20 GMT 2001&quot;)
    Time.parse(&quot;16:30&quot;, now)     #=&gt; 2001-11-29 16:30:00 +0900
    Time.parse(&quot;7/23&quot;, now)      #=&gt; 2001-07-23 00:00:00 +0900
    Time.parse(&quot;Aug 31&quot;, now)    #=&gt; 2001-08-31 00:00:00 +0900
    Time.parse(&quot;Aug 2000&quot;, now)  #=&gt; 2000-08-01 00:00:00 +0900
</pre>
<p>
Since there are numerous conflicts among locally defined timezone
abbreviations all over the world, this method is not made to understand all
of them. For example, the abbreviation &#8220;CST&#8221; is used variously
as:
</p>
<pre>
    -06:00 in America/Chicago,
    -05:00 in America/Havana,
    +08:00 in Asia/Harbin,
    +09:30 in Australia/Darwin,
    +10:30 in Australia/Adelaide,
    etc.
</pre>
<p>
Based on the fact, this method only understands the timezone abbreviations
described in RFC 822 and the system timezone, in the order named. (i.e. a
definition in RFC 822 overrides the system timezone definition.) The system
timezone is taken from <tt><a href="Time.html#M001490">Time.local</a>(year,
1, 1).zone</tt> and <tt><a href="Time.html#M001490">Time.local</a>(year, 7,
1).zone</tt>. If the extracted timezone abbreviation does not match any of
them, it is ignored and the given time is regarded as a local time.
</p>
<p>
<a href="ArgumentError.html">ArgumentError</a> is raised if <a
href="Date.html#M008575">Date._parse</a> cannot extract information from
<tt>date</tt> or <a href="Time.html">Time</a> class cannot represent
specified date.
</p>
<p>
This method can be used as fail-safe for other parsing methods as:
</p>
<pre>
  Time.rfc2822(date) rescue Time.parse(date)
  Time.httpdate(date) rescue Time.parse(date)
  Time.xmlschema(date) rescue Time.parse(date)
</pre>
<p>
A failure for <a href="Time.html#M007735">Time.parse</a> should be checked,
though.
</p>
<p>
time library should be required to use this method as follows.
</p>
<pre>
    require 'time'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007735_source')" id="l_M007735_source">show</a>
                        
                    </p>
                    <div id="M007735_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 263</span>
263:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse</span>(<span class="ruby-identifier">date</span>, <span class="ruby-identifier">now</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">now</span>)
264:       <span class="ruby-identifier">comp</span> = <span class="ruby-operator">!</span><span class="ruby-identifier">block_given?</span>
265:       <span class="ruby-identifier">d</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">_parse</span>(<span class="ruby-identifier">date</span>, <span class="ruby-identifier">comp</span>)
266:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>[<span class="ruby-identifier">:year</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>[<span class="ruby-identifier">:mon</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>[<span class="ruby-identifier">:mday</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>[<span class="ruby-identifier">:hour</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>[<span class="ruby-identifier">:min</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>[<span class="ruby-identifier">:sec</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>[<span class="ruby-identifier">:sec_fraction</span>]
267:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;no time information in #{date.inspect}&quot;</span>
268:       <span class="ruby-keyword kw">end</span>
269:       <span class="ruby-identifier">year</span> = <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:year</span>]
270:       <span class="ruby-identifier">year</span> = <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">year</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">year</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">comp</span>
271:       <span class="ruby-identifier">make_time</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:mon</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:mday</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:hour</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:min</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:sec</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:sec_fraction</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:zone</span>], <span class="ruby-identifier">now</span>)
272:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007738">
                    
                    <a name="M007738"></a><b>rfc2822</b>(date)
                    
                </div>
                
                <div class="description">
                  <p>
Parses <tt>date</tt> as date-time defined by RFC 2822 and converts it to a
<a href="Time.html">Time</a> object. The format is identical to the date
format defined by RFC 822 and updated by RFC 1123.
</p>
<p>
<a href="ArgumentError.html">ArgumentError</a> is raised if <tt>date</tt>
is not compliant with RFC 2822 or <a href="Time.html">Time</a> class cannot
represent specified date.
</p>
<p>
See <a href="Time.html#M007738">rfc2822</a> for more information on this
format.
</p>
<p>
time library should be required to use this method as follows.
</p>
<pre>
    require 'time'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007738_source')" id="l_M007738_source">show</a>
                        
                    </p>
                    <div id="M007738_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 312</span>
312:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rfc2822</span>(<span class="ruby-identifier">date</span>)
313:       <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">/\A\s*
314:           (?:(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)\s*,\s*)?
315:           (\d{1,2})\s+
316:           (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+
317:           (\d{2,})\s+
318:           (\d{2})\s*
319:           :\s*(\d{2})\s*
320:           (?::\s*(\d{2}))?\s+
321:           ([+-]\d{4}|
322:            UT|GMT|EST|EDT|CST|CDT|MST|MDT|PST|PDT|[A-IK-Z])/i</span><span class="ruby-identifier">x</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">date</span>
323:         <span class="ruby-comment cmt"># Since RFC 2822 permit comments, the regexp has no right anchor.</span>
324:         <span class="ruby-identifier">day</span> = <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">to_i</span>
325:         <span class="ruby-identifier">mon</span> = <span class="ruby-constant">MonthValue</span>[<span class="ruby-identifier">$2</span>.<span class="ruby-identifier">upcase</span>]
326:         <span class="ruby-identifier">year</span> = <span class="ruby-identifier">$3</span>.<span class="ruby-identifier">to_i</span>
327:         <span class="ruby-identifier">hour</span> = <span class="ruby-identifier">$4</span>.<span class="ruby-identifier">to_i</span>
328:         <span class="ruby-identifier">min</span> = <span class="ruby-identifier">$5</span>.<span class="ruby-identifier">to_i</span>
329:         <span class="ruby-identifier">sec</span> = <span class="ruby-identifier">$6</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">$6</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>
330:         <span class="ruby-identifier">zone</span> = <span class="ruby-identifier">$7</span>
331: 
332:         <span class="ruby-comment cmt"># following year completion is compliant with RFC 2822.</span>
333:         <span class="ruby-identifier">year</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">year</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">50</span>
334:                  <span class="ruby-value">2000</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">year</span>
335:                <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">year</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">1000</span>
336:                  <span class="ruby-value">1900</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">year</span>
337:                <span class="ruby-keyword kw">else</span>
338:                  <span class="ruby-identifier">year</span>
339:                <span class="ruby-keyword kw">end</span>
340: 
341:         <span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span> =
342:           <span class="ruby-identifier">apply_offset</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>, <span class="ruby-identifier">zone_offset</span>(<span class="ruby-identifier">zone</span>))
343:         <span class="ruby-identifier">t</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>)
344:         <span class="ruby-identifier">t</span>.<span class="ruby-identifier">localtime</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">zone_utc?</span>(<span class="ruby-identifier">zone</span>)
345:         <span class="ruby-identifier">t</span>
346:       <span class="ruby-keyword kw">else</span>
347:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;not RFC 2822 compliant date: #{date.inspect}&quot;</span>)
348:       <span class="ruby-keyword kw">end</span>
349:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007737">
                    
                    <a name="M007737"></a><b>strptime</b>(date, format, now=self.now)
                    
                </div>
                
                <div class="description">
                  <p>
Parses <tt>date</tt> using <a href="Date.html#M008573">Date._strptime</a>
and converts it to a <a href="Time.html">Time</a> object.
</p>
<p>
If a block is given, the year described in <tt>date</tt> is converted by
the block. For example:
</p>
<pre>
    Time.strptime(...) {|y| y &lt; 100 ? (y &gt;= 69 ? y + 1900 : y + 2000) : y}
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007737_source')" id="l_M007737_source">show</a>
                        
                    </p>
                    <div id="M007737_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 281</span>
281:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">strptime</span>(<span class="ruby-identifier">date</span>, <span class="ruby-identifier">format</span>, <span class="ruby-identifier">now</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">now</span>)
282:       <span class="ruby-identifier">d</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">_strptime</span>(<span class="ruby-identifier">date</span>, <span class="ruby-identifier">format</span>)
283:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;invalid strptime format - `#{format}'&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">d</span>
284:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">seconds</span> = <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:seconds</span>]
285:         <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-identifier">seconds</span>)
286:       <span class="ruby-keyword kw">else</span>
287:         <span class="ruby-identifier">year</span> = <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:year</span>]
288:         <span class="ruby-identifier">year</span> = <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">year</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">year</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">block_given?</span>
289:         <span class="ruby-identifier">make_time</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:mon</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:mday</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:hour</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:min</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:sec</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:sec_fraction</span>], <span class="ruby-identifier">d</span>[<span class="ruby-identifier">:zone</span>], <span class="ruby-identifier">now</span>)
290:       <span class="ruby-keyword kw">end</span>
291:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001488">
                    
                    <a name="M001488"></a><b>Time.utc(year) &rarr; time
Time.utc(year, month) &rarr; time
Time.utc(year, month, day) &rarr; time
Time.utc(year, month, day, hour) &rarr; time
Time.utc(year, month, day, hour, min) &rarr; time
Time.utc(year, month, day, hour, min, sec_with_frac) &rarr; time
Time.utc(year, month, day, hour, min, sec, usec_with_frac) &rarr; time
Time.utc(sec, min, hour, day, month, year, wday, yday, isdst, tz) &rarr; time
Time.gm(year) &rarr; time
Time.gm(year, month) &rarr; time
Time.gm(year, month, day) &rarr; time
Time.gm(year, month, day, hour) &rarr; time
Time.gm(year, month, day, hour, min) &rarr; time
Time.gm(year, month, day, hour, min, sec_with_frac) &rarr; time
Time.gm(year, month, day, hour, min, sec, usec_with_frac) &rarr; time
Time.gm(sec, min, hour, day, month, year, wday, yday, isdst, tz) &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a time based on given values, interpreted as UTC (GMT). The year
must be specified. Other values default to the minimum value for that field
(and may be <tt>nil</tt> or omitted). Months may be specified by numbers
from 1 to 12, or by the three-letter English month names. Hours are
specified on a 24-hour clock (0..23). Raises an <tt>ArgumentError</tt> if
any values are out of range. Will also accept ten arguments in the order
output by <tt><a href="Time.html#M001510">Time#to_a</a></tt>.
<em>sec_with_frac</em> and <em>usec_with_frac</em> can have a fractional
part.
</p>
<pre>
   Time.utc(2000,&quot;jan&quot;,1,20,15,1)  #=&gt; 2000-01-01 20:15:01 UTC
   Time.gm(2000,&quot;jan&quot;,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 UTC
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001488_source')" id="l_M001488_source">show</a>
                        
                    </p>
                    <div id="M001488_source" class="dyn-source">
                        <pre>static VALUE
time_s_mkutc(int argc, VALUE *argv, VALUE klass)
{
    return time_utc_or_local(argc, argv, TRUE, klass);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006226">
                    
                    <a name="M006226"></a><b>w3cdtf</b>(date)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006226_source')" id="l_M006226_source">show</a>
                        
                    </p>
                    <div id="M006226_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rss/rss.rb, line 6</span>
 6:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">w3cdtf</span>(<span class="ruby-identifier">date</span>)
 7:         <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">/\A\s*
 8:             (-?\d+)-(\d\d)-(\d\d)
 9:             (?:T
10:             (\d\d):(\d\d)(?::(\d\d))?
11:             (\.\d+)?
12:             (Z|[+-]\d\d:\d\d)?)?
13:             \s*\z/i</span><span class="ruby-identifier">x</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">date</span> <span class="ruby-keyword kw">and</span> ((<span class="ruby-identifier">$5</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">$8</span>) <span class="ruby-keyword kw">or</span> (<span class="ruby-operator">!</span><span class="ruby-identifier">$5</span> <span class="ruby-keyword kw">and</span> <span class="ruby-operator">!</span><span class="ruby-identifier">$8</span>))
14:           <span class="ruby-identifier">datetime</span> = [<span class="ruby-identifier">$1</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">$2</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">$3</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">$4</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">$5</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">$6</span>.<span class="ruby-identifier">to_i</span>]
15:           <span class="ruby-identifier">usec</span> = <span class="ruby-value">0</span>
16:           <span class="ruby-identifier">usec</span> = <span class="ruby-identifier">$7</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">*</span> <span class="ruby-value">1000000</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$7</span>
17:           <span class="ruby-identifier">zone</span> = <span class="ruby-identifier">$8</span>
18:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">zone</span>
19:             <span class="ruby-identifier">off</span> = <span class="ruby-identifier">zone_offset</span>(<span class="ruby-identifier">zone</span>, <span class="ruby-identifier">datetime</span>[<span class="ruby-value">0</span>])
20:             <span class="ruby-identifier">datetime</span> = <span class="ruby-identifier">apply_offset</span>(<span class="ruby-operator">*</span>(<span class="ruby-identifier">datetime</span> <span class="ruby-operator">+</span> [<span class="ruby-identifier">off</span>]))
21:             <span class="ruby-identifier">datetime</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">usec</span>
22:             <span class="ruby-identifier">time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">datetime</span>)
23:             <span class="ruby-identifier">time</span>.<span class="ruby-identifier">localtime</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">zone_utc?</span>(<span class="ruby-identifier">zone</span>)
24:             <span class="ruby-identifier">time</span>
25:           <span class="ruby-keyword kw">else</span>
26:             <span class="ruby-identifier">datetime</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">usec</span>
27:             <span class="ruby-constant">Time</span>.<span class="ruby-identifier">local</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">datetime</span>)
28:           <span class="ruby-keyword kw">end</span>
29:         <span class="ruby-keyword kw">else</span>
30:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;invalid date: #{date.inspect}&quot;</span>)
31:         <span class="ruby-keyword kw">end</span>
32:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007742">
                    
                    <a name="M007742"></a><b>xmlschema</b>(date)
                    
                </div>
                
                <div class="description">
                  <p>
Parses <tt>date</tt> as date<a href="Time.html">Time</a> defined by <a
href="XML.html">XML</a> Schema and converts it to a <a
href="Time.html">Time</a> object. The format is restricted version of the
format defined by ISO 8601.
</p>
<p>
<a href="ArgumentError.html">ArgumentError</a> is raised if <tt>date</tt>
is not compliant with the format or <a href="Time.html">Time</a> class
cannot represent specified date.
</p>
<p>
See <a href="Time.html#M007742">xmlschema</a> for more information on this
format.
</p>
<p>
time library should be required to use this method as follows.
</p>
<pre>
    require 'time'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007742_source')" id="l_M007742_source">show</a>
                        
                    </p>
                    <div id="M007742_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 416</span>
416:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">xmlschema</span>(<span class="ruby-identifier">date</span>)
417:       <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">/\A\s*
418:           (-?\d+)-(\d\d)-(\d\d)
419:           T
420:           (\d\d):(\d\d):(\d\d)
421:           (\.\d+)?
422:           (Z|[+-]\d\d:\d\d)?
423:           \s*\z/i</span><span class="ruby-identifier">x</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">date</span>
424:         <span class="ruby-identifier">year</span> = <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">to_i</span>
425:         <span class="ruby-identifier">mon</span> = <span class="ruby-identifier">$2</span>.<span class="ruby-identifier">to_i</span>
426:         <span class="ruby-identifier">day</span> = <span class="ruby-identifier">$3</span>.<span class="ruby-identifier">to_i</span>
427:         <span class="ruby-identifier">hour</span> = <span class="ruby-identifier">$4</span>.<span class="ruby-identifier">to_i</span>
428:         <span class="ruby-identifier">min</span> = <span class="ruby-identifier">$5</span>.<span class="ruby-identifier">to_i</span>
429:         <span class="ruby-identifier">sec</span> = <span class="ruby-identifier">$6</span>.<span class="ruby-identifier">to_i</span>
430:         <span class="ruby-identifier">usec</span> = <span class="ruby-value">0</span>
431:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$7</span>
432:           <span class="ruby-identifier">usec</span> = <span class="ruby-constant">Rational</span>(<span class="ruby-identifier">$7</span>) <span class="ruby-operator">*</span> <span class="ruby-value">1000000</span>
433:         <span class="ruby-keyword kw">end</span>
434:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$8</span>
435:           <span class="ruby-identifier">zone</span> = <span class="ruby-identifier">$8</span>
436:           <span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span> =
437:             <span class="ruby-identifier">apply_offset</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>, <span class="ruby-identifier">zone_offset</span>(<span class="ruby-identifier">zone</span>))
438:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>, <span class="ruby-identifier">usec</span>)
439:         <span class="ruby-keyword kw">else</span>
440:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>, <span class="ruby-identifier">usec</span>)
441:         <span class="ruby-keyword kw">end</span>
442:       <span class="ruby-keyword kw">else</span>
443:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;invalid date: #{date.inspect}&quot;</span>)
444:       <span class="ruby-keyword kw">end</span>
445:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007722">
                    
                    <a name="M007722"></a><b>zone_offset</b>(zone, year=self.now.year)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007722_source')" id="l_M007722_source">show</a>
                        
                    </p>
                    <div id="M007722_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/time.rb, line 69</span>
69:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">zone_offset</span>(<span class="ruby-identifier">zone</span>, <span class="ruby-identifier">year</span>=<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">year</span>)
70:       <span class="ruby-identifier">off</span> = <span class="ruby-keyword kw">nil</span>
71:       <span class="ruby-identifier">zone</span> = <span class="ruby-identifier">zone</span>.<span class="ruby-identifier">upcase</span>
72:       <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">/\A([+-])(\d\d):?(\d\d)\z/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">zone</span>
73:         <span class="ruby-identifier">off</span> = (<span class="ruby-identifier">$1</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'-'</span> <span class="ruby-operator">?</span> <span class="ruby-value">-1</span> <span class="ruby-operator">:</span> <span class="ruby-value">1</span>) <span class="ruby-operator">*</span> (<span class="ruby-identifier">$2</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">*</span> <span class="ruby-value">60</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">$3</span>.<span class="ruby-identifier">to_i</span>) <span class="ruby-operator">*</span> <span class="ruby-value">60</span>
74:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-regexp re">/\A[+-]\d\d\z/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">zone</span>
75:         <span class="ruby-identifier">off</span> = <span class="ruby-identifier">zone</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">*</span> <span class="ruby-value">3600</span>
76:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">ZoneOffset</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">zone</span>)
77:         <span class="ruby-identifier">off</span> = <span class="ruby-constant">ZoneOffset</span>[<span class="ruby-identifier">zone</span>] <span class="ruby-operator">*</span> <span class="ruby-value">3600</span>
78:       <span class="ruby-keyword kw">elsif</span> ((<span class="ruby-identifier">t</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>)).<span class="ruby-identifier">zone</span>.<span class="ruby-identifier">upcase</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">zone</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">false</span>)
79:         <span class="ruby-identifier">off</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">utc_offset</span>
80:       <span class="ruby-keyword kw">elsif</span> ((<span class="ruby-identifier">t</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-value">7</span>, <span class="ruby-value">1</span>)).<span class="ruby-identifier">zone</span>.<span class="ruby-identifier">upcase</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">zone</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">false</span>)
81:         <span class="ruby-identifier">off</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">utc_offset</span>
82:       <span class="ruby-keyword kw">end</span>
83:       <span class="ruby-identifier">off</span>
84:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Private methods</div>
            
            <div class="method">
                <div class="title" id="M007730">
                    
                    <a name="M007730"></a><b>apply_offset</b>(year, mon, day, hour, min, sec, off)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007730_source')" id="l_M007730_source">show</a>
                        
                    </p>
                    <div id="M007730_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 126</span>
126:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">apply_offset</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>, <span class="ruby-identifier">off</span>)
127:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">off</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span>
128:         <span class="ruby-identifier">off</span> = <span class="ruby-operator">-</span><span class="ruby-identifier">off</span>
129:         <span class="ruby-identifier">off</span>, <span class="ruby-identifier">o</span> = <span class="ruby-identifier">off</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>)
130:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">sec</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">o</span>; <span class="ruby-identifier">o</span>, <span class="ruby-identifier">sec</span> = <span class="ruby-identifier">sec</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>); <span class="ruby-identifier">off</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">o</span> <span class="ruby-keyword kw">end</span>
131:         <span class="ruby-identifier">off</span>, <span class="ruby-identifier">o</span> = <span class="ruby-identifier">off</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>)
132:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">min</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">o</span>; <span class="ruby-identifier">o</span>, <span class="ruby-identifier">min</span> = <span class="ruby-identifier">min</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>); <span class="ruby-identifier">off</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">o</span> <span class="ruby-keyword kw">end</span>
133:         <span class="ruby-identifier">off</span>, <span class="ruby-identifier">o</span> = <span class="ruby-identifier">off</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">24</span>)
134:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">hour</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">o</span>; <span class="ruby-identifier">o</span>, <span class="ruby-identifier">hour</span> = <span class="ruby-identifier">hour</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">24</span>); <span class="ruby-identifier">off</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">o</span> <span class="ruby-keyword kw">end</span>
135:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">off</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
136:           <span class="ruby-identifier">day</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">off</span>
137:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">month_days</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>) <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">day</span>
138:             <span class="ruby-identifier">mon</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
139:             <span class="ruby-keyword kw">if</span> <span class="ruby-value">12</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">mon</span>
140:               <span class="ruby-identifier">mon</span> = <span class="ruby-value">1</span>
141:               <span class="ruby-identifier">year</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
142:             <span class="ruby-keyword kw">end</span>
143:             <span class="ruby-identifier">day</span> = <span class="ruby-value">1</span>
144:           <span class="ruby-keyword kw">end</span>
145:         <span class="ruby-keyword kw">end</span>
146:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-value">0</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">off</span>
147:         <span class="ruby-identifier">off</span>, <span class="ruby-identifier">o</span> = <span class="ruby-identifier">off</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>)
148:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">sec</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">o</span>; <span class="ruby-identifier">o</span>, <span class="ruby-identifier">sec</span> = <span class="ruby-identifier">sec</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>); <span class="ruby-identifier">off</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">o</span> <span class="ruby-keyword kw">end</span>
149:         <span class="ruby-identifier">off</span>, <span class="ruby-identifier">o</span> = <span class="ruby-identifier">off</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>)
150:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">min</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">o</span>; <span class="ruby-identifier">o</span>, <span class="ruby-identifier">min</span> = <span class="ruby-identifier">min</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>); <span class="ruby-identifier">off</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">o</span> <span class="ruby-keyword kw">end</span>
151:         <span class="ruby-identifier">off</span>, <span class="ruby-identifier">o</span> = <span class="ruby-identifier">off</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">24</span>)
152:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">hour</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">o</span>; <span class="ruby-identifier">o</span>, <span class="ruby-identifier">hour</span> = <span class="ruby-identifier">hour</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">24</span>); <span class="ruby-identifier">off</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">o</span> <span class="ruby-keyword kw">end</span>
153:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">off</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span>
154:           <span class="ruby-identifier">day</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">off</span>
155:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">day</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">1</span>
156:             <span class="ruby-identifier">mon</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span>
157:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mon</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">1</span>
158:               <span class="ruby-identifier">year</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span>
159:               <span class="ruby-identifier">mon</span> = <span class="ruby-value">12</span>
160:             <span class="ruby-keyword kw">end</span>
161:             <span class="ruby-identifier">day</span> = <span class="ruby-identifier">month_days</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>)
162:           <span class="ruby-keyword kw">end</span>
163:         <span class="ruby-keyword kw">end</span>
164:       <span class="ruby-keyword kw">end</span>
165:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>
166:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007733">
                    
                    <a name="M007733"></a><b>make_time</b>(year, mon, day, hour, min, sec, sec_fraction, zone, now)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007733_source')" id="l_M007733_source">show</a>
                        
                    </p>
                    <div id="M007733_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 169</span>
169:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">make_time</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>, <span class="ruby-identifier">sec_fraction</span>, <span class="ruby-identifier">zone</span>, <span class="ruby-identifier">now</span>)
170:       <span class="ruby-identifier">usec</span> = <span class="ruby-keyword kw">nil</span>
171:       <span class="ruby-identifier">usec</span> = <span class="ruby-identifier">sec_fraction</span> <span class="ruby-operator">*</span> <span class="ruby-value">1000000</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sec_fraction</span>
172:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">now</span>
173:         <span class="ruby-keyword kw">begin</span>
174:           <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">year</span>; <span class="ruby-identifier">year</span> = <span class="ruby-identifier">now</span>.<span class="ruby-identifier">year</span>
175:           <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mon</span>; <span class="ruby-identifier">mon</span> = <span class="ruby-identifier">now</span>.<span class="ruby-identifier">mon</span>
176:           <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">day</span>; <span class="ruby-identifier">day</span> = <span class="ruby-identifier">now</span>.<span class="ruby-identifier">day</span>
177:           <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">hour</span>; <span class="ruby-identifier">hour</span> = <span class="ruby-identifier">now</span>.<span class="ruby-identifier">hour</span>
178:           <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">min</span>; <span class="ruby-identifier">min</span> = <span class="ruby-identifier">now</span>.<span class="ruby-identifier">min</span>
179:           <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sec</span>; <span class="ruby-identifier">sec</span> = <span class="ruby-identifier">now</span>.<span class="ruby-identifier">sec</span>
180:           <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sec_fraction</span>; <span class="ruby-identifier">usec</span> = <span class="ruby-identifier">now</span>.<span class="ruby-identifier">tv_usec</span>
181:         <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">until</span> <span class="ruby-keyword kw">true</span>
182:       <span class="ruby-keyword kw">end</span>
183: 
184:       <span class="ruby-identifier">year</span> <span class="ruby-operator">||=</span> <span class="ruby-value">1970</span>
185:       <span class="ruby-identifier">mon</span> <span class="ruby-operator">||=</span> <span class="ruby-value">1</span>
186:       <span class="ruby-identifier">day</span> <span class="ruby-operator">||=</span> <span class="ruby-value">1</span>
187:       <span class="ruby-identifier">hour</span> <span class="ruby-operator">||=</span> <span class="ruby-value">0</span>
188:       <span class="ruby-identifier">min</span> <span class="ruby-operator">||=</span> <span class="ruby-value">0</span>
189:       <span class="ruby-identifier">sec</span> <span class="ruby-operator">||=</span> <span class="ruby-value">0</span>
190:       <span class="ruby-identifier">usec</span> <span class="ruby-operator">||=</span> <span class="ruby-value">0</span>
191: 
192:       <span class="ruby-identifier">off</span> = <span class="ruby-keyword kw">nil</span>
193:       <span class="ruby-identifier">off</span> = <span class="ruby-identifier">zone_offset</span>(<span class="ruby-identifier">zone</span>, <span class="ruby-identifier">year</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">zone</span>
194: 
195:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">off</span>
196:         <span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span> =
197:           <span class="ruby-identifier">apply_offset</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>, <span class="ruby-identifier">off</span>)
198:         <span class="ruby-identifier">t</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>, <span class="ruby-identifier">usec</span>)
199:         <span class="ruby-identifier">t</span>.<span class="ruby-identifier">localtime</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">zone_utc?</span>(<span class="ruby-identifier">zone</span>)
200:         <span class="ruby-identifier">t</span>
201:       <span class="ruby-keyword kw">else</span>
202:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>, <span class="ruby-identifier">usec</span>)
203:       <span class="ruby-keyword kw">end</span>
204:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007727">
                    
                    <a name="M007727"></a><b>month_days</b>(y, m)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007727_source')" id="l_M007727_source">show</a>
                        
                    </p>
                    <div id="M007727_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 117</span>
117:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">month_days</span>(<span class="ruby-identifier">y</span>, <span class="ruby-identifier">m</span>)
118:       <span class="ruby-keyword kw">if</span> ((<span class="ruby-identifier">y</span> <span class="ruby-operator">%</span> <span class="ruby-value">4</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">y</span> <span class="ruby-operator">%</span> <span class="ruby-value">100</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>)) <span class="ruby-operator">||</span> (<span class="ruby-identifier">y</span> <span class="ruby-operator">%</span> <span class="ruby-value">400</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>)
119:         <span class="ruby-constant">LeapYearMonthDays</span>[<span class="ruby-identifier">m</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>]
120:       <span class="ruby-keyword kw">else</span>
121:         <span class="ruby-constant">CommonYearMonthDays</span>[<span class="ruby-identifier">m</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>]
122:       <span class="ruby-keyword kw">end</span>
123:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007724">
                    
                    <a name="M007724"></a><b>zone_utc?</b>(zone)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007724_source')" id="l_M007724_source">show</a>
                        
                    </p>
                    <div id="M007724_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 86</span>
 86:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">zone_utc?</span>(<span class="ruby-identifier">zone</span>)
 87:       <span class="ruby-comment cmt"># * +0000</span>
 88:       <span class="ruby-comment cmt">#   In RFC 2822, +0000 indicate a time zone at Universal Time.</span>
 89:       <span class="ruby-comment cmt">#   Europe/London is &quot;a time zone at Universal Time&quot; in Winter.</span>
 90:       <span class="ruby-comment cmt">#   Europe/Lisbon is &quot;a time zone at Universal Time&quot; in Winter.</span>
 91:       <span class="ruby-comment cmt">#   Atlantic/Reykjavik is &quot;a time zone at Universal Time&quot;.</span>
 92:       <span class="ruby-comment cmt">#   Africa/Dakar is &quot;a time zone at Universal Time&quot;.</span>
 93:       <span class="ruby-comment cmt">#   So +0000 is a local time such as Europe/London, etc.</span>
 94:       <span class="ruby-comment cmt"># * GMT</span>
 95:       <span class="ruby-comment cmt">#   GMT is used as a time zone abbreviation in Europe/London,</span>
 96:       <span class="ruby-comment cmt">#   Africa/Dakar, etc.</span>
 97:       <span class="ruby-comment cmt">#   So it is a local time.</span>
 98:       <span class="ruby-comment cmt">#</span>
 99:       <span class="ruby-comment cmt"># * -0000, -00:00</span>
100:       <span class="ruby-comment cmt">#   In RFC 2822, -0000 the date-time contains no information about the</span>
101:       <span class="ruby-comment cmt">#   local time zone.</span>
102:       <span class="ruby-comment cmt">#   In RFC 3339, -00:00 is used for the time in UTC is known,</span>
103:       <span class="ruby-comment cmt">#   but the offset to local time is unknown.</span>
104:       <span class="ruby-comment cmt">#   They are not appropriate for specific time zone such as</span>
105:       <span class="ruby-comment cmt">#   Europe/London because time zone neutral,</span>
106:       <span class="ruby-comment cmt">#   So -00:00 and -0000 are treated as UTC.</span>
107:       <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">/\A(?:-00:00|-0000|-00|UTC|Z|UT)\z/i</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">zone</span>
108:         <span class="ruby-keyword kw">true</span>
109:       <span class="ruby-keyword kw">else</span>
110:         <span class="ruby-keyword kw">false</span>
111:       <span class="ruby-keyword kw">end</span>
112:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M001511">
                    
                    <a name="M001511"></a><b>time + numeric &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Addition&#8212;Adds some number of seconds (possibly fractional) to
<em>time</em> and returns that value as a new time.
</p>
<pre>
   t = Time.now         #=&gt; 2007-11-19 08:22:21 -0600
   t + (60 * 60 * 24)   #=&gt; 2007-11-20 08:22:21 -0600
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001511_source')" id="l_M001511_source">show</a>
                        
                    </p>
                    <div id="M001511_source" class="dyn-source">
                        <pre>static VALUE
time_plus(VALUE time1, VALUE time2)
{
    struct time_object *tobj;
    GetTimeval(time1, tobj);

    if (IsTimeval(time2)) {
  rb_raise(rb_eTypeError, &quot;time + time?&quot;);
    }
    return time_add(tobj, time2, 1);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001512">
                    
                    <a name="M001512"></a><b>time - other_time &rarr; float
time - numeric    &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Difference&#8212;Returns a new time that represents the difference between
two times, or subtracts the given number of seconds in <em>numeric</em>
from <em>time</em>.
</p>
<pre>
   t = Time.now       #=&gt; 2007-11-19 08:23:10 -0600
   t2 = t + 2592000   #=&gt; 2007-12-19 08:23:10 -0600
   t2 - t             #=&gt; 2592000.0
   t2 - 2592000       #=&gt; 2007-11-19 08:23:10 -0600
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001512_source')" id="l_M001512_source">show</a>
                        
                    </p>
                    <div id="M001512_source" class="dyn-source">
                        <pre>static VALUE
time_minus(VALUE time1, VALUE time2)
{
    struct time_object *tobj;

    GetTimeval(time1, tobj);
    if (IsTimeval(time2)) {
  struct time_object *tobj2;

  GetTimeval(time2, tobj2);
        return rb_Float(rb_time_unmagnify_to_float(wsub(tobj-&gt;timew, tobj2-&gt;timew)));
    }
    return time_add(tobj, time2, -1);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001495">
                    
                    <a name="M001495"></a><b>time <=> other_time &rarr; -1, 0, +1 or nil
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Comparison&#8212;Compares <em>time</em> with <em>other_time</em>.
</p>
<pre>
   t = Time.now       #=&gt; 2007-11-19 08:12:12 -0600
   t2 = t + 2592000   #=&gt; 2007-12-19 08:12:12 -0600
   t &lt;=&gt; t2           #=&gt; -1
   t2 &lt;=&gt; t           #=&gt; 1

   t = Time.now       #=&gt; 2007-11-19 08:13:38 -0600
   t2 = t + 0.1       #=&gt; 2007-11-19 08:13:38 -0600
   t.nsec             #=&gt; 98222999
   t2.nsec            #=&gt; 198222999
   t &lt;=&gt; t2           #=&gt; -1
   t2 &lt;=&gt; t           #=&gt; 1
   t &lt;=&gt; t            #=&gt; 0
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Time.html#M003849">rake_original_time_compare</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001495_source')" id="l_M001495_source">show</a>
                        
                    </p>
                    <div id="M001495_source" class="dyn-source">
                        <pre>static VALUE
time_cmp(VALUE time1, VALUE time2)
{
    struct time_object *tobj1, *tobj2;
    int n;

    GetTimeval(time1, tobj1);
    if (IsTimeval(time2)) {
  GetTimeval(time2, tobj2);
  n = wcmp(tobj1-&gt;timew, tobj2-&gt;timew);
    }
    else {
  VALUE tmp;

  tmp = rb_funcall(time2, rb_intern(&quot;&lt;=&gt;&quot;), 1, time1);
  if (NIL_P(tmp)) return Qnil;

  n = -rb_cmpint(tmp, time1, time2);
    }
    if (n == 0) return INT2FIX(0);
    if (n &gt; 0) return INT2FIX(1);
    return INT2FIX(-1);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003850">
                    
                    <a name="M003850"></a><b>&lt;=&gt;</b>(other)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003850_source')" id="l_M003850_source">show</a>
                        
                    </p>
                    <div id="M003850_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rake/ext/time.rb, line 6</span>
 6:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">&lt;=&gt;</span>(<span class="ruby-identifier">other</span>)
 7:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Rake</span><span class="ruby-operator">::</span><span class="ruby-constant">EarlyTime</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">other</span>
 8:       <span class="ruby-operator">-</span> <span class="ruby-identifier">other</span>.<span class="ruby-operator">&lt;=&gt;</span>(<span class="ruby-keyword kw">self</span>)
 9:     <span class="ruby-keyword kw">else</span>
10:       <span class="ruby-identifier">rake_original_time_compare</span>(<span class="ruby-identifier">other</span>)
11:     <span class="ruby-keyword kw">end</span>
12:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001550">
                    
                    <a name="M001550"></a><b>time._dump   &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Dump <em>time</em> for marshaling.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001550_source')" id="l_M001550_source">show</a>
                        
                    </p>
                    <div id="M001550_source" class="dyn-source">
                        <pre>static VALUE
time_dump(int argc, VALUE *argv, VALUE time)
{
    VALUE str;

    rb_scan_args(argc, argv, &quot;01&quot;, 0);
    str = time_mdump(time);

    return str;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M009196">
                    
                    <a name="M009196"></a><b>as_json</b>(*)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a hash, that will be turned into a <a href="JSON.html">JSON</a>
object and represent this object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M009196_source')" id="l_M009196_source">show</a>
                        
                    </p>
                    <div id="M009196_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/json/lib/json/add/core.rb, line 48</span>
48:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">as_json</span>(<span class="ruby-operator">*</span>)
49:     {
50:       <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">create_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>,
51:       <span class="ruby-value str">'s'</span>            =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">tv_sec</span>,
52:       <span class="ruby-value str">'n'</span>            =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:tv_nsec</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">tv_nsec</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">tv_usec</span> <span class="ruby-operator">*</span> <span class="ruby-value">1000</span>
53:     }
54:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001507">
                    
                    <a name="M001507"></a><b>time.asctime &rarr; string
time.ctime   &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a canonical string representation of <em>time</em>.
</p>
<pre>
   Time.now.asctime   #=&gt; &quot;Wed Apr  9 08:56:03 2003&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001507_source')" id="l_M001507_source">show</a>
                        
                    </p>
                    <div id="M001507_source" class="dyn-source">
                        <pre>static VALUE
time_asctime(VALUE time)
{
    return strftimev(&quot;%a %b %e %T %Y&quot;, time);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001506">
                    
                    <a name="M001506"></a><b>time.asctime &rarr; string
time.ctime   &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a canonical string representation of <em>time</em>.
</p>
<pre>
   Time.now.asctime   #=&gt; &quot;Wed Apr  9 08:56:03 2003&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001506_source')" id="l_M001506_source">show</a>
                        
                    </p>
                    <div id="M001506_source" class="dyn-source">
                        <pre>static VALUE
time_asctime(VALUE time)
{
    return strftimev(&quot;%a %b %e %T %Y&quot;, time);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001519">
                    
                    <a name="M001519"></a><b>time.day  &rarr; fixnum
time.mday &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the day of the month (1..n) for <em>time</em>.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:27:03 -0600
   t.day          #=&gt; 19
   t.mday         #=&gt; 19
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001519_source')" id="l_M001519_source">show</a>
                        
                    </p>
                    <div id="M001519_source" class="dyn-source">
                        <pre>static VALUE
time_mday(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return INT2FIX(tobj-&gt;vtm.mday);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001526">
                    
                    <a name="M001526"></a><b>time.isdst &rarr; true or false
time.dst?  &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> occurs during Daylight Saving <a
href="Time.html">Time</a> in its time zone.
</p>
<pre>
 # CST6CDT:
   Time.local(2000, 1, 1).zone    #=&gt; &quot;CST&quot;
   Time.local(2000, 1, 1).isdst   #=&gt; false
   Time.local(2000, 1, 1).dst?    #=&gt; false
   Time.local(2000, 7, 1).zone    #=&gt; &quot;CDT&quot;
   Time.local(2000, 7, 1).isdst   #=&gt; true
   Time.local(2000, 7, 1).dst?    #=&gt; true

 # Asia/Tokyo:
   Time.local(2000, 1, 1).zone    #=&gt; &quot;JST&quot;
   Time.local(2000, 1, 1).isdst   #=&gt; false
   Time.local(2000, 1, 1).dst?    #=&gt; false
   Time.local(2000, 7, 1).zone    #=&gt; &quot;JST&quot;
   Time.local(2000, 7, 1).isdst   #=&gt; false
   Time.local(2000, 7, 1).dst?    #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001526_source')" id="l_M001526_source">show</a>
                        
                    </p>
                    <div id="M001526_source" class="dyn-source">
                        <pre>static VALUE
time_isdst(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return tobj-&gt;vtm.isdst ? Qtrue : Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001496">
                    
                    <a name="M001496"></a><b>time.eql?(other_time)
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Return <tt>true</tt> if <em>time</em> and <em>other_time</em> are both
<tt>Time</tt> objects with the same seconds and fractional seconds.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001496_source')" id="l_M001496_source">show</a>
                        
                    </p>
                    <div id="M001496_source" class="dyn-source">
                        <pre>static VALUE
time_eql(VALUE time1, VALUE time2)
{
    struct time_object *tobj1, *tobj2;

    GetTimeval(time1, tobj1);
    if (IsTimeval(time2)) {
  GetTimeval(time2, tobj2);
        return rb_equal(w2v(tobj1-&gt;timew), w2v(tobj2-&gt;timew));
    }
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001538">
                    
                    <a name="M001538"></a><b>time.friday? &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> represents Friday.
</p>
<pre>
   t = Time.local(1987, 12, 18)     #=&gt; 1987-12-18 00:00:00 -0600
   t.friday?                        #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001538_source')" id="l_M001538_source">show</a>
                        
                    </p>
                    <div id="M001538_source" class="dyn-source">
                        <pre>static VALUE
time_friday(VALUE time)
{
    wday_p(5);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001504">
                    
                    <a name="M001504"></a><b>time.getgm  &rarr; new_time
time.getutc &rarr; new_time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new <tt>new_time</tt> object representing <em>time</em> in UTC.
</p>
<pre>
   t = Time.local(2000,1,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 -0600
   t.gmt?                             #=&gt; false
   y = t.getgm                        #=&gt; 2000-01-02 02:15:01 UTC
   y.gmt?                             #=&gt; true
   t == y                             #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001504_source')" id="l_M001504_source">show</a>
                        
                    </p>
                    <div id="M001504_source" class="dyn-source">
                        <pre>static VALUE
time_getgmtime(VALUE time)
{
    return time_gmtime(time_dup(time));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001503">
                    
                    <a name="M001503"></a><b>time.getlocal &rarr; new_time
time.getlocal(utc_offset) &rarr; new_time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new <tt>new_time</tt> object representing <em>time</em> in local
time (using the local time zone in effect for this process).
</p>
<p>
If <em><a href="Time.html#M001530">utc_offset</a></em> is given, it is used
instead of the local time.
</p>
<pre>
   t = Time.utc(2000,1,1,20,15,1)  #=&gt; 2000-01-01 20:15:01 UTC
   t.utc?                          #=&gt; true

   l = t.getlocal                  #=&gt; 2000-01-01 14:15:01 -0600
   l.utc?                          #=&gt; false
   t == l                          #=&gt; true

   j = t.getlocal(&quot;+09:00&quot;)        #=&gt; 2000-01-02 05:15:01 +0900
   j.utc?                          #=&gt; false
   t == j                          #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001503_source')" id="l_M001503_source">show</a>
                        
                    </p>
                    <div id="M001503_source" class="dyn-source">
                        <pre>static VALUE
time_getlocaltime(int argc, VALUE *argv, VALUE time)
{
    VALUE off;
    rb_scan_args(argc, argv, &quot;01&quot;, &amp;off);

    if (!NIL_P(off)) {
        off = utc_offset_arg(off);
        validate_utc_offset(off);

        time = time_dup(time);
        time_set_utc_offset(time, off);
        return time_fixoff(time);
    }

    return time_localtime(time_dup(time));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001505">
                    
                    <a name="M001505"></a><b>time.getgm  &rarr; new_time
time.getutc &rarr; new_time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new <tt>new_time</tt> object representing <em>time</em> in UTC.
</p>
<pre>
   t = Time.local(2000,1,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 -0600
   t.gmt?                             #=&gt; false
   y = t.getgm                        #=&gt; 2000-01-02 02:15:01 UTC
   y.gmt?                             #=&gt; true
   t == y                             #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001505_source')" id="l_M001505_source">show</a>
                        
                    </p>
                    <div id="M001505_source" class="dyn-source">
                        <pre>static VALUE
time_getgmtime(VALUE time)
{
    return time_gmtime(time_dup(time));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001532">
                    
                    <a name="M001532"></a><b>time.utc? &rarr; true or false
time.gmt? &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> represents a time in UTC (GMT).
</p>
<pre>
   t = Time.now                        #=&gt; 2007-11-19 08:15:23 -0600
   t.utc?                              #=&gt; false
   t = Time.gm(2000,&quot;jan&quot;,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 UTC
   t.utc?                              #=&gt; true

   t = Time.now                        #=&gt; 2007-11-19 08:16:03 -0600
   t.gmt?                              #=&gt; false
   t = Time.gm(2000,1,1,20,15,1)       #=&gt; 2000-01-01 20:15:01 UTC
   t.gmt?                              #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001532_source')" id="l_M001532_source">show</a>
                        
                    </p>
                    <div id="M001532_source" class="dyn-source">
                        <pre>static VALUE
time_utc_p(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    if (TIME_UTC_P(tobj)) return Qtrue;
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001529">
                    
                    <a name="M001529"></a><b>time.gmt_offset &rarr; fixnum
time.gmtoff     &rarr; fixnum
time.utc_offset &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the offset in seconds between the timezone of <em>time</em> and
UTC.
</p>
<pre>
   t = Time.gm(2000,1,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 UTC
   t.gmt_offset                    #=&gt; 0
   l = t.getlocal                  #=&gt; 2000-01-01 14:15:01 -0600
   l.gmt_offset                    #=&gt; -21600
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001529_source')" id="l_M001529_source">show</a>
                        
                    </p>
                    <div id="M001529_source" class="dyn-source">
                        <pre>static VALUE
time_utc_offset(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);

    if (TIME_UTC_P(tobj)) {
  return INT2FIX(0);
    }
    else {
  return tobj-&gt;vtm.utc_offset;
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001501">
                    
                    <a name="M001501"></a><b>time.gmtime    &rarr; time
time.utc       &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Converts <em>time</em> to UTC (GMT), modifying the receiver.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:18:31 -0600
   t.gmt?         #=&gt; false
   t.gmtime       #=&gt; 2007-11-19 14:18:31 UTC
   t.gmt?         #=&gt; true

   t = Time.now   #=&gt; 2007-11-19 08:18:51 -0600
   t.utc?         #=&gt; false
   t.utc          #=&gt; 2007-11-19 14:18:51 UTC
   t.utc?         #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001501_source')" id="l_M001501_source">show</a>
                        
                    </p>
                    <div id="M001501_source" class="dyn-source">
                        <pre>static VALUE
time_gmtime(VALUE time)
{
    struct time_object *tobj;
    struct vtm vtm;

    GetTimeval(time, tobj);
    if (TIME_UTC_P(tobj)) {
  if (tobj-&gt;tm_got)
      return time;
    }
    else {
  time_modify(time);
    }

    if (!gmtimew(tobj-&gt;timew, &amp;vtm))
  rb_raise(rb_eArgError, &quot;gmtime error&quot;);
    tobj-&gt;vtm = vtm;

    tobj-&gt;tm_got = 1;
    TIME_SET_UTC(tobj);
    return time;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001528">
                    
                    <a name="M001528"></a><b>time.gmt_offset &rarr; fixnum
time.gmtoff     &rarr; fixnum
time.utc_offset &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the offset in seconds between the timezone of <em>time</em> and
UTC.
</p>
<pre>
   t = Time.gm(2000,1,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 UTC
   t.gmt_offset                    #=&gt; 0
   l = t.getlocal                  #=&gt; 2000-01-01 14:15:01 -0600
   l.gmt_offset                    #=&gt; -21600
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001528_source')" id="l_M001528_source">show</a>
                        
                    </p>
                    <div id="M001528_source" class="dyn-source">
                        <pre>static VALUE
time_utc_offset(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);

    if (TIME_UTC_P(tobj)) {
  return INT2FIX(0);
    }
    else {
  return tobj-&gt;vtm.utc_offset;
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001497">
                    
                    <a name="M001497"></a><b>time.hash   &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Return a hash code for this time object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001497_source')" id="l_M001497_source">show</a>
                        
                    </p>
                    <div id="M001497_source" class="dyn-source">
                        <pre>static VALUE
time_hash(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    return rb_hash(w2v(tobj-&gt;timew));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001517">
                    
                    <a name="M001517"></a><b>time.hour &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the hour of the day (0..23) for <em>time</em>.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:26:20 -0600
   t.hour         #=&gt; 8
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001517_source')" id="l_M001517_source">show</a>
                        
                    </p>
                    <div id="M001517_source" class="dyn-source">
                        <pre>static VALUE
time_hour(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return INT2FIX(tobj-&gt;vtm.hour);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007746">
                    
                    <a name="M007746"></a><b>httpdate</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a string which represents the time as rfc1123-date of HTTP-date
defined by RFC 2616:
</p>
<pre>
  day-of-week, DD month-name CCYY hh:mm:ss GMT
</pre>
<p>
Note that the result is always UTC (GMT).
</p>
<p>
time library should be required to use this method as follows.
</p>
<pre>
    require 'time'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007746_source')" id="l_M007746_source">show</a>
                        
                    </p>
                    <div id="M007746_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 497</span>
497:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">httpdate</span>
498:     <span class="ruby-identifier">t</span> = <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">utc</span>
499:     <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">'%s, %02d %s %0*d %02d:%02d:%02d GMT'</span>,
500:       <span class="ruby-constant">RFC2822_DAY_NAME</span>[<span class="ruby-identifier">t</span>.<span class="ruby-identifier">wday</span>],
501:       <span class="ruby-identifier">t</span>.<span class="ruby-identifier">day</span>, <span class="ruby-constant">RFC2822_MONTH_NAME</span>[<span class="ruby-identifier">t</span>.<span class="ruby-identifier">mon</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>], <span class="ruby-identifier">t</span>.<span class="ruby-identifier">year</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">5</span> <span class="ruby-operator">:</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">year</span>,
502:       <span class="ruby-identifier">t</span>.<span class="ruby-identifier">hour</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">min</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">sec</span>)
503:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001509">
                    
                    <a name="M001509"></a><b>time.inspect &rarr; string
time.to_s    &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a string representing <em>time</em>. Equivalent to calling <tt><a
href="Time.html#M001549">Time#strftime</a></tt> with a format string of
``<tt>%Y-%m-%d</tt> <tt>%H:%M:%S</tt> <tt>%z</tt>&#8217;&#8217; for a local
time and ``<tt>%Y-%m-%d</tt> <tt>%H:%M:%S</tt> <tt>UTC</tt>&#8217;&#8217;
for a UTC time.
</p>
<pre>
   Time.now.to_s       #=&gt; &quot;2007-10-05 16:09:51 +0900&quot;
   Time.now.utc.to_s   #=&gt; &quot;2007-10-05 07:09:51 UTC&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001509_source')" id="l_M001509_source">show</a>
                        
                    </p>
                    <div id="M001509_source" class="dyn-source">
                        <pre>static VALUE
time_to_s(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    if (TIME_UTC_P(tobj))
        return strftimev(&quot;%Y-%m-%d %H:%M:%S UTC&quot;, time);
    else
        return strftimev(&quot;%Y-%m-%d %H:%M:%S %z&quot;, time);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001525">
                    
                    <a name="M001525"></a><b>time.isdst &rarr; true or false
time.dst?  &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> occurs during Daylight Saving <a
href="Time.html">Time</a> in its time zone.
</p>
<pre>
 # CST6CDT:
   Time.local(2000, 1, 1).zone    #=&gt; &quot;CST&quot;
   Time.local(2000, 1, 1).isdst   #=&gt; false
   Time.local(2000, 1, 1).dst?    #=&gt; false
   Time.local(2000, 7, 1).zone    #=&gt; &quot;CDT&quot;
   Time.local(2000, 7, 1).isdst   #=&gt; true
   Time.local(2000, 7, 1).dst?    #=&gt; true

 # Asia/Tokyo:
   Time.local(2000, 1, 1).zone    #=&gt; &quot;JST&quot;
   Time.local(2000, 1, 1).isdst   #=&gt; false
   Time.local(2000, 1, 1).dst?    #=&gt; false
   Time.local(2000, 7, 1).zone    #=&gt; &quot;JST&quot;
   Time.local(2000, 7, 1).isdst   #=&gt; false
   Time.local(2000, 7, 1).dst?    #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001525_source')" id="l_M001525_source">show</a>
                        
                    </p>
                    <div id="M001525_source" class="dyn-source">
                        <pre>static VALUE
time_isdst(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return tobj-&gt;vtm.isdst ? Qtrue : Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007749">
                    
                    <a name="M007749"></a><b>iso8601</b>(fraction_digits=0)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Time.html#M007742">xmlschema</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M007748">
                    
                    <a name="M007748"></a><b>iso8601</b>(fraction_digits=0)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Time.html#M007742">xmlschema</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M001500">
                    
                    <a name="M001500"></a><b>time.localtime &rarr; time
time.localtime(utc_offset) &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Converts <em>time</em> to local time (using the local time zone in effect
for this process) modifying the receiver.
</p>
<p>
If <em><a href="Time.html#M001530">utc_offset</a></em> is given, it is used
instead of the local time.
</p>
<pre>
   t = Time.utc(2000, &quot;jan&quot;, 1, 20, 15, 1) #=&gt; 2000-01-01 20:15:01 UTC
   t.utc?                                  #=&gt; true

   t.localtime                             #=&gt; 2000-01-01 14:15:01 -0600
   t.utc?                                  #=&gt; false

   t.localtime(&quot;+09:00&quot;)                   #=&gt; 2000-01-02 05:15:01 +0900
   t.utc?                                  #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001500_source')" id="l_M001500_source">show</a>
                        
                    </p>
                    <div id="M001500_source" class="dyn-source">
                        <pre>static VALUE
time_localtime_m(int argc, VALUE *argv, VALUE time)
{
    VALUE off;
    rb_scan_args(argc, argv, &quot;01&quot;, &amp;off);

    if (!NIL_P(off)) {
        off = utc_offset_arg(off);
        validate_utc_offset(off);

        time_set_utc_offset(time, off);
        return time_fixoff(time);
    }

    return time_localtime(time);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001555">
                    
                    <a name="M001555"></a><b>marshal_dump</b>()
                    
                </div>
                
                <div class="description">
                  <p>
undocumented
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001555_source')" id="l_M001555_source">show</a>
                        
                    </p>
                    <div id="M001555_source" class="dyn-source">
                        <pre>static VALUE
time_mdump(VALUE time)
{
    struct time_object *tobj;
    unsigned long p, s;
    char buf[8];
    int i;
    VALUE str;

    struct vtm vtm;
    long year;
    long usec, nsec;
    VALUE subsecx, nano, subnano, v;

    GetTimeval(time, tobj);

    gmtimew(tobj-&gt;timew, &amp;vtm);

    if (FIXNUM_P(vtm.year)) {
        year = FIX2LONG(vtm.year);
        if (year &lt; 1900 || 1900+0xffff &lt; year)
            rb_raise(rb_eArgError, &quot;year too big to marshal: %ld UTC&quot;, year);
    }
    else {
        rb_raise(rb_eArgError, &quot;year too big to marshal&quot;);
    }

    subsecx = vtm.subsecx;

    nano = mulquo(subsecx, INT2FIX(1000000000), INT2FIX(TIME_SCALE));
    divmodv(nano, INT2FIX(1), &amp;v, &amp;subnano);
    nsec = FIX2LONG(v);
    usec = nsec / 1000;
    nsec = nsec % 1000;

    nano = add(LONG2FIX(nsec), subnano);

    p = 0x1UL            &lt;&lt; 31 | /*  1 */
  TIME_UTC_P(tobj) &lt;&lt; 30 | /*  1 */
  (year-1900)      &lt;&lt; 14 | /* 16 */
  (vtm.mon-1)      &lt;&lt; 10 | /*  4 */
  vtm.mday         &lt;&lt;  5 | /*  5 */
  vtm.hour;                /*  5 */
    s = vtm.min          &lt;&lt; 26 | /*  6 */
  vtm.sec          &lt;&lt; 20 | /*  6 */
  usec;    /* 20 */

    for (i=0; i&lt;4; i++) {
  buf[i] = (unsigned char)p;
  p = RSHIFT(p, 8);
    }
    for (i=4; i&lt;8; i++) {
  buf[i] = (unsigned char)s;
  s = RSHIFT(s, 8);
    }

    str = rb_str_new(buf, 8);
    rb_copy_generic_ivar(str, time);
    if (!rb_equal(nano, INT2FIX(0))) {
        if (TYPE(nano) == T_RATIONAL) {
            rb_ivar_set(str, id_nano_num, RRATIONAL(nano)-&gt;num);
            rb_ivar_set(str, id_nano_den, RRATIONAL(nano)-&gt;den);
        }
        else {
            rb_ivar_set(str, id_nano_num, nano);
            rb_ivar_set(str, id_nano_den, INT2FIX(1));
        }
    }
    if (nsec) { /* submicro is only for Ruby 1.9.1 compatibility */
        /*
         * submicro is formatted in fixed-point packed BCD (without sign).
         * It represent digits under microsecond.
         * For nanosecond resolution, 3 digits (2 bytes) are used.
         * However it can be longer.
         * Extra digits are ignored for loading.
         */
        char buf[2];
        int len = (int)sizeof(buf);
        buf[1] = (char)((nsec % 10) &lt;&lt; 4);
        nsec /= 10;
        buf[0] = (char)(nsec % 10);
        nsec /= 10;
        buf[0] |= (char)((nsec % 10) &lt;&lt; 4);
        if (buf[1] == 0)
            len = 1;
        rb_ivar_set(str, id_submicro, rb_str_new(buf, len));
    }
    if (!TIME_UTC_P(tobj)) {
  VALUE off = time_utc_offset(time), div, mod;
  divmodv(off, INT2FIX(1), &amp;div, &amp;mod);
  if (rb_equal(mod, INT2FIX(0)))
      off = rb_Integer(div);
  rb_ivar_set(str, id_offset, off);
    }
    return str;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001556">
                    
                    <a name="M001556"></a><b>marshal_load</b>(p1)
                    
                </div>
                
                <div class="description">
                  <p>
undocumented
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001556_source')" id="l_M001556_source">show</a>
                        
                    </p>
                    <div id="M001556_source" class="dyn-source">
                        <pre>static VALUE
time_mload(VALUE time, VALUE str)
{
    struct time_object *tobj;
    unsigned long p, s;
    time_t sec;
    long usec;
    unsigned char *buf;
    struct vtm vtm;
    int i, gmt;
    long nsec;
    VALUE submicro, nano_num, nano_den, offset;
    wideval_t timew;
    st_data_t data;

    time_modify(time);

#define get_attr(attr, iffound) \
    attr = rb_attr_get(str, id_##attr); \
    if (!NIL_P(attr)) { \
  data = id_##attr; \
  iffound; \
        st_delete(rb_generic_ivar_table(str), &amp;data, 0); \
    }

    get_attr(nano_num, {});
    get_attr(nano_den, {});
    get_attr(submicro, {});
    get_attr(offset, validate_utc_offset(offset));
#undef get_attr

    rb_copy_generic_ivar(time, str);

    StringValue(str);
    buf = (unsigned char *)RSTRING_PTR(str);
    if (RSTRING_LEN(str) != 8) {
  rb_raise(rb_eTypeError, &quot;marshaled time format differ&quot;);
    }

    p = s = 0;
    for (i=0; i&lt;4; i++) {
  p |= buf[i]&lt;&lt;(8*i);
    }
    for (i=4; i&lt;8; i++) {
  s |= buf[i]&lt;&lt;(8*(i-4));
    }

    if ((p &amp; (1UL&lt;&lt;31)) == 0) {
        gmt = 0;
  offset = Qnil;
  sec = p;
  usec = s;
        nsec = usec * 1000;
        timew = wadd(rb_time_magnify(TIMET2WV(sec)), wmulquoll(WINT2FIXWV(usec), TIME_SCALE, 1000000));
    }
    else {
  p &amp;= ~(1UL&lt;&lt;31);
  gmt        = (int)((p &gt;&gt; 30) &amp; 0x1);

  vtm.year = INT2FIX(((int)(p &gt;&gt; 14) &amp; 0xffff) + 1900);
  vtm.mon  = ((int)(p &gt;&gt; 10) &amp; 0xf) + 1;
  vtm.mday = (int)(p &gt;&gt;  5) &amp; 0x1f;
  vtm.hour = (int) p        &amp; 0x1f;
  vtm.min  = (int)(s &gt;&gt; 26) &amp; 0x3f;
  vtm.sec  = (int)(s &gt;&gt; 20) &amp; 0x3f;
        vtm.utc_offset = INT2FIX(0);
  vtm.yday = vtm.wday = 0;
  vtm.isdst = 0;
  vtm.zone = &quot;&quot;;

  usec = (long)(s &amp; 0xfffff);
        nsec = usec * 1000;


        vtm.subsecx = mulquo(LONG2FIX(nsec), INT2FIX(TIME_SCALE), LONG2FIX(1000000000));
        if (nano_num != Qnil) {
            VALUE nano = quo(num_exact(nano_num), num_exact(nano_den));
            vtm.subsecx = add(vtm.subsecx, mulquo(nano, INT2FIX(TIME_SCALE), LONG2FIX(1000000000)));
        }
        else if (submicro != Qnil) { /* for Ruby 1.9.1 compatibility */
            unsigned char *ptr;
            long len;
            int digit;
            ptr = (unsigned char*)StringValuePtr(submicro);
            len = RSTRING_LEN(submicro);
            nsec = 0;
            if (0 &lt; len) {
                if (10 &lt;= (digit = ptr[0] &gt;&gt; 4)) goto end_submicro;
                nsec += digit * 100;
                if (10 &lt;= (digit = ptr[0] &amp; 0xf)) goto end_submicro;
                nsec += digit * 10;
            }
            if (1 &lt; len) {
                if (10 &lt;= (digit = ptr[1] &gt;&gt; 4)) goto end_submicro;
                nsec += digit;
            }
            vtm.subsecx = add(vtm.subsecx, mulquo(LONG2FIX(nsec), INT2FIX(TIME_SCALE), LONG2FIX(1000000000)));
end_submicro: ;
        }
        timew = timegmw(&amp;vtm);
    }

    GetTimeval(time, tobj);
    tobj-&gt;tm_got = 0;
    tobj-&gt;timew = timew;
    if (gmt) {
  TIME_SET_UTC(tobj);
    }
    else if (!NIL_P(offset)) {
  time_set_utc_offset(time, offset);
  time_fixoff(time);
    }

    return time;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001518">
                    
                    <a name="M001518"></a><b>time.day  &rarr; fixnum
time.mday &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the day of the month (1..n) for <em>time</em>.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:27:03 -0600
   t.day          #=&gt; 19
   t.mday         #=&gt; 19
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001518_source')" id="l_M001518_source">show</a>
                        
                    </p>
                    <div id="M001518_source" class="dyn-source">
                        <pre>static VALUE
time_mday(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return INT2FIX(tobj-&gt;vtm.mday);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001516">
                    
                    <a name="M001516"></a><b>time.min &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the minute of the hour (0..59) for <em>time</em>.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:25:51 -0600
   t.min          #=&gt; 25
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001516_source')" id="l_M001516_source">show</a>
                        
                    </p>
                    <div id="M001516_source" class="dyn-source">
                        <pre>static VALUE
time_min(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return INT2FIX(tobj-&gt;vtm.min);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001520">
                    
                    <a name="M001520"></a><b>time.mon   &rarr; fixnum
time.month &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the month of the year (1..12) for <em>time</em>.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:27:30 -0600
   t.mon          #=&gt; 11
   t.month        #=&gt; 11
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001520_source')" id="l_M001520_source">show</a>
                        
                    </p>
                    <div id="M001520_source" class="dyn-source">
                        <pre>static VALUE
time_mon(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return INT2FIX(tobj-&gt;vtm.mon);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001534">
                    
                    <a name="M001534"></a><b>time.monday? &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> represents Monday.
</p>
<pre>
   t = Time.local(2003, 8, 4)       #=&gt; 2003-08-04 00:00:00 -0500
   p t.monday?                      #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001534_source')" id="l_M001534_source">show</a>
                        
                    </p>
                    <div id="M001534_source" class="dyn-source">
                        <pre>static VALUE
time_monday(VALUE time)
{
    wday_p(1);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001521">
                    
                    <a name="M001521"></a><b>time.mon   &rarr; fixnum
time.month &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the month of the year (1..12) for <em>time</em>.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:27:30 -0600
   t.mon          #=&gt; 11
   t.month        #=&gt; 11
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001521_source')" id="l_M001521_source">show</a>
                        
                    </p>
                    <div id="M001521_source" class="dyn-source">
                        <pre>static VALUE
time_mon(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return INT2FIX(tobj-&gt;vtm.mon);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001544">
                    
                    <a name="M001544"></a><b>time.nsec    &rarr; int
time.tv_nsec &rarr; int
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns just the number of nanoseconds for <em>time</em>.
</p>
<pre>
   t = Time.now        #=&gt; 2007-11-17 15:18:03 +0900
   &quot;%10.9f&quot; % t.to_f   #=&gt; &quot;1195280283.536151409&quot;
   t.nsec              #=&gt; 536151406
</pre>
<p>
The lowest digit of <a href="Time.html#M001493">to_f</a> and nsec is
different because IEEE 754 double is not accurate enough to represent
nanoseconds from the Epoch. The accurate value is returned by nsec.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001544_source')" id="l_M001544_source">show</a>
                        
                    </p>
                    <div id="M001544_source" class="dyn-source">
                        <pre>static VALUE
time_nsec(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    return rb_to_int(w2v(wmulquoll(wmod(tobj-&gt;timew, WINT2WV(TIME_SCALE)), 1000000000, TIME_SCALE)));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003849">
                    
                    <a name="M003849"></a><b>rake_original_time_compare</b>(p1)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for #<=>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M007743">
                    
                    <a name="M007743"></a><b>rfc2822</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a string which represents the time as date-time defined by RFC
2822:
</p>
<pre>
  day-of-week, DD month-name CCYY hh:mm:ss zone
</pre>
<p>
where zone is [+-]hhmm.
</p>
<p>
If <tt>self</tt> is a UTC time, -0000 is used as zone.
</p>
<p>
time library should be required to use this method as follows.
</p>
<pre>
    require 'time'
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Time.html#M007744">rfc822</a>
                    
                    <a href="Time.html#M007745">rfc822</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007743_source')" id="l_M007743_source">show</a>
                        
                    </p>
                    <div id="M007743_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 462</span>
462:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rfc2822</span>
463:     <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">'%s, %02d %s %0*d %02d:%02d:%02d '</span>,
464:       <span class="ruby-constant">RFC2822_DAY_NAME</span>[<span class="ruby-identifier">wday</span>],
465:       <span class="ruby-identifier">day</span>, <span class="ruby-constant">RFC2822_MONTH_NAME</span>[<span class="ruby-identifier">mon</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>], <span class="ruby-identifier">year</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">5</span> <span class="ruby-operator">:</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">year</span>,
466:       <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>) <span class="ruby-operator">+</span>
467:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">utc?</span>
468:       <span class="ruby-value str">'-0000'</span>
469:     <span class="ruby-keyword kw">else</span>
470:       <span class="ruby-identifier">off</span> = <span class="ruby-identifier">utc_offset</span>
471:       <span class="ruby-identifier">sign</span> = <span class="ruby-identifier">off</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value str">'-'</span> <span class="ruby-operator">:</span> <span class="ruby-value str">'+'</span>
472:       <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">'%s%02d%02d'</span>, <span class="ruby-identifier">sign</span>, <span class="ruby-operator">*</span>(<span class="ruby-identifier">off</span>.<span class="ruby-identifier">abs</span> <span class="ruby-operator">/</span> <span class="ruby-value">60</span>).<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>))
473:     <span class="ruby-keyword kw">end</span>
474:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007744">
                    
                    <a name="M007744"></a><b>rfc822</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Time.html#M007738">rfc2822</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M007745">
                    
                    <a name="M007745"></a><b>rfc822</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Time.html#M007738">rfc2822</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M001514">
                    
                    <a name="M001514"></a><b>time.round([ndigits])   &rarr; new_time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Rounds sub seconds to a given precision in decimal digits (0 digits by
default). It returns a new time object. <em>ndigits</em> should be zero or
positive integer.
</p>
<pre>
    require 'time'

    t = Time.utc(2010,3,30, 5,43,&quot;25.123456789&quot;.to_r)
    p t.iso8601(10)           #=&gt; &quot;2010-03-30T05:43:25.1234567890Z&quot;
    p t.round.iso8601(10)     #=&gt; &quot;2010-03-30T05:43:25.0000000000Z&quot;
    p t.round(0).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.0000000000Z&quot;
    p t.round(1).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.1000000000Z&quot;
    p t.round(2).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.1200000000Z&quot;
    p t.round(3).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.1230000000Z&quot;
    p t.round(4).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.1235000000Z&quot;
    p t.round(5).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.1234600000Z&quot;
    p t.round(6).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.1234570000Z&quot;
    p t.round(7).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.1234568000Z&quot;
    p t.round(8).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.1234567900Z&quot;
    p t.round(9).iso8601(10)  #=&gt; &quot;2010-03-30T05:43:25.1234567890Z&quot;
    p t.round(10).iso8601(10) #=&gt; &quot;2010-03-30T05:43:25.1234567890Z&quot;

    t = Time.utc(1999,12,31, 23,59,59)
    p((t + 0.4).round.iso8601(3))    #=&gt; &quot;1999-12-31T23:59:59.000Z&quot;
    p((t + 0.49).round.iso8601(3))   #=&gt; &quot;1999-12-31T23:59:59.000Z&quot;
    p((t + 0.5).round.iso8601(3))    #=&gt; &quot;2000-01-01T00:00:00.000Z&quot;
    p((t + 1.4).round.iso8601(3))    #=&gt; &quot;2000-01-01T00:00:00.000Z&quot;
    p((t + 1.49).round.iso8601(3))   #=&gt; &quot;2000-01-01T00:00:00.000Z&quot;
    p((t + 1.5).round.iso8601(3))    #=&gt; &quot;2000-01-01T00:00:01.000Z&quot;

    t = Time.utc(1999,12,31, 23,59,59)
    p (t + 0.123456789).round(4).iso8601(6)  #=&gt; &quot;1999-12-31T23:59:59.123500Z&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001514_source')" id="l_M001514_source">show</a>
                        
                    </p>
                    <div id="M001514_source" class="dyn-source">
                        <pre>static VALUE
time_round(int argc, VALUE *argv, VALUE time)
{
    VALUE ndigits, v, a, b, den;
    long nd;
    struct time_object *tobj;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;ndigits);

    if (NIL_P(ndigits))
        ndigits = INT2FIX(0);
    else
        ndigits = rb_to_int(ndigits);

    nd = NUM2LONG(ndigits);
    if (nd &lt; 0)
  rb_raise(rb_eArgError, &quot;negative ndigits given&quot;);

    GetTimeval(time, tobj);
    v = w2v(rb_time_unmagnify(tobj-&gt;timew));

    a = INT2FIX(1);
    b = INT2FIX(10);
    while (0 &lt; nd) {
        if (nd &amp; 1)
            a = mul(a, b);
        b = mul(b, b);
        nd = nd &gt;&gt; 1;
    }
    den = quo(INT2FIX(1), a);
    v = mod(v, den);
    if (lt(v, quo(den, INT2FIX(2))))
        return time_add(tobj, v, -1);
    else
        return time_add(tobj, sub(den, v), 1);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001539">
                    
                    <a name="M001539"></a><b>time.saturday? &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> represents Saturday.
</p>
<pre>
   t = Time.local(2006, 6, 10)      #=&gt; 2006-06-10 00:00:00 -0500
   t.saturday?                      #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001539_source')" id="l_M001539_source">show</a>
                        
                    </p>
                    <div id="M001539_source" class="dyn-source">
                        <pre>static VALUE
time_saturday(VALUE time)
{
    wday_p(6);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001515">
                    
                    <a name="M001515"></a><b>time.sec &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the second of the minute (0..60)<em>[Yes, seconds really can range
from zero to 60. This allows the system to inject leap seconds every now
and then to correct for the fact that years are not really a convenient
number of hours long.]</em> for <em>time</em>.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:25:02 -0600
   t.sec          #=&gt; 2
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001515_source')" id="l_M001515_source">show</a>
                        
                    </p>
                    <div id="M001515_source" class="dyn-source">
                        <pre>static VALUE
time_sec(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return INT2FIX(tobj-&gt;vtm.sec);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001549">
                    
                    <a name="M001549"></a><b>time.strftime( string ) &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Formats <em>time</em> according to the directives in the given format
string. The directives begins with a percent (%) character. Any text not
listed as a directive will be passed through to the output string.
</p>
<p>
The directive consists of a percent (%) character, zero or more flags,
optional minimum field width, optional modifier and a conversion specifier
as follows.
</p>
<pre>
  %&lt;flags&gt;&lt;width&gt;&lt;modifier&gt;&lt;conversion&gt;
</pre>
<p>
Flags:
</p>
<pre>
  -  don't pad a numerical output.
  _  use spaces for padding.
  0  use zeros for padding.
  ^  upcase the result string.
  #  change case.
  :  use colons for %z.
</pre>
<p>
The minimum field width specifies the minimum width.
</p>
<p>
The modifier is &#8220;E&#8221; and &#8220;O&#8221;. They are ignored.
</p>
<p>
Format directives:
</p>
<pre>
  Date (Year, Month, Day):
    %Y - Year with century (can be negative, 4 digits at least)
            -0001, 0000, 1995, 2009, 14292, etc.
    %C - year / 100 (round down.  20 in 2009)
    %y - year % 100 (00..99)

    %m - Month of the year, zero-padded (01..12)
            %_m  blank-padded ( 1..12)
            %-m  no-padded (1..12)
    %B - The full month name (``January'')
            %^B  uppercased (``JANUARY'')
    %b - The abbreviated month name (``Jan'')
            %^b  uppercased (``JAN'')
    %h - Equivalent to %b

    %d - Day of the month, zero-padded (01..31)
            %-d  no-padded (1..31)
    %e - Day of the month, blank-padded ( 1..31)

    %j - Day of the year (001..366)

  Time (Hour, Minute, Second, Subsecond):
    %H - Hour of the day, 24-hour clock, zero-padded (00..23)
    %k - Hour of the day, 24-hour clock, blank-padded ( 0..23)
    %I - Hour of the day, 12-hour clock, zero-padded (01..12)
    %l - Hour of the day, 12-hour clock, blank-padded ( 1..12)
    %P - Meridian indicator, lowercase (``am'' or ``pm'')
    %p - Meridian indicator, uppercase (``AM'' or ``PM'')

    %M - Minute of the hour (00..59)

    %S - Second of the minute (00..60)

    %L - Millisecond of the second (000..999)
    %N - Fractional seconds digits, default is 9 digits (nanosecond)
            %3N  millisecond (3 digits)
            %6N  microsecond (6 digits)
            %9N  nanosecond (9 digits)
            %12N picosecond (12 digits)

  Time zone:
    %z - Time zone as hour and minute offset from UTC (e.g. +0900)
            %:z - hour and minute offset from UTC with a colon (e.g. +09:00)
            %::z - hour, minute and second offset from UTC (e.g. +09:00:00)
    %Z - Time zone abbreviation name

  Weekday:
    %A - The full weekday name (``Sunday'')
            %^A  uppercased (``SUNDAY'')
    %a - The abbreviated name (``Sun'')
            %^a  uppercased (``SUN'')
    %u - Day of the week (Monday is 1, 1..7)
    %w - Day of the week (Sunday is 0, 0..6)

  ISO 8601 week-based year and week number:
  The week 1 of YYYY starts with a Monday and includes YYYY-01-04.
  The days in the year before the first week are in the last week of
  the previous year.
    %G - The week-based year
    %g - The last 2 digits of the week-based year (00..99)
    %V - Week number of the week-based year (01..53)

  Week number:
  The week 1 of YYYY starts with a Sunday or Monday (according to %U
  or %W).  The days in the year before the first week are in week 0.
    %U - Week number of the year.  The week starts with Sunday.  (00..53)
    %W - Week number of the year.  The week starts with Monday.  (00..53)

  Seconds since the Epoch:
    %s - Number of seconds since 1970-01-01 00:00:00 UTC.

  Literal string:
    %n - Newline character (\n)
    %t - Tab character (\t)
    %% - Literal ``%'' character

  Combination:
    %c - date and time (%a %b %e %T %Y)
    %D - Date (%m/%d/%y)
    %F - The ISO 8601 date format (%Y-%m-%d)
    %v - VMS date (%e-%^b-%4Y)
    %x - Same as %D
    %X - Same as %T
    %r - 12-hour time (%I:%M:%S %p)
    %R - 24-hour time (%H:%M)
    %T - 24-hour time (%H:%M:%S)
</pre>
<p>
This method is similar to strftime() function defined in ISO C and POSIX.
Several directives (%a, %A, %b, %B, %c, %p, %r, %x, %X, %E*, %O* and %Z)
are locale dependent in the function. However this method is locale
independent since Ruby 1.9. So, the result may differ even if a same format
string is used in other systems such as C. It is good practice to avoid %x
and %X because there are corresponding locale independent representations,
%D and %T.
</p>
<p>
Examples:
</p>
<pre>
  t = Time.new(2007,11,19,8,37,48,&quot;-06:00&quot;) #=&gt; 2007-11-19 08:37:48 -0600
  t.strftime(&quot;Printed on %m/%d/%Y&quot;)   #=&gt; &quot;Printed on 11/19/2007&quot;
  t.strftime(&quot;at %I:%M%p&quot;)            #=&gt; &quot;at 08:37AM&quot;
</pre>
<p>
Various ISO 8601 formats:
</p>
<pre>
  %Y%m%d           =&gt; 20071119                  Calendar date (basic)
  %F               =&gt; 2007-11-19                Calendar date (extended)
  %Y-%m            =&gt; 2007-11                   Calendar date, reduced accuracy, specific month
  %Y               =&gt; 2007                      Calendar date, reduced accuracy, specific year
  %C               =&gt; 20                        Calendar date, reduced accuracy, specific century
  %Y%j             =&gt; 2007323                   Ordinal date (basic)
  %Y-%j            =&gt; 2007-323                  Ordinal date (extended)
  %GW%V%u          =&gt; 2007W471                  Week date (basic)
  %G-W%V-%u        =&gt; 2007-W47-1                Week date (extended)
  %GW%V            =&gt; 2007W47                   Week date, reduced accuracy, specific week (basic)
  %G-W%V           =&gt; 2007-W47                  Week date, reduced accuracy, specific week (extended)
  %H%M%S           =&gt; 083748                    Local time (basic)
  %T               =&gt; 08:37:48                  Local time (extended)
  %H%M             =&gt; 0837                      Local time, reduced accuracy, specific minute (basic)
  %H:%M            =&gt; 08:37                     Local time, reduced accuracy, specific minute (extended)
  %H               =&gt; 08                        Local time, reduced accuracy, specific hour
  %H%M%S,%L        =&gt; 083748,000                Local time with decimal fraction, comma as decimal sign (basic)
  %T,%L            =&gt; 08:37:48,000              Local time with decimal fraction, comma as decimal sign (extended)
  %H%M%S.%L        =&gt; 083748.000                Local time with decimal fraction, full stop as decimal sign (basic)
  %T.%L            =&gt; 08:37:48.000              Local time with decimal fraction, full stop as decimal sign (extended)
  %H%M%S%z         =&gt; 083748-0600               Local time and the difference from UTC (basic)
  %T%:z            =&gt; 08:37:48-06:00            Local time and the difference from UTC (extended)
  %Y%m%dT%H%M%S%z  =&gt; 20071119T083748-0600      Date and time of day for calendar date (basic)
  %FT%T%:z         =&gt; 2007-11-19T08:37:48-06:00 Date and time of day for calendar date (extended)
  %Y%jT%H%M%S%z    =&gt; 2007323T083748-0600       Date and time of day for ordinal date (basic)
  %Y-%jT%T%:z      =&gt; 2007-323T08:37:48-06:00   Date and time of day for ordinal date (extended)
  %GW%V%uT%H%M%S%z =&gt; 2007W471T083748-0600      Date and time of day for week date (basic)
  %G-W%V-%uT%T%:z  =&gt; 2007-W47-1T08:37:48-06:00 Date and time of day for week date (extended)
  %Y%m%dT%H%M      =&gt; 20071119T0837             Calendar date and local time (basic)
  %FT%R            =&gt; 2007-11-19T08:37          Calendar date and local time (extended)
  %Y%jT%H%MZ       =&gt; 2007323T0837Z             Ordinal date and UTC of day (basic)
  %Y-%jT%RZ        =&gt; 2007-323T08:37Z           Ordinal date and UTC of day (extended)
  %GW%V%uT%H%M%z   =&gt; 2007W471T0837-0600        Week date and local time and difference from UTC (basic)
  %G-W%V-%uT%R%:z  =&gt; 2007-W47-1T08:37-06:00    Week date and local time and difference from UTC (extended)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001549_source')" id="l_M001549_source">show</a>
                        
                    </p>
                    <div id="M001549_source" class="dyn-source">
                        <pre>static VALUE
time_strftime(VALUE time, VALUE format)
{
    struct time_object *tobj;
    char buffer[SMALLBUF], *buf = buffer;
    const char *fmt;
    long len;
    VALUE str;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    StringValue(format);
    if (!rb_enc_str_asciicompat_p(format)) {
  rb_raise(rb_eArgError, &quot;format should have ASCII compatible encoding&quot;);
    }
    format = rb_str_new4(format);
    fmt = RSTRING_PTR(format);
    len = RSTRING_LEN(format);
    if (len == 0) {
  rb_warning(&quot;strftime called with empty format string&quot;);
    }
    else if (memchr(fmt, '\0', len)) {
  /* Ruby string may contain \0's. */
  const char *p = fmt, *pe = fmt + len;

  str = rb_str_new(0, 0);
  while (p &lt; pe) {
      len = rb_strftime_alloc(&amp;buf, p, &amp;tobj-&gt;vtm, tobj-&gt;timew, TIME_UTC_P(tobj));
      rb_str_cat(str, buf, len);
      p += strlen(p);
      if (buf != buffer) {
    xfree(buf);
    buf = buffer;
      }
      for (fmt = p; p &lt; pe &amp;&amp; !*p; ++p);
      if (p &gt; fmt) rb_str_cat(str, fmt, p - fmt);
  }
  return str;
    }
    else {
  len = rb_strftime_alloc(&amp;buf, RSTRING_PTR(format),
        &amp;tobj-&gt;vtm, tobj-&gt;timew, TIME_UTC_P(tobj));
    }
    str = rb_str_new(buf, len);
    if (buf != buffer) xfree(buf);
    rb_enc_copy(str, format);
    return str;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001545">
                    
                    <a name="M001545"></a><b>time.subsec    &rarr; number
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns just the fraction for <em>time</em>.
</p>
<p>
The result is possibly rational.
</p>
<pre>
   t = Time.now        #=&gt; 2009-03-26 22:33:12 +0900
   &quot;%10.9f&quot; % t.to_f   #=&gt; &quot;1238074392.940563917&quot;
   t.subsec            #=&gt; (94056401/100000000)
</pre>
<p>
The lowest digit of <a href="Time.html#M001493">to_f</a> and subsec is
different because IEEE 754 double is not accurate enough to represent the
rational. The accurate value is returned by subsec.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001545_source')" id="l_M001545_source">show</a>
                        
                    </p>
                    <div id="M001545_source" class="dyn-source">
                        <pre>static VALUE
time_subsec(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    return quo(w2v(wmod(tobj-&gt;timew, WINT2FIXWV(TIME_SCALE))), INT2FIX(TIME_SCALE));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001513">
                    
                    <a name="M001513"></a><b>time.succ   &rarr; new_time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Return a new time object, one second later than <tt>time</tt>. <a
href="Time.html#M001513">Time#succ</a> is obsolete since 1.9.2 for time is
not a discrete value.
</p>
<pre>
    t = Time.now       #=&gt; 2007-11-19 08:23:57 -0600
    t.succ             #=&gt; 2007-11-19 08:23:58 -0600
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001513_source')" id="l_M001513_source">show</a>
                        
                    </p>
                    <div id="M001513_source" class="dyn-source">
                        <pre>VALUE
rb_time_succ(VALUE time)
{
    struct time_object *tobj;
    struct time_object *tobj2;

    rb_warn(&quot;Time#succ is obsolete; use time + 1&quot;);
    GetTimeval(time, tobj);
    time = time_new_timew(rb_cTime, wadd(tobj-&gt;timew, WINT2FIXWV(TIME_SCALE)));
    GetTimeval(time, tobj2);
    TIME_COPY_GMT(tobj2, tobj);
    return time;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001533">
                    
                    <a name="M001533"></a><b>time.sunday? &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> represents Sunday.
</p>
<pre>
   t = Time.local(1990, 4, 1)       #=&gt; 1990-04-01 00:00:00 -0600
   t.sunday?                        #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001533_source')" id="l_M001533_source">show</a>
                        
                    </p>
                    <div id="M001533_source" class="dyn-source">
                        <pre>static VALUE
time_sunday(VALUE time)
{
    wday_p(0);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001537">
                    
                    <a name="M001537"></a><b>time.thursday? &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> represents Thursday.
</p>
<pre>
   t = Time.local(1995, 12, 21)     #=&gt; 1995-12-21 00:00:00 -0600
   p t.thursday?                    #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001537_source')" id="l_M001537_source">show</a>
                        
                    </p>
                    <div id="M001537_source" class="dyn-source">
                        <pre>static VALUE
time_thursday(VALUE time)
{
    wday_p(4);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001510">
                    
                    <a name="M001510"></a><b>time.to_a &rarr; array
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a ten-element <em>array</em> of values for <em>time</em>: {<tt>[
sec, min, hour, day, month, year, wday, yday, isdst, zone ]</tt>}. See the
individual methods for an explanation of the valid ranges of each value.
The ten elements can be passed directly to <tt>Time::utc</tt> or
<tt>Time::local</tt> to create a new <tt>Time</tt>.
</p>
<pre>
   t = Time.now     #=&gt; 2007-11-19 08:36:01 -0600
   now = t.to_a     #=&gt; [1, 36, 8, 19, 11, 2007, 1, 323, false, &quot;CST&quot;]
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001510_source')" id="l_M001510_source">show</a>
                        
                    </p>
                    <div id="M001510_source" class="dyn-source">
                        <pre>static VALUE
time_to_a(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return rb_ary_new3(10,
        INT2FIX(tobj-&gt;vtm.sec),
        INT2FIX(tobj-&gt;vtm.min),
        INT2FIX(tobj-&gt;vtm.hour),
        INT2FIX(tobj-&gt;vtm.mday),
        INT2FIX(tobj-&gt;vtm.mon),
        tobj-&gt;vtm.year,
        INT2FIX(tobj-&gt;vtm.wday),
        INT2FIX(tobj-&gt;vtm.yday),
        tobj-&gt;vtm.isdst?Qtrue:Qfalse,
        time_zone(time));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008794">
                    
                    <a name="M008794"></a><b>t.to_date  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a <a href="Date.html">Date</a> object which denotes self.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008794_source')" id="l_M008794_source">show</a>
                        
                    </p>
                    <div id="M008794_source" class="dyn-source">
                        <pre>static VALUE
time_to_date(VALUE self)
{
    VALUE y, nth, ret;
    int ry, m, d;

    y = f_year(self);
    m = FIX2INT(f_mon(self));
    d = FIX2INT(f_mday(self));

    decode_year(y, -1, &amp;nth, &amp;ry);

    ret = d_simple_new_internal(cDate,
        nth, 0,
        GREGORIAN,
        ry, m, d,
        HAVE_CIVIL);
    {
  get_d1(ret);
  set_sg(dat, DEFAULT_SG);
    }
    return ret;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008795">
                    
                    <a name="M008795"></a><b>t.to_datetime  &rarr;  datetime
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a <a href="DateTime.html">DateTime</a> object which denotes self.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008795_source')" id="l_M008795_source">show</a>
                        
                    </p>
                    <div id="M008795_source" class="dyn-source">
                        <pre>static VALUE
time_to_datetime(VALUE self)
{
    VALUE y, sf, nth, ret;
    int ry, m, d, h, min, s, of;

    y = f_year(self);
    m = FIX2INT(f_mon(self));
    d = FIX2INT(f_mday(self));

    h = FIX2INT(f_hour(self));
    min = FIX2INT(f_min(self));
    s = FIX2INT(f_sec(self));
    if (s == 60)
  s = 59;

    sf = sec_to_ns(f_subsec(self));
    of = FIX2INT(f_utc_offset(self));

    decode_year(y, -1, &amp;nth, &amp;ry);

    ret = d_complex_new_internal(cDateTime,
         nth, 0,
         0, sf,
         of, DEFAULT_SG,
         ry, m, d,
         h, min, s,
         HAVE_CIVIL | HAVE_TIME);
    {
  get_d1(ret);
  set_sg(dat, DEFAULT_SG);
    }
    return ret;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001493">
                    
                    <a name="M001493"></a><b>time.to_f &rarr; float
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the value of <em>time</em> as a floating point number of seconds
since the Epoch.
</p>
<pre>
   t = Time.now
   &quot;%10.5f&quot; % t.to_f   #=&gt; &quot;1270968744.77658&quot;
   t.to_i              #=&gt; 1270968744
</pre>
<p>
Note that IEEE 754 double is not accurate enough to represent number of
nanoseconds from the Epoch.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001493_source')" id="l_M001493_source">show</a>
                        
                    </p>
                    <div id="M001493_source" class="dyn-source">
                        <pre>static VALUE
time_to_f(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    return rb_Float(rb_time_unmagnify_to_float(tobj-&gt;timew));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001492">
                    
                    <a name="M001492"></a><b>time.to_i   &rarr; int
time.tv_sec &rarr; int
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the value of <em>time</em> as an integer number of seconds since
the Epoch.
</p>
<pre>
   t = Time.now
   &quot;%10.5f&quot; % t.to_f   #=&gt; &quot;1270968656.89607&quot;
   t.to_i              #=&gt; 1270968656
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001492_source')" id="l_M001492_source">show</a>
                        
                    </p>
                    <div id="M001492_source" class="dyn-source">
                        <pre>static VALUE
time_to_i(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    return w2v(wdiv(tobj-&gt;timew, WINT2FIXWV(TIME_SCALE)));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M009197">
                    
                    <a name="M009197"></a><b>to_json</b>(*args)
                    
                </div>
                
                <div class="description">
                  <p>
Stores class name (<a href="Time.html">Time</a>) with number of seconds
since epoch and number of microseconds for <a href="Time.html">Time</a> as
<a href="JSON.html">JSON</a> string
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M009197_source')" id="l_M009197_source">show</a>
                        
                    </p>
                    <div id="M009197_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/json/lib/json/add/core.rb, line 58</span>
58:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_json</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
59:     <span class="ruby-identifier">as_json</span>.<span class="ruby-identifier">to_json</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
60:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001494">
                    
                    <a name="M001494"></a><b>time.to_r &rarr; a_rational
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the value of <em>time</em> as a rational number of seconds since
the Epoch.
</p>
<pre>
   t = Time.now
   p t.to_r            #=&gt; (1270968792716287611/1000000000)
</pre>
<p>
This methods is intended to be used to get an accurate value representing
nanoseconds from the Epoch. You can use this to convert time to another
Epoch.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001494_source')" id="l_M001494_source">show</a>
                        
                    </p>
                    <div id="M001494_source" class="dyn-source">
                        <pre>static VALUE
time_to_r(VALUE time)
{
    struct time_object *tobj;
    VALUE v;

    GetTimeval(time, tobj);
    v = w2v(rb_time_unmagnify(tobj-&gt;timew));
    if (TYPE(v) != T_RATIONAL) {
        v = rb_Rational1(v);
    }
    return v;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001508">
                    
                    <a name="M001508"></a><b>time.inspect &rarr; string
time.to_s    &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a string representing <em>time</em>. Equivalent to calling <tt><a
href="Time.html#M001549">Time#strftime</a></tt> with a format string of
``<tt>%Y-%m-%d</tt> <tt>%H:%M:%S</tt> <tt>%z</tt>&#8217;&#8217; for a local
time and ``<tt>%Y-%m-%d</tt> <tt>%H:%M:%S</tt> <tt>UTC</tt>&#8217;&#8217;
for a UTC time.
</p>
<pre>
   Time.now.to_s       #=&gt; &quot;2007-10-05 16:09:51 +0900&quot;
   Time.now.utc.to_s   #=&gt; &quot;2007-10-05 07:09:51 UTC&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001508_source')" id="l_M001508_source">show</a>
                        
                    </p>
                    <div id="M001508_source" class="dyn-source">
                        <pre>static VALUE
time_to_s(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    if (TIME_UTC_P(tobj))
        return strftimev(&quot;%Y-%m-%d %H:%M:%S UTC&quot;, time);
    else
        return strftimev(&quot;%Y-%m-%d %H:%M:%S %z&quot;, time);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008793">
                    
                    <a name="M008793"></a><b>t.to_time  &rarr;  time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a copy of self as local mode.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008793_source')" id="l_M008793_source">show</a>
                        
                    </p>
                    <div id="M008793_source" class="dyn-source">
                        <pre>static VALUE
time_to_time(VALUE self)
{
    return rb_funcall(self, rb_intern(&quot;getlocal&quot;), 0);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001535">
                    
                    <a name="M001535"></a><b>time.tuesday? &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> represents Tuesday.
</p>
<pre>
   t = Time.local(1991, 2, 19)      #=&gt; 1991-02-19 00:00:00 -0600
   p t.tuesday?                     #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001535_source')" id="l_M001535_source">show</a>
                        
                    </p>
                    <div id="M001535_source" class="dyn-source">
                        <pre>static VALUE
time_tuesday(VALUE time)
{
    wday_p(2);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001543">
                    
                    <a name="M001543"></a><b>time.nsec    &rarr; int
time.tv_nsec &rarr; int
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns just the number of nanoseconds for <em>time</em>.
</p>
<pre>
   t = Time.now        #=&gt; 2007-11-17 15:18:03 +0900
   &quot;%10.9f&quot; % t.to_f   #=&gt; &quot;1195280283.536151409&quot;
   t.nsec              #=&gt; 536151406
</pre>
<p>
The lowest digit of <a href="Time.html#M001493">to_f</a> and nsec is
different because IEEE 754 double is not accurate enough to represent
nanoseconds from the Epoch. The accurate value is returned by nsec.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001543_source')" id="l_M001543_source">show</a>
                        
                    </p>
                    <div id="M001543_source" class="dyn-source">
                        <pre>static VALUE
time_nsec(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    return rb_to_int(w2v(wmulquoll(wmod(tobj-&gt;timew, WINT2WV(TIME_SCALE)), 1000000000, TIME_SCALE)));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001540">
                    
                    <a name="M001540"></a><b>time.to_i   &rarr; int
time.tv_sec &rarr; int
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the value of <em>time</em> as an integer number of seconds since
the Epoch.
</p>
<pre>
   t = Time.now
   &quot;%10.5f&quot; % t.to_f   #=&gt; &quot;1270968656.89607&quot;
   t.to_i              #=&gt; 1270968656
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001540_source')" id="l_M001540_source">show</a>
                        
                    </p>
                    <div id="M001540_source" class="dyn-source">
                        <pre>static VALUE
time_to_i(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    return w2v(wdiv(tobj-&gt;timew, WINT2FIXWV(TIME_SCALE)));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001541">
                    
                    <a name="M001541"></a><b>time.usec    &rarr; int
time.tv_usec &rarr; int
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns just the number of microseconds for <em>time</em>.
</p>
<pre>
   t = Time.now        #=&gt; 2007-11-19 08:03:26 -0600
   &quot;%10.6f&quot; % t.to_f   #=&gt; &quot;1195481006.775195&quot;
   t.usec              #=&gt; 775195
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001541_source')" id="l_M001541_source">show</a>
                        
                    </p>
                    <div id="M001541_source" class="dyn-source">
                        <pre>static VALUE
time_usec(VALUE time)
{
    struct time_object *tobj;
    wideval_t w, q, r;

    GetTimeval(time, tobj);

    w = wmod(tobj-&gt;timew, WINT2WV(TIME_SCALE));
    wmuldivmod(w, WINT2FIXWV(1000000), WINT2FIXWV(TIME_SCALE), &amp;q, &amp;r);
    return rb_to_int(w2v(q));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001542">
                    
                    <a name="M001542"></a><b>time.usec    &rarr; int
time.tv_usec &rarr; int
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns just the number of microseconds for <em>time</em>.
</p>
<pre>
   t = Time.now        #=&gt; 2007-11-19 08:03:26 -0600
   &quot;%10.6f&quot; % t.to_f   #=&gt; &quot;1195481006.775195&quot;
   t.usec              #=&gt; 775195
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001542_source')" id="l_M001542_source">show</a>
                        
                    </p>
                    <div id="M001542_source" class="dyn-source">
                        <pre>static VALUE
time_usec(VALUE time)
{
    struct time_object *tobj;
    wideval_t w, q, r;

    GetTimeval(time, tobj);

    w = wmod(tobj-&gt;timew, WINT2WV(TIME_SCALE));
    wmuldivmod(w, WINT2FIXWV(1000000), WINT2FIXWV(TIME_SCALE), &amp;q, &amp;r);
    return rb_to_int(w2v(q));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001502">
                    
                    <a name="M001502"></a><b>time.gmtime    &rarr; time
time.utc       &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Converts <em>time</em> to UTC (GMT), modifying the receiver.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:18:31 -0600
   t.gmt?         #=&gt; false
   t.gmtime       #=&gt; 2007-11-19 14:18:31 UTC
   t.gmt?         #=&gt; true

   t = Time.now   #=&gt; 2007-11-19 08:18:51 -0600
   t.utc?         #=&gt; false
   t.utc          #=&gt; 2007-11-19 14:18:51 UTC
   t.utc?         #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001502_source')" id="l_M001502_source">show</a>
                        
                    </p>
                    <div id="M001502_source" class="dyn-source">
                        <pre>static VALUE
time_gmtime(VALUE time)
{
    struct time_object *tobj;
    struct vtm vtm;

    GetTimeval(time, tobj);
    if (TIME_UTC_P(tobj)) {
  if (tobj-&gt;tm_got)
      return time;
    }
    else {
  time_modify(time);
    }

    if (!gmtimew(tobj-&gt;timew, &amp;vtm))
  rb_raise(rb_eArgError, &quot;gmtime error&quot;);
    tobj-&gt;vtm = vtm;

    tobj-&gt;tm_got = 1;
    TIME_SET_UTC(tobj);
    return time;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001531">
                    
                    <a name="M001531"></a><b>time.utc? &rarr; true or false
time.gmt? &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> represents a time in UTC (GMT).
</p>
<pre>
   t = Time.now                        #=&gt; 2007-11-19 08:15:23 -0600
   t.utc?                              #=&gt; false
   t = Time.gm(2000,&quot;jan&quot;,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 UTC
   t.utc?                              #=&gt; true

   t = Time.now                        #=&gt; 2007-11-19 08:16:03 -0600
   t.gmt?                              #=&gt; false
   t = Time.gm(2000,1,1,20,15,1)       #=&gt; 2000-01-01 20:15:01 UTC
   t.gmt?                              #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001531_source')" id="l_M001531_source">show</a>
                        
                    </p>
                    <div id="M001531_source" class="dyn-source">
                        <pre>static VALUE
time_utc_p(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    if (TIME_UTC_P(tobj)) return Qtrue;
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001530">
                    
                    <a name="M001530"></a><b>time.gmt_offset &rarr; fixnum
time.gmtoff     &rarr; fixnum
time.utc_offset &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the offset in seconds between the timezone of <em>time</em> and
UTC.
</p>
<pre>
   t = Time.gm(2000,1,1,20,15,1)   #=&gt; 2000-01-01 20:15:01 UTC
   t.gmt_offset                    #=&gt; 0
   l = t.getlocal                  #=&gt; 2000-01-01 14:15:01 -0600
   l.gmt_offset                    #=&gt; -21600
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001530_source')" id="l_M001530_source">show</a>
                        
                    </p>
                    <div id="M001530_source" class="dyn-source">
                        <pre>static VALUE
time_utc_offset(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);

    if (TIME_UTC_P(tobj)) {
  return INT2FIX(0);
    }
    else {
  return tobj-&gt;vtm.utc_offset;
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006229">
                    
                    <a name="M006229"></a><b>w3cdtf</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006229_source')" id="l_M006229_source">show</a>
                        
                    </p>
                    <div id="M006229_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rss/rss.rb, line 37</span>
37:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">w3cdtf</span>
38:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">usec</span>.<span class="ruby-identifier">zero?</span>
39:         <span class="ruby-identifier">fraction_digits</span> = <span class="ruby-value">0</span>
40:       <span class="ruby-keyword kw">else</span>
41:         <span class="ruby-identifier">fraction_digits</span> = <span class="ruby-constant">Math</span>.<span class="ruby-identifier">log10</span>(<span class="ruby-identifier">usec</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/0*$/</span>, <span class="ruby-value str">''</span>).<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">floor</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
42:       <span class="ruby-keyword kw">end</span>
43:       <span class="ruby-identifier">xmlschema</span>(<span class="ruby-identifier">fraction_digits</span>)
44:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001523">
                    
                    <a name="M001523"></a><b>time.wday &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns an integer representing the day of the week, 0..6, with Sunday ==
0.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-20 02:35:35 -0600
   t.wday         #=&gt; 2
   t.sunday?      #=&gt; false
   t.monday?      #=&gt; false
   t.tuesday?     #=&gt; true
   t.wednesday?   #=&gt; false
   t.thursday?    #=&gt; false
   t.friday?      #=&gt; false
   t.saturday?    #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001523_source')" id="l_M001523_source">show</a>
                        
                    </p>
                    <div id="M001523_source" class="dyn-source">
                        <pre>static VALUE
time_wday(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return INT2FIX(tobj-&gt;vtm.wday);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001536">
                    
                    <a name="M001536"></a><b>time.wednesday? &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>time</em> represents Wednesday.
</p>
<pre>
   t = Time.local(1993, 2, 24)      #=&gt; 1993-02-24 00:00:00 -0600
   p t.wednesday?                   #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001536_source')" id="l_M001536_source">show</a>
                        
                    </p>
                    <div id="M001536_source" class="dyn-source">
                        <pre>static VALUE
time_wednesday(VALUE time)
{
    wday_p(3);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007747">
                    
                    <a name="M007747"></a><b>xmlschema</b>(fraction_digits=0)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a string which represents the time as date<a
href="Time.html">Time</a> defined by <a href="XML.html">XML</a> Schema:
</p>
<pre>
  CCYY-MM-DDThh:mm:ssTZD
  CCYY-MM-DDThh:mm:ss.sssTZD
</pre>
<p>
where TZD is Z or [+-]hh:mm.
</p>
<p>
If self is a UTC time, Z is used as TZD. [+-]hh:mm is used otherwise.
</p>
<p>
<tt>fractional_seconds</tt> specifies a number of digits of fractional
seconds. Its default value is 0.
</p>
<p>
time library should be required to use this method as follows.
</p>
<pre>
    require 'time'
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Time.html#M007748">iso8601</a>
                    
                    <a href="Time.html#M007749">iso8601</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007747_source')" id="l_M007747_source">show</a>
                        
                    </p>
                    <div id="M007747_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/time.rb, line 523</span>
523:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">xmlschema</span>(<span class="ruby-identifier">fraction_digits</span>=<span class="ruby-value">0</span>)
524:     <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">'%0*d-%02d-%02dT%02d:%02d:%02d'</span>,
525:       <span class="ruby-identifier">year</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">5</span> <span class="ruby-operator">:</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">year</span>, <span class="ruby-identifier">mon</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">min</span>, <span class="ruby-identifier">sec</span>) <span class="ruby-operator">+</span>
526:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">fraction_digits</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">0</span>
527:       <span class="ruby-value str">''</span>
528:     <span class="ruby-keyword kw">else</span>
529:       <span class="ruby-value str">'.'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">'%0*d'</span>, <span class="ruby-identifier">fraction_digits</span>, (<span class="ruby-identifier">subsec</span> <span class="ruby-operator">*</span> <span class="ruby-value">10</span><span class="ruby-operator">**</span><span class="ruby-identifier">fraction_digits</span>).<span class="ruby-identifier">floor</span>)
530:     <span class="ruby-keyword kw">end</span> <span class="ruby-operator">+</span>
531:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">utc?</span>
532:       <span class="ruby-value str">'Z'</span>
533:     <span class="ruby-keyword kw">else</span>
534:       <span class="ruby-identifier">off</span> = <span class="ruby-identifier">utc_offset</span>
535:       <span class="ruby-identifier">sign</span> = <span class="ruby-identifier">off</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value str">'-'</span> <span class="ruby-operator">:</span> <span class="ruby-value str">'+'</span>
536:       <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">'%s%02d:%02d'</span>, <span class="ruby-identifier">sign</span>, <span class="ruby-operator">*</span>(<span class="ruby-identifier">off</span>.<span class="ruby-identifier">abs</span> <span class="ruby-operator">/</span> <span class="ruby-value">60</span>).<span class="ruby-identifier">divmod</span>(<span class="ruby-value">60</span>))
537:     <span class="ruby-keyword kw">end</span>
538:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001524">
                    
                    <a name="M001524"></a><b>time.yday &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns an integer representing the day of the year, 1..366.
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:32:31 -0600
   t.yday         #=&gt; 323
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001524_source')" id="l_M001524_source">show</a>
                        
                    </p>
                    <div id="M001524_source" class="dyn-source">
                        <pre>static VALUE
time_yday(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return INT2FIX(tobj-&gt;vtm.yday);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001522">
                    
                    <a name="M001522"></a><b>time.year &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the year for <em>time</em> (including the century).
</p>
<pre>
   t = Time.now   #=&gt; 2007-11-19 08:27:51 -0600
   t.year         #=&gt; 2007
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001522_source')" id="l_M001522_source">show</a>
                        
                    </p>
                    <div id="M001522_source" class="dyn-source">
                        <pre>static VALUE
time_year(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);
    return tobj-&gt;vtm.year;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001527">
                    
                    <a name="M001527"></a><b>time.zone &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the name of the time zone used for <em>time</em>. As of Ruby 1.8,
returns ``UTC&#8217;&#8217; rather than ``GMT&#8217;&#8217; for UTC times.
</p>
<pre>
   t = Time.gm(2000, &quot;jan&quot;, 1, 20, 15, 1)
   t.zone   #=&gt; &quot;UTC&quot;
   t = Time.local(2000, &quot;jan&quot;, 1, 20, 15, 1)
   t.zone   #=&gt; &quot;CST&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001527_source')" id="l_M001527_source">show</a>
                        
                    </p>
                    <div id="M001527_source" class="dyn-source">
                        <pre>static VALUE
time_zone(VALUE time)
{
    struct time_object *tobj;

    GetTimeval(time, tobj);
    MAKE_TM(time, tobj);

    if (TIME_UTC_P(tobj)) {
  return rb_obj_untaint(rb_locale_str_new_cstr(&quot;UTC&quot;));
    }
    if (tobj-&gt;vtm.zone == NULL)
        return Qnil;
    return rb_obj_untaint(rb_locale_str_new_cstr(tobj-&gt;vtm.zone));
}</pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    