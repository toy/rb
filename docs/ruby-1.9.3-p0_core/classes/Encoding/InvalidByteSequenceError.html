<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Encoding::InvalidByteSequenceError</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Encoding::InvalidByteSequenceError 
            
                <span class="parent">&lt; 
                    
                    rb_eEncodingError
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/encoding_c.html">encoding.c</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Raised by <a href="../Encoding.html">Encoding</a> and <a
href="../String.html">String</a> methods when the string being transcoded
contains a byte invalid for the either the source or target encoding.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M001601">destination_encoding</a>,</li>
                
                <li><a href="#M001599">destination_encoding_name</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M001602">error_bytes</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M001604">incomplete_input?</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M001603">readagain_bytes</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M001600">source_encoding</a>,</li>
                
                <li><a href="#M001598">source_encoding_name</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M001601">
                    
                    <a name="M001601"></a><b>ecerr.destination_encoding         &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the destination encoding as an encoding object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001601_source')" id="l_M001601_source">show</a>
                        
                    </p>
                    <div id="M001601_source" class="dyn-source">
                        <pre>static VALUE
ecerr_destination_encoding(VALUE self)
{
    return rb_attr_get(self, rb_intern(&quot;destination_encoding&quot;));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001599">
                    
                    <a name="M001599"></a><b>ecerr.destination_encoding_name         &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the destination encoding name as a string.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001599_source')" id="l_M001599_source">show</a>
                        
                    </p>
                    <div id="M001599_source" class="dyn-source">
                        <pre>static VALUE
ecerr_destination_encoding_name(VALUE self)
{
    return rb_attr_get(self, rb_intern(&quot;destination_encoding_name&quot;));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001602">
                    
                    <a name="M001602"></a><b>ecerr.error_bytes         &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the discarded bytes when <a
href="InvalidByteSequenceError.html">Encoding::InvalidByteSequenceError</a>
occurs.
</p>
<pre>
 ec = Encoding::Converter.new(&quot;EUC-JP&quot;, &quot;ISO-8859-1&quot;)
 begin
   ec.convert(&quot;abc\xA1\xFFdef&quot;)
 rescue Encoding::InvalidByteSequenceError
   p $!      #=&gt; #&lt;Encoding::InvalidByteSequenceError: &quot;\xA1&quot; followed by &quot;\xFF&quot; on EUC-JP&gt;
   puts $!.error_bytes.dump          #=&gt; &quot;\xA1&quot;
   puts $!.readagain_bytes.dump      #=&gt; &quot;\xFF&quot;
 end
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001602_source')" id="l_M001602_source">show</a>
                        
                    </p>
                    <div id="M001602_source" class="dyn-source">
                        <pre>static VALUE
ecerr_error_bytes(VALUE self)
{
    return rb_attr_get(self, rb_intern(&quot;error_bytes&quot;));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001604">
                    
                    <a name="M001604"></a><b>ecerr.incomplete_input?         &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the invalid byte sequence error is caused by premature end
of string.
</p>
<pre>
 ec = Encoding::Converter.new(&quot;EUC-JP&quot;, &quot;ISO-8859-1&quot;)

 begin
   ec.convert(&quot;abc\xA1z&quot;)
 rescue Encoding::InvalidByteSequenceError
   p $!      #=&gt; #&lt;Encoding::InvalidByteSequenceError: &quot;\xA1&quot; followed by &quot;z&quot; on EUC-JP&gt;
   p $!.incomplete_input?    #=&gt; false
 end

 begin
   ec.convert(&quot;abc\xA1&quot;)
   ec.finish
 rescue Encoding::InvalidByteSequenceError
   p $!      #=&gt; #&lt;Encoding::InvalidByteSequenceError: incomplete &quot;\xA1&quot; on EUC-JP&gt;
   p $!.incomplete_input?    #=&gt; true
 end
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001604_source')" id="l_M001604_source">show</a>
                        
                    </p>
                    <div id="M001604_source" class="dyn-source">
                        <pre>static VALUE
ecerr_incomplete_input(VALUE self)
{
    return rb_attr_get(self, rb_intern(&quot;incomplete_input&quot;));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001603">
                    
                    <a name="M001603"></a><b>ecerr.readagain_bytes         &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the bytes to be read again when <a
href="InvalidByteSequenceError.html">Encoding::InvalidByteSequenceError</a>
occurs.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001603_source')" id="l_M001603_source">show</a>
                        
                    </p>
                    <div id="M001603_source" class="dyn-source">
                        <pre>static VALUE
ecerr_readagain_bytes(VALUE self)
{
    return rb_attr_get(self, rb_intern(&quot;readagain_bytes&quot;));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001600">
                    
                    <a name="M001600"></a><b>ecerr.source_encoding              &rarr; encoding
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the source encoding as an encoding object.
</p>
<p>
Note that the result may not be equal to the source encoding of the
encoding converter if the conversion has multiple steps.
</p>
<pre>
 ec = Encoding::Converter.new(&quot;ISO-8859-1&quot;, &quot;EUC-JP&quot;) # ISO-8859-1 -&gt; UTF-8 -&gt; EUC-JP
 begin
   ec.convert(&quot;\xa0&quot;) # NO-BREAK SPACE, which is available in UTF-8 but not in EUC-JP.
 rescue Encoding::UndefinedConversionError
   p $!.source_encoding              #=&gt; #&lt;Encoding:UTF-8&gt;
   p $!.destination_encoding         #=&gt; #&lt;Encoding:EUC-JP&gt;
   p $!.source_encoding_name         #=&gt; &quot;UTF-8&quot;
   p $!.destination_encoding_name    #=&gt; &quot;EUC-JP&quot;
 end
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001600_source')" id="l_M001600_source">show</a>
                        
                    </p>
                    <div id="M001600_source" class="dyn-source">
                        <pre>static VALUE
ecerr_source_encoding(VALUE self)
{
    return rb_attr_get(self, rb_intern(&quot;source_encoding&quot;));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001598">
                    
                    <a name="M001598"></a><b>ecerr.source_encoding_name         &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the source encoding name as a string.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001598_source')" id="l_M001598_source">show</a>
                        
                    </p>
                    <div id="M001598_source" class="dyn-source">
                        <pre>static VALUE
ecerr_source_encoding_name(VALUE self)
{
    return rb_attr_get(self, rb_intern(&quot;source_encoding_name&quot;));
}</pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    