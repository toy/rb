<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Test::Unit::Runner</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Test::Unit::Runner 
            
                <span class="parent">&lt; 
                    
                    <a href="../../MiniTest/Unit.html">MiniTest::Unit</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/test/unit_rb.html">lib/test/unit.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M007721">_run_parallel</a>,</li>
                
                <li><a href="#M007723">_run_suites</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M007715">after_worker_down</a>,</li>
                
                <li><a href="#M007720">after_worker_quit</a>,</li>
                
                <li><a href="#M007711">autorun</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M007719">del_jobs_status</a></li>
                
            </ul>
        </dd>
    
        <dt>J</dt>
        <dd>
            <ul>
                
                <li><a href="#M007718">jobs_status</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M007725">puke</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M007726">status</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="../../JSON.html">JSON</a>
            
            START:includes
        </li>
        
        <li>
            
            <a href="../../JSON.html">JSON</a>
            
            START:includes
        </li>
        
        <li>
            
            <a href="../../JSON.html">JSON</a>
            
            START:includes
        </li>
        
        <li>
            
            <a href="../../JSON.html">JSON</a>
            
            START:includes
        </li>
        
        <li>
            
            <a href="../../JSON.html">JSON</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">CLASS</span> <a href="Runner/Worker.html">Test::Unit::Runner::Worker</a></li>
        
    </ul>
    

    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M007711">
                    
                    <a name="M007711"></a><b>autorun</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007711_source')" id="l_M007711_source">show</a>
                        
                    </p>
                    <div id="M007711_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit.rb, line 323</span>
323:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">autorun</span>
324:         <span class="ruby-identifier">at_exit</span> {
325:           <span class="ruby-constant">Test</span><span class="ruby-operator">::</span><span class="ruby-constant">Unit</span><span class="ruby-operator">::</span><span class="ruby-constant">RunCount</span>.<span class="ruby-identifier">run_once</span> {
326:             <span class="ruby-identifier">exit</span>(<span class="ruby-constant">Test</span><span class="ruby-operator">::</span><span class="ruby-constant">Unit</span><span class="ruby-operator">::</span><span class="ruby-constant">Runner</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">run</span>(<span class="ruby-constant">ARGV</span>) <span class="ruby-operator">||</span> <span class="ruby-keyword kw">true</span>)
327:           } <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@@stop_auto_run</span>
328:         } <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@@installed_at_exit</span>
329:         <span class="ruby-ivar">@@installed_at_exit</span> = <span class="ruby-keyword kw">true</span>
330:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M007721">
                    
                    <a name="M007721"></a><b>_run_parallel</b>(suites, type, result)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007721_source')" id="l_M007721_source">show</a>
                        
                    </p>
                    <div id="M007721_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit.rb, line 386</span>
386:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">_run_parallel</span> <span class="ruby-identifier">suites</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">result</span>
387:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:parallel</span>] <span class="ruby-operator">&lt;</span> <span class="ruby-value">1</span>
388:           <span class="ruby-identifier">warn</span> <span class="ruby-value str">&quot;Error: parameter of -j option should be greater than 0.&quot;</span>
389:           <span class="ruby-keyword kw">return</span>
390:         <span class="ruby-keyword kw">end</span>
391: 
392:         <span class="ruby-keyword kw">begin</span>
393:           <span class="ruby-comment cmt"># Require needed things for parallel running</span>
394:           <span class="ruby-identifier">require</span> <span class="ruby-value str">'thread'</span>
395:           <span class="ruby-identifier">require</span> <span class="ruby-value str">'timeout'</span>
396:           <span class="ruby-ivar">@tasks</span> = <span class="ruby-ivar">@files</span>.<span class="ruby-identifier">dup</span> <span class="ruby-comment cmt"># Array of filenames.</span>
397:           <span class="ruby-ivar">@need_quit</span> = <span class="ruby-keyword kw">false</span>
398:           <span class="ruby-ivar">@dead_workers</span> = []  <span class="ruby-comment cmt"># Array of dead workers.</span>
399:           <span class="ruby-ivar">@warnings</span> = []
400:           <span class="ruby-identifier">shutting_down</span> = <span class="ruby-keyword kw">false</span>
401:           <span class="ruby-identifier">rep</span> = [] <span class="ruby-comment cmt"># FIXME: more good naming</span>
402: 
403:           <span class="ruby-comment cmt"># Array of workers.</span>
404:           <span class="ruby-ivar">@workers</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:parallel</span>].<span class="ruby-identifier">times</span>.<span class="ruby-identifier">map</span> {
405:             <span class="ruby-identifier">worker</span> = <span class="ruby-constant">Worker</span>.<span class="ruby-identifier">launch</span>(<span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:ruby</span>],<span class="ruby-ivar">@args</span>)
406:             <span class="ruby-identifier">worker</span>.<span class="ruby-identifier">hook</span>(<span class="ruby-identifier">:dead</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">w</span>,<span class="ruby-identifier">info</span><span class="ruby-operator">|</span>
407:               <span class="ruby-identifier">after_worker_quit</span> <span class="ruby-identifier">w</span>
408:               <span class="ruby-identifier">after_worker_down</span> <span class="ruby-identifier">w</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">info</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">info</span>.<span class="ruby-identifier">empty?</span>
409:             <span class="ruby-keyword kw">end</span>
410:             <span class="ruby-identifier">worker</span>
411:           }
412: 
413:           <span class="ruby-comment cmt"># Thread: watchdog</span>
414:           <span class="ruby-identifier">watchdog</span> = <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span>
415:             <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">stat</span> = <span class="ruby-constant">Process</span>.<span class="ruby-identifier">wait2</span>
416:               <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@interrupt</span> <span class="ruby-comment cmt"># Break when interrupt</span>
417:               <span class="ruby-identifier">pid</span>, <span class="ruby-identifier">stat</span> = <span class="ruby-identifier">stat</span>
418:               <span class="ruby-identifier">w</span> = (<span class="ruby-ivar">@workers</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@dead_workers</span>).<span class="ruby-identifier">find</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">pid</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">pid</span> }.<span class="ruby-identifier">dup</span>
419:               <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">w</span>
420:               <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">w</span>.<span class="ruby-identifier">status</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:quit</span>
421:                 <span class="ruby-comment cmt"># Worker down</span>
422:                 <span class="ruby-identifier">w</span>.<span class="ruby-identifier">died</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">!</span><span class="ruby-identifier">stat</span>.<span class="ruby-identifier">signaled?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">stat</span>.<span class="ruby-identifier">exitstatus</span>)
423:               <span class="ruby-keyword kw">end</span>
424:             <span class="ruby-keyword kw">end</span>
425:           <span class="ruby-keyword kw">end</span>
426: 
427:           <span class="ruby-ivar">@workers_hash</span> = <span class="ruby-constant">Hash</span>[<span class="ruby-ivar">@workers</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">w</span>.<span class="ruby-identifier">io</span>,<span class="ruby-identifier">w</span>] }] <span class="ruby-comment cmt"># out-IO =&gt; worker</span>
428:           <span class="ruby-ivar">@ios</span> = <span class="ruby-ivar">@workers</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span> <span class="ruby-identifier">w</span>.<span class="ruby-identifier">io</span> } <span class="ruby-comment cmt"># Array of worker IOs</span>
429: 
430:           <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">_io</span> = <span class="ruby-constant">IO</span>.<span class="ruby-identifier">select</span>(<span class="ruby-ivar">@ios</span>)[<span class="ruby-value">0</span>]
431:             <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">_io</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span>
432:               <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@need_quit</span>
433:               <span class="ruby-identifier">worker</span> = <span class="ruby-ivar">@workers_hash</span>[<span class="ruby-identifier">io</span>]
434:               <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">worker</span>.<span class="ruby-identifier">read</span>
435:               <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/^okay$/</span>
436:                 <span class="ruby-identifier">worker</span>.<span class="ruby-identifier">status</span> = <span class="ruby-identifier">:running</span>
437:                 <span class="ruby-identifier">jobs_status</span>
438:               <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/^ready$/</span>
439:                 <span class="ruby-identifier">worker</span>.<span class="ruby-identifier">status</span> = <span class="ruby-identifier">:ready</span>
440:                 <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tasks</span>.<span class="ruby-identifier">empty?</span>
441:                   <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@workers</span>.<span class="ruby-identifier">find</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">status</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:running</span> }
442:                 <span class="ruby-keyword kw">else</span>
443:                   <span class="ruby-identifier">worker</span>.<span class="ruby-identifier">run</span>(<span class="ruby-ivar">@tasks</span>.<span class="ruby-identifier">shift</span>, <span class="ruby-identifier">type</span>)
444:                 <span class="ruby-keyword kw">end</span>
445: 
446:                 <span class="ruby-identifier">jobs_status</span>
447:               <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/^done (.+?)$/</span>
448:                 <span class="ruby-identifier">r</span> = <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">$1</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">&quot;m&quot;</span>)[<span class="ruby-value">0</span>])
449:                 <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">r</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">r</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>] <span class="ruby-operator">==</span> [<span class="ruby-keyword kw">nil</span>,<span class="ruby-keyword kw">nil</span>]
450:                 <span class="ruby-identifier">rep</span>    <span class="ruby-operator">&lt;&lt;</span> {<span class="ruby-identifier">file</span><span class="ruby-operator">:</span> <span class="ruby-identifier">worker</span>.<span class="ruby-identifier">real_file</span>,
451:                            <span class="ruby-identifier">report</span><span class="ruby-operator">:</span> <span class="ruby-identifier">r</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">result</span><span class="ruby-operator">:</span> <span class="ruby-identifier">r</span>[<span class="ruby-value">3</span>], <span class="ruby-identifier">testcase</span><span class="ruby-operator">:</span> <span class="ruby-identifier">r</span>[<span class="ruby-value">5</span>]}
452:                 <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">r</span>[<span class="ruby-value">4</span>]).<span class="ruby-identifier">uniq!</span>
453:               <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/^p (.+?)$/</span>
454:                 <span class="ruby-identifier">del_jobs_status</span>
455:                 <span class="ruby-identifier">print</span> <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">&quot;m&quot;</span>)[<span class="ruby-value">0</span>]
456:                 <span class="ruby-identifier">jobs_status</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:job_status</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">:replace</span>
457:               <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/^after (.+?)$/</span>
458:                 <span class="ruby-ivar">@warnings</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">$1</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">&quot;m&quot;</span>)[<span class="ruby-value">0</span>])
459:               <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/^bye (.+?)$/</span>
460:                 <span class="ruby-identifier">after_worker_down</span> <span class="ruby-identifier">worker</span>, <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">$1</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">&quot;m&quot;</span>)[<span class="ruby-value">0</span>])
461:               <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/^bye$/</span>
462:                 <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">shutting_down</span>
463:                   <span class="ruby-identifier">after_worker_quit</span> <span class="ruby-identifier">worker</span>
464:                 <span class="ruby-keyword kw">else</span>
465:                   <span class="ruby-identifier">after_worker_down</span> <span class="ruby-identifier">worker</span>
466:                 <span class="ruby-keyword kw">end</span>
467:               <span class="ruby-keyword kw">end</span>
468:               <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@need_quit</span>
469:             <span class="ruby-keyword kw">end</span>
470:           <span class="ruby-keyword kw">end</span>
471:         <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Interrupt</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
472:           <span class="ruby-ivar">@interrupt</span> = <span class="ruby-identifier">e</span>
473:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">result</span>
474:         <span class="ruby-keyword kw">ensure</span>
475:           <span class="ruby-identifier">shutting_down</span> = <span class="ruby-keyword kw">true</span>
476: 
477:           <span class="ruby-identifier">watchdog</span>.<span class="ruby-identifier">kill</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">watchdog</span>
478:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@interrupt</span>
479:             <span class="ruby-ivar">@ios</span>.<span class="ruby-identifier">select!</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@workers_hash</span>[<span class="ruby-identifier">x</span>].<span class="ruby-identifier">status</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:running</span> }
480:             <span class="ruby-keyword kw">while</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@ios</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">__io</span> = <span class="ruby-constant">IO</span>.<span class="ruby-identifier">select</span>(<span class="ruby-ivar">@ios</span>,[],[],<span class="ruby-value">10</span>))
481:                 <span class="ruby-identifier">_io</span> = <span class="ruby-identifier">__io</span>[<span class="ruby-value">0</span>]
482:                 <span class="ruby-identifier">_io</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span>
483:                   <span class="ruby-identifier">worker</span> = <span class="ruby-ivar">@workers_hash</span>[<span class="ruby-identifier">io</span>]
484:                   <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">worker</span>.<span class="ruby-identifier">read</span>
485:                   <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/^done (.+?)$/</span>
486:                     <span class="ruby-identifier">r</span> = <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">$1</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">&quot;m&quot;</span>)[<span class="ruby-value">0</span>])
487:                     <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">r</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">r</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>] <span class="ruby-operator">==</span> [<span class="ruby-keyword kw">nil</span>,<span class="ruby-keyword kw">nil</span>]
488:                     <span class="ruby-identifier">rep</span>    <span class="ruby-operator">&lt;&lt;</span> {<span class="ruby-identifier">file</span><span class="ruby-operator">:</span> <span class="ruby-identifier">worker</span>.<span class="ruby-identifier">real_file</span>,
489:                                <span class="ruby-identifier">report</span><span class="ruby-operator">:</span> <span class="ruby-identifier">r</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">result</span><span class="ruby-operator">:</span> <span class="ruby-identifier">r</span>[<span class="ruby-value">3</span>], <span class="ruby-identifier">testcase</span><span class="ruby-operator">:</span> <span class="ruby-identifier">r</span>[<span class="ruby-value">5</span>]}
490:                     <span class="ruby-identifier">$:</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">r</span>[<span class="ruby-value">4</span>]).<span class="ruby-identifier">uniq!</span>
491:                     <span class="ruby-ivar">@ios</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">io</span>)
492:                   <span class="ruby-keyword kw">end</span>
493:                 <span class="ruby-keyword kw">end</span>
494:             <span class="ruby-keyword kw">end</span>
495:           <span class="ruby-keyword kw">end</span>
496:           <span class="ruby-ivar">@workers</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">worker</span><span class="ruby-operator">|</span>
497:             <span class="ruby-keyword kw">begin</span>
498:               <span class="ruby-identifier">timeout</span>(<span class="ruby-value">1</span>) <span class="ruby-keyword kw">do</span>
499:                 <span class="ruby-identifier">worker</span>.<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;quit&quot;</span>
500:               <span class="ruby-keyword kw">end</span>
501:             <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EPIPE</span>
502:             <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Timeout</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>
503:             <span class="ruby-keyword kw">end</span>
504:             <span class="ruby-identifier">worker</span>.<span class="ruby-identifier">close</span>
505:           <span class="ruby-keyword kw">end</span>
506:           <span class="ruby-keyword kw">begin</span>
507:             <span class="ruby-identifier">timeout</span>(<span class="ruby-value">0</span><span class="ruby-value">.2</span><span class="ruby-operator">*</span><span class="ruby-ivar">@workers</span>.<span class="ruby-identifier">size</span>) <span class="ruby-keyword kw">do</span>
508:               <span class="ruby-constant">Process</span>.<span class="ruby-identifier">waitall</span>
509:             <span class="ruby-keyword kw">end</span>
510:           <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Timeout</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>
511:             <span class="ruby-ivar">@workers</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">worker</span><span class="ruby-operator">|</span>
512:               <span class="ruby-keyword kw">begin</span>
513:                 <span class="ruby-constant">Process</span>.<span class="ruby-identifier">kill</span>(<span class="ruby-identifier">:KILL</span>,<span class="ruby-identifier">worker</span>.<span class="ruby-identifier">pid</span>)
514:               <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ESRCH</span>; <span class="ruby-keyword kw">end</span>
515:             <span class="ruby-keyword kw">end</span>
516:           <span class="ruby-keyword kw">end</span>
517: 
518:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@interrupt</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:no_retry</span>] <span class="ruby-operator">||</span> <span class="ruby-ivar">@need_quit</span>
519:             <span class="ruby-identifier">rep</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>
520:               <span class="ruby-identifier">report</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">r</span>[<span class="ruby-identifier">:report</span>])
521:             <span class="ruby-keyword kw">end</span>
522:             <span class="ruby-ivar">@errors</span>   <span class="ruby-operator">+=</span> <span class="ruby-identifier">rep</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>[<span class="ruby-identifier">:result</span>][<span class="ruby-value">0</span>] }.<span class="ruby-identifier">inject</span>(<span class="ruby-identifier">:+</span>)
523:             <span class="ruby-ivar">@failures</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">rep</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>[<span class="ruby-identifier">:result</span>][<span class="ruby-value">1</span>] }.<span class="ruby-identifier">inject</span>(<span class="ruby-identifier">:+</span>)
524:             <span class="ruby-ivar">@skips</span>    <span class="ruby-operator">+=</span> <span class="ruby-identifier">rep</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>[<span class="ruby-identifier">:result</span>][<span class="ruby-value">2</span>] }.<span class="ruby-identifier">inject</span>(<span class="ruby-identifier">:+</span>)
525:           <span class="ruby-keyword kw">else</span>
526:             <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;&quot;</span>
527:             <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Retrying...&quot;</span>
528:             <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;&quot;</span>
529:             <span class="ruby-identifier">rep</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>
530:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">r</span>[<span class="ruby-identifier">:testcase</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">r</span>[<span class="ruby-identifier">:file</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">r</span>[<span class="ruby-identifier">:report</span>].<span class="ruby-identifier">empty?</span>
531:                 <span class="ruby-identifier">require</span> <span class="ruby-identifier">r</span>[<span class="ruby-identifier">:file</span>]
532:                 <span class="ruby-identifier">_run_suite</span>(<span class="ruby-identifier">eval</span>(<span class="ruby-identifier">r</span>[<span class="ruby-identifier">:testcase</span>]),<span class="ruby-identifier">type</span>)
533:               <span class="ruby-keyword kw">else</span>
534:                 <span class="ruby-identifier">report</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">r</span>[<span class="ruby-identifier">:report</span>])
535:                 <span class="ruby-ivar">@errors</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">r</span>[<span class="ruby-identifier">:result</span>][<span class="ruby-value">0</span>]
536:                 <span class="ruby-ivar">@failures</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">r</span>[<span class="ruby-identifier">:result</span>][<span class="ruby-value">1</span>]
537:                 <span class="ruby-ivar">@skips</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">r</span>[<span class="ruby-identifier">:result</span>][<span class="ruby-value">2</span>]
538:               <span class="ruby-keyword kw">end</span>
539:             <span class="ruby-keyword kw">end</span>
540:           <span class="ruby-keyword kw">end</span>
541:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@warnings</span>
542:             <span class="ruby-identifier">warn</span> <span class="ruby-value str">&quot;&quot;</span>
543:             <span class="ruby-identifier">ary</span> = []
544:             <span class="ruby-ivar">@warnings</span>.<span class="ruby-identifier">reject!</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span>
545:               <span class="ruby-identifier">r</span> = <span class="ruby-identifier">ary</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">w</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">message</span>)
546:               <span class="ruby-identifier">ary</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">w</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">message</span>
547:               <span class="ruby-identifier">r</span>
548:             <span class="ruby-keyword kw">end</span>
549:             <span class="ruby-ivar">@warnings</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span>
550:               <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{w[0]}: #{w[1].message} (#{w[1].class})&quot;</span>
551:             <span class="ruby-keyword kw">end</span>
552:             <span class="ruby-identifier">warn</span> <span class="ruby-value str">&quot;&quot;</span>
553:           <span class="ruby-keyword kw">end</span>
554:         <span class="ruby-keyword kw">end</span>
555:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007723">
                    
                    <a name="M007723"></a><b>_run_suites</b>(suites, type)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007723_source')" id="l_M007723_source">show</a>
                        
                    </p>
                    <div id="M007723_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit.rb, line 557</span>
557:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">_run_suites</span> <span class="ruby-identifier">suites</span>, <span class="ruby-identifier">type</span>
558:         <span class="ruby-ivar">@interrupt</span> = <span class="ruby-keyword kw">nil</span>
559:         <span class="ruby-identifier">result</span> = []
560:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:parallel</span>]
561:           <span class="ruby-identifier">_run_parallel</span> <span class="ruby-identifier">suites</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">result</span>
562:         <span class="ruby-keyword kw">else</span>
563:           <span class="ruby-identifier">suites</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">suite</span><span class="ruby-operator">|</span>
564:             <span class="ruby-keyword kw">begin</span>
565:               <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">_run_suite</span>(<span class="ruby-identifier">suite</span>, <span class="ruby-identifier">type</span>)
566:             <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Interrupt</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
567:               <span class="ruby-ivar">@interrupt</span> = <span class="ruby-identifier">e</span>
568:               <span class="ruby-keyword kw">break</span>
569:             <span class="ruby-keyword kw">end</span>
570:           }
571:         <span class="ruby-keyword kw">end</span>
572:         <span class="ruby-identifier">report</span>.<span class="ruby-identifier">reject!</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">start_with?</span> <span class="ruby-value str">&quot;Skipped:&quot;</span> } <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:hide_skip</span>]
573:         <span class="ruby-identifier">result</span>
574:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007715">
                    
                    <a name="M007715"></a><b>after_worker_down</b>(worker, e=nil, c=false)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007715_source')" id="l_M007715_source">show</a>
                        
                    </p>
                    <div id="M007715_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit.rb, line 332</span>
332:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_worker_down</span>(<span class="ruby-identifier">worker</span>, <span class="ruby-identifier">e</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">c</span>=<span class="ruby-keyword kw">false</span>)
333:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:parallel</span>]
334:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@interrupt</span>
335:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">e</span>
336:           <span class="ruby-identifier">b</span> = <span class="ruby-identifier">e</span>.<span class="ruby-identifier">backtrace</span>
337:           <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{b.shift}: #{e.message} (#{e.class})&quot;</span>
338:           <span class="ruby-constant">STDERR</span>.<span class="ruby-identifier">print</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;\tfrom #{s}&quot;</span>}.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
339:         <span class="ruby-keyword kw">end</span>
340:         <span class="ruby-ivar">@need_quit</span> = <span class="ruby-keyword kw">true</span>
341:         <span class="ruby-identifier">warn</span> <span class="ruby-value str">&quot;&quot;</span>
342:         <span class="ruby-identifier">warn</span> <span class="ruby-value str">&quot;Some worker was crashed. It seems ruby interpreter's bug&quot;</span>
343:         <span class="ruby-identifier">warn</span> <span class="ruby-value str">&quot;or, a bug of test/unit/parallel.rb. try again without -j&quot;</span>
344:         <span class="ruby-identifier">warn</span> <span class="ruby-value str">&quot;option.&quot;</span>
345:         <span class="ruby-identifier">warn</span> <span class="ruby-value str">&quot;&quot;</span>
346:         <span class="ruby-constant">STDERR</span>.<span class="ruby-identifier">flush</span>
347:         <span class="ruby-identifier">exit</span> <span class="ruby-identifier">c</span>
348:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007720">
                    
                    <a name="M007720"></a><b>after_worker_quit</b>(worker)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007720_source')" id="l_M007720_source">show</a>
                        
                    </p>
                    <div id="M007720_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit.rb, line 378</span>
378:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_worker_quit</span>(<span class="ruby-identifier">worker</span>)
379:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:parallel</span>]
380:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@interrupt</span>
381:         <span class="ruby-ivar">@workers</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">worker</span>)
382:         <span class="ruby-ivar">@dead_workers</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">worker</span>
383:         <span class="ruby-ivar">@ios</span> = <span class="ruby-ivar">@workers</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:io</span>)
384:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007719">
                    
                    <a name="M007719"></a><b>del_jobs_status</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007719_source')" id="l_M007719_source">show</a>
                        
                    </p>
                    <div id="M007719_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit.rb, line 373</span>
373:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">del_jobs_status</span>
374:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:job_status</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">:replace</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@jstr_size</span>.<span class="ruby-identifier">nonzero?</span>
375:         <span class="ruby-identifier">print</span> <span class="ruby-value str">&quot;\r&quot;</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot; &quot;</span><span class="ruby-operator">*</span><span class="ruby-ivar">@jstr_size</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;\r&quot;</span>
376:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007718">
                    
                    <a name="M007718"></a><b>jobs_status</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007718_source')" id="l_M007718_source">show</a>
                        
                    </p>
                    <div id="M007718_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit.rb, line 350</span>
350:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">jobs_status</span>
351:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:job_status</span>]
352:         <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:verbose</span>]
353:         <span class="ruby-identifier">status_line</span> = <span class="ruby-ivar">@workers</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:to_s</span>).<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; &quot;</span>)
354:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:job_status</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">:replace</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">tty?</span>
355:           <span class="ruby-ivar">@terminal_width</span> <span class="ruby-operator">||=</span>
356:             <span class="ruby-keyword kw">begin</span>
357:               <span class="ruby-identifier">require</span> <span class="ruby-value str">'io/console'</span>
358:               <span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">winsize</span>[<span class="ruby-value">1</span>]
359:             <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span>, <span class="ruby-constant">NoMethodError</span>
360:               <span class="ruby-constant">ENV</span>[<span class="ruby-value str">&quot;COLUMNS&quot;</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">nonzero?</span> <span class="ruby-operator">||</span> <span class="ruby-value">80</span>
361:             <span class="ruby-keyword kw">end</span>
362:           <span class="ruby-ivar">@jstr_size</span> <span class="ruby-operator">||=</span> <span class="ruby-value">0</span>
363:           <span class="ruby-identifier">del_jobs_status</span>
364:           <span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">flush</span>
365:           <span class="ruby-identifier">print</span> <span class="ruby-identifier">status_line</span>[<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-ivar">@terminal_width</span>]
366:           <span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">flush</span>
367:           <span class="ruby-ivar">@jstr_size</span> = [<span class="ruby-identifier">status_line</span>.<span class="ruby-identifier">size</span>, <span class="ruby-ivar">@terminal_width</span>].<span class="ruby-identifier">min</span>
368:         <span class="ruby-keyword kw">else</span>
369:           <span class="ruby-identifier">puts</span> <span class="ruby-identifier">status_line</span>
370:         <span class="ruby-keyword kw">end</span>
371:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007725">
                    
                    <a name="M007725"></a><b>puke</b>(klass, meth, e)
                    
                </div>
                
                <div class="description">
                  <p>
Overriding of <a
href="../../MiniTest/Unit.html#M002949">MiniTest::Unit#puke</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007725_source')" id="l_M007725_source">show</a>
                        
                    </p>
                    <div id="M007725_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit.rb, line 577</span>
577:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">puke</span> <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">meth</span>, <span class="ruby-identifier">e</span>
578:         <span class="ruby-comment cmt"># TODO:</span>
579:         <span class="ruby-comment cmt">#   this overriding is for minitest feature that skip messages are</span>
580:         <span class="ruby-comment cmt">#   hidden when not verbose (-v), note this is temporally.</span>
581:         <span class="ruby-identifier">e</span> = <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">e</span>
582:             <span class="ruby-keyword kw">when</span> <span class="ruby-constant">MiniTest</span><span class="ruby-operator">::</span><span class="ruby-constant">Skip</span> <span class="ruby-keyword kw">then</span>
583:               <span class="ruby-ivar">@skips</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
584:               <span class="ruby-node">&quot;Skipped:\n#{meth}(#{klass}) [#{location e}]:\n#{e.message}\n&quot;</span>
585:             <span class="ruby-keyword kw">when</span> <span class="ruby-constant">MiniTest</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span> <span class="ruby-keyword kw">then</span>
586:               <span class="ruby-ivar">@failures</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
587:               <span class="ruby-node">&quot;Failure:\n#{meth}(#{klass}) [#{location e}]:\n#{e.message}\n&quot;</span>
588:             <span class="ruby-keyword kw">else</span>
589:               <span class="ruby-ivar">@errors</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
590:               <span class="ruby-identifier">bt</span> = <span class="ruby-constant">MiniTest</span><span class="ruby-operator">::</span><span class="ruby-identifier">filter_backtrace</span>(<span class="ruby-identifier">e</span>.<span class="ruby-identifier">backtrace</span>).<span class="ruby-identifier">join</span> <span class="ruby-value str">&quot;\n    &quot;</span>
591:               <span class="ruby-node">&quot;Error:\n#{meth}(#{klass}):\n#{e.class}: #{e.message}\n    #{bt}\n&quot;</span>
592:             <span class="ruby-keyword kw">end</span>
593:         <span class="ruby-ivar">@report</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span>
594:         <span class="ruby-identifier">e</span>[<span class="ruby-value">0</span>, <span class="ruby-value">1</span>]
595:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007726">
                    
                    <a name="M007726"></a><b>status</b>(*args)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007726_source')" id="l_M007726_source">show</a>
                        
                    </p>
                    <div id="M007726_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit.rb, line 597</span>
597:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">status</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
598:         <span class="ruby-identifier">result</span> = <span class="ruby-keyword kw">super</span>
599:         <span class="ruby-identifier">raise</span> <span class="ruby-ivar">@interrupt</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@interrupt</span>
600:         <span class="ruby-identifier">result</span>
601:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    