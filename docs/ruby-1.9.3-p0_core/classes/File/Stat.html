<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>File::Stat</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            File::Stat 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/file_c.html">file.c</a></li>
            
            <li><a href="../../files/lib/pp_rb.html">lib/pp.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Objects of class <tt>File::Stat</tt> encapsulate common status information
for <tt>File</tt> objects. The information is recorded at the moment the
<tt>File::Stat</tt> object is created; changes made to the file after that
point will not be reflected. <tt>File::Stat</tt> objects are returned by
<tt><a href="../IO.html#M000417">IO#stat</a></tt>, <tt>File::stat</tt>,
<tt><a href="../File.html#M000389">File#lstat</a></tt>, and
<tt>File::lstat</tt>. Many of these methods return platform-specific
values, and not all values are meaningful on all systems. See also
<tt>Kernel#test</tt>.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M000431"><=></a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000446">atime</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M000444">blksize</a>,</li>
                
                <li><a href="#M000473">blockdev?</a>,</li>
                
                <li><a href="#M000445">blocks</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000483">chardev?</a>,</li>
                
                <li><a href="#M000448">ctime</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000432">dev</a>,</li>
                
                <li><a href="#M000433">dev_major</a>,</li>
                
                <li><a href="#M000434">dev_minor</a>,</li>
                
                <li><a href="#M000451">directory?</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000458">executable?</a>,</li>
                
                <li><a href="#M000459">executable_real?</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000460">file?</a>,</li>
                
                <li><a href="#M000450">ftype</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M000439">gid</a>,</li>
                
                <li><a href="#M000464">grpowned?</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000435">ino</a>,</li>
                
                <li><a href="#M000449">inspect</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000436">mode</a>,</li>
                
                <li><a href="#M000447">mtime</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000429">new</a>,</li>
                
                <li><a href="#M000437">nlink</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M000463">owned?</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000465">pipe?</a>,</li>
                
                <li><a href="#M003607">pretty_print</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000440">rdev</a>,</li>
                
                <li><a href="#M000441">rdev_major</a>,</li>
                
                <li><a href="#M000442">rdev_minor</a>,</li>
                
                <li><a href="#M000452">readable?</a>,</li>
                
                <li><a href="#M000453">readable_real?</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000485">setgid?</a>,</li>
                
                <li><a href="#M000484">setuid?</a>,</li>
                
                <li><a href="#M000443">size</a>,</li>
                
                <li><a href="#M000462">size?</a>,</li>
                
                <li><a href="#M000472">socket?</a>,</li>
                
                <li><a href="#M000497">sticky?</a>,</li>
                
                <li><a href="#M000471">symlink?</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M000438">uid</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M000454">world_readable?</a>,</li>
                
                <li><a href="#M000457">world_writable?</a>,</li>
                
                <li><a href="#M000455">writable?</a>,</li>
                
                <li><a href="#M000456">writable_real?</a></li>
                
            </ul>
        </dd>
    
        <dt>Z</dt>
        <dd>
            <ul>
                
                <li><a href="#M000461">zero?</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="../JSON.html">JSON</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    

    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000429">
                    
                    <a name="M000429"></a><b>
</b>
                    
                </div>
                
                <div class="description">
                  <pre>
  File::Stat.new(file_name)  -&gt; stat
</pre>
<p>
Create a <a href="Stat.html">File::Stat</a> object for the given file name
(raising an exception if the file doesn&#8217;t exist).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000429_source')" id="l_M000429_source">show</a>
                        
                    </p>
                    <div id="M000429_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_init(VALUE obj, VALUE fname)
{
    struct stat st, *nst;

    rb_secure(2);
    FilePathValue(fname);
    fname = rb_str_encode_ospath(fname);
    if (STAT(StringValueCStr(fname), &amp;st) == -1) {
  rb_sys_fail(RSTRING_PTR(fname));
    }
    if (DATA_PTR(obj)) {
  xfree(DATA_PTR(obj));
  DATA_PTR(obj) = NULL;
    }
    nst = ALLOC(struct stat);
    *nst = st;
    DATA_PTR(obj) = nst;

    return Qnil;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000431">
                    
                    <a name="M000431"></a><b>stat <=> other_stat    &rarr; -1, 0, 1, nil
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Compares <tt>File::Stat</tt> objects by comparing their respective
modification times.
</p>
<pre>
   f1 = File.new(&quot;f1&quot;, &quot;w&quot;)
   sleep 1
   f2 = File.new(&quot;f2&quot;, &quot;w&quot;)
   f1.stat &lt;=&gt; f2.stat   #=&gt; -1
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000431_source')" id="l_M000431_source">show</a>
                        
                    </p>
                    <div id="M000431_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_cmp(VALUE self, VALUE other)
{
    if (rb_obj_is_kind_of(other, rb_obj_class(self))) {
        struct timespec ts1 = stat_mtimespec(get_stat(self));
        struct timespec ts2 = stat_mtimespec(get_stat(other));
        if (ts1.tv_sec == ts2.tv_sec) {
            if (ts1.tv_nsec == ts2.tv_nsec) return INT2FIX(0);
            if (ts1.tv_nsec &lt; ts2.tv_nsec) return INT2FIX(-1);
            return INT2FIX(1);
        }
        if (ts1.tv_sec &lt; ts2.tv_sec) return INT2FIX(-1);
        return INT2FIX(1);
    }
    return Qnil;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000446">
                    
                    <a name="M000446"></a><b>stat.atime   &rarr; time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the last access time for this file as an object of class
<tt>Time</tt>.
</p>
<pre>
   File.stat(&quot;testfile&quot;).atime   #=&gt; Wed Dec 31 18:00:00 CST 1969
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000446_source')" id="l_M000446_source">show</a>
                        
                    </p>
                    <div id="M000446_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_atime(VALUE self)
{
    return stat_atime(get_stat(self));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000444">
                    
                    <a name="M000444"></a><b>stat.blksize   &rarr; integer or nil
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the native file system&#8217;s block size. Will return <tt>nil</tt>
on platforms that don&#8217;t support this information.
</p>
<pre>
   File.stat(&quot;testfile&quot;).blksize   #=&gt; 4096
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000444_source')" id="l_M000444_source">show</a>
                        
                    </p>
                    <div id="M000444_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_blksize(VALUE self)
{
#ifdef HAVE_ST_BLKSIZE
    return ULONG2NUM(get_stat(self)-&gt;st_blksize);
#else
    return Qnil;
#endif
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000473">
                    
                    <a name="M000473"></a><b>stat.blockdev?   &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if the file is a block device, <tt>false</tt> if it
isn&#8217;t or if the operating system doesn&#8217;t support this feature.
</p>
<pre>
   File.stat(&quot;testfile&quot;).blockdev?    #=&gt; false
   File.stat(&quot;/dev/hda1&quot;).blockdev?   #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000473_source')" id="l_M000473_source">show</a>
                        
                    </p>
                    <div id="M000473_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_b(VALUE obj)
{
#ifdef S_ISBLK
    if (S_ISBLK(get_stat(obj)-&gt;st_mode)) return Qtrue;

#endif
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000445">
                    
                    <a name="M000445"></a><b>stat.blocks    &rarr; integer or nil
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the number of native file system blocks allocated for this file, or
<tt>nil</tt> if the operating system doesn&#8217;t support this feature.
</p>
<pre>
   File.stat(&quot;testfile&quot;).blocks   #=&gt; 2
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000445_source')" id="l_M000445_source">show</a>
                        
                    </p>
                    <div id="M000445_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_blocks(VALUE self)
{
#ifdef HAVE_STRUCT_STAT_ST_BLOCKS
# if SIZEOF_STRUCT_STAT_ST_BLOCKS &gt; SIZEOF_LONG
    return ULL2NUM(get_stat(self)-&gt;st_blocks);
# else
    return ULONG2NUM(get_stat(self)-&gt;st_blocks);
# endif
#else
    return Qnil;
#endif
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000483">
                    
                    <a name="M000483"></a><b>stat.chardev?    &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if the file is a character device, <tt>false</tt> if
it isn&#8217;t or if the operating system doesn&#8217;t support this
feature.
</p>
<pre>
   File.stat(&quot;/dev/tty&quot;).chardev?   #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000483_source')" id="l_M000483_source">show</a>
                        
                    </p>
                    <div id="M000483_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_c(VALUE obj)
{
    if (S_ISCHR(get_stat(obj)-&gt;st_mode)) return Qtrue;

    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000448">
                    
                    <a name="M000448"></a><b>stat.ctime  &rarr;  aTime
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the change time for <em>stat</em> (that is, the time directory
information about the file was changed, not the file itself).
</p>
<p>
Note that on Windows (NTFS), returns creation time (birth time).
</p>
<pre>
   File.stat(&quot;testfile&quot;).ctime   #=&gt; Wed Apr 09 08:53:14 CDT 2003
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000448_source')" id="l_M000448_source">show</a>
                        
                    </p>
                    <div id="M000448_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_ctime(VALUE self)
{
    return stat_ctime(get_stat(self));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000432">
                    
                    <a name="M000432"></a><b>stat.dev    &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns an integer representing the device on which <em>stat</em> resides.
</p>
<pre>
   File.stat(&quot;testfile&quot;).dev   #=&gt; 774
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000432_source')" id="l_M000432_source">show</a>
                        
                    </p>
                    <div id="M000432_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_dev(VALUE self)
{
    return DEVT2NUM(get_stat(self)-&gt;st_dev);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000433">
                    
                    <a name="M000433"></a><b>stat.dev_major   &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the major part of <tt>File_Stat#dev</tt> or <tt>nil</tt>.
</p>
<pre>
   File.stat(&quot;/dev/fd1&quot;).dev_major   #=&gt; 2
   File.stat(&quot;/dev/tty&quot;).dev_major   #=&gt; 5
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000433_source')" id="l_M000433_source">show</a>
                        
                    </p>
                    <div id="M000433_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_dev_major(VALUE self)
{
#if defined(major)
    return INT2NUM(major(get_stat(self)-&gt;st_dev));
#else
    return Qnil;
#endif
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000434">
                    
                    <a name="M000434"></a><b>stat.dev_minor   &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the minor part of <tt>File_Stat#dev</tt> or <tt>nil</tt>.
</p>
<pre>
   File.stat(&quot;/dev/fd1&quot;).dev_minor   #=&gt; 1
   File.stat(&quot;/dev/tty&quot;).dev_minor   #=&gt; 0
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000434_source')" id="l_M000434_source">show</a>
                        
                    </p>
                    <div id="M000434_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_dev_minor(VALUE self)
{
#if defined(minor)
    return INT2NUM(minor(get_stat(self)-&gt;st_dev));
#else
    return Qnil;
#endif
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000451">
                    
                    <a name="M000451"></a><b>File.directory?(file_name)   &rarr;  true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if the named file is a directory, or a symlink that
points at a directory, and <tt>false</tt> otherwise.
</p>
<pre>
   File.directory?(&quot;.&quot;)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000451_source')" id="l_M000451_source">show</a>
                        
                    </p>
                    <div id="M000451_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_d(VALUE obj)
{
    if (S_ISDIR(get_stat(obj)-&gt;st_mode)) return Qtrue;
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000458">
                    
                    <a name="M000458"></a><b>stat.executable?    &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>stat</em> is executable or if the operating
system doesn&#8217;t distinguish executable files from nonexecutable files.
The tests are made using the effective owner of the process.
</p>
<pre>
   File.stat(&quot;testfile&quot;).executable?   #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000458_source')" id="l_M000458_source">show</a>
                        
                    </p>
                    <div id="M000458_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_x(VALUE obj)
{
    struct stat *st = get_stat(obj);

#ifdef USE_GETEUID
    if (geteuid() == 0) {
  return st-&gt;st_mode &amp; S_IXUGO ? Qtrue : Qfalse;
    }
#endif
#ifdef S_IXUSR
    if (rb_stat_owned(obj))
  return st-&gt;st_mode &amp; S_IXUSR ? Qtrue : Qfalse;
#endif
#ifdef S_IXGRP
    if (rb_stat_grpowned(obj))
  return st-&gt;st_mode &amp; S_IXGRP ? Qtrue : Qfalse;
#endif
#ifdef S_IXOTH
    if (!(st-&gt;st_mode &amp; S_IXOTH)) return Qfalse;
#endif
    return Qtrue;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000459">
                    
                    <a name="M000459"></a><b>stat.executable_real?    &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Same as <tt>executable?</tt>, but tests using the real owner of the
process.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000459_source')" id="l_M000459_source">show</a>
                        
                    </p>
                    <div id="M000459_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_X(VALUE obj)
{
    struct stat *st = get_stat(obj);

#ifdef USE_GETEUID
    if (getuid() == 0) {
  return st-&gt;st_mode &amp; S_IXUGO ? Qtrue : Qfalse;
    }
#endif
#ifdef S_IXUSR
    if (rb_stat_rowned(obj))
  return st-&gt;st_mode &amp; S_IXUSR ? Qtrue : Qfalse;
#endif
#ifdef S_IXGRP
    if (rb_group_member(get_stat(obj)-&gt;st_gid))
  return st-&gt;st_mode &amp; S_IXGRP ? Qtrue : Qfalse;
#endif
#ifdef S_IXOTH
    if (!(st-&gt;st_mode &amp; S_IXOTH)) return Qfalse;
#endif
    return Qtrue;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000460">
                    
                    <a name="M000460"></a><b>stat.file?    &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>stat</em> is a regular file (not a device
file, pipe, socket, etc.).
</p>
<pre>
   File.stat(&quot;testfile&quot;).file?   #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000460_source')" id="l_M000460_source">show</a>
                        
                    </p>
                    <div id="M000460_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_f(VALUE obj)
{
    if (S_ISREG(get_stat(obj)-&gt;st_mode)) return Qtrue;
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000450">
                    
                    <a name="M000450"></a><b>stat.ftype   &rarr; string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Identifies the type of <em>stat</em>. The return string is one of:
``<tt>file</tt>&#8217;&#8217;, ``<tt>directory</tt>&#8217;&#8217;,
``<tt>characterSpecial</tt>&#8217;&#8217;,
``<tt>blockSpecial</tt>&#8217;&#8217;, ``<tt>fifo</tt>&#8217;&#8217;,
``<tt>link</tt>&#8217;&#8217;, ``<tt>socket</tt>&#8217;&#8217;, or
``<tt>unknown</tt>&#8217;&#8217;.
</p>
<pre>
   File.stat(&quot;/dev/tty&quot;).ftype   #=&gt; &quot;characterSpecial&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000450_source')" id="l_M000450_source">show</a>
                        
                    </p>
                    <div id="M000450_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_ftype(VALUE obj)
{
    return rb_file_ftype(get_stat(obj));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000439">
                    
                    <a name="M000439"></a><b>stat.gid   &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the numeric group id of the owner of <em>stat</em>.
</p>
<pre>
   File.stat(&quot;testfile&quot;).gid   #=&gt; 500
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000439_source')" id="l_M000439_source">show</a>
                        
                    </p>
                    <div id="M000439_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_gid(VALUE self)
{
    return GIDT2NUM(get_stat(self)-&gt;st_gid);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000464">
                    
                    <a name="M000464"></a><b>stat.grpowned?   &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the effective group id of the process is the same as the
group id of <em>stat</em>. On Windows NT, returns <tt>false</tt>.
</p>
<pre>
   File.stat(&quot;testfile&quot;).grpowned?      #=&gt; true
   File.stat(&quot;/etc/passwd&quot;).grpowned?   #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000464_source')" id="l_M000464_source">show</a>
                        
                    </p>
                    <div id="M000464_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_grpowned(VALUE obj)
{
#ifndef _WIN32
    if (rb_group_member(get_stat(obj)-&gt;st_gid)) return Qtrue;
#endif
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000435">
                    
                    <a name="M000435"></a><b>stat.ino   &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the inode number for <em>stat</em>.
</p>
<pre>
   File.stat(&quot;testfile&quot;).ino   #=&gt; 1083669
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000435_source')" id="l_M000435_source">show</a>
                        
                    </p>
                    <div id="M000435_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_ino(VALUE self)
{
#if SIZEOF_STRUCT_STAT_ST_INO &gt; SIZEOF_LONG
    return ULL2NUM(get_stat(self)-&gt;st_ino);
#else
    return ULONG2NUM(get_stat(self)-&gt;st_ino);
#endif
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000449">
                    
                    <a name="M000449"></a><b>stat.inspect  &rarr;  string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Produce a nicely formatted description of <em>stat</em>.
</p>
<pre>
  File.stat(&quot;/etc/passwd&quot;).inspect
     #=&gt; &quot;#&lt;File::Stat dev=0xe000005, ino=1078078, mode=0100644,
     #    nlink=1, uid=0, gid=0, rdev=0x0, size=1374, blksize=4096,
     #    blocks=8, atime=Wed Dec 10 10:16:12 CST 2003,
     #    mtime=Fri Sep 12 15:41:41 CDT 2003,
     #    ctime=Mon Oct 27 11:20:27 CST 2003&gt;&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000449_source')" id="l_M000449_source">show</a>
                        
                    </p>
                    <div id="M000449_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_inspect(VALUE self)
{
    VALUE str;
    size_t i;
    static const struct {
  const char *name;
  VALUE (*func)(VALUE);
    } member[] = {
  {&quot;dev&quot;,      rb_stat_dev},
  {&quot;ino&quot;,      rb_stat_ino},
  {&quot;mode&quot;,    rb_stat_mode},
  {&quot;nlink&quot;,   rb_stat_nlink},
  {&quot;uid&quot;,      rb_stat_uid},
  {&quot;gid&quot;,      rb_stat_gid},
  {&quot;rdev&quot;,    rb_stat_rdev},
  {&quot;size&quot;,    rb_stat_size},
  {&quot;blksize&quot;, rb_stat_blksize},
  {&quot;blocks&quot;,  rb_stat_blocks},
  {&quot;atime&quot;,   rb_stat_atime},
  {&quot;mtime&quot;,   rb_stat_mtime},
  {&quot;ctime&quot;,   rb_stat_ctime},
    };

    struct stat* st;
    TypedData_Get_Struct(self, struct stat, &amp;stat_data_type, st);
    if (!st) {
        return rb_sprintf(&quot;#&lt;%s: uninitialized&gt;&quot;, rb_obj_classname(self));
    }

    str = rb_str_buf_new2(&quot;#&lt;&quot;);
    rb_str_buf_cat2(str, rb_obj_classname(self));
    rb_str_buf_cat2(str, &quot; &quot;);

    for (i = 0; i &lt; sizeof(member)/sizeof(member[0]); i++) {
  VALUE v;

  if (i &gt; 0) {
      rb_str_buf_cat2(str, &quot;, &quot;);
  }
  rb_str_buf_cat2(str, member[i].name);
  rb_str_buf_cat2(str, &quot;=&quot;);
  v = (*member[i].func)(self);
  if (i == 2) {    /* mode */
      rb_str_catf(str, &quot;0%lo&quot;, (unsigned long)NUM2ULONG(v));
  }
  else if (i == 0 || i == 6) { /* dev/rdev */
      rb_str_catf(str, &quot;0x%&quot;PRI_DEVT_PREFIX&quot;x&quot;, NUM2DEVT(v));
  }
  else {
      rb_str_append(str, rb_inspect(v));
  }
    }
    rb_str_buf_cat2(str, &quot;&gt;&quot;);
    OBJ_INFECT(str, self);

    return str;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000436">
                    
                    <a name="M000436"></a><b>stat.mode   &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns an integer representing the permission bits of <em>stat</em>. The
meaning of the bits is platform dependent; on Unix systems, see
<tt>stat(2)</tt>.
</p>
<pre>
   File.chmod(0644, &quot;testfile&quot;)   #=&gt; 1
   s = File.stat(&quot;testfile&quot;)
   sprintf(&quot;%o&quot;, s.mode)          #=&gt; &quot;100644&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000436_source')" id="l_M000436_source">show</a>
                        
                    </p>
                    <div id="M000436_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_mode(VALUE self)
{
    return UINT2NUM(ST2UINT(get_stat(self)-&gt;st_mode));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000447">
                    
                    <a name="M000447"></a><b>stat.mtime  &rarr;  aTime
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the modification time of <em>stat</em>.
</p>
<pre>
   File.stat(&quot;testfile&quot;).mtime   #=&gt; Wed Apr 09 08:53:14 CDT 2003
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000447_source')" id="l_M000447_source">show</a>
                        
                    </p>
                    <div id="M000447_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_mtime(VALUE self)
{
    return stat_mtime(get_stat(self));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000437">
                    
                    <a name="M000437"></a><b>stat.nlink   &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the number of hard links to <em>stat</em>.
</p>
<pre>
   File.stat(&quot;testfile&quot;).nlink             #=&gt; 1
   File.link(&quot;testfile&quot;, &quot;testfile.bak&quot;)   #=&gt; 0
   File.stat(&quot;testfile&quot;).nlink             #=&gt; 2
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000437_source')" id="l_M000437_source">show</a>
                        
                    </p>
                    <div id="M000437_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_nlink(VALUE self)
{
    return UINT2NUM(get_stat(self)-&gt;st_nlink);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000463">
                    
                    <a name="M000463"></a><b>stat.owned?    &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if the effective user id of the process is the same
as the owner of <em>stat</em>.
</p>
<pre>
   File.stat(&quot;testfile&quot;).owned?      #=&gt; true
   File.stat(&quot;/etc/passwd&quot;).owned?   #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000463_source')" id="l_M000463_source">show</a>
                        
                    </p>
                    <div id="M000463_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_owned(VALUE obj)
{
    if (get_stat(obj)-&gt;st_uid == geteuid()) return Qtrue;
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000465">
                    
                    <a name="M000465"></a><b>stat.pipe?    &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if the operating system supports pipes and
<em>stat</em> is a pipe; <tt>false</tt> otherwise.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000465_source')" id="l_M000465_source">show</a>
                        
                    </p>
                    <div id="M000465_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_p(VALUE obj)
{
#ifdef S_IFIFO
    if (S_ISFIFO(get_stat(obj)-&gt;st_mode)) return Qtrue;

#endif
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003607">
                    
                    <a name="M003607"></a><b>pretty_print</b>(q)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003607_source')" id="l_M003607_source">show</a>
                        
                    </p>
                    <div id="M003607_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/pp.rb, line 401</span>
401:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pretty_print</span>(<span class="ruby-identifier">q</span>)
402:       <span class="ruby-identifier">require</span> <span class="ruby-value str">'etc.so'</span>
403:       <span class="ruby-identifier">q</span>.<span class="ruby-identifier">object_group</span>(<span class="ruby-keyword kw">self</span>) {
404:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">breakable</span>
405:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;dev=0x%x&quot;</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dev</span>); <span class="ruby-identifier">q</span>.<span class="ruby-identifier">comma_breakable</span>
406:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-value str">&quot;ino=&quot;</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">pp</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">ino</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">comma_breakable</span>
407:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">group</span> {
408:           <span class="ruby-identifier">m</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">mode</span>
409:           <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;mode=0%o&quot;</span>, <span class="ruby-identifier">m</span>)
410:           <span class="ruby-identifier">q</span>.<span class="ruby-identifier">breakable</span>
411:           <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;(%s %c%c%c%c%c%c%c%c%c)&quot;</span>,
412:             <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">ftype</span>,
413:             (<span class="ruby-identifier">m</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0400</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">?-</span> <span class="ruby-operator">:</span> <span class="ruby-value">?r</span>),
414:             (<span class="ruby-identifier">m</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0200</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">?-</span> <span class="ruby-operator">:</span> <span class="ruby-value">?w</span>),
415:             (<span class="ruby-identifier">m</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0100</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> (<span class="ruby-identifier">m</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">04000</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">?-</span> <span class="ruby-operator">:</span> <span class="ruby-value">?S</span>) <span class="ruby-operator">:</span>
416:                              (<span class="ruby-identifier">m</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">04000</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">?x</span> <span class="ruby-operator">:</span> <span class="ruby-value">?s</span>)),
417:             (<span class="ruby-identifier">m</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0040</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">?-</span> <span class="ruby-operator">:</span> <span class="ruby-value">?r</span>),
418:             (<span class="ruby-identifier">m</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0020</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">?-</span> <span class="ruby-operator">:</span> <span class="ruby-value">?w</span>),
419:             (<span class="ruby-identifier">m</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0010</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> (<span class="ruby-identifier">m</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">02000</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">?-</span> <span class="ruby-operator">:</span> <span class="ruby-value">?S</span>) <span class="ruby-operator">:</span>
420:                              (<span class="ruby-identifier">m</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">02000</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">?x</span> <span class="ruby-operator">:</span> <span class="ruby-value">?s</span>)),
421:             (<span class="ruby-identifier">m</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0004</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">?-</span> <span class="ruby-operator">:</span> <span class="ruby-value">?r</span>),
422:             (<span class="ruby-identifier">m</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0002</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">?-</span> <span class="ruby-operator">:</span> <span class="ruby-value">?w</span>),
423:             (<span class="ruby-identifier">m</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0001</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> (<span class="ruby-identifier">m</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">01000</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">?-</span> <span class="ruby-operator">:</span> <span class="ruby-value">?T</span>) <span class="ruby-operator">:</span>
424:                              (<span class="ruby-identifier">m</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">01000</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">?x</span> <span class="ruby-operator">:</span> <span class="ruby-value">?t</span>)))
425:         }
426:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">comma_breakable</span>
427:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-value str">&quot;nlink=&quot;</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">pp</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">nlink</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">comma_breakable</span>
428:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">group</span> {
429:           <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-value str">&quot;uid=&quot;</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">pp</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">uid</span>
430:           <span class="ruby-keyword kw">begin</span>
431:             <span class="ruby-identifier">pw</span> = <span class="ruby-constant">Etc</span>.<span class="ruby-identifier">getpwuid</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">uid</span>)
432:           <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ArgumentError</span>
433:           <span class="ruby-keyword kw">end</span>
434:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pw</span>
435:             <span class="ruby-identifier">q</span>.<span class="ruby-identifier">breakable</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-node">&quot;(#{pw.name})&quot;</span>
436:           <span class="ruby-keyword kw">end</span>
437:         }
438:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">comma_breakable</span>
439:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">group</span> {
440:           <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-value str">&quot;gid=&quot;</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">pp</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">gid</span>
441:           <span class="ruby-keyword kw">begin</span>
442:             <span class="ruby-identifier">gr</span> = <span class="ruby-constant">Etc</span>.<span class="ruby-identifier">getgrgid</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">gid</span>)
443:           <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ArgumentError</span>
444:           <span class="ruby-keyword kw">end</span>
445:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">gr</span>
446:             <span class="ruby-identifier">q</span>.<span class="ruby-identifier">breakable</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-node">&quot;(#{gr.name})&quot;</span>
447:           <span class="ruby-keyword kw">end</span>
448:         }
449:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">comma_breakable</span>
450:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">group</span> {
451:           <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;rdev=0x%x&quot;</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">rdev</span>)
452:           <span class="ruby-identifier">q</span>.<span class="ruby-identifier">breakable</span>
453:           <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">'(%d, %d)'</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">rdev_major</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">rdev_minor</span>)
454:         }
455:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">comma_breakable</span>
456:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-value str">&quot;size=&quot;</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">pp</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">size</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">comma_breakable</span>
457:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-value str">&quot;blksize=&quot;</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">pp</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">blksize</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">comma_breakable</span>
458:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-value str">&quot;blocks=&quot;</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">pp</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">blocks</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">comma_breakable</span>
459:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">group</span> {
460:           <span class="ruby-identifier">t</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">atime</span>
461:           <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-value str">&quot;atime=&quot;</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">pp</span> <span class="ruby-identifier">t</span>
462:           <span class="ruby-identifier">q</span>.<span class="ruby-identifier">breakable</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-node">&quot;(#{t.tv_sec})&quot;</span>
463:         }
464:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">comma_breakable</span>
465:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">group</span> {
466:           <span class="ruby-identifier">t</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">mtime</span>
467:           <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-value str">&quot;mtime=&quot;</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">pp</span> <span class="ruby-identifier">t</span>
468:           <span class="ruby-identifier">q</span>.<span class="ruby-identifier">breakable</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-node">&quot;(#{t.tv_sec})&quot;</span>
469:         }
470:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">comma_breakable</span>
471:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">group</span> {
472:           <span class="ruby-identifier">t</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">ctime</span>
473:           <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-value str">&quot;ctime=&quot;</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">pp</span> <span class="ruby-identifier">t</span>
474:           <span class="ruby-identifier">q</span>.<span class="ruby-identifier">breakable</span>; <span class="ruby-identifier">q</span>.<span class="ruby-identifier">text</span> <span class="ruby-node">&quot;(#{t.tv_sec})&quot;</span>
475:         }
476:       }
477:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000440">
                    
                    <a name="M000440"></a><b>stat.rdev   &rarr;  fixnum or nil
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns an integer representing the device type on which <em>stat</em>
resides. Returns <tt>nil</tt> if the operating system doesn&#8217;t support
this feature.
</p>
<pre>
   File.stat(&quot;/dev/fd1&quot;).rdev   #=&gt; 513
   File.stat(&quot;/dev/tty&quot;).rdev   #=&gt; 1280
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000440_source')" id="l_M000440_source">show</a>
                        
                    </p>
                    <div id="M000440_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_rdev(VALUE self)
{
#ifdef HAVE_ST_RDEV
    return DEVT2NUM(get_stat(self)-&gt;st_rdev);
#else
    return Qnil;
#endif
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000441">
                    
                    <a name="M000441"></a><b>stat.rdev_major   &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the major part of <tt>File_Stat#rdev</tt> or <tt>nil</tt>.
</p>
<pre>
   File.stat(&quot;/dev/fd1&quot;).rdev_major   #=&gt; 2
   File.stat(&quot;/dev/tty&quot;).rdev_major   #=&gt; 5
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000441_source')" id="l_M000441_source">show</a>
                        
                    </p>
                    <div id="M000441_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_rdev_major(VALUE self)
{
#if defined(HAVE_ST_RDEV) &amp;&amp; defined(major)
    return DEVT2NUM(major(get_stat(self)-&gt;st_rdev));
#else
    return Qnil;
#endif
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000442">
                    
                    <a name="M000442"></a><b>stat.rdev_minor   &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the minor part of <tt>File_Stat#rdev</tt> or <tt>nil</tt>.
</p>
<pre>
   File.stat(&quot;/dev/fd1&quot;).rdev_minor   #=&gt; 1
   File.stat(&quot;/dev/tty&quot;).rdev_minor   #=&gt; 0
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000442_source')" id="l_M000442_source">show</a>
                        
                    </p>
                    <div id="M000442_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_rdev_minor(VALUE self)
{
#if defined(HAVE_ST_RDEV) &amp;&amp; defined(minor)
    return DEVT2NUM(minor(get_stat(self)-&gt;st_rdev));
#else
    return Qnil;
#endif
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000452">
                    
                    <a name="M000452"></a><b>stat.readable?    &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>stat</em> is readable by the effective user id
of this process.
</p>
<pre>
   File.stat(&quot;testfile&quot;).readable?   #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000452_source')" id="l_M000452_source">show</a>
                        
                    </p>
                    <div id="M000452_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_r(VALUE obj)
{
    struct stat *st = get_stat(obj);

#ifdef USE_GETEUID
    if (geteuid() == 0) return Qtrue;
#endif
#ifdef S_IRUSR
    if (rb_stat_owned(obj))
  return st-&gt;st_mode &amp; S_IRUSR ? Qtrue : Qfalse;
#endif
#ifdef S_IRGRP
    if (rb_stat_grpowned(obj))
  return st-&gt;st_mode &amp; S_IRGRP ? Qtrue : Qfalse;
#endif
#ifdef S_IROTH
    if (!(st-&gt;st_mode &amp; S_IROTH)) return Qfalse;
#endif
    return Qtrue;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000453">
                    
                    <a name="M000453"></a><b>stat.readable_real?  &rarr;  true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>stat</em> is readable by the real user id of
this process.
</p>
<pre>
   File.stat(&quot;testfile&quot;).readable_real?   #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000453_source')" id="l_M000453_source">show</a>
                        
                    </p>
                    <div id="M000453_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_R(VALUE obj)
{
    struct stat *st = get_stat(obj);

#ifdef USE_GETEUID
    if (getuid() == 0) return Qtrue;
#endif
#ifdef S_IRUSR
    if (rb_stat_rowned(obj))
  return st-&gt;st_mode &amp; S_IRUSR ? Qtrue : Qfalse;
#endif
#ifdef S_IRGRP
    if (rb_group_member(get_stat(obj)-&gt;st_gid))
  return st-&gt;st_mode &amp; S_IRGRP ? Qtrue : Qfalse;
#endif
#ifdef S_IROTH
    if (!(st-&gt;st_mode &amp; S_IROTH)) return Qfalse;
#endif
    return Qtrue;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000485">
                    
                    <a name="M000485"></a><b>stat.setgid?   &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>stat</em> has the set-group-id permission bit
set, <tt>false</tt> if it doesn&#8217;t or if the operating system
doesn&#8217;t support this feature.
</p>
<pre>
   File.stat(&quot;/usr/sbin/lpc&quot;).setgid?   #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000485_source')" id="l_M000485_source">show</a>
                        
                    </p>
                    <div id="M000485_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_sgid(VALUE obj)
{
#ifdef S_ISGID
    if (get_stat(obj)-&gt;st_mode &amp; S_ISGID) return Qtrue;
#endif
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000484">
                    
                    <a name="M000484"></a><b>stat.setuid?    &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>stat</em> has the set-user-id permission bit
set, <tt>false</tt> if it doesn&#8217;t or if the operating system
doesn&#8217;t support this feature.
</p>
<pre>
   File.stat(&quot;/bin/su&quot;).setuid?   #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000484_source')" id="l_M000484_source">show</a>
                        
                    </p>
                    <div id="M000484_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_suid(VALUE obj)
{
#ifdef S_ISUID
    if (get_stat(obj)-&gt;st_mode &amp; S_ISUID) return Qtrue;
#endif
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000443">
                    
                    <a name="M000443"></a><b>stat.size    &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the size of <em>stat</em> in bytes.
</p>
<pre>
   File.stat(&quot;testfile&quot;).size   #=&gt; 66
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000443_source')" id="l_M000443_source">show</a>
                        
                    </p>
                    <div id="M000443_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_size(VALUE self)
{
    return OFFT2NUM(get_stat(self)-&gt;st_size);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000462">
                    
                    <a name="M000462"></a><b>state.size    &rarr; integer
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the size of <em>stat</em> in bytes.
</p>
<pre>
   File.stat(&quot;testfile&quot;).size   #=&gt; 66
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000462_source')" id="l_M000462_source">show</a>
                        
                    </p>
                    <div id="M000462_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_s(VALUE obj)
{
    off_t size = get_stat(obj)-&gt;st_size;

    if (size == 0) return Qnil;
    return OFFT2NUM(size);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000472">
                    
                    <a name="M000472"></a><b>stat.socket?    &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>stat</em> is a socket, <tt>false</tt> if it
isn&#8217;t or if the operating system doesn&#8217;t support this feature.
</p>
<pre>
   File.stat(&quot;testfile&quot;).socket?   #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000472_source')" id="l_M000472_source">show</a>
                        
                    </p>
                    <div id="M000472_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_S(VALUE obj)
{
#ifdef S_ISSOCK
    if (S_ISSOCK(get_stat(obj)-&gt;st_mode)) return Qtrue;

#endif
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000497">
                    
                    <a name="M000497"></a><b>stat.sticky?    &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>stat</em> has its sticky bit set,
<tt>false</tt> if it doesn&#8217;t or if the operating system doesn&#8217;t
support this feature.
</p>
<pre>
   File.stat(&quot;testfile&quot;).sticky?   #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000497_source')" id="l_M000497_source">show</a>
                        
                    </p>
                    <div id="M000497_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_sticky(VALUE obj)
{
#ifdef S_ISVTX
    if (get_stat(obj)-&gt;st_mode &amp; S_ISVTX) return Qtrue;
#endif
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000471">
                    
                    <a name="M000471"></a><b>stat.symlink?    &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>stat</em> is a symbolic link, <tt>false</tt>
if it isn&#8217;t or if the operating system doesn&#8217;t support this
feature. As <tt>File::stat</tt> automatically follows symbolic links,
<tt>symlink?</tt> will always be <tt>false</tt> for an object returned by
<tt>File::stat</tt>.
</p>
<pre>
   File.symlink(&quot;testfile&quot;, &quot;alink&quot;)   #=&gt; 0
   File.stat(&quot;alink&quot;).symlink?         #=&gt; false
   File.lstat(&quot;alink&quot;).symlink?        #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000471_source')" id="l_M000471_source">show</a>
                        
                    </p>
                    <div id="M000471_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_l(VALUE obj)
{
#ifdef S_ISLNK
    if (S_ISLNK(get_stat(obj)-&gt;st_mode)) return Qtrue;
#endif
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000438">
                    
                    <a name="M000438"></a><b>stat.uid    &rarr; fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the numeric user id of the owner of <em>stat</em>.
</p>
<pre>
   File.stat(&quot;testfile&quot;).uid   #=&gt; 501
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000438_source')" id="l_M000438_source">show</a>
                        
                    </p>
                    <div id="M000438_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_uid(VALUE self)
{
    return UIDT2NUM(get_stat(self)-&gt;st_uid);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000454">
                    
                    <a name="M000454"></a><b>stat.world_readable? &rarr; fixnum or nil
</b>
                    
                </div>
                
                <div class="description">
                  <p>
If <em>stat</em> is readable by others, returns an integer representing the
file permission bits of <em>stat</em>. Returns <tt>nil</tt> otherwise. The
meaning of the bits is platform dependent; on Unix systems, see
<tt>stat(2)</tt>.
</p>
<pre>
   m = File.stat(&quot;/etc/passwd&quot;).world_readable?  #=&gt; 420
   sprintf(&quot;%o&quot;, m)            #=&gt; &quot;644&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000454_source')" id="l_M000454_source">show</a>
                        
                    </p>
                    <div id="M000454_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_wr(VALUE obj)
{
#ifdef S_IROTH
    if ((get_stat(obj)-&gt;st_mode &amp; (S_IROTH)) == S_IROTH) {
  return UINT2NUM(get_stat(obj)-&gt;st_mode &amp; (S_IRUGO|S_IWUGO|S_IXUGO));
    }
    else {
  return Qnil;
    }
#endif
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000457">
                    
                    <a name="M000457"></a><b>stat.world_writable?  &rarr;  fixnum or nil
</b>
                    
                </div>
                
                <div class="description">
                  <p>
If <em>stat</em> is writable by others, returns an integer representing the
file permission bits of <em>stat</em>. Returns <tt>nil</tt> otherwise. The
meaning of the bits is platform dependent; on Unix systems, see
<tt>stat(2)</tt>.
</p>
<pre>
   m = File.stat(&quot;/tmp&quot;).world_writable?     #=&gt; 511
   sprintf(&quot;%o&quot;, m)            #=&gt; &quot;777&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000457_source')" id="l_M000457_source">show</a>
                        
                    </p>
                    <div id="M000457_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_ww(VALUE obj)
{
#ifdef S_IROTH
    if ((get_stat(obj)-&gt;st_mode &amp; (S_IWOTH)) == S_IWOTH) {
  return UINT2NUM(get_stat(obj)-&gt;st_mode &amp; (S_IRUGO|S_IWUGO|S_IXUGO));
    }
    else {
  return Qnil;
    }
#endif
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000455">
                    
                    <a name="M000455"></a><b>stat.writable?  &rarr;  true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>stat</em> is writable by the effective user id
of this process.
</p>
<pre>
   File.stat(&quot;testfile&quot;).writable?   #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000455_source')" id="l_M000455_source">show</a>
                        
                    </p>
                    <div id="M000455_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_w(VALUE obj)
{
    struct stat *st = get_stat(obj);

#ifdef USE_GETEUID
    if (geteuid() == 0) return Qtrue;
#endif
#ifdef S_IWUSR
    if (rb_stat_owned(obj))
  return st-&gt;st_mode &amp; S_IWUSR ? Qtrue : Qfalse;
#endif
#ifdef S_IWGRP
    if (rb_stat_grpowned(obj))
  return st-&gt;st_mode &amp; S_IWGRP ? Qtrue : Qfalse;
#endif
#ifdef S_IWOTH
    if (!(st-&gt;st_mode &amp; S_IWOTH)) return Qfalse;
#endif
    return Qtrue;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000456">
                    
                    <a name="M000456"></a><b>stat.writable_real?  &rarr;  true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>stat</em> is writable by the real user id of
this process.
</p>
<pre>
   File.stat(&quot;testfile&quot;).writable_real?   #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000456_source')" id="l_M000456_source">show</a>
                        
                    </p>
                    <div id="M000456_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_W(VALUE obj)
{
    struct stat *st = get_stat(obj);

#ifdef USE_GETEUID
    if (getuid() == 0) return Qtrue;
#endif
#ifdef S_IWUSR
    if (rb_stat_rowned(obj))
  return st-&gt;st_mode &amp; S_IWUSR ? Qtrue : Qfalse;
#endif
#ifdef S_IWGRP
    if (rb_group_member(get_stat(obj)-&gt;st_gid))
  return st-&gt;st_mode &amp; S_IWGRP ? Qtrue : Qfalse;
#endif
#ifdef S_IWOTH
    if (!(st-&gt;st_mode &amp; S_IWOTH)) return Qfalse;
#endif
    return Qtrue;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000461">
                    
                    <a name="M000461"></a><b>stat.zero?    &rarr; true or false
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <em>stat</em> is a zero-length file;
<tt>false</tt> otherwise.
</p>
<pre>
   File.stat(&quot;testfile&quot;).zero?   #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000461_source')" id="l_M000461_source">show</a>
                        
                    </p>
                    <div id="M000461_source" class="dyn-source">
                        <pre>static VALUE
rb_stat_z(VALUE obj)
{
    if (get_stat(obj)-&gt;st_size == 0) return Qtrue;
    return Qfalse;
}</pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    