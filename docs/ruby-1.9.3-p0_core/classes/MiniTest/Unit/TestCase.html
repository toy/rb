<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>MiniTest::Unit::TestCase</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            MiniTest::Unit::TestCase 
            
                <span class="parent">&lt; 
                    
                    <a href="../../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/minitest/benchmark_rb.html">lib/minitest/benchmark.rb</a></li>
            
            <li><a href="../../../files/lib/minitest/unit_rb.html">lib/minitest/unit.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Subclass <a href="TestCase.html">TestCase</a> to create your own tests.
Typically you&#8217;ll want a <a href="TestCase.html">TestCase</a> subclass
per implementation class.
</p>
<p>
See <a href="../Assertions.html">MiniTest::Assertions</a>
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M002970">add_setup_hook</a>,</li>
                
                <li><a href="#M002973">add_teardown_hook</a>,</li>
                
                <li><a href="#M002747">assert_performance</a>,</li>
                
                <li><a href="#M002748">assert_performance_constant</a>,</li>
                
                <li><a href="#M002751">assert_performance_exponential</a>,</li>
                
                <li><a href="#M002752">assert_performance_linear</a>,</li>
                
                <li><a href="#M002753">assert_performance_power</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M002742">bench_exp</a>,</li>
                
                <li><a href="#M002743">bench_linear</a>,</li>
                
                <li><a href="#M002746">bench_range</a>,</li>
                
                <li><a href="#M002745">benchmark_suites</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M002756">fit_error</a>,</li>
                
                <li><a href="#M002757">fit_exponential</a>,</li>
                
                <li><a href="#M002759">fit_linear</a>,</li>
                
                <li><a href="#M002764">fit_power</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M002961">i_suck_and_my_tests_are_order_dependent!</a>,</li>
                
                <li><a href="#M002958">io</a>,</li>
                
                <li><a href="#M002959">io?</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M002966">passed?</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M002956">run</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M002967">setup</a>,</li>
                
                <li><a href="#M002774">sigma</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M002968">teardown</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M002780">validation_for_fit</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="../../JSON.html">JSON</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    

    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M002970">
                    
                    <a name="M002970"></a><b>add_setup_hook</b>(arg=nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Adds a block of code that will be executed before every <a
href="TestCase.html">TestCase</a> is run. Equivalent to <tt>setup</tt>, but
usable multiple times and without re-opening any classes.
</p>
<p>
All of the setup hooks will run in order after the <tt>setup</tt> method,
if one is defined.
</p>
<p>
The argument can be any object that responds to call or a block. That means
that this call,
</p>
<pre>
    MiniTest::TestCase.add_setup_hook { puts &quot;foo&quot; }
</pre>
<p>
&#8230; is equivalent to:
</p>
<pre>
    module MyTestSetup
      def call
        puts &quot;foo&quot;
      end
    end

    MiniTest::TestCase.add_setup_hook MyTestSetup
</pre>
<p>
The blocks passed to <tt><a
href="TestCase.html#M002970">add_setup_hook</a></tt> take an optional
parameter that will be the <a href="TestCase.html">TestCase</a> instance
that is executing the block.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002970_source')" id="l_M002970_source">show</a>
                        
                    </p>
                    <div id="M002970_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/minitest/unit.rb, line 1081</span>
1081:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_setup_hook</span> <span class="ruby-identifier">arg</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
1082:         <span class="ruby-identifier">hook</span> = <span class="ruby-identifier">arg</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">block</span>
1083:         <span class="ruby-ivar">@setup_hooks</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">hook</span>
1084:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002973">
                    
                    <a name="M002973"></a><b>add_teardown_hook</b>(arg=nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Adds a block of code that will be executed after every <a
href="TestCase.html">TestCase</a> is run. Equivalent to <tt>teardown</tt>,
but usable multiple times and without re-opening any classes.
</p>
<p>
All of the teardown hooks will run in reverse order after the
<tt>teardown</tt> method, if one is defined.
</p>
<p>
The argument can be any object that responds to call or a block. That means
that this call,
</p>
<pre>
    MiniTest::TestCase.add_teardown_hook { puts &quot;foo&quot; }
</pre>
<p>
&#8230; is equivalent to:
</p>
<pre>
    module MyTestTeardown
      def call
        puts &quot;foo&quot;
      end
    end

    MiniTest::TestCase.add_teardown_hook MyTestTeardown
</pre>
<p>
The blocks passed to <tt><a
href="TestCase.html#M002973">add_teardown_hook</a></tt> take an optional
parameter that will be the <a href="TestCase.html">TestCase</a> instance
that is executing the block.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002973_source')" id="l_M002973_source">show</a>
                        
                    </p>
                    <div id="M002973_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/minitest/unit.rb, line 1130</span>
1130:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">add_teardown_hook</span> <span class="ruby-identifier">arg</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
1131:         <span class="ruby-identifier">hook</span> = <span class="ruby-identifier">arg</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">block</span>
1132:         <span class="ruby-ivar">@teardown_hooks</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">hook</span>
1133:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002742">
                    
                    <a name="M002742"></a><b>bench_exp</b>(min, max, base = 10)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a set of ranges stepped exponentially from <tt>min</tt> to
<tt>max</tt> by powers of <tt>base</tt>. Eg:
</p>
<pre>
  bench_exp(2, 16, 2) # =&gt; [2, 4, 8, 16]
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002742_source')" id="l_M002742_source">show</a>
                        
                    </p>
                    <div id="M002742_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/minitest/benchmark.rb, line 28</span>
28:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">bench_exp</span> <span class="ruby-identifier">min</span>, <span class="ruby-identifier">max</span>, <span class="ruby-identifier">base</span> = <span class="ruby-value">10</span>
29:       <span class="ruby-identifier">min</span> = (<span class="ruby-constant">Math</span>.<span class="ruby-identifier">log10</span>(<span class="ruby-identifier">min</span>) <span class="ruby-operator">/</span> <span class="ruby-constant">Math</span>.<span class="ruby-identifier">log10</span>(<span class="ruby-identifier">base</span>)).<span class="ruby-identifier">to_i</span>
30:       <span class="ruby-identifier">max</span> = (<span class="ruby-constant">Math</span>.<span class="ruby-identifier">log10</span>(<span class="ruby-identifier">max</span>) <span class="ruby-operator">/</span> <span class="ruby-constant">Math</span>.<span class="ruby-identifier">log10</span>(<span class="ruby-identifier">base</span>)).<span class="ruby-identifier">to_i</span>
31: 
32:       (<span class="ruby-identifier">min</span><span class="ruby-operator">..</span><span class="ruby-identifier">max</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">base</span> <span class="ruby-operator">**</span> <span class="ruby-identifier">m</span> }.<span class="ruby-identifier">to_a</span>
33:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002743">
                    
                    <a name="M002743"></a><b>bench_linear</b>(min, max, step = 10)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a set of ranges stepped linearly from <tt>min</tt> to <tt>max</tt>
by <tt>step</tt>. Eg:
</p>
<pre>
  bench_linear(20, 40, 10) # =&gt; [20, 30, 40]
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002743_source')" id="l_M002743_source">show</a>
                        
                    </p>
                    <div id="M002743_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/minitest/benchmark.rb, line 41</span>
41:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">bench_linear</span> <span class="ruby-identifier">min</span>, <span class="ruby-identifier">max</span>, <span class="ruby-identifier">step</span> = <span class="ruby-value">10</span>
42:       (<span class="ruby-identifier">min</span><span class="ruby-operator">..</span><span class="ruby-identifier">max</span>).<span class="ruby-identifier">step</span>(<span class="ruby-identifier">step</span>).<span class="ruby-identifier">to_a</span>
43:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LocalJumpError</span> <span class="ruby-comment cmt"># 1.8.6</span>
44:       <span class="ruby-identifier">r</span> = []; (<span class="ruby-identifier">min</span><span class="ruby-operator">..</span><span class="ruby-identifier">max</span>).<span class="ruby-identifier">step</span>(<span class="ruby-identifier">step</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">r</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">n</span> }; <span class="ruby-identifier">r</span>
45:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002746">
                    
                    <a name="M002746"></a><b>bench_range</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Specifies the ranges used for benchmarking for that class. Defaults to
exponential growth from 1 to 10k by powers of 10. Override if you need
different ranges for your benchmarks.
</p>
<p>
See also: ::<a href="TestCase.html#M002742">bench_exp</a> and
::bench_linear.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002746_source')" id="l_M002746_source">show</a>
                        
                    </p>
                    <div id="M002746_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/minitest/benchmark.rb, line 69</span>
69:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">bench_range</span>
70:       <span class="ruby-identifier">bench_exp</span> <span class="ruby-value">1</span>, <span class="ruby-value">10_000</span>
71:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002745">
                    
                    <a name="M002745"></a><b>benchmark_suites</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns all test suites that have benchmark methods.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002745_source')" id="l_M002745_source">show</a>
                        
                    </p>
                    <div id="M002745_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/minitest/benchmark.rb, line 58</span>
58:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">benchmark_suites</span>
59:       <span class="ruby-constant">TestCase</span>.<span class="ruby-identifier">test_suites</span>.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">benchmark_methods</span>.<span class="ruby-identifier">empty?</span> }
60:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002961">
                    
                    <a name="M002961"></a><b>i_suck_and_my_tests_are_order_dependent!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Call this at the top of your tests when you absolutely positively need to
have ordered tests. In doing so, you&#8217;re admitting that you suck and
your tests are weak.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002961_source')" id="l_M002961_source">show</a>
                        
                    </p>
                    <div id="M002961_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/minitest/unit.rb, line 997</span>
 997:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">i_suck_and_my_tests_are_order_dependent!</span>
 998:         <span class="ruby-keyword kw">class</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword kw">self</span>
 999:           <span class="ruby-identifier">define_method</span> <span class="ruby-identifier">:test_order</span> <span class="ruby-keyword kw">do</span> <span class="ruby-identifier">:alpha</span> <span class="ruby-keyword kw">end</span>
1000:         <span class="ruby-keyword kw">end</span>
1001:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M002747">
                    
                    <a name="M002747"></a><b>assert_performance</b>(validation, &amp;work)
                    
                </div>
                
                <div class="description">
                  <p>
Runs the given <tt>work</tt>, gathering the times of each run. <a
href="../../Range.html">Range</a> and times are then passed to a given
<tt>validation</tt> proc. Outputs the benchmark name and times in
tab-separated format, making it easy to paste into a spreadsheet for
graphing or further analysis.
</p>
<p>
Ranges are specified by ::bench_range.
</p>
<p>
Eg:
</p>
<pre>
  def bench_algorithm
    validation = proc { |x, y| ... }
    assert_performance validation do |x|
      @obj.algorithm
    end
  end
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002747_source')" id="l_M002747_source">show</a>
                        
                    </p>
                    <div id="M002747_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/minitest/benchmark.rb, line 91</span>
 91:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_performance</span> <span class="ruby-identifier">validation</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">work</span>
 92:       <span class="ruby-identifier">range</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">bench_range</span>
 93: 
 94:       <span class="ruby-identifier">io</span>.<span class="ruby-identifier">print</span> <span class="ruby-node">&quot;#{__name__}&quot;</span>
 95: 
 96:       <span class="ruby-identifier">times</span> = []
 97: 
 98:       <span class="ruby-identifier">range</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
 99:         <span class="ruby-constant">GC</span>.<span class="ruby-identifier">start</span>
100:         <span class="ruby-identifier">t0</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
101:         <span class="ruby-identifier">instance_exec</span>(<span class="ruby-identifier">x</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">work</span>)
102:         <span class="ruby-identifier">t</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">t0</span>
103: 
104:         <span class="ruby-identifier">io</span>.<span class="ruby-identifier">print</span> <span class="ruby-value str">&quot;\t%9.6f&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">t</span>
105:         <span class="ruby-identifier">times</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">t</span>
106:       <span class="ruby-keyword kw">end</span>
107:       <span class="ruby-identifier">io</span>.<span class="ruby-identifier">puts</span>
108: 
109:       <span class="ruby-identifier">validation</span>[<span class="ruby-identifier">range</span>, <span class="ruby-identifier">times</span>]
110:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002748">
                    
                    <a name="M002748"></a><b>assert_performance_constant</b>(threshold = 0.99, &amp;work)
                    
                </div>
                
                <div class="description">
                  <p>
Runs the given <tt>work</tt> and asserts that the times gathered fit to
match a constant rate (eg, linear slope == 0) within a given
<tt>threshold</tt>. Note: because we&#8217;re testing for a slope of 0, R^2
is not a good determining factor for the fit, so the threshold is applied
against the slope itself. As such, you probably want to tighten it from the
default.
</p>
<p>
See <a
href="http://www.graphpad.com/curvefit/goodness_of_fit.htm">www.graphpad.com/curvefit/goodness_of_fit.htm</a>
for more details.
</p>
<p>
Fit is calculated by <a href="TestCase.html#M002759">fit_linear</a>.
</p>
<p>
Ranges are specified by ::bench_range.
</p>
<p>
Eg:
</p>
<pre>
  def bench_algorithm
    assert_performance_constant 0.9999 do |x|
      @obj.algorithm
    end
  end
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002748_source')" id="l_M002748_source">show</a>
                        
                    </p>
                    <div id="M002748_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/minitest/benchmark.rb, line 135</span>
135:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_performance_constant</span> <span class="ruby-identifier">threshold</span> = <span class="ruby-value">0</span><span class="ruby-value">.99</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">work</span>
136:       <span class="ruby-identifier">validation</span> = <span class="ruby-identifier">proc</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">range</span>, <span class="ruby-identifier">times</span><span class="ruby-operator">|</span>
137:         <span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>, <span class="ruby-identifier">rr</span> = <span class="ruby-identifier">fit_linear</span> <span class="ruby-identifier">range</span>, <span class="ruby-identifier">times</span>
138:         <span class="ruby-identifier">assert_in_delta</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">b</span>, <span class="ruby-value">1</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">threshold</span>
139:         [<span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>, <span class="ruby-identifier">rr</span>]
140:       <span class="ruby-keyword kw">end</span>
141: 
142:       <span class="ruby-identifier">assert_performance</span> <span class="ruby-identifier">validation</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">work</span>
143:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002751">
                    
                    <a name="M002751"></a><b>assert_performance_exponential</b>(threshold = 0.99, &amp;work)
                    
                </div>
                
                <div class="description">
                  <p>
Runs the given <tt>work</tt> and asserts that the times gathered fit to
match a exponential curve within a given error <tt>threshold</tt>.
</p>
<p>
Fit is calculated by <a href="TestCase.html#M002757">fit_exponential</a>.
</p>
<p>
Ranges are specified by ::bench_range.
</p>
<p>
Eg:
</p>
<pre>
  def bench_algorithm
    assert_performance_exponential 0.9999 do |x|
      @obj.algorithm
    end
  end
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002751_source')" id="l_M002751_source">show</a>
                        
                    </p>
                    <div id="M002751_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/minitest/benchmark.rb, line 161</span>
161:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_performance_exponential</span> <span class="ruby-identifier">threshold</span> = <span class="ruby-value">0</span><span class="ruby-value">.99</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">work</span>
162:       <span class="ruby-identifier">assert_performance</span> <span class="ruby-identifier">validation_for_fit</span>(<span class="ruby-identifier">:exponential</span>, <span class="ruby-identifier">threshold</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">work</span>
163:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002752">
                    
                    <a name="M002752"></a><b>assert_performance_linear</b>(threshold = 0.99, &amp;work)
                    
                </div>
                
                <div class="description">
                  <p>
Runs the given <tt>work</tt> and asserts that the times gathered fit to
match a straight line within a given error <tt>threshold</tt>.
</p>
<p>
Fit is calculated by <a href="TestCase.html#M002759">fit_linear</a>.
</p>
<p>
Ranges are specified by ::bench_range.
</p>
<p>
Eg:
</p>
<pre>
  def bench_algorithm
    assert_performance_linear 0.9999 do |x|
      @obj.algorithm
    end
  end
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002752_source')" id="l_M002752_source">show</a>
                        
                    </p>
                    <div id="M002752_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/minitest/benchmark.rb, line 181</span>
181:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_performance_linear</span> <span class="ruby-identifier">threshold</span> = <span class="ruby-value">0</span><span class="ruby-value">.99</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">work</span>
182:       <span class="ruby-identifier">assert_performance</span> <span class="ruby-identifier">validation_for_fit</span>(<span class="ruby-identifier">:linear</span>, <span class="ruby-identifier">threshold</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">work</span>
183:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002753">
                    
                    <a name="M002753"></a><b>assert_performance_power</b>(threshold = 0.99, &amp;work)
                    
                </div>
                
                <div class="description">
                  <p>
Runs the given <tt>work</tt> and asserts that the times gathered curve fit
to match a power curve within a given error <tt>threshold</tt>.
</p>
<p>
Fit is calculated by <a href="TestCase.html#M002764">fit_power</a>.
</p>
<p>
Ranges are specified by ::bench_range.
</p>
<p>
Eg:
</p>
<pre>
  def bench_algorithm
    assert_performance_power 0.9999 do |x|
      @obj.algorithm
    end
  end
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002753_source')" id="l_M002753_source">show</a>
                        
                    </p>
                    <div id="M002753_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/minitest/benchmark.rb, line 201</span>
201:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_performance_power</span> <span class="ruby-identifier">threshold</span> = <span class="ruby-value">0</span><span class="ruby-value">.99</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">work</span>
202:       <span class="ruby-identifier">assert_performance</span> <span class="ruby-identifier">validation_for_fit</span>(<span class="ruby-identifier">:power</span>, <span class="ruby-identifier">threshold</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">work</span>
203:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002756">
                    
                    <a name="M002756"></a><b>fit_error</b>(xys)
                    
                </div>
                
                <div class="description">
                  <p>
Takes an array of x/y pairs and calculates the general R^2 value.
</p>
<p>
See: <a
href="http://en.wikipedia.org/wiki/Coefficient_of_determination">en.wikipedia.org/wiki/Coefficient_of_determination</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002756_source')" id="l_M002756_source">show</a>
                        
                    </p>
                    <div id="M002756_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/minitest/benchmark.rb, line 210</span>
210:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fit_error</span> <span class="ruby-identifier">xys</span>
211:       <span class="ruby-identifier">y_bar</span>  = <span class="ruby-identifier">sigma</span>(<span class="ruby-identifier">xys</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span><span class="ruby-operator">|</span> <span class="ruby-identifier">y</span> } <span class="ruby-operator">/</span> <span class="ruby-identifier">xys</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">to_f</span>
212:       <span class="ruby-identifier">ss_tot</span> = <span class="ruby-identifier">sigma</span>(<span class="ruby-identifier">xys</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span><span class="ruby-operator">|</span> (<span class="ruby-identifier">y</span>    <span class="ruby-operator">-</span> <span class="ruby-identifier">y_bar</span>) <span class="ruby-operator">**</span> <span class="ruby-value">2</span> }
213:       <span class="ruby-identifier">ss_err</span> = <span class="ruby-identifier">sigma</span>(<span class="ruby-identifier">xys</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span><span class="ruby-operator">|</span> (<span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">x</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">y</span>) <span class="ruby-operator">**</span> <span class="ruby-value">2</span> }
214: 
215:       <span class="ruby-value">1</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">ss_err</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">ss_tot</span>)
216:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002757">
                    
                    <a name="M002757"></a><b>fit_exponential</b>(xs, ys)
                    
                </div>
                
                <div class="description">
                  <p>
To fit a functional form: y = ae^(bx).
</p>
<p>
Takes x and y values and returns [a, b, r^2].
</p>
<p>
See: <a
href="http://mathworld.wolfram.com/LeastSquaresFittingExponential.html">mathworld.wolfram.com/LeastSquaresFittingExponential.html</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002757_source')" id="l_M002757_source">show</a>
                        
                    </p>
                    <div id="M002757_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/minitest/benchmark.rb, line 225</span>
225:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fit_exponential</span> <span class="ruby-identifier">xs</span>, <span class="ruby-identifier">ys</span>
226:       <span class="ruby-identifier">n</span>     = <span class="ruby-identifier">xs</span>.<span class="ruby-identifier">size</span>
227:       <span class="ruby-identifier">xys</span>   = <span class="ruby-identifier">xs</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">ys</span>)
228:       <span class="ruby-identifier">sxlny</span> = <span class="ruby-identifier">sigma</span>(<span class="ruby-identifier">xys</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">*</span> <span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-identifier">y</span>) }
229:       <span class="ruby-identifier">slny</span>  = <span class="ruby-identifier">sigma</span>(<span class="ruby-identifier">xys</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span><span class="ruby-operator">|</span> <span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-identifier">y</span>)     }
230:       <span class="ruby-identifier">sx2</span>   = <span class="ruby-identifier">sigma</span>(<span class="ruby-identifier">xys</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">x</span>           }
231:       <span class="ruby-identifier">sx</span>    = <span class="ruby-identifier">sigma</span> <span class="ruby-identifier">xs</span>
232: 
233:       <span class="ruby-identifier">c</span> = <span class="ruby-identifier">n</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">sx2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">sx</span> <span class="ruby-operator">**</span> <span class="ruby-value">2</span>
234:       <span class="ruby-identifier">a</span> = (<span class="ruby-identifier">slny</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">sx2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">sx</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">sxlny</span>) <span class="ruby-operator">/</span> <span class="ruby-identifier">c</span>
235:       <span class="ruby-identifier">b</span> = ( <span class="ruby-identifier">n</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">sxlny</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">sx</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">slny</span> ) <span class="ruby-operator">/</span> <span class="ruby-identifier">c</span>
236: 
237:       <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Math</span>.<span class="ruby-identifier">exp</span>(<span class="ruby-identifier">a</span>), <span class="ruby-identifier">b</span>, <span class="ruby-identifier">fit_error</span>(<span class="ruby-identifier">xys</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-constant">Math</span>.<span class="ruby-identifier">exp</span>(<span class="ruby-identifier">a</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">b</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">x</span>) }
238:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002759">
                    
                    <a name="M002759"></a><b>fit_linear</b>(xs, ys)
                    
                </div>
                
                <div class="description">
                  <p>
Fits the functional form: a + bx.
</p>
<p>
Takes x and y values and returns [a, b, r^2].
</p>
<p>
See: <a
href="http://mathworld.wolfram.com/LeastSquaresFitting.html">mathworld.wolfram.com/LeastSquaresFitting.html</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002759_source')" id="l_M002759_source">show</a>
                        
                    </p>
                    <div id="M002759_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/minitest/benchmark.rb, line 247</span>
247:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fit_linear</span> <span class="ruby-identifier">xs</span>, <span class="ruby-identifier">ys</span>
248:       <span class="ruby-identifier">n</span>   = <span class="ruby-identifier">xs</span>.<span class="ruby-identifier">size</span>
249:       <span class="ruby-identifier">xys</span> = <span class="ruby-identifier">xs</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">ys</span>)
250:       <span class="ruby-identifier">sx</span>  = <span class="ruby-identifier">sigma</span> <span class="ruby-identifier">xs</span>
251:       <span class="ruby-identifier">sy</span>  = <span class="ruby-identifier">sigma</span> <span class="ruby-identifier">ys</span>
252:       <span class="ruby-identifier">sx2</span> = <span class="ruby-identifier">sigma</span>(<span class="ruby-identifier">xs</span>)  { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>   <span class="ruby-identifier">x</span> <span class="ruby-operator">**</span> <span class="ruby-value">2</span> }
253:       <span class="ruby-identifier">sxy</span> = <span class="ruby-identifier">sigma</span>(<span class="ruby-identifier">xys</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">y</span>  }
254: 
255:       <span class="ruby-identifier">c</span> = <span class="ruby-identifier">n</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">sx2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">sx</span><span class="ruby-operator">**</span><span class="ruby-value">2</span>
256:       <span class="ruby-identifier">a</span> = (<span class="ruby-identifier">sy</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">sx2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">sx</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">sxy</span>) <span class="ruby-operator">/</span> <span class="ruby-identifier">c</span>
257:       <span class="ruby-identifier">b</span> = ( <span class="ruby-identifier">n</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">sxy</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">sx</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">sy</span> ) <span class="ruby-operator">/</span> <span class="ruby-identifier">c</span>
258: 
259:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>, <span class="ruby-identifier">fit_error</span>(<span class="ruby-identifier">xys</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">b</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">x</span> }
260:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002764">
                    
                    <a name="M002764"></a><b>fit_power</b>(xs, ys)
                    
                </div>
                
                <div class="description">
                  <p>
To fit a functional form: y = ax^b.
</p>
<p>
Takes x and y values and returns [a, b, r^2].
</p>
<p>
See: <a
href="http://mathworld.wolfram.com/LeastSquaresFittingPowerLaw.html">mathworld.wolfram.com/LeastSquaresFittingPowerLaw.html</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002764_source')" id="l_M002764_source">show</a>
                        
                    </p>
                    <div id="M002764_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/minitest/benchmark.rb, line 269</span>
269:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fit_power</span> <span class="ruby-identifier">xs</span>, <span class="ruby-identifier">ys</span>
270:       <span class="ruby-identifier">n</span>       = <span class="ruby-identifier">xs</span>.<span class="ruby-identifier">size</span>
271:       <span class="ruby-identifier">xys</span>     = <span class="ruby-identifier">xs</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">ys</span>)
272:       <span class="ruby-identifier">slnxlny</span> = <span class="ruby-identifier">sigma</span>(<span class="ruby-identifier">xys</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span><span class="ruby-operator">|</span> <span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-identifier">x</span>) <span class="ruby-operator">*</span> <span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-identifier">y</span>) }
273:       <span class="ruby-identifier">slnx</span>    = <span class="ruby-identifier">sigma</span>(<span class="ruby-identifier">xs</span>)  { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span>   <span class="ruby-operator">|</span> <span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-identifier">x</span>)               }
274:       <span class="ruby-identifier">slny</span>    = <span class="ruby-identifier">sigma</span>(<span class="ruby-identifier">ys</span>)  { <span class="ruby-operator">|</span>   <span class="ruby-identifier">y</span><span class="ruby-operator">|</span> <span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-identifier">y</span>)               }
275:       <span class="ruby-identifier">slnx2</span>   = <span class="ruby-identifier">sigma</span>(<span class="ruby-identifier">xs</span>)  { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span>   <span class="ruby-operator">|</span> <span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-identifier">x</span>) <span class="ruby-operator">**</span> <span class="ruby-value">2</span>          }
276: 
277:       <span class="ruby-identifier">b</span> = (<span class="ruby-identifier">n</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">slnxlny</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">slnx</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">slny</span>) <span class="ruby-operator">/</span> (<span class="ruby-identifier">n</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">slnx2</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">slnx</span> <span class="ruby-operator">**</span> <span class="ruby-value">2</span>);
278:       <span class="ruby-identifier">a</span> = (<span class="ruby-identifier">slny</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">b</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">slnx</span>) <span class="ruby-operator">/</span> <span class="ruby-identifier">n</span>
279: 
280:       <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Math</span>.<span class="ruby-identifier">exp</span>(<span class="ruby-identifier">a</span>), <span class="ruby-identifier">b</span>, <span class="ruby-identifier">fit_error</span>(<span class="ruby-identifier">xys</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> (<span class="ruby-constant">Math</span>.<span class="ruby-identifier">exp</span>(<span class="ruby-identifier">a</span>) <span class="ruby-operator">*</span> (<span class="ruby-identifier">x</span> <span class="ruby-operator">**</span> <span class="ruby-identifier">b</span>)) }
281:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002958">
                    
                    <a name="M002958"></a><b>io</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002958_source')" id="l_M002958_source">show</a>
                        
                    </p>
                    <div id="M002958_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/minitest/unit.rb, line 977</span>
977:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">io</span>
978:         <span class="ruby-ivar">@__io__</span> = <span class="ruby-keyword kw">true</span>
979:         <span class="ruby-constant">MiniTest</span><span class="ruby-operator">::</span><span class="ruby-constant">Unit</span>.<span class="ruby-identifier">output</span>
980:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002959">
                    
                    <a name="M002959"></a><b>io?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002959_source')" id="l_M002959_source">show</a>
                        
                    </p>
                    <div id="M002959_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/minitest/unit.rb, line 982</span>
982:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">io?</span>
983:         <span class="ruby-ivar">@__io__</span>
984:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002966">
                    
                    <a name="M002966"></a><b>passed?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the test passed.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002966_source')" id="l_M002966_source">show</a>
                        
                    </p>
                    <div id="M002966_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/minitest/unit.rb, line 1034</span>
1034:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">passed?</span>
1035:         <span class="ruby-ivar">@passed</span>
1036:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002956">
                    
                    <a name="M002956"></a><b>run</b>(runner)
                    
                </div>
                
                <div class="description">
                  <p>
Runs the tests reporting the status to <tt>runner</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002956_source')" id="l_M002956_source">show</a>
                        
                    </p>
                    <div id="M002956_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/minitest/unit.rb, line 937</span>
937:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run</span> <span class="ruby-identifier">runner</span>
938:         <span class="ruby-identifier">trap</span> <span class="ruby-value str">&quot;INFO&quot;</span> <span class="ruby-keyword kw">do</span>
939:           <span class="ruby-identifier">time</span> = <span class="ruby-identifier">runner</span>.<span class="ruby-identifier">start_time</span> <span class="ruby-value">? </span><span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">runner</span>.<span class="ruby-identifier">start_time</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>
940:           <span class="ruby-identifier">warn</span> <span class="ruby-value str">&quot;%s#%s %.2fs&quot;</span> <span class="ruby-operator">%</span> [<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">__name__</span>, <span class="ruby-identifier">time</span>]
941:           <span class="ruby-identifier">runner</span>.<span class="ruby-identifier">status</span> <span class="ruby-identifier">$stderr</span>
942:         <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">SUPPORTS_INFO_SIGNAL</span>
943: 
944:         <span class="ruby-identifier">result</span> = <span class="ruby-value str">&quot;&quot;</span>
945:         <span class="ruby-keyword kw">begin</span>
946:           <span class="ruby-ivar">@passed</span> = <span class="ruby-keyword kw">nil</span>
947:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">setup</span>
948:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">run_setup_hooks</span>
949:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">__send__</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">__name__</span>
950:           <span class="ruby-identifier">result</span> = <span class="ruby-value str">&quot;.&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">io?</span>
951:           <span class="ruby-ivar">@passed</span> = <span class="ruby-keyword kw">true</span>
952:         <span class="ruby-keyword kw">rescue</span> <span class="ruby-operator">*</span><span class="ruby-constant">PASSTHROUGH_EXCEPTIONS</span>
953:           <span class="ruby-identifier">raise</span>
954:         <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
955:           <span class="ruby-ivar">@passed</span> = <span class="ruby-keyword kw">false</span>
956:           <span class="ruby-identifier">result</span> = <span class="ruby-identifier">runner</span>.<span class="ruby-identifier">puke</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">__name__</span>, <span class="ruby-identifier">e</span>
957:         <span class="ruby-keyword kw">ensure</span>
958:           <span class="ruby-keyword kw">begin</span>
959:             <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">run_teardown_hooks</span>
960:             <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">teardown</span>
961:           <span class="ruby-keyword kw">rescue</span> <span class="ruby-operator">*</span><span class="ruby-constant">PASSTHROUGH_EXCEPTIONS</span>
962:             <span class="ruby-identifier">raise</span>
963:           <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
964:             <span class="ruby-identifier">result</span> = <span class="ruby-identifier">runner</span>.<span class="ruby-identifier">puke</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">__name__</span>, <span class="ruby-identifier">e</span>
965:           <span class="ruby-keyword kw">end</span>
966:           <span class="ruby-identifier">trap</span> <span class="ruby-value str">'INFO'</span>, <span class="ruby-value str">'DEFAULT'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">SUPPORTS_INFO_SIGNAL</span>
967:         <span class="ruby-keyword kw">end</span>
968:         <span class="ruby-identifier">result</span>
969:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002967">
                    
                    <a name="M002967"></a><b>setup</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Runs before every test. Use this to refactor test initialization.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002967_source')" id="l_M002967_source">show</a>
                        
                    </p>
                    <div id="M002967_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/minitest/unit.rb, line 1041</span>
1041:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>; <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002774">
                    
                    <a name="M002774"></a><b>sigma</b>(enum, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Enumerates over <tt>enum</tt> mapping <tt>block</tt> if given, returning
the sum of the result. Eg:
</p>
<pre>
  sigma([1, 2, 3])                # =&gt; 1 + 2 + 3 =&gt; 7
  sigma([1, 2, 3]) { |n| n ** 2 } # =&gt; 1 + 4 + 9 =&gt; 14
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002774_source')" id="l_M002774_source">show</a>
                        
                    </p>
                    <div id="M002774_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/minitest/benchmark.rb, line 290</span>
290:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sigma</span> <span class="ruby-identifier">enum</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
291:       <span class="ruby-identifier">enum</span> = <span class="ruby-identifier">enum</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
292:       <span class="ruby-identifier">enum</span>.<span class="ruby-identifier">inject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>, <span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">n</span> }
293:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002968">
                    
                    <a name="M002968"></a><b>teardown</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Runs after every test. Use this to refactor test cleanup.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002968_source')" id="l_M002968_source">show</a>
                        
                    </p>
                    <div id="M002968_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/minitest/unit.rb, line 1046</span>
1046:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">teardown</span>; <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002780">
                    
                    <a name="M002780"></a><b>validation_for_fit</b>(msg, threshold)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a proc that calls the specified fit method and asserts that the
error is within a tolerable threshold.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002780_source')" id="l_M002780_source">show</a>
                        
                    </p>
                    <div id="M002780_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/minitest/benchmark.rb, line 299</span>
299:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">validation_for_fit</span> <span class="ruby-identifier">msg</span>, <span class="ruby-identifier">threshold</span>
300:       <span class="ruby-identifier">proc</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">range</span>, <span class="ruby-identifier">times</span><span class="ruby-operator">|</span>
301:         <span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>, <span class="ruby-identifier">rr</span> = <span class="ruby-identifier">send</span> <span class="ruby-node">&quot;fit_#{msg}&quot;</span>, <span class="ruby-identifier">range</span>, <span class="ruby-identifier">times</span>
302:         <span class="ruby-identifier">assert_operator</span> <span class="ruby-identifier">rr</span>, <span class="ruby-identifier">:&gt;=</span>, <span class="ruby-identifier">threshold</span>
303:         [<span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>, <span class="ruby-identifier">rr</span>]
304:       <span class="ruby-keyword kw">end</span>
305:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    