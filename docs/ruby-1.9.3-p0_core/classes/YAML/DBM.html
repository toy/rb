<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>YAML::DBM</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            YAML::DBM 
            
                <span class="parent">&lt; 
                    
                    ::DBM
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/yaml/dbm_rb.html">lib/yaml/dbm.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
<a href="../YAML.html">YAML</a> + <a href="DBM.html">DBM</a> = YDBM
</p>
<p>
<a href="DBM.html">YAML::DBM</a> provides the same interface as <a
href="../DBM.html">::DBM</a>.
</p>
<p>
However, while <a href="DBM.html">DBM</a> only allows strings for both keys
and values, this library allows one to use most Ruby objects for values by
first converting them to <a href="../YAML.html">YAML</a>. Keys must be
strings.
</p>
<p>
Conversion to and from <a href="../YAML.html">YAML</a> is performed
automatically.
</p>
<p>
See the documentation for <a href="../DBM.html">::DBM</a> and <a
href="../YAML.html">::YAML</a> for more information.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M008438">[]</a>,</li>
                
                <li><a href="#M008439">[]=</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M008448">delete</a>,</li>
                
                <li><a href="#M008449">delete_if</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M008472">each</a>,</li>
                
                <li><a href="#M008452">each_pair</a>,</li>
                
                <li><a href="#M008456">each_value</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M008443">fetch</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M008458">has_value?</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M008444">index</a>,</li>
                
                <li><a href="#M008462">invert</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M008451">reject</a>,</li>
                
                <li><a href="#M008464">replace</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M008467">select</a>,</li>
                
                <li><a href="#M008465">shift</a>,</li>
                
                <li><a href="#M008468">store</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M008470">to_a</a>,</li>
                
                <li><a href="#M008471">to_hash</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M008469">update</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M008457">values</a>,</li>
                
                <li><a href="#M008447">values_at</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">VERSION</td>
            <td>=</td>
            <td class="attr-value">&quot;0.1&quot;</td>
        </tr>
        
        
    </table>
    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M008438">
                    
                    <a name="M008438"></a><b>[]</b>( key )
                    
                </div>
                
                <div class="description">
                  <p>
Return value associated with <tt>key</tt> from database.
</p>
<p>
Returns <tt>nil</tt> if there is no such <tt>key</tt>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008438_source')" id="l_M008438_source">show</a>
                        
                    </p>
                    <div id="M008438_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 23</span>
23:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>( <span class="ruby-identifier">key</span> )
24:         <span class="ruby-identifier">fetch</span>( <span class="ruby-identifier">key</span> )
25:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008439">
                    
                    <a name="M008439"></a><b>[]=( key, value )
</b>
                    
                </div>
                
                <div class="description">
                  <p>
<a href="../Set.html">Set</a> <tt>key</tt> to <tt>value</tt> in database.
</p>
<p>
<tt>value</tt> will be converted to <a href="../YAML.html">YAML</a> before
storage.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008439_source')" id="l_M008439_source">show</a>
                        
                    </p>
                    <div id="M008439_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 33</span>
33:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]=</span>( <span class="ruby-identifier">key</span>, <span class="ruby-identifier">val</span> )
34:         <span class="ruby-identifier">store</span>( <span class="ruby-identifier">key</span>, <span class="ruby-identifier">val</span> )
35:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008448">
                    
                    <a name="M008448"></a><b>delete</b>( key )
                    
                </div>
                
                <div class="description">
                  <p>
Deletes value from database associated with <tt>key</tt>.
</p>
<p>
Returns value or <tt>nil</tt>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008448_source')" id="l_M008448_source">show</a>
                        
                    </p>
                    <div id="M008448_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 72</span>
72:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete</span>( <span class="ruby-identifier">key</span> )
73:         <span class="ruby-identifier">v</span> = <span class="ruby-keyword kw">super</span>( <span class="ruby-identifier">key</span> )
74:         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">v</span>
75:             <span class="ruby-identifier">v</span> = <span class="ruby-constant">YAML</span>.<span class="ruby-identifier">load</span>( <span class="ruby-identifier">v</span> )
76:         <span class="ruby-keyword kw">end</span>
77:         <span class="ruby-identifier">v</span>
78:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008449">
                    
                    <a name="M008449"></a><b>delete_if</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Calls the given block once for each <tt>key</tt>, <tt>value</tt> pair in
the database. Deletes all entries for which the block returns true.
</p>
<p>
Returns <tt>self</tt>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008449_source')" id="l_M008449_source">show</a>
                        
                    </p>
                    <div id="M008449_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 84</span>
84:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_if</span> <span class="ruby-comment cmt"># :yields: [key, value]</span>
85:         <span class="ruby-identifier">del_keys</span> = <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">dup</span>
86:         <span class="ruby-identifier">del_keys</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span>( <span class="ruby-identifier">k</span>, <span class="ruby-identifier">fetch</span>( <span class="ruby-identifier">k</span> ) ) <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span> }
87:         <span class="ruby-identifier">del_keys</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">delete</span>( <span class="ruby-identifier">k</span> ) }
88:         <span class="ruby-keyword kw">self</span>
89:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008472">
                    
                    <a name="M008472"></a><b>each</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="DBM.html#M008452">each_pair</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M008452">
                    
                    <a name="M008452"></a><b>each_pair</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Calls the given block once for each <tt>key</tt>, <tt>value</tt> pair in
the database.
</p>
<p>
Returns <tt>self</tt>.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="DBM.html#M008472">each</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008452_source')" id="l_M008452_source">show</a>
                        
                    </p>
                    <div id="M008452_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 101</span>
101:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_pair</span> <span class="ruby-comment cmt"># :yields: [key, value]</span>
102:         <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">k</span>, <span class="ruby-identifier">fetch</span>( <span class="ruby-identifier">k</span> ) }
103:         <span class="ruby-keyword kw">self</span>
104:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008456">
                    
                    <a name="M008456"></a><b>each_value</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Calls the given block for each value in database.
</p>
<p>
Returns <tt>self</tt>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008456_source')" id="l_M008456_source">show</a>
                        
                    </p>
                    <div id="M008456_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 109</span>
109:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_value</span> <span class="ruby-comment cmt"># :yields: value</span>
110:         <span class="ruby-keyword kw">super</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span> <span class="ruby-constant">YAML</span>.<span class="ruby-identifier">load</span>( <span class="ruby-identifier">v</span> ) }
111:         <span class="ruby-keyword kw">self</span>
112:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008443">
                    
                    <a name="M008443"></a><b>fetch( key, ifnone = nil )
fetch( key, &block )
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Return value associated with <tt>key</tt>.
</p>
<p>
If there is no value for <tt>key</tt> and no block is given, returns
<tt>ifnone</tt>.
</p>
<p>
Otherwise, calls block passing in the given <tt>key</tt>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008443_source')" id="l_M008443_source">show</a>
                        
                    </p>
                    <div id="M008443_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 46</span>
46:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fetch</span>( <span class="ruby-identifier">keystr</span>, <span class="ruby-identifier">ifnone</span> = <span class="ruby-keyword kw">nil</span> )
47:         <span class="ruby-keyword kw">begin</span>
48:             <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">super</span>( <span class="ruby-identifier">keystr</span> )
49:             <span class="ruby-keyword kw">return</span> <span class="ruby-constant">YAML</span>.<span class="ruby-identifier">load</span>( <span class="ruby-identifier">val</span> ) <span class="ruby-keyword kw">if</span> <span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">val</span>
50:         <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">IndexError</span>
51:         <span class="ruby-keyword kw">end</span>
52:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
53:             <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">keystr</span>
54:         <span class="ruby-keyword kw">else</span>
55:             <span class="ruby-identifier">ifnone</span>
56:         <span class="ruby-keyword kw">end</span>
57:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008458">
                    
                    <a name="M008458"></a><b>has_value?</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if specified value is found in the database.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008458_source')" id="l_M008458_source">show</a>
                        
                    </p>
                    <div id="M008458_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 120</span>
120:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_value?</span>( <span class="ruby-identifier">val</span> )
121:         <span class="ruby-identifier">each_value</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">val</span> }
122:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span>
123:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008444">
                    
                    <a name="M008444"></a><b>index</b>( keystr )
                    
                </div>
                
                <div class="description">
                  <p>
Deprecated, used YAML::DBM#key instead.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008444_source')" id="l_M008444_source">show</a>
                        
                    </p>
                    <div id="M008444_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 60</span>
60:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">index</span>( <span class="ruby-identifier">keystr</span> )
61:         <span class="ruby-keyword kw">super</span>( <span class="ruby-identifier">keystr</span>.<span class="ruby-identifier">to_yaml</span> )
62:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008462">
                    
                    <a name="M008462"></a><b>invert</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a <a href="../Hash.html">Hash</a> (not a <a href="DBM.html">DBM</a>
database) created by using each value in the database as a key, with the
corresponding key as its value.
</p>
<p>
Note that all values in the hash will be Strings, but the keys will be
actual objects.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008462_source')" id="l_M008462_source">show</a>
                        
                    </p>
                    <div id="M008462_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 130</span>
130:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">invert</span>
131:         <span class="ruby-identifier">h</span> = {}
132:         <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[ <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">fetch</span>( <span class="ruby-identifier">k</span> ) ] = <span class="ruby-identifier">k</span> }
133:         <span class="ruby-identifier">h</span>
134:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008451">
                    
                    <a name="M008451"></a><b>reject</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Converts the contents of the database to an in-memory <a
href="../Hash.html">Hash</a>, then calls <a
href="../Hash.html#M000520">Hash#reject</a> with the specified code block,
returning a new <a href="../Hash.html">Hash</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008451_source')" id="l_M008451_source">show</a>
                        
                    </p>
                    <div id="M008451_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 93</span>
93:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reject</span>
94:         <span class="ruby-identifier">hsh</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">to_hash</span>
95:         <span class="ruby-identifier">hsh</span>.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span> }
96:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008464">
                    
                    <a name="M008464"></a><b>replace</b>( hsh )
                    
                </div>
                
                <div class="description">
                  <p>
Replaces the contents of the database with the contents of the specified
object. Takes any object which implements the <a
href="DBM.html#M008452">each_pair</a> method, including <a
href="../Hash.html">Hash</a> and <a href="DBM.html">DBM</a> objects.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008464_source')" id="l_M008464_source">show</a>
                        
                    </p>
                    <div id="M008464_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 139</span>
139:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">replace</span>( <span class="ruby-identifier">hsh</span> )
140:         <span class="ruby-identifier">clear</span>
141:         <span class="ruby-identifier">update</span>( <span class="ruby-identifier">hsh</span> )
142:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008467">
                    
                    <a name="M008467"></a><b>select( &block )
select( *keys )
</b>
                    
                </div>
                
                <div class="description">
                  <p>
If a block is provided, returns a new array containing [key, value] pairs
for which the block returns true.
</p>
<p>
Otherwise, same as <a href="DBM.html#M008447">values_at</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008467_source')" id="l_M008467_source">show</a>
                        
                    </p>
                    <div id="M008467_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 162</span>
162:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">select</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">keys</span> )
163:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
164:             <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span> = <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">k</span>]; [<span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span> }.<span class="ruby-identifier">compact</span>
165:         <span class="ruby-keyword kw">else</span>
166:             <span class="ruby-identifier">values_at</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">keys</span> )
167:         <span class="ruby-keyword kw">end</span>
168:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008465">
                    
                    <a name="M008465"></a><b>shift</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Removes a [key, value] pair from the database, and returns it. If the
database is empty, returns <tt>nil</tt>.
</p>
<p>
The order in which values are removed/returned is not guaranteed.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008465_source')" id="l_M008465_source">show</a>
                        
                    </p>
                    <div id="M008465_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 148</span>
148:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">shift</span>
149:         <span class="ruby-identifier">a</span> = <span class="ruby-keyword kw">super</span>
150:         <span class="ruby-identifier">a</span>[<span class="ruby-value">1</span>] = <span class="ruby-constant">YAML</span>.<span class="ruby-identifier">load</span>( <span class="ruby-identifier">a</span>[<span class="ruby-value">1</span>] ) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">a</span>
151:         <span class="ruby-identifier">a</span>
152:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008468">
                    
                    <a name="M008468"></a><b>store( key, value )
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Stores <tt>value</tt> in database with <tt>key</tt> as the index.
<tt>value</tt> is converted to <a href="../YAML.html">YAML</a> before being
stored.
</p>
<p>
Returns <tt>value</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008468_source')" id="l_M008468_source">show</a>
                        
                    </p>
                    <div id="M008468_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 177</span>
177:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">store</span>( <span class="ruby-identifier">key</span>, <span class="ruby-identifier">val</span> )
178:         <span class="ruby-keyword kw">super</span>( <span class="ruby-identifier">key</span>, <span class="ruby-identifier">val</span>.<span class="ruby-identifier">to_yaml</span> )
179:         <span class="ruby-identifier">val</span>
180:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008470">
                    
                    <a name="M008470"></a><b>to_a</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Converts the contents of the database to an array of [key, value] arrays,
and returns it.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008470_source')" id="l_M008470_source">show</a>
                        
                    </p>
                    <div id="M008470_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 196</span>
196:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_a</span>
197:         <span class="ruby-identifier">a</span> = []
198:         <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">push</span> [ <span class="ruby-identifier">k</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">fetch</span>( <span class="ruby-identifier">k</span> ) ] }
199:         <span class="ruby-identifier">a</span>
200:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008471">
                    
                    <a name="M008471"></a><b>to_hash</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Converts the contents of the database to an in-memory <a
href="../Hash.html">Hash</a> object, and returns it.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008471_source')" id="l_M008471_source">show</a>
                        
                    </p>
                    <div id="M008471_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 205</span>
205:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_hash</span>
206:         <span class="ruby-identifier">h</span> = {}
207:         <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[ <span class="ruby-identifier">k</span> ] = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">fetch</span>( <span class="ruby-identifier">k</span> ) }
208:         <span class="ruby-identifier">h</span>
209:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008469">
                    
                    <a name="M008469"></a><b>update</b>( hsh )
                    
                </div>
                
                <div class="description">
                  <p>
Updates the database with multiple values from the specified object. Takes
any object which implements the <a href="DBM.html#M008452">each_pair</a>
method, including <a href="../Hash.html">Hash</a> and <a
href="DBM.html">DBM</a> objects.
</p>
<p>
Returns <tt>self</tt>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008469_source')" id="l_M008469_source">show</a>
                        
                    </p>
                    <div id="M008469_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 187</span>
187:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update</span>( <span class="ruby-identifier">hsh</span> )
188:         <span class="ruby-identifier">hsh</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span>
189:             <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">store</span>( <span class="ruby-identifier">k</span>, <span class="ruby-identifier">hsh</span>.<span class="ruby-identifier">fetch</span>( <span class="ruby-identifier">k</span> ) )
190:         <span class="ruby-keyword kw">end</span>
191:         <span class="ruby-keyword kw">self</span>
192:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008457">
                    
                    <a name="M008457"></a><b>values</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns an array of values from the database.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008457_source')" id="l_M008457_source">show</a>
                        
                    </p>
                    <div id="M008457_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 115</span>
115:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">values</span>
116:         <span class="ruby-keyword kw">super</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-constant">YAML</span>.<span class="ruby-identifier">load</span>( <span class="ruby-identifier">v</span> ) }
117:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008447">
                    
                    <a name="M008447"></a><b>values_at</b>( *keys )
                    
                </div>
                
                <div class="description">
                  <p>
Returns an array containing the values associated with the given keys.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008447_source')" id="l_M008447_source">show</a>
                        
                    </p>
                    <div id="M008447_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/yaml/dbm.rb, line 65</span>
65:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">values_at</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">keys</span> )
66:         <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">fetch</span>( <span class="ruby-identifier">k</span> ) }
67:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    