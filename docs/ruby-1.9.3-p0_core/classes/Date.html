<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Date</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Date 
            
                <span class="parent">&lt; 
                    
                    <a href="Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/ext/date/date_core_c.html">ext/date/date_core.c</a></li>
            
            <li><a href="../files/ext/json/lib/json/add/core_rb.html">ext/json/lib/json/add/core.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
<a href="Date.html">Date</a> serialization/deserialization
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M008637">+</a>,</li>
                
                <li><a href="#M008638">-</a>,</li>
                
                <li><a href="#M008645"><<</a>,</li>
                
                <li><a href="#M008663"><=></a>,</li>
                
                <li><a href="#M008664">===</a>,</li>
                
                <li><a href="#M008644">>></a>,</li>
                
                <li><a href="#M008587">_httpdate</a>,</li>
                
                <li><a href="#M008577">_iso8601</a>,</li>
                
                <li><a href="#M008589">_jisx0301</a>,</li>
                
                <li><a href="#M008575">_parse</a>,</li>
                
                <li><a href="#M008583">_rfc2822</a>,</li>
                
                <li><a href="#M008579">_rfc3339</a>,</li>
                
                <li><a href="#M008584">_rfc822</a>,</li>
                
                <li><a href="#M008573">_strptime</a>,</li>
                
                <li><a href="#M008581">_xmlschema</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M008592">ajd</a>,</li>
                
                <li><a href="#M008593">amjd</a>,</li>
                
                <li><a href="#M009200">as_json</a>,</li>
                
                <li><a href="#M008687">asctime</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M008569">civil</a>,</li>
                
                <li><a href="#M008571">commercial</a>,</li>
                
                <li><a href="#M008701">ctime</a>,</li>
                
                <li><a href="#M008606">cwday</a>,</li>
                
                <li><a href="#M008605">cweek</a>,</li>
                
                <li><a href="#M008604">cwyear</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M008602">day</a>,</li>
                
                <li><a href="#M008603">day_fraction</a>,</li>
                
                <li><a href="#M008662">downto</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M008632">england</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M008613">friday?</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M008635">gregorian</a>,</li>
                
                <li><a href="#M008626">gregorian?</a>,</li>
                
                <li><a href="#M008565">gregorian_leap?</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M008615">hour</a>,</li>
                
                <li><a href="#M008717">httpdate</a>,</li>
                
                <li><a href="#M008588">httpdate</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M008685">inspect</a>,</li>
                
                <li><a href="#M008702">iso8601</a>,</li>
                
                <li><a href="#M008578">iso8601</a>,</li>
                
                <li><a href="#M008631">italy</a></li>
                
            </ul>
        </dd>
    
        <dt>J</dt>
        <dd>
            <ul>
                
                <li><a href="#M008594">jd</a>,</li>
                
                <li><a href="#M008567">jd</a>,</li>
                
                <li><a href="#M008718">jisx0301</a>,</li>
                
                <li><a href="#M008590">jisx0301</a>,</li>
                
                <li><a href="#M009199">json_create</a>,</li>
                
                <li><a href="#M008633">julian</a>,</li>
                
                <li><a href="#M008624">julian?</a>,</li>
                
                <li><a href="#M008564">julian_leap?</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M008596">ld</a>,</li>
                
                <li><a href="#M008566">leap?</a>,</li>
                
                <li><a href="#M008627">leap?</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M008601">mday</a>,</li>
                
                <li><a href="#M008616">min</a>,</li>
                
                <li><a href="#M008617">minute</a>,</li>
                
                <li><a href="#M008595">mjd</a>,</li>
                
                <li><a href="#M008599">mon</a>,</li>
                
                <li><a href="#M008609">monday?</a>,</li>
                
                <li><a href="#M008600">month</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M008570">new</a>,</li>
                
                <li><a href="#M008636">new_offset</a>,</li>
                
                <li><a href="#M008629">new_start</a>,</li>
                
                <li><a href="#M008642">next</a>,</li>
                
                <li><a href="#M008639">next_day</a>,</li>
                
                <li><a href="#M008648">next_month</a>,</li>
                
                <li><a href="#M008650">next_year</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M008622">offset</a>,</li>
                
                <li><a href="#M008568">ordinal</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M008576">parse</a>,</li>
                
                <li><a href="#M008641">prev_day</a>,</li>
                
                <li><a href="#M008649">prev_month</a>,</li>
                
                <li><a href="#M008651">prev_year</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M008585">rfc2822</a>,</li>
                
                <li><a href="#M008715">rfc2822</a>,</li>
                
                <li><a href="#M008580">rfc3339</a>,</li>
                
                <li><a href="#M008704">rfc3339</a>,</li>
                
                <li><a href="#M008716">rfc822</a>,</li>
                
                <li><a href="#M008586">rfc822</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M008614">saturday?</a>,</li>
                
                <li><a href="#M008618">sec</a>,</li>
                
                <li><a href="#M008620">sec_fraction</a>,</li>
                
                <li><a href="#M008619">second</a>,</li>
                
                <li><a href="#M008621">second_fraction</a>,</li>
                
                <li><a href="#M008628">start</a>,</li>
                
                <li><a href="#M008652">step</a>,</li>
                
                <li><a href="#M008686">strftime</a>,</li>
                
                <li><a href="#M008574">strptime</a>,</li>
                
                <li><a href="#M008643">succ</a>,</li>
                
                <li><a href="#M008608">sunday?</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M008612">thursday?</a>,</li>
                
                <li><a href="#M008801">to_date</a>,</li>
                
                <li><a href="#M008802">to_datetime</a>,</li>
                
                <li><a href="#M009201">to_json</a>,</li>
                
                <li><a href="#M008684">to_s</a>,</li>
                
                <li><a href="#M008800">to_time</a>,</li>
                
                <li><a href="#M008572">today</a>,</li>
                
                <li><a href="#M008610">tuesday?</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M008661">upto</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M008561">valid_civil?</a>,</li>
                
                <li><a href="#M008563">valid_commercial?</a>,</li>
                
                <li><a href="#M008562">valid_date?</a>,</li>
                
                <li><a href="#M008559">valid_jd?</a>,</li>
                
                <li><a href="#M008560">valid_ordinal?</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M008607">wday</a>,</li>
                
                <li><a href="#M008611">wednesday?</a></li>
                
            </ul>
        </dd>
    
        <dt>X</dt>
        <dd>
            <ul>
                
                <li><a href="#M008582">xmlschema</a>,</li>
                
                <li><a href="#M008703">xmlschema</a></li>
                
            </ul>
        </dd>
    
        <dt>Y</dt>
        <dd>
            <ul>
                
                <li><a href="#M008598">yday</a>,</li>
                
                <li><a href="#M008597">year</a></li>
                
            </ul>
        </dd>
    
        <dt>Z</dt>
        <dd>
            <ul>
                
                <li><a href="#M008623">zone</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="JSON.html">JSON</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">MONTHNAMES</td>
            <td>=</td>
            <td class="attr-value">mk_ary_of_str(13, monthnames)</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
An array of stirng of full month name in English. The first element is nil.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">ABBR_MONTHNAMES</td>
            <td>=</td>
            <td class="attr-value">mk_ary_of_str(13, abbr_monthnames)</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
An array of string of abbreviated month name in English. The first element
is nil.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">DAYNAMES</td>
            <td>=</td>
            <td class="attr-value">mk_ary_of_str(7, daynames)</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
An array of string of full name of days of the week in English. The first
is &#8220;Sunday&#8221;.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">ABBR_DAYNAMES</td>
            <td>=</td>
            <td class="attr-value">mk_ary_of_str(7, abbr_daynames)</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
An array of string of abbreviated day name in English. The first is
&#8220;Sun&#8221;.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">ITALY</td>
            <td>=</td>
            <td class="attr-value">INT2FIX(ITALY)</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
The Julian day number of the day of calendar reform for Italy and some
catholic countries.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">ENGLAND</td>
            <td>=</td>
            <td class="attr-value">INT2FIX(ENGLAND)</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
The Julian day number of the day of calendar reform for England and her
colonies.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">JULIAN</td>
            <td>=</td>
            <td class="attr-value">DBL2NUM(JULIAN)</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
The Julian day number of the day of calendar reform for the proleptic
Julian calendar
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">GREGORIAN</td>
            <td>=</td>
            <td class="attr-value">DBL2NUM(GREGORIAN)</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
The Julian day number of the day of calendar reform for the proleptic
Gregorian calendar
</p>
</td>
        </tr>
        
        
    </table>
    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M008587">
                    
                    <a name="M008587"></a><b>Date._httpdate(string)  &rarr;  hash
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a hash of parsed elements.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008587_source')" id="l_M008587_source">show</a>
                        
                    </p>
                    <div id="M008587_source" class="dyn-source">
                        <pre>static VALUE
date_s__httpdate(VALUE klass, VALUE str)
{
    return date__httpdate(str);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008577">
                    
                    <a name="M008577"></a><b>Date._iso8601(string)  &rarr;  hash
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a hash of parsed elements.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008577_source')" id="l_M008577_source">show</a>
                        
                    </p>
                    <div id="M008577_source" class="dyn-source">
                        <pre>static VALUE
date_s__iso8601(VALUE klass, VALUE str)
{
    return date__iso8601(str);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008589">
                    
                    <a name="M008589"></a><b>Date._jisx0301(string)  &rarr;  hash
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a hash of parsed elements.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008589_source')" id="l_M008589_source">show</a>
                        
                    </p>
                    <div id="M008589_source" class="dyn-source">
                        <pre>static VALUE
date_s__jisx0301(VALUE klass, VALUE str)
{
    return date__jisx0301(str);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008575">
                    
                    <a name="M008575"></a><b>Date._parse(string[, comp=true])  &rarr;  hash
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Parses the given representation of date and time, and returns a hash of
parsed elements.
</p>
<p>
If the optional second argument is true and the detected year is in the
range &#8220;00&#8221; to &#8220;99&#8221;, considers the year a 2-digit
form and makes it full.
</p>
<p>
For example:
</p>
<pre>
   Date._parse('2001-02-03') #=&gt; {:year=&gt;2001, :mon=&gt;2, :mday=&gt;3}
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008575_source')" id="l_M008575_source">show</a>
                        
                    </p>
                    <div id="M008575_source" class="dyn-source">
                        <pre>static VALUE
date_s__parse(int argc, VALUE *argv, VALUE klass)
{
    return date_s__parse_internal(argc, argv, klass);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008583">
                    
                    <a name="M008583"></a><b>Date._rfc2822(string)  &rarr;  hash
Date._rfc822(string)   &rarr;  hash
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a hash of parsed elements.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008583_source')" id="l_M008583_source">show</a>
                        
                    </p>
                    <div id="M008583_source" class="dyn-source">
                        <pre>static VALUE
date_s__rfc2822(VALUE klass, VALUE str)
{
    return date__rfc2822(str);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008579">
                    
                    <a name="M008579"></a><b>Date._rfc3339(string)  &rarr;  hash
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a hash of parsed elements.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008579_source')" id="l_M008579_source">show</a>
                        
                    </p>
                    <div id="M008579_source" class="dyn-source">
                        <pre>static VALUE
date_s__rfc3339(VALUE klass, VALUE str)
{
    return date__rfc3339(str);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008584">
                    
                    <a name="M008584"></a><b>Date._rfc2822(string)  &rarr;  hash
Date._rfc822(string)   &rarr;  hash
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a hash of parsed elements.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008584_source')" id="l_M008584_source">show</a>
                        
                    </p>
                    <div id="M008584_source" class="dyn-source">
                        <pre>static VALUE
date_s__rfc2822(VALUE klass, VALUE str)
{
    return date__rfc2822(str);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008573">
                    
                    <a name="M008573"></a><b>Date._strptime(string[, format='%F'])  &rarr;  hash
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Parses the given representation of date and time with the given template,
and returns a hash of parsed elements.
</p>
<p>
For example:
</p>
<pre>
   Date._strptime('2001-02-03', '%Y-%m-%d')
       #=&gt; {:year=&gt;2001, :mon=&gt;2, :mday=&gt;3}

 See also strptime(3) and strftime.
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008573_source')" id="l_M008573_source">show</a>
                        
                    </p>
                    <div id="M008573_source" class="dyn-source">
                        <pre>static VALUE
date_s__strptime(int argc, VALUE *argv, VALUE klass)
{
    return date_s__strptime_internal(argc, argv, klass, &quot;%F&quot;);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008581">
                    
                    <a name="M008581"></a><b>Date._xmlschema(string)  &rarr;  hash
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a hash of parsed elements.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008581_source')" id="l_M008581_source">show</a>
                        
                    </p>
                    <div id="M008581_source" class="dyn-source">
                        <pre>static VALUE
date_s__xmlschema(VALUE klass, VALUE str)
{
    return date__xmlschema(str);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008569">
                    
                    <a name="M008569"></a><b>Date.civil([year=-4712[, month=1[, mday=1[, start=Date::ITALY]]]])  &rarr;  date
Date.new([year=-4712[, month=1[, mday=1[, start=Date::ITALY]]]])    &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a date object denoting the given calendar date.
</p>
<p>
In this class, BCE years are counted astronomically. Thus, the year before
the year 1 is the year zero, and the year preceding the year zero is the
year -1. The month and the day of month should be a negative or a positive
number (as a relative month/day from the end of year/month when negative).
They should not be zero.
</p>
<p>
The last argument should be a Julian day number which denotes the day of
calendar reform. Date::ITALY (2299161=1582-10-15), Date::ENGLAND
(2361222=1752-09-14), Date::GREGORIAN (the proleptic Gregorian calendar)
and Date::JULIAN (the proleptic Julian calendar) can be specified as a day
of calendar reform.
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001)    #=&gt; #&lt;Date: 2001-01-01 ...&gt;
   Date.new(2001,2,3)  #=&gt; #&lt;Date: 2001-02-03 ...&gt;
   Date.new(2001,2,-1) #=&gt; #&lt;Date: 2001-02-28 ...&gt;
</pre>
<p>
See also jd.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008569_source')" id="l_M008569_source">show</a>
                        
                    </p>
                    <div id="M008569_source" class="dyn-source">
                        <pre>static VALUE
date_s_civil(int argc, VALUE *argv, VALUE klass)
{
    VALUE vy, vm, vd, vsg, y, fr, fr2, ret;
    int m, d;
    double sg;

    rb_scan_args(argc, argv, &quot;04&quot;, &amp;vy, &amp;vm, &amp;vd, &amp;vsg);

    y = INT2FIX(-4712);
    m = 1;
    d = 1;
    fr2 = INT2FIX(0);
    sg = DEFAULT_SG;

    switch (argc) {
      case 4:
  val2sg(vsg, sg);
      case 3:
  num2int_with_frac(d, positive_inf);
      case 2:
  m = NUM2INT(vm);
      case 1:
  y = vy;
    }

    if (guess_style(y, sg) &lt; 0) {
  VALUE nth;
  int ry, rm, rd;

  if (!valid_gregorian_p(y, m, d,
             &amp;nth, &amp;ry,
             &amp;rm, &amp;rd))
      rb_raise(rb_eArgError, &quot;invalid date&quot;);

  ret = d_simple_new_internal(klass,
            nth, 0,
            sg,
            ry, rm, rd,
            HAVE_CIVIL);
    }
    else {
  VALUE nth;
  int ry, rm, rd, rjd, ns;

  if (!valid_civil_p(y, m, d, sg,
         &amp;nth, &amp;ry,
         &amp;rm, &amp;rd, &amp;rjd,
         &amp;ns))
      rb_raise(rb_eArgError, &quot;invalid date&quot;);

  ret = d_simple_new_internal(klass,
            nth, rjd,
            sg,
            ry, rm, rd,
            HAVE_JD | HAVE_CIVIL);
    }
    add_frac();
    return ret;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008571">
                    
                    <a name="M008571"></a><b>Date.commercial([cwyear=-4712[, cweek=1[, cwday=1[, start=Date::ITALY]]]])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a date object denoting the given week date.
</p>
<p>
The week and the day of week should be a negative or a positive number (as
a relative week/day from the end of year/week when negative). They should
not be zero.
</p>
<p>
For example:
</p>
<pre>
   Date.commercial(2001) #=&gt; #&lt;Date: 2001-01-01 ...&gt;
   Date.commercial(2002) #=&gt; #&lt;Date: 2001-12-31 ...&gt;
   Date.commercial(2001,5,6) #=&gt; #&lt;Date: 2001-02-03 ...&gt;
</pre>
<p>
See also jd and new.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008571_source')" id="l_M008571_source">show</a>
                        
                    </p>
                    <div id="M008571_source" class="dyn-source">
                        <pre>static VALUE
date_s_commercial(int argc, VALUE *argv, VALUE klass)
{
    VALUE vy, vw, vd, vsg, y, fr, fr2, ret;
    int w, d;
    double sg;

    rb_scan_args(argc, argv, &quot;04&quot;, &amp;vy, &amp;vw, &amp;vd, &amp;vsg);

    y = INT2FIX(-4712);
    w = 1;
    d = 1;
    fr2 = INT2FIX(0);
    sg = DEFAULT_SG;

    switch (argc) {
      case 4:
  val2sg(vsg, sg);
      case 3:
  num2int_with_frac(d, positive_inf);
      case 2:
  w = NUM2INT(vw);
      case 1:
  y = vy;
    }

    {
  VALUE nth;
  int ry, rw, rd, rjd, ns;

  if (!valid_commercial_p(y, w, d, sg,
        &amp;nth, &amp;ry,
        &amp;rw, &amp;rd, &amp;rjd,
        &amp;ns))
      rb_raise(rb_eArgError, &quot;invalid date&quot;);

  ret = d_simple_new_internal(klass,
            nth, rjd,
            sg,
            0, 0, 0,
            HAVE_JD);
    }
    add_frac();
    return ret;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008565">
                    
                    <a name="M008565"></a><b>Date.gregorian_leap?(year)  &rarr;  bool
Date.leap?(year)            &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the given year is a leap year of the proleptic Gregorian
calendar.
</p>
<p>
For example:
</p>
<pre>
   Date.gregorian_leap?(1900)  #=&gt; false
   Date.gregorian_leap?(2000)  #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008565_source')" id="l_M008565_source">show</a>
                        
                    </p>
                    <div id="M008565_source" class="dyn-source">
                        <pre>static VALUE
date_s_gregorian_leap_p(VALUE klass, VALUE y)
{
    VALUE nth;
    int ry;

    decode_year(y, -1, &amp;nth, &amp;ry);
    return f_boolcast(c_gregorian_leap_p(ry));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008588">
                    
                    <a name="M008588"></a><b>Date.httpdate(string='Mon, 01 Jan -4712 00:00:00 GMT'[, start=ITALY])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new <a href="Date.html">Date</a> object by parsing from a string
according to some RFC 2616 format.
</p>
<p>
For example:
</p>
<pre>
   Date.httpdate('Sat, 03 Feb 2001 00:00:00 GMT')
           #=&gt; #&lt;Date: 2001-02-03 ...&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008588_source')" id="l_M008588_source">show</a>
                        
                    </p>
                    <div id="M008588_source" class="dyn-source">
                        <pre>static VALUE
date_s_httpdate(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg;

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;str, &amp;sg);

    switch (argc) {
      case 0:
  str = rb_str_new2(&quot;Mon, 01 Jan -4712 00:00:00 GMT&quot;);
      case 1:
  sg = INT2FIX(DEFAULT_SG);
    }

    {
  VALUE hash = date_s__httpdate(klass, str);
  return d_new_by_frags(klass, hash, sg);
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008578">
                    
                    <a name="M008578"></a><b>Date.iso8601(string='-4712-01-01'[, start=ITALY])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new <a href="Date.html">Date</a> object by parsing from a string
according to some typical ISO 8601 formats.
</p>
<p>
For example:
</p>
<pre>
   Date.iso8601('2001-02-03')  #=&gt; #&lt;Date: 2001-02-03 ...&gt;
   Date.iso8601('20010203')    #=&gt; #&lt;Date: 2001-02-03 ...&gt;
   Date.iso8601('2001-W05-6')  #=&gt; #&lt;Date: 2001-02-03 ...&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008578_source')" id="l_M008578_source">show</a>
                        
                    </p>
                    <div id="M008578_source" class="dyn-source">
                        <pre>static VALUE
date_s_iso8601(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg;

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;str, &amp;sg);

    switch (argc) {
      case 0:
  str = rb_str_new2(&quot;-4712-01-01&quot;);
      case 1:
  sg = INT2FIX(DEFAULT_SG);
    }

    {
  VALUE hash = date_s__iso8601(klass, str);
  return d_new_by_frags(klass, hash, sg);
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008567">
                    
                    <a name="M008567"></a><b>Date.jd([jd=0[, start=Date::ITALY]])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a date object denoting the given chronological Julian day number.
</p>
<p>
For example:
</p>
<pre>
   Date.jd(2451944)    #=&gt; #&lt;Date: 2001-02-03 ...&gt;
   Date.jd(2451945)    #=&gt; #&lt;Date: 2001-02-04 ...&gt;
   Date.jd(0)    #=&gt; #&lt;Date: -4712-01-01 ...&gt;
</pre>
<p>
See also new.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008567_source')" id="l_M008567_source">show</a>
                        
                    </p>
                    <div id="M008567_source" class="dyn-source">
                        <pre>static VALUE
date_s_jd(int argc, VALUE *argv, VALUE klass)
{
    VALUE vjd, vsg, jd, fr, fr2, ret;
    double sg;

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;vjd, &amp;vsg);

    jd = INT2FIX(0);
    fr2 = INT2FIX(0);
    sg = DEFAULT_SG;

    switch (argc) {
      case 2:
  val2sg(vsg, sg);
      case 1:
  num2num_with_frac(jd, positive_inf);
    }

    {
  VALUE nth;
  int rjd;

  decode_jd(jd, &amp;nth, &amp;rjd);
  ret = d_simple_new_internal(klass,
            nth, rjd,
            sg,
            0, 0, 0,
            HAVE_JD);
    }
    add_frac();
    return ret;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008590">
                    
                    <a name="M008590"></a><b>Date.jisx0301(string='-4712-01-01'[, start=ITALY])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new <a href="Date.html">Date</a> object by parsing from a string
according to some typical JIS X 0301 formats.
</p>
<p>
For example:
</p>
<pre>
   Date.jisx0301('H13.02.03')    #=&gt; #&lt;Date: 2001-02-03 ...&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008590_source')" id="l_M008590_source">show</a>
                        
                    </p>
                    <div id="M008590_source" class="dyn-source">
                        <pre>static VALUE
date_s_jisx0301(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg;

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;str, &amp;sg);

    switch (argc) {
      case 0:
  str = rb_str_new2(&quot;-4712-01-01&quot;);
      case 1:
  sg = INT2FIX(DEFAULT_SG);
    }

    {
  VALUE hash = date_s__jisx0301(klass, str);
  return d_new_by_frags(klass, hash, sg);
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M009199">
                    
                    <a name="M009199"></a><b>json_create</b>(object)
                    
                </div>
                
                <div class="description">
                  <p>
Deserializes <a href="JSON.html">JSON</a> string by converting Julian year
<tt>y</tt>, month <tt>m</tt>, day <tt>d</tt> and Day of Calendar Reform
<tt>sg</tt> to <a href="Date.html">Date</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M009199_source')" id="l_M009199_source">show</a>
                        
                    </p>
                    <div id="M009199_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/json/lib/json/add/core.rb, line 68</span>
68:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">json_create</span>(<span class="ruby-identifier">object</span>)
69:     <span class="ruby-identifier">civil</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">object</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-value str">'y'</span>, <span class="ruby-value str">'m'</span>, <span class="ruby-value str">'d'</span>, <span class="ruby-value str">'sg'</span>))
70:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008564">
                    
                    <a name="M008564"></a><b>Date.julian_leap?(year)  &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the given year is a leap year of the proleptic Julian
calendar.
</p>
<p>
For example:
</p>
<pre>
   Date.julian_leap?(1900)   #=&gt; true
   Date.julian_leap?(1901)   #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008564_source')" id="l_M008564_source">show</a>
                        
                    </p>
                    <div id="M008564_source" class="dyn-source">
                        <pre>static VALUE
date_s_julian_leap_p(VALUE klass, VALUE y)
{
    VALUE nth;
    int ry;

    decode_year(y, +1, &amp;nth, &amp;ry);
    return f_boolcast(c_julian_leap_p(ry));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008566">
                    
                    <a name="M008566"></a><b>Date.gregorian_leap?(year)  &rarr;  bool
Date.leap?(year)            &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the given year is a leap year of the proleptic Gregorian
calendar.
</p>
<p>
For example:
</p>
<pre>
   Date.gregorian_leap?(1900)  #=&gt; false
   Date.gregorian_leap?(2000)  #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008566_source')" id="l_M008566_source">show</a>
                        
                    </p>
                    <div id="M008566_source" class="dyn-source">
                        <pre>static VALUE
date_s_gregorian_leap_p(VALUE klass, VALUE y)
{
    VALUE nth;
    int ry;

    decode_year(y, -1, &amp;nth, &amp;ry);
    return f_boolcast(c_gregorian_leap_p(ry));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008570">
                    
                    <a name="M008570"></a><b>Date.civil([year=-4712[, month=1[, mday=1[, start=Date::ITALY]]]])  &rarr;  date
Date.new([year=-4712[, month=1[, mday=1[, start=Date::ITALY]]]])    &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a date object denoting the given calendar date.
</p>
<p>
In this class, BCE years are counted astronomically. Thus, the year before
the year 1 is the year zero, and the year preceding the year zero is the
year -1. The month and the day of month should be a negative or a positive
number (as a relative month/day from the end of year/month when negative).
They should not be zero.
</p>
<p>
The last argument should be a Julian day number which denotes the day of
calendar reform. Date::ITALY (2299161=1582-10-15), Date::ENGLAND
(2361222=1752-09-14), Date::GREGORIAN (the proleptic Gregorian calendar)
and Date::JULIAN (the proleptic Julian calendar) can be specified as a day
of calendar reform.
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001)    #=&gt; #&lt;Date: 2001-01-01 ...&gt;
   Date.new(2001,2,3)  #=&gt; #&lt;Date: 2001-02-03 ...&gt;
   Date.new(2001,2,-1) #=&gt; #&lt;Date: 2001-02-28 ...&gt;
</pre>
<p>
See also jd.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008570_source')" id="l_M008570_source">show</a>
                        
                    </p>
                    <div id="M008570_source" class="dyn-source">
                        <pre>static VALUE
date_s_civil(int argc, VALUE *argv, VALUE klass)
{
    VALUE vy, vm, vd, vsg, y, fr, fr2, ret;
    int m, d;
    double sg;

    rb_scan_args(argc, argv, &quot;04&quot;, &amp;vy, &amp;vm, &amp;vd, &amp;vsg);

    y = INT2FIX(-4712);
    m = 1;
    d = 1;
    fr2 = INT2FIX(0);
    sg = DEFAULT_SG;

    switch (argc) {
      case 4:
  val2sg(vsg, sg);
      case 3:
  num2int_with_frac(d, positive_inf);
      case 2:
  m = NUM2INT(vm);
      case 1:
  y = vy;
    }

    if (guess_style(y, sg) &lt; 0) {
  VALUE nth;
  int ry, rm, rd;

  if (!valid_gregorian_p(y, m, d,
             &amp;nth, &amp;ry,
             &amp;rm, &amp;rd))
      rb_raise(rb_eArgError, &quot;invalid date&quot;);

  ret = d_simple_new_internal(klass,
            nth, 0,
            sg,
            ry, rm, rd,
            HAVE_CIVIL);
    }
    else {
  VALUE nth;
  int ry, rm, rd, rjd, ns;

  if (!valid_civil_p(y, m, d, sg,
         &amp;nth, &amp;ry,
         &amp;rm, &amp;rd, &amp;rjd,
         &amp;ns))
      rb_raise(rb_eArgError, &quot;invalid date&quot;);

  ret = d_simple_new_internal(klass,
            nth, rjd,
            sg,
            ry, rm, rd,
            HAVE_JD | HAVE_CIVIL);
    }
    add_frac();
    return ret;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008568">
                    
                    <a name="M008568"></a><b>Date.ordinal([year=-4712[, yday=1[, start=Date::ITALY]]])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a date object denoting the given ordinal date.
</p>
<p>
The day of year should be a negative or a positive number (as a relative
day from the end of year when negative). It should not be zero.
</p>
<p>
For example:
</p>
<pre>
   Date.ordinal(2001)  #=&gt; #&lt;Date: 2001-01-01 ...&gt;
   Date.ordinal(2001,34) #=&gt; #&lt;Date: 2001-02-03 ...&gt;
   Date.ordinal(2001,-1) #=&gt; #&lt;Date: 2001-12-31 ...&gt;
</pre>
<p>
See also jd and new.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008568_source')" id="l_M008568_source">show</a>
                        
                    </p>
                    <div id="M008568_source" class="dyn-source">
                        <pre>static VALUE
date_s_ordinal(int argc, VALUE *argv, VALUE klass)
{
    VALUE vy, vd, vsg, y, fr, fr2, ret;
    int d;
    double sg;

    rb_scan_args(argc, argv, &quot;03&quot;, &amp;vy, &amp;vd, &amp;vsg);

    y = INT2FIX(-4712);
    d = 1;
    fr2 = INT2FIX(0);
    sg = DEFAULT_SG;

    switch (argc) {
      case 3:
  val2sg(vsg, sg);
      case 2:
  num2int_with_frac(d, positive_inf);
      case 1:
  y = vy;
    }

    {
  VALUE nth;
  int ry, rd, rjd, ns;

  if (!valid_ordinal_p(y, d, sg,
           &amp;nth, &amp;ry,
           &amp;rd, &amp;rjd,
           &amp;ns))
      rb_raise(rb_eArgError, &quot;invalid date&quot;);

  ret = d_simple_new_internal(klass,
             nth, rjd,
             sg,
             0, 0, 0,
             HAVE_JD);
    }
    add_frac();
    return ret;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008576">
                    
                    <a name="M008576"></a><b>Date.parse(string='-4712-01-01'[, comp=true[, start=ITALY]])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Parses the given representation of date and time, and creates a date
object.
</p>
<p>
If the optional second argument is true and the detected year is in the
range &#8220;00&#8221; to &#8220;99&#8221;, considers the year a 2-digit
form and makes it full.
</p>
<p>
For example:
</p>
<pre>
   Date.parse('2001-02-03')    #=&gt; #&lt;Date: 2001-02-03 ...&gt;
   Date.parse('20010203')    #=&gt; #&lt;Date: 2001-02-03 ...&gt;
   Date.parse('3rd Feb 2001')  #=&gt; #&lt;Date: 2001-02-03 ...&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008576_source')" id="l_M008576_source">show</a>
                        
                    </p>
                    <div id="M008576_source" class="dyn-source">
                        <pre>static VALUE
date_s_parse(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, comp, sg;

    rb_scan_args(argc, argv, &quot;03&quot;, &amp;str, &amp;comp, &amp;sg);

    switch (argc) {
      case 0:
  str = rb_str_new2(&quot;-4712-01-01&quot;);
      case 1:
  comp = Qtrue;
      case 2:
  sg = INT2FIX(DEFAULT_SG);
    }

    {
  VALUE argv2[2], hash;

  argv2[0] = str;
  argv2[1] = comp;
  hash = date_s__parse(2, argv2, klass);
  return d_new_by_frags(klass, hash, sg);
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008585">
                    
                    <a name="M008585"></a><b>Date.rfc2822(string='Mon, 1 Jan -4712 00:00:00 +0000'[, start=ITALY])  &rarr;  date
Date.rfc822(string='Mon, 1 Jan -4712 00:00:00 +0000'[, start=ITALY])   &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new <a href="Date.html">Date</a> object by parsing from a string
according to some typical RFC 2822 formats.
</p>
<p>
For example:
</p>
<pre>
   Date.rfc2822('Sat, 3 Feb 2001 00:00:00 +0000')
           #=&gt; #&lt;Date: 2001-02-03 ...&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008585_source')" id="l_M008585_source">show</a>
                        
                    </p>
                    <div id="M008585_source" class="dyn-source">
                        <pre>static VALUE
date_s_rfc2822(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg;

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;str, &amp;sg);

    switch (argc) {
      case 0:
  str = rb_str_new2(&quot;Mon, 1 Jan -4712 00:00:00 +0000&quot;);
      case 1:
  sg = INT2FIX(DEFAULT_SG);
    }

    {
  VALUE hash = date_s__rfc2822(klass, str);
  return d_new_by_frags(klass, hash, sg);
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008580">
                    
                    <a name="M008580"></a><b>Date.rfc3339(string='-4712-01-01T00:00:00+00:00'[, start=ITALY])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new <a href="Date.html">Date</a> object by parsing from a string
according to some typical RFC 3339 formats.
</p>
<p>
For example:
</p>
<pre>
   Date.rfc3339('2001-02-03T04:05:06+07:00') #=&gt; #&lt;Date: 2001-02-03 ...&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008580_source')" id="l_M008580_source">show</a>
                        
                    </p>
                    <div id="M008580_source" class="dyn-source">
                        <pre>static VALUE
date_s_rfc3339(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg;

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;str, &amp;sg);

    switch (argc) {
      case 0:
  str = rb_str_new2(&quot;-4712-01-01T00:00:00+00:00&quot;);
      case 1:
  sg = INT2FIX(DEFAULT_SG);
    }

    {
  VALUE hash = date_s__rfc3339(klass, str);
  return d_new_by_frags(klass, hash, sg);
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008586">
                    
                    <a name="M008586"></a><b>Date.rfc2822(string='Mon, 1 Jan -4712 00:00:00 +0000'[, start=ITALY])  &rarr;  date
Date.rfc822(string='Mon, 1 Jan -4712 00:00:00 +0000'[, start=ITALY])   &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new <a href="Date.html">Date</a> object by parsing from a string
according to some typical RFC 2822 formats.
</p>
<p>
For example:
</p>
<pre>
   Date.rfc2822('Sat, 3 Feb 2001 00:00:00 +0000')
           #=&gt; #&lt;Date: 2001-02-03 ...&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008586_source')" id="l_M008586_source">show</a>
                        
                    </p>
                    <div id="M008586_source" class="dyn-source">
                        <pre>static VALUE
date_s_rfc2822(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg;

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;str, &amp;sg);

    switch (argc) {
      case 0:
  str = rb_str_new2(&quot;Mon, 1 Jan -4712 00:00:00 +0000&quot;);
      case 1:
  sg = INT2FIX(DEFAULT_SG);
    }

    {
  VALUE hash = date_s__rfc2822(klass, str);
  return d_new_by_frags(klass, hash, sg);
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008574">
                    
                    <a name="M008574"></a><b>Date.strptime([string='-4712-01-01'[, format='%F'[, start=ITALY]]])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Parses the given representation of date and time with the given template,
and creates a date object.
</p>
<p>
For example:
</p>
<pre>
   Date.strptime('2001-02-03', '%Y-%m-%d') #=&gt; #&lt;Date: 2001-02-03 ...&gt;
   Date.strptime('03-02-2001', '%d-%m-%Y') #=&gt; #&lt;Date: 2001-02-03 ...&gt;
   Date.strptime('2001-034', '%Y-%j')  #=&gt; #&lt;Date: 2001-02-03 ...&gt;
   Date.strptime('2001-W05-6', '%G-W%V-%u')  #=&gt; #&lt;Date: 2001-02-03 ...&gt;
   Date.strptime('2001 04 6', '%Y %U %w')  #=&gt; #&lt;Date: 2001-02-03 ...&gt;
   Date.strptime('2001 05 6', '%Y %W %u')  #=&gt; #&lt;Date: 2001-02-03 ...&gt;
   Date.strptime('sat3feb01', '%a%d%b%y')  #=&gt; #&lt;Date: 2001-02-03 ...&gt;
</pre>
<p>
See also strptime(3) and strftime.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008574_source')" id="l_M008574_source">show</a>
                        
                    </p>
                    <div id="M008574_source" class="dyn-source">
                        <pre>static VALUE
date_s_strptime(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, fmt, sg;

    rb_scan_args(argc, argv, &quot;03&quot;, &amp;str, &amp;fmt, &amp;sg);

    switch (argc) {
      case 0:
  str = rb_str_new2(&quot;-4712-01-01&quot;);
      case 1:
  fmt = rb_str_new2(&quot;%F&quot;);
      case 2:
  sg = INT2FIX(DEFAULT_SG);
    }

    {
  VALUE argv2[2], hash;

  argv2[0] = str;
  argv2[1] = fmt;
  hash = date_s__strptime(2, argv2, klass);
  return d_new_by_frags(klass, hash, sg);
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008572">
                    
                    <a name="M008572"></a><b>Date.today([start=Date::ITALY])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
For example:
</p>
<pre>
   Date.today    #=&gt; #&lt;Date: 2011-06-11 ..&gt;
</pre>
<p>
Creates a date object denoting the present day.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008572_source')" id="l_M008572_source">show</a>
                        
                    </p>
                    <div id="M008572_source" class="dyn-source">
                        <pre>static VALUE
date_s_today(int argc, VALUE *argv, VALUE klass)
{
    VALUE vsg, nth, ret;
    double sg;
    time_t t;
    struct tm tm;
    int y, ry, m, d;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;vsg);

    if (argc &lt; 1)
  sg = DEFAULT_SG;
    else
  val2sg(vsg, sg);

    if (time(&amp;t) == -1)
  rb_sys_fail(&quot;time&quot;);
    if (!localtime_r(&amp;t, &amp;tm))
  rb_sys_fail(&quot;localtime&quot;);

    y = tm.tm_year + 1900;
    m = tm.tm_mon + 1;
    d = tm.tm_mday;

    decode_year(INT2FIX(y), -1, &amp;nth, &amp;ry);

    ret = d_simple_new_internal(klass,
        nth, 0,
        GREGORIAN,
        ry, m, d,
        HAVE_CIVIL);
    {
  get_d1(ret);
  set_sg(dat, sg);
    }
    return ret;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008561">
                    
                    <a name="M008561"></a><b>Date.valid_civil?(year, month, mday[, start=Date::ITALY])  &rarr;  bool
Date.valid_date?(year, month, mday[, start=Date::ITALY])   &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the given calendar date is valid, and false if not.
</p>
<p>
For example:
</p>
<pre>
   Date.valid_date?(2001,2,3)  #=&gt; true
   Date.valid_date?(2001,2,29) #=&gt; false
</pre>
<p>
See also jd and civil.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008561_source')" id="l_M008561_source">show</a>
                        
                    </p>
                    <div id="M008561_source" class="dyn-source">
                        <pre>static VALUE
date_s_valid_civil_p(int argc, VALUE *argv, VALUE klass)
{
    VALUE vy, vm, vd, vsg;
    VALUE argv2[4];

    rb_scan_args(argc, argv, &quot;31&quot;, &amp;vy, &amp;vm, &amp;vd, &amp;vsg);

    argv2[0] = vy;
    argv2[1] = vm;
    argv2[2] = vd;
    if (argc &lt; 4)
  argv2[3] = INT2FIX(DEFAULT_SG);
    else
  argv2[3] = vsg;

    if (NIL_P(valid_civil_sub(4, argv2, klass, 0)))
  return Qfalse;
    return Qtrue;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008563">
                    
                    <a name="M008563"></a><b>Date.valid_commercial?(cwyear, cweek, cwday[, start=Date::ITALY])  &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the given week date is valid, and false if not.
</p>
<p>
For example:
</p>
<pre>
   Date.valid_commercial?(2001,5,6)  #=&gt; true
   Date.valid_commercial?(2001,5,8)  #=&gt; false
</pre>
<p>
See also jd and commercial.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008563_source')" id="l_M008563_source">show</a>
                        
                    </p>
                    <div id="M008563_source" class="dyn-source">
                        <pre>static VALUE
date_s_valid_commercial_p(int argc, VALUE *argv, VALUE klass)
{
    VALUE vy, vw, vd, vsg;
    VALUE argv2[4];

    rb_scan_args(argc, argv, &quot;31&quot;, &amp;vy, &amp;vw, &amp;vd, &amp;vsg);

    argv2[0] = vy;
    argv2[1] = vw;
    argv2[2] = vd;
    if (argc &lt; 4)
  argv2[3] = INT2FIX(DEFAULT_SG);
    else
  argv2[3] = vsg;

    if (NIL_P(valid_commercial_sub(4, argv2, klass, 0)))
  return Qfalse;
    return Qtrue;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008562">
                    
                    <a name="M008562"></a><b>Date.valid_civil?(year, month, mday[, start=Date::ITALY])  &rarr;  bool
Date.valid_date?(year, month, mday[, start=Date::ITALY])   &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the given calendar date is valid, and false if not.
</p>
<p>
For example:
</p>
<pre>
   Date.valid_date?(2001,2,3)  #=&gt; true
   Date.valid_date?(2001,2,29) #=&gt; false
</pre>
<p>
See also jd and civil.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008562_source')" id="l_M008562_source">show</a>
                        
                    </p>
                    <div id="M008562_source" class="dyn-source">
                        <pre>static VALUE
date_s_valid_civil_p(int argc, VALUE *argv, VALUE klass)
{
    VALUE vy, vm, vd, vsg;
    VALUE argv2[4];

    rb_scan_args(argc, argv, &quot;31&quot;, &amp;vy, &amp;vm, &amp;vd, &amp;vsg);

    argv2[0] = vy;
    argv2[1] = vm;
    argv2[2] = vd;
    if (argc &lt; 4)
  argv2[3] = INT2FIX(DEFAULT_SG);
    else
  argv2[3] = vsg;

    if (NIL_P(valid_civil_sub(4, argv2, klass, 0)))
  return Qfalse;
    return Qtrue;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008559">
                    
                    <a name="M008559"></a><b>Date.valid_jd?(jd[, start=Date::ITALY])  &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Just returns true. It&#8217;s nonsense, but is for symmetry.
</p>
<p>
For example:
</p>
<pre>
   Date.valid_jd?(2451944)   #=&gt; true
</pre>
<p>
See also jd.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008559_source')" id="l_M008559_source">show</a>
                        
                    </p>
                    <div id="M008559_source" class="dyn-source">
                        <pre>static VALUE
date_s_valid_jd_p(int argc, VALUE *argv, VALUE klass)
{
    VALUE vjd, vsg;
    VALUE argv2[2];

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;vjd, &amp;vsg);

    argv2[0] = vjd;
    if (argc &lt; 2)
  argv2[1] = INT2FIX(DEFAULT_SG);
    else
  argv2[1] = vsg;

    if (NIL_P(valid_jd_sub(2, argv2, klass, 0)))
  return Qfalse;
    return Qtrue;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008560">
                    
                    <a name="M008560"></a><b>Date.valid_ordinal?(year, yday[, start=Date::ITALY])  &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the given ordinal date is valid, and false if not.
</p>
<p>
For example:
</p>
<pre>
   Date.valid_ordinal?(2001,34)  #=&gt; true
   Date.valid_ordinal?(2001,366) #=&gt; false
</pre>
<p>
See also jd and ordinal.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008560_source')" id="l_M008560_source">show</a>
                        
                    </p>
                    <div id="M008560_source" class="dyn-source">
                        <pre>static VALUE
date_s_valid_ordinal_p(int argc, VALUE *argv, VALUE klass)
{
    VALUE vy, vd, vsg;
    VALUE argv2[3];

    rb_scan_args(argc, argv, &quot;21&quot;, &amp;vy, &amp;vd, &amp;vsg);

    argv2[0] = vy;
    argv2[1] = vd;
    if (argc &lt; 3)
  argv2[2] = INT2FIX(DEFAULT_SG);
    else
  argv2[2] = vsg;

    if (NIL_P(valid_ordinal_sub(3, argv2, klass, 0)))
  return Qfalse;
    return Qtrue;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008582">
                    
                    <a name="M008582"></a><b>Date.xmlschema(string='-4712-01-01'[, start=ITALY])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new <a href="Date.html">Date</a> object by parsing from a string
according to some typical <a href="XML.html">XML</a> Schema formats.
</p>
<p>
For example:
</p>
<pre>
   Date.xmlschema('2001-02-03')  #=&gt; #&lt;Date: 2001-02-03 ...&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008582_source')" id="l_M008582_source">show</a>
                        
                    </p>
                    <div id="M008582_source" class="dyn-source">
                        <pre>static VALUE
date_s_xmlschema(int argc, VALUE *argv, VALUE klass)
{
    VALUE str, sg;

    rb_scan_args(argc, argv, &quot;02&quot;, &amp;str, &amp;sg);

    switch (argc) {
      case 0:
  str = rb_str_new2(&quot;-4712-01-01&quot;);
      case 1:
  sg = INT2FIX(DEFAULT_SG);
    }

    {
  VALUE hash = date_s__xmlschema(klass, str);
  return d_new_by_frags(klass, hash, sg);
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M008637">
                    
                    <a name="M008637"></a><b>d + other  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a date object pointing other days after self. The other should be a
numeric value. If the other is flonum, assumes its precision is at most
nanosecond.
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001,2,3) + 1  #=&gt; #&lt;Date: 2001-02-04 ...&gt;
   DateTime.new(2001,2,3) + Rational(1,2)
       #=&gt; #&lt;DateTime: 2001-02-03T12:00:00+00:00 ...&gt;
   DateTime.new(2001,2,3) + Rational(-1,2)
       #=&gt; #&lt;DateTime: 2001-02-02T12:00:00+00:00 ...&gt;
   DateTime.jd(0,12) + DateTime.new(2001,2,3).ajd
       #=&gt; #&lt;DateTime: 2001-02-03T00:00:00+00:00 ...&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008637_source')" id="l_M008637_source">show</a>
                        
                    </p>
                    <div id="M008637_source" class="dyn-source">
                        <pre>static VALUE
d_lite_plus(VALUE self, VALUE other)
{
    get_d1(self);

    switch (TYPE(other)) {
      case T_FIXNUM:
  {
      VALUE nth;
      long t;
      int jd;

      nth = m_nth(dat);
      t = FIX2LONG(other);
      if (DIV(t, CM_PERIOD)) {
    nth = f_add(nth, INT2FIX(DIV(t, CM_PERIOD)));
    t = MOD(t, CM_PERIOD);
      }

      if (!t)
    jd = m_jd(dat);
      else {
    jd = m_jd(dat) + (int)t;

    if (jd &lt; 0) {
        nth = f_sub(nth, INT2FIX(1));
        jd += CM_PERIOD;
    }
    else if (jd &gt;= CM_PERIOD) {
        nth = f_add(nth, INT2FIX(1));
        jd -= CM_PERIOD;
    }
      }

      if (simple_dat_p(dat))
    return d_simple_new_internal(rb_obj_class(self),
               nth, jd,
               dat-&gt;s.sg,
               0, 0, 0,
               (dat-&gt;s.flags | HAVE_JD) &amp;
               ~HAVE_CIVIL);
      else
    return d_complex_new_internal(rb_obj_class(self),
                nth, jd,
                dat-&gt;c.df, dat-&gt;c.sf,
                dat-&gt;c.of, dat-&gt;c.sg,
                0, 0, 0,
#ifndef USE_PACK
                dat-&gt;c.hour,
                dat-&gt;c.min,
                dat-&gt;c.sec,
#else
                EX_HOUR(dat-&gt;c.pc),
                EX_MIN(dat-&gt;c.pc),
                EX_SEC(dat-&gt;c.pc),
#endif
                (dat-&gt;c.flags | HAVE_JD) &amp;
                ~HAVE_CIVIL);
  }
  break;
      case T_BIGNUM:
  {
      VALUE nth;
      int jd, s;

      if (f_positive_p(other))
    s = +1;
      else {
    s = -1;
    other = f_negate(other);
      }

      nth = f_idiv(other, INT2FIX(CM_PERIOD));
      jd = FIX2INT(f_mod(other, INT2FIX(CM_PERIOD)));

      if (s &lt; 0) {
    nth = f_negate(nth);
    jd = -jd;
      }

      if (!jd)
    jd = m_jd(dat);
      else {
    jd = m_jd(dat) + jd;
    if (jd &lt; 0) {
        nth = f_sub(nth, INT2FIX(1));
        jd += CM_PERIOD;
    }
    else if (jd &gt;= CM_PERIOD) {
        nth = f_add(nth, INT2FIX(1));
        jd -= CM_PERIOD;
    }
      }

      if (f_zero_p(nth))
    nth = m_nth(dat);
      else
    nth = f_add(m_nth(dat), nth);

      if (simple_dat_p(dat))
    return d_simple_new_internal(rb_obj_class(self),
               nth, jd,
               dat-&gt;s.sg,
               0, 0, 0,
               (dat-&gt;s.flags | HAVE_JD) &amp;
               ~HAVE_CIVIL);
      else
    return d_complex_new_internal(rb_obj_class(self),
                nth, jd,
                dat-&gt;c.df, dat-&gt;c.sf,
                dat-&gt;c.of, dat-&gt;c.sg,
                0, 0, 0,
#ifndef USE_PACK
                dat-&gt;c.hour,
                dat-&gt;c.min,
                dat-&gt;c.sec,
#else
                EX_HOUR(dat-&gt;c.pc),
                EX_MIN(dat-&gt;c.pc),
                EX_SEC(dat-&gt;c.pc),
#endif
                (dat-&gt;c.flags | HAVE_JD) &amp;
                ~HAVE_CIVIL);
  }
  break;
      case T_FLOAT:
  {
      double jd, o, tmp;
      int s, df;
      VALUE nth, sf;

      o = RFLOAT_VALUE(other);

      if (o &gt; 0)
    s = +1;
      else {
    s = -1;
    o = -o;
      }

      o = modf(o, &amp;tmp);

      if (!floor(tmp / CM_PERIOD)) {
    nth = INT2FIX(0);
    jd = (int)tmp;
      }
      else {
    double i, f;

    f = modf(tmp / CM_PERIOD, &amp;i);
    nth = f_floor(DBL2NUM(i));
    jd = (int)(f * CM_PERIOD);
      }

      o *= DAY_IN_SECONDS;
      o = modf(o, &amp;tmp);
      df = (int)tmp;
      o *= SECOND_IN_NANOSECONDS;
      sf = INT2FIX((int)round(o));

      if (s &lt; 0) {
    jd = -jd;
    df = -df;
    sf = f_negate(sf);
      }

      if (f_zero_p(sf))
    sf = m_sf(dat);
      else {
    sf = f_add(m_sf(dat), sf);
    if (f_lt_p(sf, INT2FIX(0))) {
        df -= 1;
        sf = f_add(sf, INT2FIX(SECOND_IN_NANOSECONDS));
    }
    else if (f_ge_p(sf, INT2FIX(SECOND_IN_NANOSECONDS))) {
        df += 1;
        sf = f_sub(sf, INT2FIX(SECOND_IN_NANOSECONDS));
    }
      }

      if (!df)
    df = m_df(dat);
      else {
    df = m_df(dat) + df;
    if (df &lt; 0) {
        jd -= 1;
        df += DAY_IN_SECONDS;
    }
    else if (df &gt;= DAY_IN_SECONDS) {
        jd += 1;
        df -= DAY_IN_SECONDS;
    }
      }

      if (!jd)
    jd = m_jd(dat);
      else {
    jd = m_jd(dat) + jd;
    if (jd &lt; 0) {
        nth = f_sub(nth, INT2FIX(1));
        jd += CM_PERIOD;
    }
    else if (jd &gt;= CM_PERIOD) {
        nth = f_add(nth, INT2FIX(1));
        jd -= CM_PERIOD;
    }
      }

      if (f_zero_p(nth))
    nth = m_nth(dat);
      else
    nth = f_add(m_nth(dat), nth);

      if (!df &amp;&amp; f_zero_p(sf) &amp;&amp; !m_of(dat))
    return d_simple_new_internal(rb_obj_class(self),
               nth, (int)jd,
               m_sg(dat),
               0, 0, 0,
               (dat-&gt;s.flags | HAVE_JD) &amp;
               ~(HAVE_CIVIL | HAVE_TIME |
                 COMPLEX_DAT));
      else
    return d_complex_new_internal(rb_obj_class(self),
                nth, (int)jd,
                df, sf,
                m_of(dat), m_sg(dat),
                0, 0, 0,
                0, 0, 0,
                (dat-&gt;c.flags |
                 HAVE_JD | HAVE_DF) &amp;
                ~(HAVE_CIVIL | HAVE_TIME));
  }
  break;
      default:
  if (!k_numeric_p(other))
      rb_raise(rb_eTypeError, &quot;expected numeric&quot;);
  other = f_to_r(other);
#ifdef CANONICALIZATION_FOR_MATHN
  if (!k_rational_p(other))
      return d_lite_plus(self, other);
#endif
  /* fall through */
      case T_RATIONAL:
  {
      VALUE nth, sf, t;
      int jd, df, s;

      if (wholenum_p(other))
    return d_lite_plus(self, RRATIONAL(other)-&gt;num);

      if (f_positive_p(other))
    s = +1;
      else {
    s = -1;
    other = f_negate(other);
      }

      nth = f_idiv(other, INT2FIX(CM_PERIOD));
      t = f_mod(other, INT2FIX(CM_PERIOD));

      jd = FIX2INT(f_idiv(t, INT2FIX(1)));
      t = f_mod(t, INT2FIX(1));

      t = f_mul(t, INT2FIX(DAY_IN_SECONDS));
      df = FIX2INT(f_idiv(t, INT2FIX(1)));
      t = f_mod(t, INT2FIX(1));

      sf = f_mul(t, INT2FIX(SECOND_IN_NANOSECONDS));

      if (s &lt; 0) {
    nth = f_negate(nth);
    jd = -jd;
    df = -df;
    sf = f_negate(sf);
      }

      if (f_zero_p(sf))
    sf = m_sf(dat);
      else {
    sf = f_add(m_sf(dat), sf);
    if (f_lt_p(sf, INT2FIX(0))) {
        df -= 1;
        sf = f_add(sf, INT2FIX(SECOND_IN_NANOSECONDS));
    }
    else if (f_ge_p(sf, INT2FIX(SECOND_IN_NANOSECONDS))) {
        df += 1;
        sf = f_sub(sf, INT2FIX(SECOND_IN_NANOSECONDS));
    }
      }

      if (!df)
    df = m_df(dat);
      else {
    df = m_df(dat) + df;
    if (df &lt; 0) {
        jd -= 1;
        df += DAY_IN_SECONDS;
    }
    else if (df &gt;= DAY_IN_SECONDS) {
        jd += 1;
        df -= DAY_IN_SECONDS;
    }
      }

      if (!jd)
    jd = m_jd(dat);
      else {
    jd = m_jd(dat) + jd;
    if (jd &lt; 0) {
        nth = f_sub(nth, INT2FIX(1));
        jd += CM_PERIOD;
    }
    else if (jd &gt;= CM_PERIOD) {
        nth = f_add(nth, INT2FIX(1));
        jd -= CM_PERIOD;
    }
      }

      if (f_zero_p(nth))
    nth = m_nth(dat);
      else
    nth = f_add(m_nth(dat), nth);

      if (!df &amp;&amp; f_zero_p(sf) &amp;&amp; !m_of(dat))
    return d_simple_new_internal(rb_obj_class(self),
               nth, jd,
               m_sg(dat),
               0, 0, 0,
               (dat-&gt;s.flags | HAVE_JD) &amp;
               ~(HAVE_CIVIL | HAVE_TIME |
                 COMPLEX_DAT));
      else
    return d_complex_new_internal(rb_obj_class(self),
                nth, jd,
                df, sf,
                m_of(dat), m_sg(dat),
                0, 0, 0,
                0, 0, 0,
                (dat-&gt;c.flags |
                 HAVE_JD | HAVE_DF) &amp;
                ~(HAVE_CIVIL | HAVE_TIME));
  }
  break;
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008638">
                    
                    <a name="M008638"></a><b>d - other  &rarr;  date or rational
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the difference between the two dates if the other is a date object.
If the other is a numeric value, returns a date object pointing other days
before self. If the other is flonum, assumes its precision is at most
nanosecond.
</p>
<p>
For example:
</p>
<pre>
    Date.new(2001,2,3) - 1 #=&gt; #&lt;Date: 2001-02-02 ...&gt;
    DateTime.new(2001,2,3) - Rational(1,2)
       #=&gt; #&lt;DateTime: 2001-02-02T12:00:00+00:00 ...&gt;
    Date.new(2001,2,3) - Date.new(2001)
       #=&gt; (33/1)
    DateTime.new(2001,2,3) - DateTime.new(2001,2,2,12)
       #=&gt; (1/2)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008638_source')" id="l_M008638_source">show</a>
                        
                    </p>
                    <div id="M008638_source" class="dyn-source">
                        <pre>static VALUE
d_lite_minus(VALUE self, VALUE other)
{
    if (k_date_p(other))
  return minus_dd(self, other);

    switch (TYPE(other)) {
      case T_FIXNUM:
  return d_lite_plus(self, LONG2NUM(-FIX2LONG(other)));
      case T_FLOAT:
  return d_lite_plus(self, DBL2NUM(-RFLOAT_VALUE(other)));
      default:
  if (!k_numeric_p(other))
      rb_raise(rb_eTypeError, &quot;expected numeric&quot;);
  /* fall through */
      case T_BIGNUM:
      case T_RATIONAL:
  return d_lite_plus(self, f_negate(other));
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008645">
                    
                    <a name="M008645"></a><b>d << n  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a date object pointing n months before self. The n should be a
numeric value.
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001,2,3) &lt;&lt; 1 #=&gt; #&lt;Date: 2001-01-03 ...&gt;
   Date.new(2001,1,31) &lt;&lt; 11 #=&gt; #&lt;Date: 2000-02-29 ...&gt;
   Date.new(2001,2,3) &lt;&lt; -1  #=&gt; #&lt;Date: 2001-03-03 ...&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008645_source')" id="l_M008645_source">show</a>
                        
                    </p>
                    <div id="M008645_source" class="dyn-source">
                        <pre>static VALUE
d_lite_lshift(VALUE self, VALUE other)
{
    return d_lite_rshift(self, f_negate(other));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008663">
                    
                    <a name="M008663"></a><b>d <=> other  &rarr; -1, 0, +1 or nil
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Compares the two dates and returns -1, zero, 1 or nil. The other should be
a date object or a numeric value as an astronomical Julian day number.
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001,2,3) &lt;=&gt; Date.new(2001,2,4) #=&gt; -1
   Date.new(2001,2,3) &lt;=&gt; Date.new(2001,2,3) #=&gt; 0
   Date.new(2001,2,3) &lt;=&gt; Date.new(2001,2,2) #=&gt; 1
   Date.new(2001,2,3) &lt;=&gt; Object.new   #=&gt; nil
   Date.new(2001,2,3) &lt;=&gt; Rational(4903887,2)#=&gt; 0
</pre>
<p>
See also <a href="Comparable.html">Comparable</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008663_source')" id="l_M008663_source">show</a>
                        
                    </p>
                    <div id="M008663_source" class="dyn-source">
                        <pre>static VALUE
d_lite_cmp(VALUE self, VALUE other)
{
    if (!k_date_p(other))
  return cmp_gen(self, other);

    {
  get_d2(self, other);

  if (!(simple_dat_p(adat) &amp;&amp; simple_dat_p(bdat) &amp;&amp;
        m_gregorian_p(adat) == m_gregorian_p(bdat)))
      return cmp_dd(self, other);

  if (have_jd_p(adat) &amp;&amp;
      have_jd_p(bdat)) {
      VALUE a_nth, b_nth;
      int a_jd, b_jd;

      a_nth = m_nth(adat);
      b_nth = m_nth(bdat);
      if (f_eqeq_p(a_nth, b_nth)) {
    a_jd = m_jd(adat);
    b_jd = m_jd(bdat);
    if (a_jd == b_jd) {
        return INT2FIX(0);
    }
    else if (a_jd &lt; b_jd) {
        return INT2FIX(-1);
    }
    else {
        return INT2FIX(1);
    }
      }
      else if (a_nth &lt; b_nth) {
    return INT2FIX(-1);
      }
      else {
    return INT2FIX(1);
      }
  }
  else {
#ifndef USE_PACK
      VALUE a_nth, b_nth;
      int a_year, b_year,
    a_mon, b_mon,
    a_mday, b_mday;
#else
      VALUE a_nth, b_nth;
      int a_year, b_year,
    a_pd, b_pd;
#endif

      a_nth = m_nth(adat);
      b_nth = m_nth(bdat);
      if (f_eqeq_p(a_nth, b_nth)) {
    a_year = m_year(adat);
    b_year = m_year(bdat);
    if (a_year == b_year) {
#ifndef USE_PACK
        a_mon = m_mon(adat);
        b_mon = m_mon(bdat);
        if (a_mon == b_mon) {
      a_mday = m_mday(adat);
      b_mday = m_mday(bdat);
      if (a_mday == b_mday) {
          return INT2FIX(0);
      }
      else if (a_mday &lt; b_mday) {
          return INT2FIX(-1);
      }
      else {
          return INT2FIX(1);
      }
        }
        else if (a_mon &lt; b_mon) {
      return INT2FIX(-1);
        }
        else {
      return INT2FIX(1);
        }
#else
        a_pd = m_pc(adat);
        b_pd = m_pc(bdat);
        if (a_pd == b_pd) {
      return INT2FIX(0);
        }
        else if (a_pd &lt; b_pd) {
      return INT2FIX(-1);
        }
        else {
      return INT2FIX(1);
        }
#endif
    }
    else if (a_year &lt; b_year) {
        return INT2FIX(-1);
    }
    else {
        return INT2FIX(1);
    }
      }
      else if (f_lt_p(a_nth, b_nth)) {
    return INT2FIX(-1);
      }
      else {
    return INT2FIX(1);
      }
  }
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008664">
                    
                    <a name="M008664"></a><b>d === other  &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if they are the same day.
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001,2,3) === Date.new(2001,2,3)
         #=&gt; true
   Date.new(2001,2,3) === Date.new(2001,2,4)
         #=&gt; false
   DateTime.new(2001,2,3) === DateTime.new(2001,2,3,12)
         #=&gt; true
   DateTime.new(2001,2,3) === DateTime.new(2001,2,3,0,0,0,'+24:00')
         #=&gt; true
   DateTime.new(2001,2,3) === DateTime.new(2001,2,4,0,0,0,'+24:00')
         #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008664_source')" id="l_M008664_source">show</a>
                        
                    </p>
                    <div id="M008664_source" class="dyn-source">
                        <pre>static VALUE
d_lite_equal(VALUE self, VALUE other)
{
    if (!k_date_p(other))
  return equal_gen(self, other);

    {
  get_d2(self, other);

  if (!(m_gregorian_p(adat) == m_gregorian_p(bdat)))
      return equal_gen(self, other);

  if (have_jd_p(adat) &amp;&amp;
      have_jd_p(bdat)) {
      VALUE a_nth, b_nth;
      int a_jd, b_jd;

      a_nth = m_nth(adat);
      b_nth = m_nth(bdat);
      a_jd = m_local_jd(adat);
      b_jd = m_local_jd(bdat);
      if (f_eqeq_p(a_nth, b_nth) &amp;&amp;
    a_jd == b_jd)
    return Qtrue;
      return Qfalse;
  }
  else {
#ifndef USE_PACK
      VALUE a_nth, b_nth;
      int a_year, b_year,
    a_mon, b_mon,
    a_mday, b_mday;
#else
      VALUE a_nth, b_nth;
      int a_year, b_year,
    a_pd, b_pd;
#endif

      a_nth = m_nth(adat);
      b_nth = m_nth(bdat);
      if (f_eqeq_p(a_nth, b_nth)) {
    a_year = m_year(adat);
    b_year = m_year(bdat);
    if (a_year == b_year) {
#ifndef USE_PACK
        a_mon = m_mon(adat);
        b_mon = m_mon(bdat);
        if (a_mon == b_mon) {
      a_mday = m_mday(adat);
      b_mday = m_mday(bdat);
      if (a_mday == b_mday)
          return Qtrue;
        }
#else
        /* mon and mday only */
        a_pd = (m_pc(adat) &gt;&gt; MDAY_SHIFT);
        b_pd = (m_pc(bdat) &gt;&gt; MDAY_SHIFT);
        if (a_pd == b_pd) {
      return Qtrue;
        }
#endif
    }
      }
      return Qfalse;
  }
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008644">
                    
                    <a name="M008644"></a><b>d >> n  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a date object pointing n months after self. The n should be a
numeric value.
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001,2,3) &gt;&gt; 1 #=&gt; #&lt;Date: 2001-03-03 ...&gt;
   Date.new(2001,1,31) &gt;&gt; 1  #=&gt; #&lt;Date: 2001-02-28 ...&gt;
   Date.new(2001,2,3) &gt;&gt; -2  #=&gt; #&lt;Date: 2000-12-03 ...&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008644_source')" id="l_M008644_source">show</a>
                        
                    </p>
                    <div id="M008644_source" class="dyn-source">
                        <pre>static VALUE
d_lite_rshift(VALUE self, VALUE other)
{
    VALUE t, y, nth, rjd2;
    int m, d, rjd;
    double sg;

    get_d1(self);
    t = f_add3(f_mul(m_real_year(dat), INT2FIX(12)),
         INT2FIX(m_mon(dat) - 1),
         other);
    if (FIXNUM_P(t)) {
  long it = FIX2LONG(t);
  y = LONG2NUM(DIV(it, 12));
  it = MOD(it, 12);
  m = (int)it + 1;
    }
    else {
  y = f_idiv(t, INT2FIX(12));
  t = f_mod(t, INT2FIX(12));
  m = FIX2INT(t) + 1;
    }
    d = m_mday(dat);
    sg = m_sg(dat);

    while (1) {
  int ry, rm, rd, ns;

  if (valid_civil_p(y, m, d, sg,
        &amp;nth, &amp;ry,
        &amp;rm, &amp;rd, &amp;rjd, &amp;ns))
      break;
  if (--d &lt; 1)
      rb_raise(rb_eArgError, &quot;invalid date&quot;);
    }
    encode_jd(nth, rjd, &amp;rjd2);
    return d_lite_plus(self, f_sub(rjd2, m_real_local_jd(dat)));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008592">
                    
                    <a name="M008592"></a><b>d.ajd  &rarr;  rational
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the astronomical Julian day number. This is a fractional number,
which is not adjusted by the offset.
</p>
<p>
For example:
</p>
<pre>
   DateTime.new(2001,2,3,4,5,6,'+7').ajd #=&gt; (11769328217/4800)
   DateTime.new(2001,2,2,14,5,6,'-7').ajd  #=&gt; (11769328217/4800)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008592_source')" id="l_M008592_source">show</a>
                        
                    </p>
                    <div id="M008592_source" class="dyn-source">
                        <pre>static VALUE
d_lite_ajd(VALUE self)
{
    get_d1(self);
    return m_ajd(dat);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008593">
                    
                    <a name="M008593"></a><b>d.amjd  &rarr;  rational
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the astronomical modified Julian day number. This is a fractional
number, which is not adjusted by the offset.
</p>
<p>
For example:
</p>
<pre>
   DateTime.new(2001,2,3,4,5,6,'+7').amjd  #=&gt; (249325817/4800)
   DateTime.new(2001,2,2,14,5,6,'-7').amjd #=&gt; (249325817/4800)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008593_source')" id="l_M008593_source">show</a>
                        
                    </p>
                    <div id="M008593_source" class="dyn-source">
                        <pre>static VALUE
d_lite_amjd(VALUE self)
{
    get_d1(self);
    return m_amjd(dat);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M009200">
                    
                    <a name="M009200"></a><b>as_json</b>(*)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a hash, that will be turned into a <a href="JSON.html">JSON</a>
object and represent this object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M009200_source')" id="l_M009200_source">show</a>
                        
                    </p>
                    <div id="M009200_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/json/lib/json/add/core.rb, line 76</span>
76:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">as_json</span>(<span class="ruby-operator">*</span>)
77:     {
78:       <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">create_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>,
79:       <span class="ruby-value str">'y'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">year</span>,
80:       <span class="ruby-value str">'m'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">month</span>,
81:       <span class="ruby-value str">'d'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">day</span>,
82:       <span class="ruby-value str">'sg'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">start</span>,
83:     }
84:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008687">
                    
                    <a name="M008687"></a><b>d.asctime  &rarr;  string
d.ctime    &rarr;  string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a string in asctime(3) format (but without &#8220;n\0&#8220; at the
end). This method is equivalent to strftime(&#8217;%c&#8217;).
</p>
<p>
See also asctime(3) or ctime(3).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008687_source')" id="l_M008687_source">show</a>
                        
                    </p>
                    <div id="M008687_source" class="dyn-source">
                        <pre>static VALUE
d_lite_asctime(VALUE self)
{
    return strftimev(&quot;%a %b %e %H:%M:%S %Y&quot;, self, set_tmx);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008701">
                    
                    <a name="M008701"></a><b>d.asctime  &rarr;  string
d.ctime    &rarr;  string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a string in asctime(3) format (but without &#8220;n\0&#8220; at the
end). This method is equivalent to strftime(&#8217;%c&#8217;).
</p>
<p>
See also asctime(3) or ctime(3).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008701_source')" id="l_M008701_source">show</a>
                        
                    </p>
                    <div id="M008701_source" class="dyn-source">
                        <pre>static VALUE
d_lite_asctime(VALUE self)
{
    return strftimev(&quot;%a %b %e %H:%M:%S %Y&quot;, self, set_tmx);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008606">
                    
                    <a name="M008606"></a><b>d.cwday  &rarr;  fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the day of calendar week (1-7, Monday is 1).
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001,2,3).cwday    #=&gt; 6
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008606_source')" id="l_M008606_source">show</a>
                        
                    </p>
                    <div id="M008606_source" class="dyn-source">
                        <pre>static VALUE
d_lite_cwday(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_cwday(dat));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008605">
                    
                    <a name="M008605"></a><b>d.cweek  &rarr;  fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the calendar week number (1-53).
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001,2,3).cweek    #=&gt; 5
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008605_source')" id="l_M008605_source">show</a>
                        
                    </p>
                    <div id="M008605_source" class="dyn-source">
                        <pre>static VALUE
d_lite_cweek(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_cweek(dat));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008604">
                    
                    <a name="M008604"></a><b>d.cwyear  &rarr;  integer
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the calendar week based year.
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001,2,3).cwyear   #=&gt; 2001
   Date.new(2000,1,1).cwyear   #=&gt; 1999
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008604_source')" id="l_M008604_source">show</a>
                        
                    </p>
                    <div id="M008604_source" class="dyn-source">
                        <pre>static VALUE
d_lite_cwyear(VALUE self)
{
    get_d1(self);
    return m_real_cwyear(dat);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008602">
                    
                    <a name="M008602"></a><b>d.mday  &rarr;  fixnum
d.day   &rarr;  fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the day of the month (1-31).
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001,2,3).mday   #=&gt; 3
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008602_source')" id="l_M008602_source">show</a>
                        
                    </p>
                    <div id="M008602_source" class="dyn-source">
                        <pre>static VALUE
d_lite_mday(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_mday(dat));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008603">
                    
                    <a name="M008603"></a><b>d.day_fraction  &rarr;  rational
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the fractional part of the day.
</p>
<p>
For example:
</p>
<pre>
   DateTime.new(2001,2,3,12).day_fraction  #=&gt; (1/2)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008603_source')" id="l_M008603_source">show</a>
                        
                    </p>
                    <div id="M008603_source" class="dyn-source">
                        <pre>static VALUE
d_lite_day_fraction(VALUE self)
{
    get_d1(self);
    if (simple_dat_p(dat))
  return INT2FIX(0);
    return m_fr(dat);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008662">
                    
                    <a name="M008662"></a><b>d.downto(min)              &rarr;  enumerator
d.downto(min){|date| ...}  &rarr;  self
</b>
                    
                </div>
                
                <div class="description">
                  <p>
This method is equivalent to step(min, -1){|date| &#8230;}.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008662_source')" id="l_M008662_source">show</a>
                        
                    </p>
                    <div id="M008662_source" class="dyn-source">
                        <pre>static VALUE
d_lite_downto(VALUE self, VALUE min)
{
    VALUE date;

    RETURN_ENUMERATOR(self, 1, &amp;min);

    date = self;
    while (FIX2INT(d_lite_cmp(date, min)) &gt;= 0) {
  rb_yield(date);
  date = d_lite_plus(date, INT2FIX(-1));
    }
    return self;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008632">
                    
                    <a name="M008632"></a><b>d.england  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
This method is equivalent to <a
href="Date.html#M008629">new_start</a>(Date::ENGLAND).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008632_source')" id="l_M008632_source">show</a>
                        
                    </p>
                    <div id="M008632_source" class="dyn-source">
                        <pre>static VALUE
d_lite_england(VALUE self)
{
    return dup_obj_with_new_start(self, ENGLAND);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008613">
                    
                    <a name="M008613"></a><b>d.friday?  &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the date is Friday.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008613_source')" id="l_M008613_source">show</a>
                        
                    </p>
                    <div id="M008613_source" class="dyn-source">
                        <pre>static VALUE
d_lite_friday_p(VALUE self)
{
    get_d1(self);
    return f_boolcast(m_wday(dat) == 5);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008635">
                    
                    <a name="M008635"></a><b>d.gregorian  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
This method is equivalent to <a
href="Date.html#M008629">new_start</a>(Date::GREGORIAN).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008635_source')" id="l_M008635_source">show</a>
                        
                    </p>
                    <div id="M008635_source" class="dyn-source">
                        <pre>static VALUE
d_lite_gregorian(VALUE self)
{
    return dup_obj_with_new_start(self, GREGORIAN);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008626">
                    
                    <a name="M008626"></a><b>d.gregorian?  &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Retunrs true if the date is on or after the day of calendar reform.
</p>
<p>
For example:
</p>
<pre>
    Date.new(1582,10,15).gregorian?    #=&gt; true
    (Date.new(1582,10,15) - 1).gregorian?  #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008626_source')" id="l_M008626_source">show</a>
                        
                    </p>
                    <div id="M008626_source" class="dyn-source">
                        <pre>static VALUE
d_lite_gregorian_p(VALUE self)
{
    get_d1(self);
    return f_boolcast(m_gregorian_p(dat));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008717">
                    
                    <a name="M008717"></a><b>d.httpdate  &rarr;  string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
This method is equivalent to strftime(&#8217;%a, %d %b %Y %T GMT&#8217;).
See also RFC 2616.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008717_source')" id="l_M008717_source">show</a>
                        
                    </p>
                    <div id="M008717_source" class="dyn-source">
                        <pre>static VALUE
d_lite_httpdate(VALUE self)
{
    volatile VALUE dup = dup_obj_with_new_offset(self, 0);
    return strftimev(&quot;%a, %d %b %Y %T GMT&quot;, dup, set_tmx);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008685">
                    
                    <a name="M008685"></a><b>d.inspect  &rarr;  string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the value as a string for inspection.
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001,2,3).inspect
   #=&gt; &quot;#&lt;Date: 2001-02-03 ((2451944j,0s,0n),+0s,2299161j)&gt;&quot;
   DateTime.new(2001,2,3,4,5,6,'-7').inspect
   #=&gt; &quot;#&lt;DateTime: 2001-02-03T04:05:06-07:00 ((2451944j,39906s,0n),-25200s,2299161j)&gt;&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008685_source')" id="l_M008685_source">show</a>
                        
                    </p>
                    <div id="M008685_source" class="dyn-source">
                        <pre>static VALUE
d_lite_inspect(VALUE self)
{
    get_d1(self);
    {
  VALUE to_s;

  RB_GC_GUARD(to_s) = f_to_s(self);
  return mk_inspect(dat, rb_obj_classname(self), RSTRING_PTR(to_s));
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008702">
                    
                    <a name="M008702"></a><b>d.iso8601    &rarr;  string
d.xmlschema  &rarr;  string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
This method is equivalent to strftime(&#8217;%F&#8217;).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008702_source')" id="l_M008702_source">show</a>
                        
                    </p>
                    <div id="M008702_source" class="dyn-source">
                        <pre>static VALUE
d_lite_iso8601(VALUE self)
{
    return strftimev(&quot;%Y-%m-%d&quot;, self, set_tmx);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008631">
                    
                    <a name="M008631"></a><b>d.italy  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
This method is equivalent to <a
href="Date.html#M008629">new_start</a>(Date::ITALY).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008631_source')" id="l_M008631_source">show</a>
                        
                    </p>
                    <div id="M008631_source" class="dyn-source">
                        <pre>static VALUE
d_lite_italy(VALUE self)
{
    return dup_obj_with_new_start(self, ITALY);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008594">
                    
                    <a name="M008594"></a><b>d.jd  &rarr;  integer
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the Julian day number. This is a whole number, which is adjusted by
the offset as the local time.
</p>
<p>
For example:
</p>
<pre>
   DateTime.new(2001,2,3,4,5,6,'+7').jd  #=&gt; 2451944
   DateTime.new(2001,2,3,4,5,6,'-7').jd  #=&gt; 2451944
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008594_source')" id="l_M008594_source">show</a>
                        
                    </p>
                    <div id="M008594_source" class="dyn-source">
                        <pre>static VALUE
d_lite_jd(VALUE self)
{
    get_d1(self);
    return m_real_local_jd(dat);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008718">
                    
                    <a name="M008718"></a><b>d.jisx0301  &rarr;  string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a string in a JIS X 0301 format.
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001,2,3).jisx0301 #=&gt; &quot;H13.02.03&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008718_source')" id="l_M008718_source">show</a>
                        
                    </p>
                    <div id="M008718_source" class="dyn-source">
                        <pre>static VALUE
d_lite_jisx0301(VALUE self)
{
    VALUE s;

    get_d1(self);
    s = jisx0301_date(m_real_local_jd(dat),
          m_real_year(dat));
    return strftimev(RSTRING_PTR(s), self, set_tmx);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008633">
                    
                    <a name="M008633"></a><b>d.julian  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
This method is equivalent to <a
href="Date.html#M008629">new_start</a>(Date::JULIAN).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008633_source')" id="l_M008633_source">show</a>
                        
                    </p>
                    <div id="M008633_source" class="dyn-source">
                        <pre>static VALUE
d_lite_julian(VALUE self)
{
    return dup_obj_with_new_start(self, JULIAN);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008624">
                    
                    <a name="M008624"></a><b>d.julian?  &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Retruns true if the date is before the day of calendar reform.
</p>
<p>
For example:
</p>
<pre>
    Date.new(1582,10,15).julian?   #=&gt; false
    (Date.new(1582,10,15) - 1).julian? #=&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008624_source')" id="l_M008624_source">show</a>
                        
                    </p>
                    <div id="M008624_source" class="dyn-source">
                        <pre>static VALUE
d_lite_julian_p(VALUE self)
{
    get_d1(self);
    return f_boolcast(m_julian_p(dat));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008596">
                    
                    <a name="M008596"></a><b>d.ld  &rarr;  integer
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the Lilian day number. This is a whole number, which is adjusted by
the offset as the local time.
</p>
<p>
For example:
</p>
<pre>
    Date.new(2001,2,3).ld    #=&gt; 152784
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008596_source')" id="l_M008596_source">show</a>
                        
                    </p>
                    <div id="M008596_source" class="dyn-source">
                        <pre>static VALUE
d_lite_ld(VALUE self)
{
    get_d1(self);
    return f_sub(m_real_local_jd(dat), INT2FIX(2299160));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008627">
                    
                    <a name="M008627"></a><b>d.leap?  &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the year is a leap year.
</p>
<p>
For example:
</p>
<pre>
   Date.new(2000).leap?  #=&gt; true
   Date.new(2001).leap?  #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008627_source')" id="l_M008627_source">show</a>
                        
                    </p>
                    <div id="M008627_source" class="dyn-source">
                        <pre>static VALUE
d_lite_leap_p(VALUE self)
{
    int rjd, ns, ry, rm, rd;

    get_d1(self);
    if (m_gregorian_p(dat))
  return f_boolcast(c_gregorian_leap_p(m_year(dat)));

    c_civil_to_jd(m_year(dat), 3, 1, m_virtual_sg(dat),
      &amp;rjd, &amp;ns);
    c_jd_to_civil(rjd - 1, m_virtual_sg(dat), &amp;ry, &amp;rm, &amp;rd);
    return f_boolcast(rd == 29);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008601">
                    
                    <a name="M008601"></a><b>d.mday  &rarr;  fixnum
d.day   &rarr;  fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the day of the month (1-31).
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001,2,3).mday   #=&gt; 3
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008601_source')" id="l_M008601_source">show</a>
                        
                    </p>
                    <div id="M008601_source" class="dyn-source">
                        <pre>static VALUE
d_lite_mday(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_mday(dat));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008595">
                    
                    <a name="M008595"></a><b>d.mjd  &rarr;  integer
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the modified Julian day number. This is a whole number, which is
adjusted by the offset as the local time.
</p>
<p>
For example:
</p>
<pre>
   DateTime.new(2001,2,3,4,5,6,'+7').mjd #=&gt; 51943
   DateTime.new(2001,2,3,4,5,6,'-7').mjd #=&gt; 51943
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008595_source')" id="l_M008595_source">show</a>
                        
                    </p>
                    <div id="M008595_source" class="dyn-source">
                        <pre>static VALUE
d_lite_mjd(VALUE self)
{
    get_d1(self);
    return f_sub(m_real_local_jd(dat), INT2FIX(2400001));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008599">
                    
                    <a name="M008599"></a><b>d.mon    &rarr;  fixnum
d.month  &rarr;  fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the month (1-12).
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001,2,3).mon    #=&gt; 2
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008599_source')" id="l_M008599_source">show</a>
                        
                    </p>
                    <div id="M008599_source" class="dyn-source">
                        <pre>static VALUE
d_lite_mon(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_mon(dat));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008609">
                    
                    <a name="M008609"></a><b>d.monday?  &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the date is Monday.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008609_source')" id="l_M008609_source">show</a>
                        
                    </p>
                    <div id="M008609_source" class="dyn-source">
                        <pre>static VALUE
d_lite_monday_p(VALUE self)
{
    get_d1(self);
    return f_boolcast(m_wday(dat) == 1);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008600">
                    
                    <a name="M008600"></a><b>d.mon    &rarr;  fixnum
d.month  &rarr;  fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the month (1-12).
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001,2,3).mon    #=&gt; 2
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008600_source')" id="l_M008600_source">show</a>
                        
                    </p>
                    <div id="M008600_source" class="dyn-source">
                        <pre>static VALUE
d_lite_mon(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_mon(dat));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008629">
                    
                    <a name="M008629"></a><b>d.new_start([start=Date::ITALY])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Duplicates self and resets its the day of calendar reform.
</p>
<p>
For example:
</p>
<pre>
   d = Date.new(1582,10,15)
   d.new_start(Date::JULIAN)   #=&gt; #&lt;Date: 1582-10-05 ...&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008629_source')" id="l_M008629_source">show</a>
                        
                    </p>
                    <div id="M008629_source" class="dyn-source">
                        <pre>static VALUE
d_lite_new_start(int argc, VALUE *argv, VALUE self)
{
    VALUE vsg;
    double sg;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;vsg);

    sg = DEFAULT_SG;
    if (argc &gt;= 1)
  val2sg(vsg, sg);

    return dup_obj_with_new_start(self, sg);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008642">
                    
                    <a name="M008642"></a><b>d.next  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a date object denoting the following day.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008642_source')" id="l_M008642_source">show</a>
                        
                    </p>
                    <div id="M008642_source" class="dyn-source">
                        <pre>static VALUE
d_lite_next(VALUE self)
{
    return d_lite_next_day(0, (VALUE *)NULL, self);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008639">
                    
                    <a name="M008639"></a><b>d.next_day([n=1])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
This method is equivalent to d + n.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008639_source')" id="l_M008639_source">show</a>
                        
                    </p>
                    <div id="M008639_source" class="dyn-source">
                        <pre>static VALUE
d_lite_next_day(int argc, VALUE *argv, VALUE self)
{
    VALUE n;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;n);
    if (argc &lt; 1)
  n = INT2FIX(1);
    return d_lite_plus(self, n);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008648">
                    
                    <a name="M008648"></a><b>d.next_month([n=1])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
This method is equivalent to d >> n
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008648_source')" id="l_M008648_source">show</a>
                        
                    </p>
                    <div id="M008648_source" class="dyn-source">
                        <pre>static VALUE
d_lite_next_month(int argc, VALUE *argv, VALUE self)
{
    VALUE n;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;n);
    if (argc &lt; 1)
  n = INT2FIX(1);
    return d_lite_rshift(self, n);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008650">
                    
                    <a name="M008650"></a><b>d.next_year([n=1])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
This method is equivalent to d >> (n * 12)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008650_source')" id="l_M008650_source">show</a>
                        
                    </p>
                    <div id="M008650_source" class="dyn-source">
                        <pre>static VALUE
d_lite_next_year(int argc, VALUE *argv, VALUE self)
{
    VALUE n;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;n);
    if (argc &lt; 1)
  n = INT2FIX(1);
    return d_lite_rshift(self, f_mul(n, INT2FIX(12)));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008641">
                    
                    <a name="M008641"></a><b>d.prev_day([n=1])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
This method is equivalent to d - n.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008641_source')" id="l_M008641_source">show</a>
                        
                    </p>
                    <div id="M008641_source" class="dyn-source">
                        <pre>static VALUE
d_lite_prev_day(int argc, VALUE *argv, VALUE self)
{
    VALUE n;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;n);
    if (argc &lt; 1)
  n = INT2FIX(1);
    return d_lite_minus(self, n);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008649">
                    
                    <a name="M008649"></a><b>d.prev_month([n=1])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
This method is equivalent to d << n
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008649_source')" id="l_M008649_source">show</a>
                        
                    </p>
                    <div id="M008649_source" class="dyn-source">
                        <pre>static VALUE
d_lite_prev_month(int argc, VALUE *argv, VALUE self)
{
    VALUE n;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;n);
    if (argc &lt; 1)
  n = INT2FIX(1);
    return d_lite_lshift(self, n);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008651">
                    
                    <a name="M008651"></a><b>d.prev_year([n=1])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
This method is equivalent to d << (n * 12)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008651_source')" id="l_M008651_source">show</a>
                        
                    </p>
                    <div id="M008651_source" class="dyn-source">
                        <pre>static VALUE
d_lite_prev_year(int argc, VALUE *argv, VALUE self)
{
    VALUE n;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;n);
    if (argc &lt; 1)
  n = INT2FIX(1);
    return d_lite_lshift(self, f_mul(n, INT2FIX(12)));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008715">
                    
                    <a name="M008715"></a><b>d.rfc2822  &rarr;  string
d.rfc822   &rarr;  string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
This method is equivalent to strftime(&#8217;%a, %-d %b %Y %T %z&#8217;).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008715_source')" id="l_M008715_source">show</a>
                        
                    </p>
                    <div id="M008715_source" class="dyn-source">
                        <pre>static VALUE
d_lite_rfc2822(VALUE self)
{
    return strftimev(&quot;%a, %-d %b %Y %T %z&quot;, self, set_tmx);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008704">
                    
                    <a name="M008704"></a><b>d.rfc3339  &rarr;  string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
This method is equivalent to strftime(&#8217;%FT%T%:z&#8217;).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008704_source')" id="l_M008704_source">show</a>
                        
                    </p>
                    <div id="M008704_source" class="dyn-source">
                        <pre>static VALUE
d_lite_rfc3339(VALUE self)
{
    return strftimev(&quot;%Y-%m-%dT%H:%M:%S%:z&quot;, self, set_tmx);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008716">
                    
                    <a name="M008716"></a><b>d.rfc2822  &rarr;  string
d.rfc822   &rarr;  string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
This method is equivalent to strftime(&#8217;%a, %-d %b %Y %T %z&#8217;).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008716_source')" id="l_M008716_source">show</a>
                        
                    </p>
                    <div id="M008716_source" class="dyn-source">
                        <pre>static VALUE
d_lite_rfc2822(VALUE self)
{
    return strftimev(&quot;%a, %-d %b %Y %T %z&quot;, self, set_tmx);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008614">
                    
                    <a name="M008614"></a><b>d.saturday?  &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the date is Saturday.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008614_source')" id="l_M008614_source">show</a>
                        
                    </p>
                    <div id="M008614_source" class="dyn-source">
                        <pre>static VALUE
d_lite_saturday_p(VALUE self)
{
    get_d1(self);
    return f_boolcast(m_wday(dat) == 6);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008628">
                    
                    <a name="M008628"></a><b>d.start  &rarr;  float
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the Julian day number denoting the day of calendar reform.
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001,2,3).start      #=&gt; 2299161.0
   Date.new(2001,2,3,Date::GREGORIAN).start  #=&gt; -Infinity
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008628_source')" id="l_M008628_source">show</a>
                        
                    </p>
                    <div id="M008628_source" class="dyn-source">
                        <pre>static VALUE
d_lite_start(VALUE self)
{
    get_d1(self);
    return DBL2NUM(m_sg(dat));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008652">
                    
                    <a name="M008652"></a><b>d.step(limit[, step=1])              &rarr;  enumerator
d.step(limit[, step=1]){|date| ...}  &rarr;  self
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Iterates evaluation of the given block, which takes a date object. The
limit should be a date object.
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001).step(Date.new(2001,-1,-1)).select{|d| d.sunday?}.size
       #=&gt; 52
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008652_source')" id="l_M008652_source">show</a>
                        
                    </p>
                    <div id="M008652_source" class="dyn-source">
                        <pre>static VALUE
d_lite_step(int argc, VALUE *argv, VALUE self)
{
    VALUE limit, step, date;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;limit, &amp;step);

    if (argc &lt; 2)
  step = INT2FIX(1);

#if 0
    if (f_zero_p(step))
  rb_raise(rb_eArgError, &quot;step can't be 0&quot;);
#endif

    RETURN_ENUMERATOR(self, argc, argv);

    date = self;
    switch (FIX2INT(f_cmp(step, INT2FIX(0)))) {
      case -1:
  while (FIX2INT(d_lite_cmp(date, limit)) &gt;= 0) {
      rb_yield(date);
      date = d_lite_plus(date, step);
  }
  break;
      case 0:
  while (1)
      rb_yield(date);
  break;
      case 1:
  while (FIX2INT(d_lite_cmp(date, limit)) &lt;= 0) {
      rb_yield(date);
      date = d_lite_plus(date, step);
  }
  break;
      default:
  abort();
    }
    return self;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008686">
                    
                    <a name="M008686"></a><b>d.strftime([format='%F'])  &rarr;  string
</b>
                    
                </div>
                
                <div class="description">
                  <pre>
 Formats date according to the directives in the given format
 string.
 The directives begins with a percent (%) character.
 Any text not listed as a directive will be passed through to the
 output string.

 The directive consists of a percent (%) character,
 zero or more flags, optional minimum field width,
 optional modifier and a conversion specifier
 as follows.

   %&lt;flags&gt;&lt;width&gt;&lt;modifier&gt;&lt;conversion&gt;

 Flags:
   -  don't pad a numerical output.
   _  use spaces for padding.
   0  use zeros for padding.
   ^  upcase the result string.
   #  change case.
   :  use colons for %z.

 The minimum field width specifies the minimum width.

 The modifier is &quot;E&quot; and &quot;O&quot;.
 They are ignored.

 Format directives:

   Date (Year, Month, Day):
     %Y - Year with century (can be negative, 4 digits at least)
             -0001, 0000, 1995, 2009, 14292, etc.
     %C - year / 100 (round down.  20 in 2009)
     %y - year % 100 (00..99)

     %m - Month of the year, zero-padded (01..12)
             %_m  blank-padded ( 1..12)
             %-m  no-padded (1..12)
     %B - The full month name (``January'')
             %^B  uppercased (``JANUARY'')
     %b - The abbreviated month name (``Jan'')
             %^b  uppercased (``JAN'')
     %h - Equivalent to %b

     %d - Day of the month, zero-padded (01..31)
             %-d  no-padded (1..31)
     %e - Day of the month, blank-padded ( 1..31)

     %j - Day of the year (001..366)

   Time (Hour, Minute, Second, Subsecond):
     %H - Hour of the day, 24-hour clock, zero-padded (00..23)
     %k - Hour of the day, 24-hour clock, blank-padded ( 0..23)
     %I - Hour of the day, 12-hour clock, zero-padded (01..12)
     %l - Hour of the day, 12-hour clock, blank-padded ( 1..12)
     %P - Meridian indicator, lowercase (``am'' or ``pm'')
     %p - Meridian indicator, uppercase (``AM'' or ``PM'')

     %M - Minute of the hour (00..59)

     %S - Second of the minute (00..59)

     %L - Millisecond of the second (000..999)
     %N - Fractional seconds digits, default is 9 digits (nanosecond)
             %3N  millisecond (3 digits)
             %6N  microsecond (6 digits)
             %9N  nanosecond (9 digits)
             %12N picosecond (12 digits)

   Time zone:
     %z - Time zone as hour and minute offset from UTC (e.g. +0900)
             %:z - hour and minute offset from UTC with a colon (e.g. +09:00)
             %::z - hour, minute and second offset from UTC (e.g. +09:00:00)
             %:::z - hour, minute and second offset from UTC
                                               (e.g. +09, +09:30, +09:30:30)
     %Z - Time zone abbreviation name

   Weekday:
     %A - The full weekday name (``Sunday'')
             %^A  uppercased (``SUNDAY'')
     %a - The abbreviated name (``Sun'')
             %^a  uppercased (``SUN'')
     %u - Day of the week (Monday is 1, 1..7)
     %w - Day of the week (Sunday is 0, 0..6)

   ISO 8601 week-based year and week number:
   The week 1 of YYYY starts with a Monday and includes YYYY-01-04.
   The days in the year before the first week are in the last week of
   the previous year.
     %G - The week-based year
     %g - The last 2 digits of the week-based year (00..99)
     %V - Week number of the week-based year (01..53)

   Week number:
   The week 1 of YYYY starts with a Sunday or Monday (according to %U
   or %W).  The days in the year before the first week are in week 0.
     %U - Week number of the year.  The week starts with Sunday.  (00..53)
     %W - Week number of the year.  The week starts with Monday.  (00..53)

   Seconds since the Unix Epoch:
     %s - Number of seconds since 1970-01-01 00:00:00 UTC.
     %Q - Number of microseconds since 1970-01-01 00:00:00 UTC.

   Literal string:
     %n - Newline character (\n)
     %t - Tab character (\t)
     %% - Literal ``%'' character

   Combination:
     %c - date and time (%a %b %e %T %Y)
     %D - Date (%m/%d/%y)
     %F - The ISO 8601 date format (%Y-%m-%d)
     %v - VMS date (%e-%b-%Y)
     %x - Same as %D
     %X - Same as %T
     %r - 12-hour time (%I:%M:%S %p)
     %R - 24-hour time (%H:%M)
     %T - 24-hour time (%H:%M:%S)
     %+ - date(1) (%a %b %e %H:%M:%S %Z %Y)

 This method is similar to strftime() function defined in ISO C and POSIX.
 Several directives (%a, %A, %b, %B, %c, %p, %r, %x, %X, %E*, %O* and %Z)
 are locale dependent in the function.
 However this method is locale independent.
 So, the result may differ even if a same format string is used in other
 systems such as C.
 It is good practice to avoid %x and %X because there are corresponding
 locale independent representations, %D and %T.

 Examples:

   d = DateTime.new(2007,11,19,8,37,48,&quot;-06:00&quot;)
       #=&gt; #&lt;DateTime: 2007-11-19T08:37:48-0600 ...&gt;
   d.strftime(&quot;Printed on %m/%d/%Y&quot;)   #=&gt; &quot;Printed on 11/19/2007&quot;
   d.strftime(&quot;at %I:%M%p&quot;)            #=&gt; &quot;at 08:37AM&quot;

 Various ISO 8601 formats:
   %Y%m%d           =&gt; 20071119                  Calendar date (basic)
   %F               =&gt; 2007-11-19                Calendar date (extended)
   %Y-%m            =&gt; 2007-11                   Calendar date, reduced accuracy, specific month
   %Y               =&gt; 2007                      Calendar date, reduced accuracy, specific year
   %C               =&gt; 20                        Calendar date, reduced accuracy, specific century
   %Y%j             =&gt; 2007323                   Ordinal date (basic)
   %Y-%j            =&gt; 2007-323                  Ordinal date (extended)
   %GW%V%u          =&gt; 2007W471                  Week date (basic)
   %G-W%V-%u        =&gt; 2007-W47-1                Week date (extended)
   %GW%V            =&gt; 2007W47                   Week date, reduced accuracy, specific week (basic)
   %G-W%V           =&gt; 2007-W47                  Week date, reduced accuracy, specific week (extended)
   %H%M%S           =&gt; 083748                    Local time (basic)
   %T               =&gt; 08:37:48                  Local time (extended)
   %H%M             =&gt; 0837                      Local time, reduced accuracy, specific minute (basic)
   %H:%M            =&gt; 08:37                     Local time, reduced accuracy, specific minute (extended)
   %H               =&gt; 08                        Local time, reduced accuracy, specific hour
   %H%M%S,%L        =&gt; 083748,000                Local time with decimal fraction, comma as decimal sign (basic)
   %T,%L            =&gt; 08:37:48,000              Local time with decimal fraction, comma as decimal sign (extended)
   %H%M%S.%L        =&gt; 083748.000                Local time with decimal fraction, full stop as decimal sign (basic)
   %T.%L            =&gt; 08:37:48.000              Local time with decimal fraction, full stop as decimal sign (extended)
   %H%M%S%z         =&gt; 083748-0600               Local time and the difference from UTC (basic)
   %T%:z            =&gt; 08:37:48-06:00            Local time and the difference from UTC (extended)
   %Y%m%dT%H%M%S%z  =&gt; 20071119T083748-0600      Date and time of day for calendar date (basic)
   %FT%T%:z         =&gt; 2007-11-19T08:37:48-06:00 Date and time of day for calendar date (extended)
   %Y%jT%H%M%S%z    =&gt; 2007323T083748-0600       Date and time of day for ordinal date (basic)
   %Y-%jT%T%:z      =&gt; 2007-323T08:37:48-06:00   Date and time of day for ordinal date (extended)
   %GW%V%uT%H%M%S%z =&gt; 2007W471T083748-0600      Date and time of day for week date (basic)
   %G-W%V-%uT%T%:z  =&gt; 2007-W47-1T08:37:48-06:00 Date and time of day for week date (extended)
   %Y%m%dT%H%M      =&gt; 20071119T0837             Calendar date and local time (basic)
   %FT%R            =&gt; 2007-11-19T08:37          Calendar date and local time (extended)
   %Y%jT%H%MZ       =&gt; 2007323T0837Z             Ordinal date and UTC of day (basic)
   %Y-%jT%RZ        =&gt; 2007-323T08:37Z           Ordinal date and UTC of day (extended)
   %GW%V%uT%H%M%z   =&gt; 2007W471T0837-0600        Week date and local time and difference from UTC (basic)
   %G-W%V-%uT%R%:z  =&gt; 2007-W47-1T08:37-06:00    Week date and local time and difference from UTC (extended)
</pre>
<p>
See also strftime(3) and strptime.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008686_source')" id="l_M008686_source">show</a>
                        
                    </p>
                    <div id="M008686_source" class="dyn-source">
                        <pre>static VALUE
d_lite_strftime(int argc, VALUE *argv, VALUE self)
{
    return date_strftime_internal(argc, argv, self,
          &quot;%Y-%m-%d&quot;, set_tmx);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008643">
                    
                    <a name="M008643"></a><b>d.next  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a date object denoting the following day.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008643_source')" id="l_M008643_source">show</a>
                        
                    </p>
                    <div id="M008643_source" class="dyn-source">
                        <pre>static VALUE
d_lite_next(VALUE self)
{
    return d_lite_next_day(0, (VALUE *)NULL, self);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008608">
                    
                    <a name="M008608"></a><b>d.sunday?  &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the date is Sunday.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008608_source')" id="l_M008608_source">show</a>
                        
                    </p>
                    <div id="M008608_source" class="dyn-source">
                        <pre>static VALUE
d_lite_sunday_p(VALUE self)
{
    get_d1(self);
    return f_boolcast(m_wday(dat) == 0);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008612">
                    
                    <a name="M008612"></a><b>d.thursday?  &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the date is Thursday.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008612_source')" id="l_M008612_source">show</a>
                        
                    </p>
                    <div id="M008612_source" class="dyn-source">
                        <pre>static VALUE
d_lite_thursday_p(VALUE self)
{
    get_d1(self);
    return f_boolcast(m_wday(dat) == 4);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008801">
                    
                    <a name="M008801"></a><b>d.to_date  &rarr;  self
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns self;
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008801_source')" id="l_M008801_source">show</a>
                        
                    </p>
                    <div id="M008801_source" class="dyn-source">
                        <pre>static VALUE
date_to_date(VALUE self)
{
    return self;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008802">
                    
                    <a name="M008802"></a><b>d.to_datetime  &rarr; datetime
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a <a href="DateTime.html">DateTime</a> object which denotes self.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008802_source')" id="l_M008802_source">show</a>
                        
                    </p>
                    <div id="M008802_source" class="dyn-source">
                        <pre>static VALUE
date_to_datetime(VALUE self)
{
    get_d1a(self);

    if (simple_dat_p(adat)) {
  VALUE new = d_lite_s_alloc_simple(cDateTime);
  {
      get_d1b(new);
      bdat-&gt;s = adat-&gt;s;
      return new;
  }
    }
    else {
  VALUE new = d_lite_s_alloc_complex(cDateTime);
  {
      get_d1b(new);
      bdat-&gt;c = adat-&gt;c;
      bdat-&gt;c.df = 0;
      bdat-&gt;c.sf = INT2FIX(0);
#ifndef USE_PACK
      bdat-&gt;c.hour = 0;
      bdat-&gt;c.min = 0;
      bdat-&gt;c.sec = 0;
#else
      bdat-&gt;c.pc = PACK5(EX_MON(adat-&gt;c.pc), EX_MDAY(adat-&gt;c.pc),
             0, 0, 0);
      bdat-&gt;c.flags |= HAVE_DF | HAVE_TIME;
#endif
      return new;
  }
    }
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M009201">
                    
                    <a name="M009201"></a><b>to_json</b>(*args)
                    
                </div>
                
                <div class="description">
                  <p>
Stores class name (<a href="Date.html">Date</a>) with Julian year
<tt>y</tt>, month <tt>m</tt>, day <tt>d</tt> and Day of Calendar Reform
<tt>sg</tt> as <a href="JSON.html">JSON</a> string
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M009201_source')" id="l_M009201_source">show</a>
                        
                    </p>
                    <div id="M009201_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/json/lib/json/add/core.rb, line 88</span>
88:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_json</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
89:     <span class="ruby-identifier">as_json</span>.<span class="ruby-identifier">to_json</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
90:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008684">
                    
                    <a name="M008684"></a><b>d.to_s  &rarr;  string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a string in an ISO 8601 format (This method doesn&#8217;t use the
expanded representations).
</p>
<p>
For example:
</p>
<pre>
    Date.new(2001,2,3).to_s  #=&gt; &quot;2001-02-03&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008684_source')" id="l_M008684_source">show</a>
                        
                    </p>
                    <div id="M008684_source" class="dyn-source">
                        <pre>static VALUE
d_lite_to_s(VALUE self)
{
    return strftimev(&quot;%Y-%m-%d&quot;, self, set_tmx);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008800">
                    
                    <a name="M008800"></a><b>d.to_time  &rarr;  time
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns a <a href="Time.html">Time</a> object which denotes self.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008800_source')" id="l_M008800_source">show</a>
                        
                    </p>
                    <div id="M008800_source" class="dyn-source">
                        <pre>static VALUE
date_to_time(VALUE self)
{
    get_d1(self);

    return f_local3(rb_cTime,
        m_real_year(dat),
        INT2FIX(m_mon(dat)),
        INT2FIX(m_mday(dat)));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008610">
                    
                    <a name="M008610"></a><b>d.tuesday?  &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the date is Tuesday.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008610_source')" id="l_M008610_source">show</a>
                        
                    </p>
                    <div id="M008610_source" class="dyn-source">
                        <pre>static VALUE
d_lite_tuesday_p(VALUE self)
{
    get_d1(self);
    return f_boolcast(m_wday(dat) == 2);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008661">
                    
                    <a name="M008661"></a><b>d.upto(max)              &rarr;  enumerator
d.upto(max){|date| ...}  &rarr;  self
</b>
                    
                </div>
                
                <div class="description">
                  <p>
This method is equivalent to step(max, 1){|date| &#8230;}.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008661_source')" id="l_M008661_source">show</a>
                        
                    </p>
                    <div id="M008661_source" class="dyn-source">
                        <pre>static VALUE
d_lite_upto(VALUE self, VALUE max)
{
    VALUE date;

    RETURN_ENUMERATOR(self, 1, &amp;max);

    date = self;
    while (FIX2INT(d_lite_cmp(date, max)) &lt;= 0) {
  rb_yield(date);
  date = d_lite_plus(date, INT2FIX(1));
    }
    return self;
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008607">
                    
                    <a name="M008607"></a><b>d.wday  &rarr;  fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the day of week (0-6, Sunday is zero).
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001,2,3).wday   #=&gt; 6
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008607_source')" id="l_M008607_source">show</a>
                        
                    </p>
                    <div id="M008607_source" class="dyn-source">
                        <pre>static VALUE
d_lite_wday(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_wday(dat));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008611">
                    
                    <a name="M008611"></a><b>d.wednesday?  &rarr;  bool
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the date is Wednesday.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008611_source')" id="l_M008611_source">show</a>
                        
                    </p>
                    <div id="M008611_source" class="dyn-source">
                        <pre>static VALUE
d_lite_wednesday_p(VALUE self)
{
    get_d1(self);
    return f_boolcast(m_wday(dat) == 3);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008703">
                    
                    <a name="M008703"></a><b>d.iso8601    &rarr;  string
d.xmlschema  &rarr;  string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
This method is equivalent to strftime(&#8217;%F&#8217;).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008703_source')" id="l_M008703_source">show</a>
                        
                    </p>
                    <div id="M008703_source" class="dyn-source">
                        <pre>static VALUE
d_lite_iso8601(VALUE self)
{
    return strftimev(&quot;%Y-%m-%d&quot;, self, set_tmx);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008598">
                    
                    <a name="M008598"></a><b>d.yday  &rarr;  fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the day of the year (1-366).
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001,2,3).yday   #=&gt; 34
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008598_source')" id="l_M008598_source">show</a>
                        
                    </p>
                    <div id="M008598_source" class="dyn-source">
                        <pre>static VALUE
d_lite_yday(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_yday(dat));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008597">
                    
                    <a name="M008597"></a><b>d.year  &rarr;  integer
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the year.
</p>
<p>
For example:
</p>
<pre>
   Date.new(2001,2,3).year   #=&gt; 2001
   (Date.new(1,1,1) - 1).year  #=&gt; 0
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008597_source')" id="l_M008597_source">show</a>
                        
                    </p>
                    <div id="M008597_source" class="dyn-source">
                        <pre>static VALUE
d_lite_year(VALUE self)
{
    get_d1(self);
    return m_real_year(dat);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M008615">
                    
                    <a name="M008615"></a><b>d.hour  &rarr;  fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the hour (0-23).
</p>
<p>
For example:
</p>
<pre>
   DateTime.new(2001,2,3,4,5,6).hour   #=&gt; 4
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008615_source')" id="l_M008615_source">show</a>
                        
                    </p>
                    <div id="M008615_source" class="dyn-source">
                        <pre>static VALUE
d_lite_hour(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_hour(dat));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008616">
                    
                    <a name="M008616"></a><b>d.min     &rarr;  fixnum
d.minute  &rarr;  fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the minute (0-59).
</p>
<p>
For example:
</p>
<pre>
   DateTime.new(2001,2,3,4,5,6).min    #=&gt; 5
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008616_source')" id="l_M008616_source">show</a>
                        
                    </p>
                    <div id="M008616_source" class="dyn-source">
                        <pre>static VALUE
d_lite_min(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_min(dat));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008617">
                    
                    <a name="M008617"></a><b>d.min     &rarr;  fixnum
d.minute  &rarr;  fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the minute (0-59).
</p>
<p>
For example:
</p>
<pre>
   DateTime.new(2001,2,3,4,5,6).min    #=&gt; 5
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008617_source')" id="l_M008617_source">show</a>
                        
                    </p>
                    <div id="M008617_source" class="dyn-source">
                        <pre>static VALUE
d_lite_min(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_min(dat));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008636">
                    
                    <a name="M008636"></a><b>d.new_offset([offset=0])  &rarr;  date
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Duplicates self and resets its offset.
</p>
<p>
For example:
</p>
<pre>
   d = DateTime.new(2001,2,3,4,5,6,'-02:00')
       #=&gt; #&lt;DateTime: 2001-02-03T04:05:06-02:00 ...&gt;
   d.new_offset('+09:00')  #=&gt; #&lt;DateTime: 2001-02-03T15:05:06+09:00 ...&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008636_source')" id="l_M008636_source">show</a>
                        
                    </p>
                    <div id="M008636_source" class="dyn-source">
                        <pre>static VALUE
d_lite_new_offset(int argc, VALUE *argv, VALUE self)
{
    VALUE vof;
    int rof;

    rb_scan_args(argc, argv, &quot;01&quot;, &amp;vof);

    rof = 0;
    if (argc &gt;= 1)
  val2off(vof, rof);

    return dup_obj_with_new_offset(self, rof);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008622">
                    
                    <a name="M008622"></a><b>d.offset  &rarr;  rational
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the offset.
</p>
<p>
For example:
</p>
<pre>
   DateTime.parse('04pm+0730').offset  #=&gt; (5/16)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008622_source')" id="l_M008622_source">show</a>
                        
                    </p>
                    <div id="M008622_source" class="dyn-source">
                        <pre>static VALUE
d_lite_offset(VALUE self)
{
    get_d1(self);
    return m_of_in_day(dat);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008618">
                    
                    <a name="M008618"></a><b>d.sec     &rarr;  fixnum
d.second  &rarr;  fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the second (0-59).
</p>
<p>
For example:
</p>
<pre>
   DateTime.new(2001,2,3,4,5,6).sec    #=&gt; 6
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008618_source')" id="l_M008618_source">show</a>
                        
                    </p>
                    <div id="M008618_source" class="dyn-source">
                        <pre>static VALUE
d_lite_sec(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_sec(dat));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008620">
                    
                    <a name="M008620"></a><b>d.sec_fraction     &rarr;  rational
d.second_fraction  &rarr;  rational
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the fractional part of the second.
</p>
<p>
For example:
</p>
<pre>
   DateTime.new(2001,2,3,4,5,6.5).sec_fraction #=&gt; (1/2)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008620_source')" id="l_M008620_source">show</a>
                        
                    </p>
                    <div id="M008620_source" class="dyn-source">
                        <pre>static VALUE
d_lite_sec_fraction(VALUE self)
{
    get_d1(self);
    return m_sf_in_sec(dat);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008619">
                    
                    <a name="M008619"></a><b>d.sec     &rarr;  fixnum
d.second  &rarr;  fixnum
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the second (0-59).
</p>
<p>
For example:
</p>
<pre>
   DateTime.new(2001,2,3,4,5,6).sec    #=&gt; 6
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008619_source')" id="l_M008619_source">show</a>
                        
                    </p>
                    <div id="M008619_source" class="dyn-source">
                        <pre>static VALUE
d_lite_sec(VALUE self)
{
    get_d1(self);
    return INT2FIX(m_sec(dat));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008621">
                    
                    <a name="M008621"></a><b>d.sec_fraction     &rarr;  rational
d.second_fraction  &rarr;  rational
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the fractional part of the second.
</p>
<p>
For example:
</p>
<pre>
   DateTime.new(2001,2,3,4,5,6.5).sec_fraction #=&gt; (1/2)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008621_source')" id="l_M008621_source">show</a>
                        
                    </p>
                    <div id="M008621_source" class="dyn-source">
                        <pre>static VALUE
d_lite_sec_fraction(VALUE self)
{
    get_d1(self);
    return m_sf_in_sec(dat);
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M008623">
                    
                    <a name="M008623"></a><b>d.zone  &rarr;  string
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Returns the timezone.
</p>
<p>
For example:
</p>
<pre>
   DateTime.parse('04pm+0730').zone    #=&gt; &quot;+07:30&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M008623_source')" id="l_M008623_source">show</a>
                        
                    </p>
                    <div id="M008623_source" class="dyn-source">
                        <pre>static VALUE
d_lite_zone(VALUE self)
{
    get_d1(self);
    return m_zone(dat);
}</pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    