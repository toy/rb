<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>REXML::Functions</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            REXML::Functions 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/rexml/functions_rb.html">lib/rexml/functions.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
If you add a method, keep in mind two things: (1) the first argument will
always be a list of nodes from which to filter. In the case of context
methods (such as position), the function should return an array with a
value for each child in the array. (2) all method calls from <a
href="../XML.html">XML</a> will have &#8220;-&#8221; replaced with
&#8220;_&#8221;. Therefore, in <a href="../XML.html">XML</a>,
&#8220;local-name()&#8221; is identical (and actually becomes) &#8220;<a
href="Functions.html#M005169">local_name</a>()&#8220;
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M005201">boolean</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M005221">ceiling</a>,</li>
                
                <li><a href="#M005213">compare_language</a>,</li>
                
                <li><a href="#M005178">concat</a>,</li>
                
                <li><a href="#M005180">contains</a>,</li>
                
                <li><a href="#M005161">context=</a>,</li>
                
                <li><a href="#M005167">count</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M005207">false</a>,</li>
                
                <li><a href="#M005220">floor</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M005175">get_namespace</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M005168">id</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M005208">lang</a>,</li>
                
                <li><a href="#M005163">last</a>,</li>
                
                <li><a href="#M005169">local_name</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M005224">method_missing</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M005174">name</a>,</li>
                
                <li><a href="#M005158">namespace_context</a>,</li>
                
                <li><a href="#M005156">namespace_context=</a>,</li>
                
                <li><a href="#M005170">namespace_uri</a>,</li>
                
                <li><a href="#M005192">normalize_space</a>,</li>
                
                <li><a href="#M005205">not</a>,</li>
                
                <li><a href="#M005217">number</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M005166">position</a>,</li>
                
                <li><a href="#M005223">processing_instruction</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M005222">round</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M005179">starts_with</a>,</li>
                
                <li><a href="#M005176">string</a>,</li>
                
                <li><a href="#M005191">string_length</a>,</li>
                
                <li><a href="#M005177">string_value</a>,</li>
                
                <li><a href="#M005184">substring</a>,</li>
                
                <li><a href="#M005183">substring_after</a>,</li>
                
                <li><a href="#M005181">substring_before</a>,</li>
                
                <li><a href="#M005219">sum</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M005162">text</a>,</li>
                
                <li><a href="#M005197">translate</a>,</li>
                
                <li><a href="#M005206">true</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M005159">variables</a>,</li>
                
                <li><a href="#M005157">variables=</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M005201">
                    
                    <a name="M005201"></a><b>boolean</b>( object=nil )
                    
                </div>
                
                <div class="description">
                  <p>
UNTESTED
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005201_source')" id="l_M005201_source">show</a>
                        
                    </p>
                    <div id="M005201_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 277</span>
277:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">boolean</span>( <span class="ruby-identifier">object</span>=<span class="ruby-keyword kw">nil</span> )
278:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">String</span>
279:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">object</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\d+/</span><span class="ruby-identifier">u</span>
280:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
281:         <span class="ruby-keyword kw">else</span>
282:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
283:         <span class="ruby-keyword kw">end</span>
284:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Array</span>
285:         <span class="ruby-identifier">object</span> = <span class="ruby-identifier">object</span>.<span class="ruby-identifier">find</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">true</span>}
286:       <span class="ruby-keyword kw">end</span>
287:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">object</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">false</span>
288:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005221">
                    
                    <a name="M005221"></a><b>ceiling</b>( number )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005221_source')" id="l_M005221_source">show</a>
                        
                    </p>
                    <div id="M005221_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 373</span>
373:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">ceiling</span>( <span class="ruby-identifier">number</span> )
374:       <span class="ruby-identifier">number</span>(<span class="ruby-identifier">number</span>).<span class="ruby-identifier">ceil</span>
375:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005213">
                    
                    <a name="M005213"></a><b>compare_language</b>(lang1, lang2)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005213_source')" id="l_M005213_source">show</a>
                        
                    </p>
                    <div id="M005213_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 324</span>
324:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">compare_language</span> <span class="ruby-identifier">lang1</span>, <span class="ruby-identifier">lang2</span>
325:       <span class="ruby-identifier">lang2</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">lang1</span>.<span class="ruby-identifier">downcase</span>) <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
326:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005178">
                    
                    <a name="M005178"></a><b>concat</b>( *objects )
                    
                </div>
                
                <div class="description">
                  <p>
UNTESTED
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005178_source')" id="l_M005178_source">show</a>
                        
                    </p>
                    <div id="M005178_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 152</span>
152:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">concat</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">objects</span> )
153:       <span class="ruby-identifier">objects</span>.<span class="ruby-identifier">join</span>
154:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005180">
                    
                    <a name="M005180"></a><b>contains</b>( string, test )
                    
                </div>
                
                <div class="description">
                  <p>
Fixed by Mike Stok
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005180_source')" id="l_M005180_source">show</a>
                        
                    </p>
                    <div id="M005180_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 162</span>
162:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">contains</span>( <span class="ruby-identifier">string</span>, <span class="ruby-identifier">test</span> )
163:       <span class="ruby-identifier">string</span>(<span class="ruby-identifier">string</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">string</span>(<span class="ruby-identifier">test</span>))
164:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005161">
                    
                    <a name="M005161"></a><b>context=</b>(value)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005161_source')" id="l_M005161_source">show</a>
                        
                    </p>
                    <div id="M005161_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 19</span>
19:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">context=</span>(<span class="ruby-identifier">value</span>); <span class="ruby-ivar">@@context</span> = <span class="ruby-identifier">value</span>; <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005167">
                    
                    <a name="M005167"></a><b>count</b>( node_set )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the size of the given list of nodes.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005167_source')" id="l_M005167_source">show</a>
                        
                    </p>
                    <div id="M005167_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 41</span>
41:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">count</span>( <span class="ruby-identifier">node_set</span> )
42:       <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">size</span>
43:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005207">
                    
                    <a name="M005207"></a><b>false</b>( )
                    
                </div>
                
                <div class="description">
                  <p>
UNTESTED
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005207_source')" id="l_M005207_source">show</a>
                        
                    </p>
                    <div id="M005207_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 301</span>
301:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-keyword kw">false</span>(  )
302:       <span class="ruby-keyword kw">false</span>
303:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005220">
                    
                    <a name="M005220"></a><b>floor</b>( number )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005220_source')" id="l_M005220_source">show</a>
                        
                    </p>
                    <div id="M005220_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 369</span>
369:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">floor</span>( <span class="ruby-identifier">number</span> )
370:       <span class="ruby-identifier">number</span>(<span class="ruby-identifier">number</span>).<span class="ruby-identifier">floor</span>
371:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005175">
                    
                    <a name="M005175"></a><b>get_namespace</b>( node_set = nil )
                    
                </div>
                
                <div class="description">
                  <p>
Helper method.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005175_source')" id="l_M005175_source">show</a>
                        
                    </p>
                    <div id="M005175_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 68</span>
68:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">get_namespace</span>( <span class="ruby-identifier">node_set</span> = <span class="ruby-keyword kw">nil</span> )
69:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">node_set</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
70:         <span class="ruby-keyword kw">yield</span> <span class="ruby-ivar">@@context</span>[<span class="ruby-identifier">:node</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-ivar">@@context</span>[<span class="ruby-identifier">:node</span>].<span class="ruby-identifier">namespace</span>
71:       <span class="ruby-keyword kw">else</span>
72:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-identifier">:each</span>
73:           <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">node</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span> }
74:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">node_set</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-identifier">:namespace</span>
75:           <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">node_set</span>
76:         <span class="ruby-keyword kw">end</span>
77:       <span class="ruby-keyword kw">end</span>
78:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005168">
                    
                    <a name="M005168"></a><b>id</b>( object )
                    
                </div>
                
                <div class="description">
                  <p>
Since <a href="../REXML.html">REXML</a> is non-validating, this method is
not implemented as it requires a <a href="DTD.html">DTD</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005168_source')" id="l_M005168_source">show</a>
                        
                    </p>
                    <div id="M005168_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 47</span>
47:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">id</span>( <span class="ruby-identifier">object</span> )
48:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005208">
                    
                    <a name="M005208"></a><b>lang</b>( language )
                    
                </div>
                
                <div class="description">
                  <p>
UNTESTED
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005208_source')" id="l_M005208_source">show</a>
                        
                    </p>
                    <div id="M005208_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 306</span>
306:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">lang</span>( <span class="ruby-identifier">language</span> )
307:       <span class="ruby-identifier">lang</span> = <span class="ruby-keyword kw">false</span>
308:       <span class="ruby-identifier">node</span> = <span class="ruby-ivar">@@context</span>[<span class="ruby-identifier">:node</span>]
309:       <span class="ruby-identifier">attr</span> = <span class="ruby-keyword kw">nil</span>
310:       <span class="ruby-keyword kw">until</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">nil?</span>
311:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">node_type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:element</span>
312:           <span class="ruby-identifier">attr</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">attributes</span>[<span class="ruby-value str">&quot;xml:lang&quot;</span>]
313:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">nil?</span>
314:             <span class="ruby-identifier">lang</span> = <span class="ruby-identifier">compare_language</span>(<span class="ruby-identifier">string</span>(<span class="ruby-identifier">language</span>), <span class="ruby-identifier">attr</span>)
315:             <span class="ruby-keyword kw">break</span>
316:           <span class="ruby-keyword kw">else</span>
317:           <span class="ruby-keyword kw">end</span>
318:         <span class="ruby-keyword kw">end</span>
319:         <span class="ruby-identifier">node</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>
320:       <span class="ruby-keyword kw">end</span>
321:       <span class="ruby-identifier">lang</span>
322:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005163">
                    
                    <a name="M005163"></a><b>last</b>( )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the last node of the given list of nodes.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005163_source')" id="l_M005163_source">show</a>
                        
                    </p>
                    <div id="M005163_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 32</span>
32:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">last</span>( )
33:       <span class="ruby-ivar">@@context</span>[<span class="ruby-identifier">:size</span>]
34:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005169">
                    
                    <a name="M005169"></a><b>local_name</b>( node_set=nil )
                    
                </div>
                
                <div class="description">
                  <p>
UNTESTED
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005169_source')" id="l_M005169_source">show</a>
                        
                    </p>
                    <div id="M005169_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 51</span>
51:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">local_name</span>( <span class="ruby-identifier">node_set</span>=<span class="ruby-keyword kw">nil</span> )
52:       <span class="ruby-identifier">get_namespace</span>( <span class="ruby-identifier">node_set</span> ) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
53:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">local_name</span>
54:       <span class="ruby-keyword kw">end</span>
55:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005224">
                    
                    <a name="M005224"></a><b>method_missing</b>( id )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005224_source')" id="l_M005224_source">show</a>
                        
                    </p>
                    <div id="M005224_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 389</span>
389:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">method_missing</span>( <span class="ruby-identifier">id</span> )
390:       <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;METHOD MISSING #{id.id2name}&quot;</span>
391:       <span class="ruby-constant">XPath</span>.<span class="ruby-identifier">match</span>( <span class="ruby-ivar">@@context</span>[<span class="ruby-identifier">:node</span>], <span class="ruby-identifier">id</span>.<span class="ruby-identifier">id2name</span> )
392:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005174">
                    
                    <a name="M005174"></a><b>name</b>( node_set=nil )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005174_source')" id="l_M005174_source">show</a>
                        
                    </p>
                    <div id="M005174_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 61</span>
61:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">name</span>( <span class="ruby-identifier">node_set</span>=<span class="ruby-keyword kw">nil</span> )
62:       <span class="ruby-identifier">get_namespace</span>( <span class="ruby-identifier">node_set</span> ) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
63:         <span class="ruby-identifier">node</span>.<span class="ruby-identifier">expanded_name</span>
64:       <span class="ruby-keyword kw">end</span>
65:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005158">
                    
                    <a name="M005158"></a><b>namespace_context</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005158_source')" id="l_M005158_source">show</a>
                        
                    </p>
                    <div id="M005158_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 16</span>
16:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">namespace_context</span> ; <span class="ruby-ivar">@@namespace_context</span> ; <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005156">
                    
                    <a name="M005156"></a><b>namespace_context=</b>(x)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005156_source')" id="l_M005156_source">show</a>
                        
                    </p>
                    <div id="M005156_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 14</span>
14:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">namespace_context=</span>(<span class="ruby-identifier">x</span>) ; <span class="ruby-ivar">@@namespace_context</span>=<span class="ruby-identifier">x</span> ; <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005170">
                    
                    <a name="M005170"></a><b>namespace_uri</b>( node_set=nil )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005170_source')" id="l_M005170_source">show</a>
                        
                    </p>
                    <div id="M005170_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 57</span>
57:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">namespace_uri</span>( <span class="ruby-identifier">node_set</span>=<span class="ruby-keyword kw">nil</span> )
58:       <span class="ruby-identifier">get_namespace</span>( <span class="ruby-identifier">node_set</span> ) {<span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">namespace</span>}
59:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005192">
                    
                    <a name="M005192"></a><b>normalize_space</b>( string=nil )
                    
                </div>
                
                <div class="description">
                  <p>
UNTESTED
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005192_source')" id="l_M005192_source">show</a>
                        
                    </p>
                    <div id="M005192_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 224</span>
224:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">normalize_space</span>( <span class="ruby-identifier">string</span>=<span class="ruby-keyword kw">nil</span> )
225:       <span class="ruby-identifier">string</span> = <span class="ruby-identifier">string</span>(<span class="ruby-ivar">@@context</span>[<span class="ruby-identifier">:node</span>]) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">string</span>.<span class="ruby-identifier">nil?</span>
226:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">string</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Array</span>
227:         <span class="ruby-identifier">string</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">string</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\s+/</span><span class="ruby-identifier">um</span>, <span class="ruby-value str">' '</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">string</span>}
228:       <span class="ruby-keyword kw">else</span>
229:         <span class="ruby-identifier">string</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\s+/</span><span class="ruby-identifier">um</span>, <span class="ruby-value str">' '</span>)
230:       <span class="ruby-keyword kw">end</span>
231:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005205">
                    
                    <a name="M005205"></a><b>not</b>( object )
                    
                </div>
                
                <div class="description">
                  <p>
UNTESTED
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005205_source')" id="l_M005205_source">show</a>
                        
                    </p>
                    <div id="M005205_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 291</span>
291:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-keyword kw">not</span>( <span class="ruby-identifier">object</span> )
292:       <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">boolean</span>( <span class="ruby-identifier">object</span> )
293:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005217">
                    
                    <a name="M005217"></a><b>number</b>( object=nil )
                    
                </div>
                
                <div class="description">
                  <p>
a string that consists of optional whitespace followed by an optional minus
sign followed by a Number followed by whitespace is converted to the IEEE
754 number that is nearest (according to the IEEE 754 round-to-nearest
rule) to the mathematical value represented by the string; any other string
is converted to NaN
</p>
<p>
boolean true is converted to 1; boolean false is converted to 0
</p>
<p>
a node-set is first converted to a string as if by a call to the string
function and then converted in the same way as a string argument
</p>
<p>
an object of a type other than the four basic types is converted to a
number in a way that is dependent on that type
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005217_source')" id="l_M005217_source">show</a>
                        
                    </p>
                    <div id="M005217_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 341</span>
341:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">number</span>( <span class="ruby-identifier">object</span>=<span class="ruby-keyword kw">nil</span> )
342:       <span class="ruby-identifier">object</span> = <span class="ruby-ivar">@@context</span>[<span class="ruby-identifier">:node</span>] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">object</span>
343:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">object</span>
344:       <span class="ruby-keyword kw">when</span> <span class="ruby-keyword kw">true</span>
345:         <span class="ruby-constant">Float</span>(<span class="ruby-value">1</span>)
346:       <span class="ruby-keyword kw">when</span> <span class="ruby-keyword kw">false</span>
347:         <span class="ruby-constant">Float</span>(<span class="ruby-value">0</span>)
348:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Array</span>
349:         <span class="ruby-identifier">number</span>(<span class="ruby-identifier">string</span>( <span class="ruby-identifier">object</span> ))
350:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Numeric</span>
351:         <span class="ruby-identifier">object</span>.<span class="ruby-identifier">to_f</span>
352:       <span class="ruby-keyword kw">else</span>
353:         <span class="ruby-identifier">str</span> = <span class="ruby-identifier">string</span>( <span class="ruby-identifier">object</span> )
354:         <span class="ruby-comment cmt"># If XPath ever gets scientific notation...</span>
355:         <span class="ruby-comment cmt">#if str =~ /^\s*-?(\d*\.?\d+|\d+\.)([Ee]\d*)?\s*$/</span>
356:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">str</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^\s*-?(\d*\.?\d+|\d+\.)\s*$/</span>
357:           <span class="ruby-identifier">str</span>.<span class="ruby-identifier">to_f</span>
358:         <span class="ruby-keyword kw">else</span>
359:           (<span class="ruby-value">0</span><span class="ruby-value">.0</span> <span class="ruby-operator">/</span> <span class="ruby-value">0</span><span class="ruby-value">.0</span>)
360:         <span class="ruby-keyword kw">end</span>
361:       <span class="ruby-keyword kw">end</span>
362:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005166">
                    
                    <a name="M005166"></a><b>position</b>( )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005166_source')" id="l_M005166_source">show</a>
                        
                    </p>
                    <div id="M005166_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 36</span>
36:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">position</span>( )
37:       <span class="ruby-ivar">@@context</span>[<span class="ruby-identifier">:index</span>]
38:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005223">
                    
                    <a name="M005223"></a><b>processing_instruction</b>( node )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005223_source')" id="l_M005223_source">show</a>
                        
                    </p>
                    <div id="M005223_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 385</span>
385:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">processing_instruction</span>( <span class="ruby-identifier">node</span> )
386:       <span class="ruby-identifier">node</span>.<span class="ruby-identifier">node_type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:processing_instruction</span>
387:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005222">
                    
                    <a name="M005222"></a><b>round</b>( number )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005222_source')" id="l_M005222_source">show</a>
                        
                    </p>
                    <div id="M005222_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 377</span>
377:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">round</span>( <span class="ruby-identifier">number</span> )
378:       <span class="ruby-keyword kw">begin</span>
379:         <span class="ruby-identifier">number</span>(<span class="ruby-identifier">number</span>).<span class="ruby-identifier">round</span>
380:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">FloatDomainError</span>
381:         <span class="ruby-identifier">number</span>(<span class="ruby-identifier">number</span>)
382:       <span class="ruby-keyword kw">end</span>
383:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005179">
                    
                    <a name="M005179"></a><b>starts_with</b>( string, test )
                    
                </div>
                
                <div class="description">
                  <p>
Fixed by Mike Stok
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005179_source')" id="l_M005179_source">show</a>
                        
                    </p>
                    <div id="M005179_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 157</span>
157:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">starts_with</span>( <span class="ruby-identifier">string</span>, <span class="ruby-identifier">test</span> )
158:       <span class="ruby-identifier">string</span>(<span class="ruby-identifier">string</span>).<span class="ruby-identifier">index</span>(<span class="ruby-identifier">string</span>(<span class="ruby-identifier">test</span>)) <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
159:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005176">
                    
                    <a name="M005176"></a><b>string</b>( object=nil )
                    
                </div>
                
                <div class="description">
                  <p>
A node-set is converted to a string by returning the string-value of the
node in the node-set that is first in document order. If the node-set is
empty, an empty string is returned.
</p>
<p>
A number is converted to a string as follows
</p>
<p>
NaN is converted to the string NaN
</p>
<p>
positive zero is converted to the string 0
</p>
<p>
negative zero is converted to the string 0
</p>
<p>
positive infinity is converted to the string Infinity
</p>
<p>
negative infinity is converted to the string -Infinity
</p>
<p>
if the number is an integer, the number is represented in decimal form as a
Number with no decimal point and no leading zeros, preceded by a minus sign
(-) if the number is negative
</p>
<p>
otherwise, the number is represented in decimal form as a Number including
a decimal point with at least one digit before the decimal point and at
least one digit after the decimal point, preceded by a minus sign (-) if
the number is negative; there must be no leading zeros before the decimal
point apart possibly from the one required digit immediately before the
decimal point; beyond the one required digit after the decimal point there
must be as many, but only as many, more digits as are needed to uniquely
distinguish the number from all other IEEE 754 numeric values.
</p>
<p>
The boolean false value is converted to the string false. The boolean true
value is converted to the string true.
</p>
<p>
An object of a type other than the four basic types is converted to a
string in a way that is dependent on that type.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005176_source')" id="l_M005176_source">show</a>
                        
                    </p>
                    <div id="M005176_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 115</span>
115:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">string</span>( <span class="ruby-identifier">object</span>=<span class="ruby-keyword kw">nil</span> )
116:       <span class="ruby-comment cmt">#object = @context unless object</span>
117:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">instance_of?</span> <span class="ruby-constant">Array</span>
118:         <span class="ruby-identifier">string</span>( <span class="ruby-identifier">object</span>[<span class="ruby-value">0</span>] )
119:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">node_type</span>
120:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">node_type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:attribute</span>
121:           <span class="ruby-identifier">object</span>.<span class="ruby-identifier">value</span>
122:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">node_type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:element</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">node_type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:document</span>
123:           <span class="ruby-identifier">string_value</span>(<span class="ruby-identifier">object</span>)
124:         <span class="ruby-keyword kw">else</span>
125:           <span class="ruby-identifier">object</span>.<span class="ruby-identifier">to_s</span>
126:         <span class="ruby-keyword kw">end</span>
127:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">nil?</span>
128:         <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span>
129:       <span class="ruby-keyword kw">else</span>
130:         <span class="ruby-identifier">object</span>.<span class="ruby-identifier">to_s</span>
131:       <span class="ruby-keyword kw">end</span>
132:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005191">
                    
                    <a name="M005191"></a><b>string_length</b>( string )
                    
                </div>
                
                <div class="description">
                  <p>
UNTESTED
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005191_source')" id="l_M005191_source">show</a>
                        
                    </p>
                    <div id="M005191_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 219</span>
219:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">string_length</span>( <span class="ruby-identifier">string</span> )
220:       <span class="ruby-identifier">string</span>(<span class="ruby-identifier">string</span>).<span class="ruby-identifier">length</span>
221:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005177">
                    
                    <a name="M005177"></a><b>string_value</b>( o )
                    
                </div>
                
                <div class="description">
                  <p>
A node-set is converted to a string by returning the concatenation of the
string-value of each of the children of the node in the node-set that is
first in document order. If the node-set is empty, an empty string is
returned.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005177_source')" id="l_M005177_source">show</a>
                        
                    </p>
                    <div id="M005177_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 139</span>
139:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">string_value</span>( <span class="ruby-identifier">o</span> )
140:       <span class="ruby-identifier">rv</span> = <span class="ruby-value str">&quot;&quot;</span>
141:       <span class="ruby-identifier">o</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
142:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">node_type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:text</span>
143:           <span class="ruby-identifier">rv</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">to_s</span>
144:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">node_type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:element</span>
145:           <span class="ruby-identifier">rv</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">string_value</span>( <span class="ruby-identifier">e</span> )
146:         <span class="ruby-keyword kw">end</span>
147:       }
148:       <span class="ruby-identifier">rv</span>
149:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005184">
                    
                    <a name="M005184"></a><b>substring</b>( string, start, length=nil )
                    
                </div>
                
                <div class="description">
                  <p>
Take equal portions of Mike Stok and Sean Russell; mix vigorously, and pour
into a tall, chilled glass. Serves 10,000.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005184_source')" id="l_M005184_source">show</a>
                        
                    </p>
                    <div id="M005184_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 186</span>
186:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">substring</span>( <span class="ruby-identifier">string</span>, <span class="ruby-identifier">start</span>, <span class="ruby-identifier">length</span>=<span class="ruby-keyword kw">nil</span> )
187:       <span class="ruby-identifier">ruby_string</span> = <span class="ruby-identifier">string</span>(<span class="ruby-identifier">string</span>)
188:       <span class="ruby-identifier">ruby_length</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">length</span>.<span class="ruby-identifier">nil?</span>
189:                       <span class="ruby-identifier">ruby_string</span>.<span class="ruby-identifier">length</span>.<span class="ruby-identifier">to_f</span>
190:                     <span class="ruby-keyword kw">else</span>
191:                       <span class="ruby-identifier">number</span>(<span class="ruby-identifier">length</span>)
192:                     <span class="ruby-keyword kw">end</span>
193:       <span class="ruby-identifier">ruby_start</span> = <span class="ruby-identifier">number</span>(<span class="ruby-identifier">start</span>)
194: 
195:       <span class="ruby-comment cmt"># Handle the special cases</span>
196:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">''</span> <span class="ruby-keyword kw">if</span> (
197:         <span class="ruby-identifier">ruby_length</span>.<span class="ruby-identifier">nan?</span> <span class="ruby-keyword kw">or</span>
198:         <span class="ruby-identifier">ruby_start</span>.<span class="ruby-identifier">nan?</span> <span class="ruby-keyword kw">or</span>
199:         <span class="ruby-identifier">ruby_start</span>.<span class="ruby-identifier">infinite?</span>
200:       )
201: 
202:       <span class="ruby-identifier">infinite_length</span> = <span class="ruby-identifier">ruby_length</span>.<span class="ruby-identifier">infinite?</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
203:       <span class="ruby-identifier">ruby_length</span> = <span class="ruby-identifier">ruby_string</span>.<span class="ruby-identifier">length</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">infinite_length</span>
204: 
205:       <span class="ruby-comment cmt"># Now, get the bounds.  The XPath bounds are 1..length; the ruby bounds</span>
206:       <span class="ruby-comment cmt"># are 0..length.  Therefore, we have to offset the bounds by one.</span>
207:       <span class="ruby-identifier">ruby_start</span> = <span class="ruby-identifier">ruby_start</span>.<span class="ruby-identifier">round</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
208:       <span class="ruby-identifier">ruby_length</span> = <span class="ruby-identifier">ruby_length</span>.<span class="ruby-identifier">round</span>
209: 
210:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ruby_start</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span>
211:        <span class="ruby-identifier">ruby_length</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">ruby_start</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">infinite_length</span>
212:        <span class="ruby-identifier">ruby_start</span> = <span class="ruby-value">0</span>
213:       <span class="ruby-keyword kw">end</span>
214:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">''</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ruby_length</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">0</span>
215:       <span class="ruby-identifier">ruby_string</span>[<span class="ruby-identifier">ruby_start</span>,<span class="ruby-identifier">ruby_length</span>]
216:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005183">
                    
                    <a name="M005183"></a><b>substring_after</b>( string, test )
                    
                </div>
                
                <div class="description">
                  <p>
Kouhei fixed this too
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005183_source')" id="l_M005183_source">show</a>
                        
                    </p>
                    <div id="M005183_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 178</span>
178:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">substring_after</span>( <span class="ruby-identifier">string</span>, <span class="ruby-identifier">test</span> )
179:       <span class="ruby-identifier">ruby_string</span> = <span class="ruby-identifier">string</span>(<span class="ruby-identifier">string</span>)
180:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">$1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ruby_string</span> <span class="ruby-operator">=~</span> <span class="ruby-node">/#{test}(.*)/</span>
181:       <span class="ruby-value str">&quot;&quot;</span>
182:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005181">
                    
                    <a name="M005181"></a><b>substring_before</b>( string, test )
                    
                </div>
                
                <div class="description">
                  <p>
Kouhei fixed this
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005181_source')" id="l_M005181_source">show</a>
                        
                    </p>
                    <div id="M005181_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 167</span>
167:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">substring_before</span>( <span class="ruby-identifier">string</span>, <span class="ruby-identifier">test</span> )
168:       <span class="ruby-identifier">ruby_string</span> = <span class="ruby-identifier">string</span>(<span class="ruby-identifier">string</span>)
169:       <span class="ruby-identifier">ruby_index</span> = <span class="ruby-identifier">ruby_string</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">string</span>(<span class="ruby-identifier">test</span>))
170:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ruby_index</span>.<span class="ruby-identifier">nil?</span>
171:         <span class="ruby-value str">&quot;&quot;</span>
172:       <span class="ruby-keyword kw">else</span>
173:         <span class="ruby-identifier">ruby_string</span>[ <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">ruby_index</span> ]
174:       <span class="ruby-keyword kw">end</span>
175:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005219">
                    
                    <a name="M005219"></a><b>sum</b>( nodes )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005219_source')" id="l_M005219_source">show</a>
                        
                    </p>
                    <div id="M005219_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 364</span>
364:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">sum</span>( <span class="ruby-identifier">nodes</span> )
365:       <span class="ruby-identifier">nodes</span> = [<span class="ruby-identifier">nodes</span>] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Array</span>
366:       <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-value">0</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span>,<span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">r</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">number</span>(<span class="ruby-identifier">string</span>(<span class="ruby-identifier">n</span>)) }
367:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005162">
                    
                    <a name="M005162"></a><b>text</b>( )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005162_source')" id="l_M005162_source">show</a>
                        
                    </p>
                    <div id="M005162_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 21</span>
21:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">text</span>( )
22:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@@context</span>[<span class="ruby-identifier">:node</span>].<span class="ruby-identifier">node_type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:element</span>
23:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@@context</span>[<span class="ruby-identifier">:node</span>].<span class="ruby-identifier">find_all</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">node_type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:text</span>}.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">value</span>}
24:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@@context</span>[<span class="ruby-identifier">:node</span>].<span class="ruby-identifier">node_type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:text</span>
25:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@@context</span>[<span class="ruby-identifier">:node</span>].<span class="ruby-identifier">value</span>
26:       <span class="ruby-keyword kw">else</span>
27:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span>
28:       <span class="ruby-keyword kw">end</span>
29:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005197">
                    
                    <a name="M005197"></a><b>translate</b>( string, tr1, tr2 )
                    
                </div>
                
                <div class="description">
                  <p>
This is entirely Mike Stok&#8217;s beast
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005197_source')" id="l_M005197_source">show</a>
                        
                    </p>
                    <div id="M005197_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 234</span>
234:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">translate</span>( <span class="ruby-identifier">string</span>, <span class="ruby-identifier">tr1</span>, <span class="ruby-identifier">tr2</span> )
235:       <span class="ruby-identifier">from</span> = <span class="ruby-identifier">string</span>(<span class="ruby-identifier">tr1</span>)
236:       <span class="ruby-identifier">to</span> = <span class="ruby-identifier">string</span>(<span class="ruby-identifier">tr2</span>)
237: 
238:       <span class="ruby-comment cmt"># the map is our translation table.</span>
239:       <span class="ruby-comment cmt">#</span>
240:       <span class="ruby-comment cmt"># if a character occurs more than once in the</span>
241:       <span class="ruby-comment cmt"># from string then we ignore the second &amp;</span>
242:       <span class="ruby-comment cmt"># subsequent mappings</span>
243:       <span class="ruby-comment cmt">#</span>
244:       <span class="ruby-comment cmt"># if a character maps to nil then we delete it</span>
245:       <span class="ruby-comment cmt"># in the output.  This happens if the from</span>
246:       <span class="ruby-comment cmt"># string is longer than the to string</span>
247:       <span class="ruby-comment cmt">#</span>
248:       <span class="ruby-comment cmt"># there's nothing about - or ^ being special in</span>
249:       <span class="ruby-comment cmt"># http://www.w3.org/TR/xpath#function-translate</span>
250:       <span class="ruby-comment cmt"># so we don't build ranges or negated classes</span>
251: 
252:       <span class="ruby-identifier">map</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
253:       <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">from</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">pos</span><span class="ruby-operator">|</span>
254:         <span class="ruby-identifier">from_char</span> = <span class="ruby-identifier">from</span>[<span class="ruby-identifier">pos</span>]
255:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">has_key?</span> <span class="ruby-identifier">from_char</span>
256:           <span class="ruby-identifier">map</span>[<span class="ruby-identifier">from_char</span>] =
257:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pos</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">to</span>.<span class="ruby-identifier">length</span>
258:             <span class="ruby-identifier">to</span>[<span class="ruby-identifier">pos</span>]
259:           <span class="ruby-keyword kw">else</span>
260:             <span class="ruby-keyword kw">nil</span>
261:           <span class="ruby-keyword kw">end</span>
262:         <span class="ruby-keyword kw">end</span>
263:       }
264: 
265:       <span class="ruby-keyword kw">if</span> <span class="ruby-value str">''</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-identifier">:chars</span>
266:         <span class="ruby-identifier">string</span>(<span class="ruby-identifier">string</span>).<span class="ruby-identifier">chars</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
267:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">has_key?</span> <span class="ruby-identifier">c</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">map</span>[<span class="ruby-identifier">c</span>] <span class="ruby-keyword kw">else</span> <span class="ruby-identifier">c</span> <span class="ruby-keyword kw">end</span>
268:         }.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>
269:       <span class="ruby-keyword kw">else</span>
270:         <span class="ruby-identifier">string</span>(<span class="ruby-identifier">string</span>).<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">'U*'</span>).<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
271:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">has_key?</span> <span class="ruby-identifier">c</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">map</span>[<span class="ruby-identifier">c</span>] <span class="ruby-keyword kw">else</span> <span class="ruby-identifier">c</span> <span class="ruby-keyword kw">end</span>
272:         }.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'U*'</span>)
273:       <span class="ruby-keyword kw">end</span>
274:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005206">
                    
                    <a name="M005206"></a><b>true</b>( )
                    
                </div>
                
                <div class="description">
                  <p>
UNTESTED
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005206_source')" id="l_M005206_source">show</a>
                        
                    </p>
                    <div id="M005206_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 296</span>
296:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-keyword kw">true</span>( )
297:       <span class="ruby-keyword kw">true</span>
298:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005159">
                    
                    <a name="M005159"></a><b>variables</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005159_source')" id="l_M005159_source">show</a>
                        
                    </p>
                    <div id="M005159_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 17</span>
17:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">variables</span> ; <span class="ruby-ivar">@@variables</span> ; <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005157">
                    
                    <a name="M005157"></a><b>variables=</b>(x)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005157_source')" id="l_M005157_source">show</a>
                        
                    </p>
                    <div id="M005157_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/functions.rb, line 15</span>
15:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Functions</span><span class="ruby-operator">::</span><span class="ruby-identifier">variables=</span>(<span class="ruby-identifier">x</span>) ; <span class="ruby-ivar">@@variables</span>=<span class="ruby-identifier">x</span> ; <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    