<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>REXML::Document</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            REXML::Document 
            
                <span class="parent">&lt; 
                    
                    Element
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/rexml/document_rb.html">lib/rexml/document.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Represents a full <a href="../XML.html">XML</a> document, including PIs, a
doctype, etc. A <a href="Document.html">Document</a> has a single child
that can be accessed by root(). Note that if you want to have an <a
href="../XML.html">XML</a> declaration written for a document you create,
you must add one; <a href="../REXML.html">REXML</a> documents do not write
a default declaration for you. See |DECLARATION| and |write|.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M004966"><<</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M004959">add</a>,</li>
                
                <li><a href="#M004967">add_element</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M004981">build</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M004953">clone</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M004969">doctype</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M004974">encoding</a>,</li>
                
                <li><a href="#M004979">entity_expansion_limit</a>,</li>
                
                <li><a href="#M004978">entity_expansion_limit=</a>,</li>
                
                <li><a href="#M004957">expanded_name</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M004958">name</a>,</li>
                
                <li><a href="#M004951">new</a>,</li>
                
                <li><a href="#M004952">node_type</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M004977">parse_stream</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M004980">record_entity_expansion</a>,</li>
                
                <li><a href="#M004968">root</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M004975">stand_alone?</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M004973">version</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M004976">write</a></li>
                
            </ul>
        </dd>
    
        <dt>X</dt>
        <dd>
            <ul>
                
                <li><a href="#M004970">xml_decl</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">DECLARATION</td>
            <td>=</td>
            <td class="attr-value">XMLDecl.default</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
A convenient default <a href="../XML.html">XML</a> declaration. If you want
an <a href="../XML.html">XML</a> declaration, the easiest way to add one is
mydoc << Document::DECLARATION <tt>DEPRECATED</tt> Use: mydoc << <a
href="XMLDecl.html#M005502">XMLDecl.default</a>
</p>
</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>entity_expansion_count</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M004979">
                    
                    <a name="M004979"></a><b>entity_expansion_limit</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Get the entity expansion limit. By default the limit is set to 10000.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004979_source')" id="l_M004979_source">show</a>
                        
                    </p>
                    <div id="M004979_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 216</span>
216:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Document</span><span class="ruby-operator">::</span><span class="ruby-identifier">entity_expansion_limit</span>
217:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@@entity_expansion_limit</span>
218:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004978">
                    
                    <a name="M004978"></a><b>entity_expansion_limit=</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
<a href="../Set.html">Set</a> the entity expansion limit. By default the
limit is set to 10000.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004978_source')" id="l_M004978_source">show</a>
                        
                    </p>
                    <div id="M004978_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 211</span>
211:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Document</span><span class="ruby-operator">::</span><span class="ruby-identifier">entity_expansion_limit=</span>( <span class="ruby-identifier">val</span> )
212:       <span class="ruby-ivar">@@entity_expansion_limit</span> = <span class="ruby-identifier">val</span>
213:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004951">
                    
                    <a name="M004951"></a><b>new</b>( source = nil, context = {} )
                    
                </div>
                
                <div class="description">
                  <p>
Constructor @param source if supplied, must be a <a
href="Document.html">Document</a>, <a href="../String.html">String</a>, or
<a href="../IO.html">IO</a>. Documents have their context and <a
href="Element.html">Element</a> attributes cloned. Strings are expected to
be valid <a href="../XML.html">XML</a> documents. IOs are expected to be
sources of valid <a href="../XML.html">XML</a> documents. @param context if
supplied, contains the context of the document; this should be a <a
href="../Hash.html">Hash</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004951_source')" id="l_M004951_source">show</a>
                        
                    </p>
                    <div id="M004951_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 34</span>
34:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>( <span class="ruby-identifier">source</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">context</span> = {} )
35:       <span class="ruby-ivar">@entity_expansion_count</span> = <span class="ruby-value">0</span>
36:       <span class="ruby-keyword kw">super</span>()
37:       <span class="ruby-ivar">@context</span> = <span class="ruby-identifier">context</span>
38:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">source</span>.<span class="ruby-identifier">nil?</span>
39:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">source</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Document</span>
40:         <span class="ruby-ivar">@context</span> = <span class="ruby-identifier">source</span>.<span class="ruby-identifier">context</span>
41:         <span class="ruby-keyword kw">super</span> <span class="ruby-identifier">source</span>
42:       <span class="ruby-keyword kw">else</span>
43:         <span class="ruby-identifier">build</span>(  <span class="ruby-identifier">source</span> )
44:       <span class="ruby-keyword kw">end</span>
45:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004977">
                    
                    <a name="M004977"></a><b>parse_stream</b>( source, listener )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004977_source')" id="l_M004977_source">show</a>
                        
                    </p>
                    <div id="M004977_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 204</span>
204:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Document</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_stream</span>( <span class="ruby-identifier">source</span>, <span class="ruby-identifier">listener</span> )
205:       <span class="ruby-constant">Parsers</span><span class="ruby-operator">::</span><span class="ruby-constant">StreamParser</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">source</span>, <span class="ruby-identifier">listener</span> ).<span class="ruby-identifier">parse</span>
206:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M004966">
                    
                    <a name="M004966"></a><b>&lt;&lt;</b>( child )
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Document.html#M004959">add</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M004959">
                    
                    <a name="M004959"></a><b>add</b>( child )
                    
                </div>
                
                <div class="description">
                  <p>
We override this, because XMLDecls and DocTypes must go at the start of the
document
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Document.html#M004966">&lt;&lt;</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004959_source')" id="l_M004959_source">show</a>
                        
                    </p>
                    <div id="M004959_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 67</span>
67:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add</span>( <span class="ruby-identifier">child</span> )
68:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">XMLDecl</span>
69:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@children</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">XMLDecl</span>
70:           <span class="ruby-ivar">@children</span>[<span class="ruby-value">0</span>] = <span class="ruby-identifier">child</span>
71:         <span class="ruby-keyword kw">else</span>
72:           <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-identifier">child</span>
73:         <span class="ruby-keyword kw">end</span>
74:         <span class="ruby-identifier">child</span>.<span class="ruby-identifier">parent</span> = <span class="ruby-keyword kw">self</span>
75:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">DocType</span>
76:         <span class="ruby-comment cmt"># Find first Element or DocType node and insert the decl right</span>
77:         <span class="ruby-comment cmt"># before it.  If there is no such node, just insert the child at the</span>
78:         <span class="ruby-comment cmt"># end.  If there is a child and it is an DocType, then replace it.</span>
79:         <span class="ruby-identifier">insert_before_index</span> = <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">find_index</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
80:           <span class="ruby-identifier">x</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Element</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">DocType</span>)
81:         }
82:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">insert_before_index</span> <span class="ruby-comment cmt"># Not null = not end of list</span>
83:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@children</span>[ <span class="ruby-identifier">insert_before_index</span> ].<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">DocType</span>
84:             <span class="ruby-ivar">@children</span>[ <span class="ruby-identifier">insert_before_index</span> ] = <span class="ruby-identifier">child</span>
85:           <span class="ruby-keyword kw">else</span>
86:             <span class="ruby-ivar">@children</span>[ <span class="ruby-identifier">insert_before_index</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>, <span class="ruby-value">0</span> ] = <span class="ruby-identifier">child</span>
87:           <span class="ruby-keyword kw">end</span>
88:         <span class="ruby-keyword kw">else</span>  <span class="ruby-comment cmt"># Insert at end of list</span>
89:           <span class="ruby-ivar">@children</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">child</span>
90:         <span class="ruby-keyword kw">end</span>
91:         <span class="ruby-identifier">child</span>.<span class="ruby-identifier">parent</span> = <span class="ruby-keyword kw">self</span>
92:       <span class="ruby-keyword kw">else</span>
93:         <span class="ruby-identifier">rv</span> = <span class="ruby-keyword kw">super</span>
94:         <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;attempted adding second root element to document&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
95:         <span class="ruby-identifier">rv</span>
96:       <span class="ruby-keyword kw">end</span>
97:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004967">
                    
                    <a name="M004967"></a><b>add_element</b>(arg=nil, arg2=nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004967_source')" id="l_M004967_source">show</a>
                        
                    </p>
                    <div id="M004967_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 100</span>
100:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_element</span>(<span class="ruby-identifier">arg</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">arg2</span>=<span class="ruby-keyword kw">nil</span>)
101:       <span class="ruby-identifier">rv</span> = <span class="ruby-keyword kw">super</span>
102:       <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;attempted adding second root element to document&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
103:       <span class="ruby-identifier">rv</span>
104:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004953">
                    
                    <a name="M004953"></a><b>clone</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Should be obvious
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004953_source')" id="l_M004953_source">show</a>
                        
                    </p>
                    <div id="M004953_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 52</span>
52:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clone</span>
53:       <span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">self</span>
54:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004969">
                    
                    <a name="M004969"></a><b>doctype</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return the <a href="DocType.html">DocType</a> child of the document, if
one exists, and nil otherwise.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004969_source')" id="l_M004969_source">show</a>
                        
                    </p>
                    <div id="M004969_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 116</span>
116:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">doctype</span>
117:       <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">DocType</span> }
118:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004974">
                    
                    <a name="M004974"></a><b>encoding</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return the <a href="XMLDecl.html">XMLDecl</a> encoding of this document as
an <a href="Encoding.html">Encoding</a> object. If no <a
href="XMLDecl.html">XMLDecl</a> has been set, returns the default encoding.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004974_source')" id="l_M004974_source">show</a>
                        
                    </p>
                    <div id="M004974_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 137</span>
137:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">encoding</span>
138:       <span class="ruby-identifier">xml_decl</span>().<span class="ruby-identifier">encoding</span>
139:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004957">
                    
                    <a name="M004957"></a><b>expanded_name</b>()
                    
                </div>
                
                <div class="description">
                  <p>
According to the <a href="../XML.html">XML</a> spec, a root node has no
expanded name
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Document.html#M004958">name</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004957_source')" id="l_M004957_source">show</a>
                        
                    </p>
                    <div id="M004957_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 57</span>
57:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expanded_name</span>
58:       <span class="ruby-value str">''</span>
59:       <span class="ruby-comment cmt">#d = doc_type</span>
60:       <span class="ruby-comment cmt">#d ? d.name : &quot;UNDEFINED&quot;</span>
61:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004958">
                    
                    <a name="M004958"></a><b>name</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Document.html#M004957">expanded_name</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M004952">
                    
                    <a name="M004952"></a><b>node_type</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004952_source')" id="l_M004952_source">show</a>
                        
                    </p>
                    <div id="M004952_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 47</span>
47:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">node_type</span>
48:       <span class="ruby-identifier">:document</span>
49:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004980">
                    
                    <a name="M004980"></a><b>record_entity_expansion</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004980_source')" id="l_M004980_source">show</a>
                        
                    </p>
                    <div id="M004980_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 222</span>
222:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">record_entity_expansion</span>
223:       <span class="ruby-ivar">@entity_expansion_count</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
224:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@entity_expansion_count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@@entity_expansion_limit</span>
225:         <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;number of entity expansions exceeded, processing aborted.&quot;</span>
226:       <span class="ruby-keyword kw">end</span>
227:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004968">
                    
                    <a name="M004968"></a><b>root</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return the root <a href="Element.html">Element</a> of the document, or nil
if this document has no children.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004968_source')" id="l_M004968_source">show</a>
                        
                    </p>
                    <div id="M004968_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 108</span>
108:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">root</span>
109:       <span class="ruby-identifier">elements</span>[<span class="ruby-value">1</span>]
110:       <span class="ruby-comment cmt">#self</span>
111:       <span class="ruby-comment cmt">#@children.find { |item| item.kind_of? Element }</span>
112:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004975">
                    
                    <a name="M004975"></a><b>stand_alone?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return the <a href="XMLDecl.html">XMLDecl</a> standalone value of this
document as a <a href="../String.html">String</a>. If no <a
href="XMLDecl.html">XMLDecl</a> has been set, returns the default setting.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004975_source')" id="l_M004975_source">show</a>
                        
                    </p>
                    <div id="M004975_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 143</span>
143:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stand_alone?</span>
144:       <span class="ruby-identifier">xml_decl</span>().<span class="ruby-identifier">stand_alone?</span>
145:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004973">
                    
                    <a name="M004973"></a><b>version</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return the <a href="XMLDecl.html">XMLDecl</a> version of this document as
a <a href="../String.html">String</a>. If no <a
href="XMLDecl.html">XMLDecl</a> has been set, returns the default version.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004973_source')" id="l_M004973_source">show</a>
                        
                    </p>
                    <div id="M004973_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 130</span>
130:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">version</span>
131:       <span class="ruby-identifier">xml_decl</span>().<span class="ruby-identifier">version</span>
132:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004976">
                    
                    <a name="M004976"></a><b>write</b>( output=$stdout, indent=-1, transitive=false, ie_hack=false )
                    
                </div>
                
                <div class="description">
                  <p>
Write the <a href="../XML.html">XML</a> tree out, optionally with indent.
This writes out the entire <a href="../XML.html">XML</a> document,
including <a href="../XML.html">XML</a> declarations, doctype declarations,
and processing instructions (if any are given).
</p>
<p>
A controversial point is whether <a href="Document.html">Document</a>
should always write the <a href="../XML.html">XML</a> declaration (<?xml
version=&#8217;1.0&#8217;?>) whether or not one is given by the user (or
source document). <a href="../REXML.html">REXML</a> does not write one if
one was not specified, because it adds unnecessary bandwidth to
applications such as XML-RPC.
</p>
<p>
See also the classes in the rexml/formatters package for the proper way to
change the default formatting of <a href="../XML.html">XML</a> output
</p>
<p>
<em>Examples</em>
</p>
<pre>
  Document.new(&quot;&lt;a&gt;&lt;b/&gt;&lt;/a&gt;&quot;).serialize

  output_string = &quot;&quot;
  tr = Transitive.new( output_string )
  Document.new(&quot;&lt;a&gt;&lt;b/&gt;&lt;/a&gt;&quot;).serialize( tr )
</pre>
<table>
<tr><td valign="top">output:</td><td>output an object which supports &#8217;<< string&#8217;; this is where the

</td></tr>
</table>
<pre>
  document will be written.
</pre>
<table>
<tr><td valign="top">indent:</td><td>An integer. If -1, no indenting will be used; otherwise, the indentation
will be twice this number of spaces, and children will be indented an
additional amount. For a value of 3, every item will be indented 3 more
levels, or 6 more spaces (2 * 3). Defaults to -1

</td></tr>
<tr><td valign="top">transitive:</td><td>If transitive is true and indent is >= 0, then the output will be
pretty-printed in such a way that the added whitespace does not affect the
absolute <b>value</b> of the document &#8212; that is, it leaves the value
and number of <a href="Text.html">Text</a> nodes in the document unchanged.

</td></tr>
<tr><td valign="top">ie_hack:</td><td>Internet Explorer is the worst piece of crap to have ever been written,
with the possible exception of Windows itself. Since IE is unable to parse
proper <a href="../XML.html">XML</a>, we have to provide a hack to generate
<a href="../XML.html">XML</a> that IE&#8217;s limited abilities can handle.
This hack inserts a space before the /> on empty tags. Defaults to false

</td></tr>
</table>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004976_source')" id="l_M004976_source">show</a>
                        
                    </p>
                    <div id="M004976_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 186</span>
186:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write</span>( <span class="ruby-identifier">output</span>=<span class="ruby-identifier">$stdout</span>, <span class="ruby-identifier">indent</span>=<span class="ruby-value">-1</span>, <span class="ruby-identifier">transitive</span>=<span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">ie_hack</span>=<span class="ruby-keyword kw">false</span> )
187:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">xml_decl</span>.<span class="ruby-identifier">encoding</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">'UTF-8'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">output</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Output</span>)
188:         <span class="ruby-identifier">output</span> = <span class="ruby-constant">Output</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">output</span>, <span class="ruby-identifier">xml_decl</span>.<span class="ruby-identifier">encoding</span> )
189:       <span class="ruby-keyword kw">end</span>
190:       <span class="ruby-identifier">formatter</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">indent</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>
191:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">transitive</span>
192:             <span class="ruby-identifier">require</span> <span class="ruby-value str">&quot;rexml/formatters/transitive&quot;</span>
193:             <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Transitive</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">indent</span>, <span class="ruby-identifier">ie_hack</span> )
194:           <span class="ruby-keyword kw">else</span>
195:             <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Pretty</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">indent</span>, <span class="ruby-identifier">ie_hack</span> )
196:           <span class="ruby-keyword kw">end</span>
197:         <span class="ruby-keyword kw">else</span>
198:           <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Default</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">ie_hack</span> )
199:         <span class="ruby-keyword kw">end</span>
200:       <span class="ruby-identifier">formatter</span>.<span class="ruby-identifier">write</span>( <span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">output</span> )
201:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004970">
                    
                    <a name="M004970"></a><b>xml_decl</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return the <a href="XMLDecl.html">XMLDecl</a> of this document; if no <a
href="XMLDecl.html">XMLDecl</a> has been set, the default declaration is
returned.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004970_source')" id="l_M004970_source">show</a>
                        
                    </p>
                    <div id="M004970_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 122</span>
122:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">xml_decl</span>
123:       <span class="ruby-identifier">rv</span> = <span class="ruby-ivar">@children</span>[<span class="ruby-value">0</span>]
124:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rv</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rv</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">XMLDecl</span>
125:       <span class="ruby-identifier">rv</span> = <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-constant">XMLDecl</span>.<span class="ruby-identifier">default</span>)[<span class="ruby-value">0</span>]
126:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M004981">
                    
                    <a name="M004981"></a><b>build</b>( source )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004981_source')" id="l_M004981_source">show</a>
                        
                    </p>
                    <div id="M004981_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 230</span>
230:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build</span>( <span class="ruby-identifier">source</span> )
231:       <span class="ruby-constant">Parsers</span><span class="ruby-operator">::</span><span class="ruby-constant">TreeParser</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">source</span>, <span class="ruby-keyword kw">self</span> ).<span class="ruby-identifier">parse</span>
232:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    