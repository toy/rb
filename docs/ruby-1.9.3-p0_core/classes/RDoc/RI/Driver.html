<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>RDoc::RI::Driver</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            RDoc::RI::Driver 
            
                <span class="parent">&lt; 
                    
                    <a href="../../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/rdoc/ri/driver_rb.html">lib/rdoc/ri/driver.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M004643">add_also_in</a>,</li>
                
                <li><a href="#M004645">add_class</a>,</li>
                
                <li><a href="#M004646">add_from</a>,</li>
                
                <li><a href="#M004647">add_includes</a>,</li>
                
                <li><a href="#M004650">add_method_list</a>,</li>
                
                <li><a href="#M004651">ancestors_of</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M004653">class_document</a>,</li>
                
                <li><a href="#M004659">classes</a>,</li>
                
                <li><a href="#M004663">classes_and_includes_for</a>,</li>
                
                <li><a href="#M004666">complete</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M004634">default_options</a>,</li>
                
                <li><a href="#M004672">display</a>,</li>
                
                <li><a href="#M004673">display_class</a>,</li>
                
                <li><a href="#M004675">display_method</a>,</li>
                
                <li><a href="#M004676">display_name</a>,</li>
                
                <li><a href="#M004679">display_names</a>,</li>
                
                <li><a href="#M004638">dump</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M004680">expand_class</a>,</li>
                
                <li><a href="#M004681">expand_name</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M004682">filter_methods</a>,</li>
                
                <li><a href="#M004683">find_methods</a>,</li>
                
                <li><a href="#M004685">formatter</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M004687">in_path?</a>,</li>
                
                <li><a href="#M004686">interactive</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M004688">list_known_classes</a>,</li>
                
                <li><a href="#M004689">list_methods_matching</a>,</li>
                
                <li><a href="#M004690">load_method</a>,</li>
                
                <li><a href="#M004691">load_methods_matching</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M004692">method_document</a>,</li>
                
                <li><a href="#M004693">method_type</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M004694">name_regexp</a>,</li>
                
                <li><a href="#M004641">new</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M004695">page</a>,</li>
                
                <li><a href="#M004696">paging?</a>,</li>
                
                <li><a href="#M004697">parse_name</a>,</li>
                
                <li><a href="#M004639">process_args</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M004640">run</a>,</li>
                
                <li><a href="#M004698">run</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M004699">setup_pager</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">CLASS</span> <a href="Driver/Error.html">RDoc::RI::Driver::Error</a></li>
        
        <li><span class="type">CLASS</span> <a href="Driver/NotFoundError.html">RDoc::RI::Driver::NotFoundError</a></li>
        
    </ul>
    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>stores</td>
            <td class='attr-desc'><p>
An <a href="Store.html">RDoc::RI::Store</a> for each entry in the <a
href="../RI.html">RI</a> path
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>use_stdout</td>
            <td class='attr-desc'><p>
Controls the user of the pager vs $stdout
</p></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M004634">
                    
                    <a name="M004634"></a><b>default_options</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Default options for ri
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004634_source')" id="l_M004634_source">show</a>
                        
                    </p>
                    <div id="M004634_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 76</span>
76:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">default_options</span>
77:     <span class="ruby-identifier">options</span> = {}
78:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_stdout</span>] = <span class="ruby-operator">!</span><span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">tty?</span>
79:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:width</span>] = <span class="ruby-value">72</span>
80:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:interactive</span>] = <span class="ruby-keyword kw">false</span>
81:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_cache</span>] = <span class="ruby-keyword kw">true</span>
82:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:profile</span>] = <span class="ruby-keyword kw">false</span>
83: 
84:     <span class="ruby-comment cmt"># By default all standard paths are used.</span>
85:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_system</span>] = <span class="ruby-keyword kw">true</span>
86:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_site</span>] = <span class="ruby-keyword kw">true</span>
87:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_home</span>] = <span class="ruby-keyword kw">true</span>
88:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_gems</span>] = <span class="ruby-keyword kw">true</span>
89:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:extra_doc_dirs</span>] = []
90: 
91:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">options</span>
92:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004638">
                    
                    <a name="M004638"></a><b>dump</b>(data_path)
                    
                </div>
                
                <div class="description">
                  <p>
Dump <tt>data_path</tt> using pp
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004638_source')" id="l_M004638_source">show</a>
                        
                    </p>
                    <div id="M004638_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 97</span>
 97:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dump</span> <span class="ruby-identifier">data_path</span>
 98:     <span class="ruby-identifier">require</span> <span class="ruby-value str">'pp'</span>
 99: 
100:     <span class="ruby-identifier">open</span> <span class="ruby-identifier">data_path</span>, <span class="ruby-value str">'rb'</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span>
101:       <span class="ruby-identifier">pp</span> <span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">io</span>.<span class="ruby-identifier">read</span>)
102:     <span class="ruby-keyword kw">end</span>
103:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004641">
                    
                    <a name="M004641"></a><b>new</b>(initial_options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new driver using <tt>initial_options</tt> from ::<a
href="Driver.html#M004639">process_args</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004641_source')" id="l_M004641_source">show</a>
                        
                    </p>
                    <div id="M004641_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 331</span>
331:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span> <span class="ruby-identifier">initial_options</span> = {}
332:     <span class="ruby-ivar">@paging</span> = <span class="ruby-keyword kw">false</span>
333:     <span class="ruby-ivar">@classes</span> = <span class="ruby-keyword kw">nil</span>
334: 
335:     <span class="ruby-identifier">options</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">default_options</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">initial_options</span>)
336: 
337:     <span class="ruby-ivar">@formatter_klass</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:formatter</span>]
338: 
339:     <span class="ruby-identifier">require</span> <span class="ruby-value str">'profile'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:profile</span>]
340: 
341:     <span class="ruby-ivar">@names</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:names</span>]
342:     <span class="ruby-ivar">@list</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:list</span>]
343: 
344:     <span class="ruby-ivar">@doc_dirs</span> = []
345:     <span class="ruby-ivar">@stores</span>   = []
346: 
347:     <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RI</span><span class="ruby-operator">::</span><span class="ruby-constant">Paths</span>.<span class="ruby-identifier">each</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_system</span>], <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_site</span>],
348:                          <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_home</span>], <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_gems</span>],
349:                          <span class="ruby-operator">*</span><span class="ruby-identifier">options</span>[<span class="ruby-identifier">:extra_doc_dirs</span>]) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">type</span><span class="ruby-operator">|</span>
350:       <span class="ruby-ivar">@doc_dirs</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">path</span>
351: 
352:       <span class="ruby-identifier">store</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RI</span><span class="ruby-operator">::</span><span class="ruby-constant">Store</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">type</span>
353:       <span class="ruby-identifier">store</span>.<span class="ruby-identifier">load_cache</span>
354:       <span class="ruby-ivar">@stores</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">store</span>
355:     <span class="ruby-keyword kw">end</span>
356: 
357:     <span class="ruby-ivar">@list_doc_dirs</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:list_doc_dirs</span>]
358: 
359:     <span class="ruby-ivar">@interactive</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:interactive</span>]
360:     <span class="ruby-ivar">@use_stdout</span>  = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_stdout</span>]
361:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004639">
                    
                    <a name="M004639"></a><b>process_args</b>(argv)
                    
                </div>
                
                <div class="description">
                  <p>
Parses <tt>argv</tt> and returns a <a href="../../Hash.html">Hash</a> of
options
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004639_source')" id="l_M004639_source">show</a>
                        
                    </p>
                    <div id="M004639_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 108</span>
108:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">process_args</span> <span class="ruby-identifier">argv</span>
109:     <span class="ruby-identifier">options</span> = <span class="ruby-identifier">default_options</span>
110: 
111:     <span class="ruby-identifier">opts</span> = <span class="ruby-constant">OptionParser</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">opt</span><span class="ruby-operator">|</span>
112:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">accept</span> <span class="ruby-constant">File</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span>,<span class="ruby-operator">|</span>
113:         <span class="ruby-constant">File</span>.<span class="ruby-identifier">readable?</span>(<span class="ruby-identifier">file</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">file</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">file</span>
114:       <span class="ruby-keyword kw">end</span>
115: 
116:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">program_name</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span> <span class="ruby-identifier">$0</span>
117:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">version</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span>
118:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">release</span> = <span class="ruby-keyword kw">nil</span>
119:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">summary_indent</span> = <span class="ruby-value str">' '</span> <span class="ruby-operator">*</span> <span class="ruby-value">4</span>
120: 
121:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">banner</span> = <span class="ruby-value str">&quot;Usage: \#{opt.program_name} [options] [names...]\n\nWhere name can be:\n\nClass | Class::method | Class#method | Class.method | method\n\nAll class names may be abbreviated to their minimum unambiguous form. If a name\nis ambiguous, all valid options will be listed.\n\nA '.' matches either class or instance methods, while #method\nmatches only instance and ::method matches only class methods.\n\nFor example:\n\n\#{opt.program_name} Fil\n\#{opt.program_name} File\n\#{opt.program_name} File.new\n\#{opt.program_name} zip\n\nNote that shell quoting or escaping may be required for method names containing\npunctuation:\n\n\#{opt.program_name} 'Array.[]'\n\#{opt.program_name} compact\\\\!\n\nTo see the default directories ri will search, run:\n\n\#{opt.program_name} --list-doc-dirs\n\nSpecifying the --system, --site, --home, --gems or --doc-dir options will\nlimit ri to searching only the specified directories.\n\nOptions may also be set in the 'RI' environment variable.\n&quot;</span>
122: 
123:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
124:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-value str">&quot;Options:&quot;</span>
125: 
126:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
127: 
128:       <span class="ruby-identifier">formatters</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-regexp re">/^To[A-Z][a-z]+$/</span>).<span class="ruby-identifier">sort</span>
129:       <span class="ruby-identifier">formatters</span> = <span class="ruby-identifier">formatters</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">formatter</span><span class="ruby-operator">|</span>
130:         <span class="ruby-identifier">formatter</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-value str">'To'</span>, <span class="ruby-value str">''</span>).<span class="ruby-identifier">downcase</span>
131:       <span class="ruby-keyword kw">end</span>
132: 
133:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--format=NAME&quot;</span>, <span class="ruby-value str">&quot;-f&quot;</span>,
134:              <span class="ruby-value str">&quot;Uses the selected formatter. The default&quot;</span>,
135:              <span class="ruby-value str">&quot;formatter is bs for paged output and ansi&quot;</span>,
136:              <span class="ruby-value str">&quot;otherwise. Valid formatters are:&quot;</span>,
137:              <span class="ruby-identifier">formatters</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">' '</span>), <span class="ruby-identifier">formatters</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
138:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:formatter</span>] = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span>.<span class="ruby-identifier">const_get</span> <span class="ruby-node">&quot;To#{value.capitalize}&quot;</span>
139:       <span class="ruby-keyword kw">end</span>
140: 
141:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
142: 
143:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--no-pager&quot;</span>, <span class="ruby-value str">&quot;-T&quot;</span>,
144:              <span class="ruby-value str">&quot;Send output directly to stdout,&quot;</span>,
145:              <span class="ruby-value str">&quot;rather than to a pager.&quot;</span>) <span class="ruby-keyword kw">do</span>
146:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_stdout</span>] = <span class="ruby-keyword kw">true</span>
147:       <span class="ruby-keyword kw">end</span>
148: 
149:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
150: 
151:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--width=WIDTH&quot;</span>, <span class="ruby-value str">&quot;-w&quot;</span>, <span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">DecimalInteger</span>,
152:              <span class="ruby-value str">&quot;Set the width of the output.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
153:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:width</span>] = <span class="ruby-identifier">value</span>
154:       <span class="ruby-keyword kw">end</span>
155: 
156:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
157: 
158:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--interactive&quot;</span>, <span class="ruby-value str">&quot;-i&quot;</span>,
159:              <span class="ruby-value str">&quot;In interactive mode you can repeatedly&quot;</span>,
160:              <span class="ruby-value str">&quot;look up methods with autocomplete.&quot;</span>) <span class="ruby-keyword kw">do</span>
161:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:interactive</span>] = <span class="ruby-keyword kw">true</span>
162:       <span class="ruby-keyword kw">end</span>
163: 
164:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
165: 
166:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--list&quot;</span>, <span class="ruby-value str">&quot;-l&quot;</span>,
167:              <span class="ruby-value str">&quot;List classes ri knows about.&quot;</span>) <span class="ruby-keyword kw">do</span>
168:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:list</span>] = <span class="ruby-keyword kw">true</span>
169:       <span class="ruby-keyword kw">end</span>
170: 
171:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
172: 
173:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--[no-]profile&quot;</span>,
174:              <span class="ruby-value str">&quot;Run with the ruby profiler&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
175:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:profile</span>] = <span class="ruby-identifier">value</span>
176:       <span class="ruby-keyword kw">end</span>
177: 
178:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
179:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-value str">&quot;Data source options:&quot;</span>
180:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
181: 
182:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--list-doc-dirs&quot;</span>,
183:              <span class="ruby-value str">&quot;List the directories from which ri will&quot;</span>,
184:              <span class="ruby-value str">&quot;source documentation on stdout and exit.&quot;</span>) <span class="ruby-keyword kw">do</span>
185:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:list_doc_dirs</span>] = <span class="ruby-keyword kw">true</span>
186:       <span class="ruby-keyword kw">end</span>
187: 
188:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
189: 
190:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--doc-dir=DIRNAME&quot;</span>, <span class="ruby-value str">&quot;-d&quot;</span>, <span class="ruby-constant">Array</span>,
191:              <span class="ruby-value str">&quot;List of directories from which to source&quot;</span>,
192:              <span class="ruby-value str">&quot;documentation in addition to the standard&quot;</span>,
193:              <span class="ruby-value str">&quot;directories.  May be repeated.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
194:         <span class="ruby-identifier">value</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span>
195:           <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span> <span class="ruby-identifier">dir</span> <span class="ruby-keyword kw">then</span>
196:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidArgument</span>, <span class="ruby-node">&quot;#{dir} is not a directory&quot;</span>
197:           <span class="ruby-keyword kw">end</span>
198: 
199:           <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:extra_doc_dirs</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">dir</span>)
200:         <span class="ruby-keyword kw">end</span>
201:       <span class="ruby-keyword kw">end</span>
202: 
203:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
204: 
205:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--no-standard-docs&quot;</span>,
206:              <span class="ruby-value str">&quot;Do not include documentation from&quot;</span>,
207:              <span class="ruby-value str">&quot;the Ruby standard library, site_lib,&quot;</span>,
208:              <span class="ruby-value str">&quot;installed gems, or ~/.rdoc.&quot;</span>,
209:              <span class="ruby-value str">&quot;Use with --doc-dir&quot;</span>) <span class="ruby-keyword kw">do</span>
210:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_system</span>] = <span class="ruby-keyword kw">false</span>
211:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_site</span>] = <span class="ruby-keyword kw">false</span>
212:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_gems</span>] = <span class="ruby-keyword kw">false</span>
213:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_home</span>] = <span class="ruby-keyword kw">false</span>
214:       <span class="ruby-keyword kw">end</span>
215: 
216:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
217: 
218:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--[no-]system&quot;</span>,
219:              <span class="ruby-value str">&quot;Include documentation from Ruby's standard&quot;</span>,
220:              <span class="ruby-value str">&quot;library.  Defaults to true.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
221:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_system</span>] = <span class="ruby-identifier">value</span>
222:       <span class="ruby-keyword kw">end</span>
223: 
224:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
225: 
226:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--[no-]site&quot;</span>,
227:              <span class="ruby-value str">&quot;Include documentation from libraries&quot;</span>,
228:              <span class="ruby-value str">&quot;installed in site_lib.&quot;</span>,
229:              <span class="ruby-value str">&quot;Defaults to true.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
230:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_site</span>] = <span class="ruby-identifier">value</span>
231:       <span class="ruby-keyword kw">end</span>
232: 
233:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
234: 
235:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--[no-]gems&quot;</span>,
236:              <span class="ruby-value str">&quot;Include documentation from RubyGems.&quot;</span>,
237:              <span class="ruby-value str">&quot;Defaults to true.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
238:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_gems</span>] = <span class="ruby-identifier">value</span>
239:       <span class="ruby-keyword kw">end</span>
240: 
241:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
242: 
243:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--[no-]home&quot;</span>,
244:              <span class="ruby-value str">&quot;Include documentation stored in ~/.rdoc.&quot;</span>,
245:              <span class="ruby-value str">&quot;Defaults to true.&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
246:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_home</span>] = <span class="ruby-identifier">value</span>
247:       <span class="ruby-keyword kw">end</span>
248: 
249:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
250:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-value str">&quot;Debug options:&quot;</span>
251:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">separator</span> <span class="ruby-keyword kw">nil</span>
252: 
253:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">&quot;--dump=CACHE&quot;</span>, <span class="ruby-constant">File</span>,
254:              <span class="ruby-value str">&quot;Dumps data from an ri cache or data file&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
255:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:dump_path</span>] = <span class="ruby-identifier">value</span>
256:       <span class="ruby-keyword kw">end</span>
257:     <span class="ruby-keyword kw">end</span>
258: 
259:     <span class="ruby-identifier">argv</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'RI'</span>].<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">argv</span>
260: 
261:     <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">parse!</span> <span class="ruby-identifier">argv</span>
262: 
263:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:names</span>] = <span class="ruby-identifier">argv</span>
264: 
265:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_stdout</span>] <span class="ruby-operator">||=</span> <span class="ruby-operator">!</span><span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">tty?</span>
266:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:use_stdout</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:interactive</span>]
267:     <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:width</span>] <span class="ruby-operator">||=</span> <span class="ruby-value">72</span>
268: 
269:     <span class="ruby-identifier">options</span>
270: 
271:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidArgument</span>, <span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidOption</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
272:     <span class="ruby-identifier">puts</span> <span class="ruby-identifier">opts</span>
273:     <span class="ruby-identifier">puts</span>
274:     <span class="ruby-identifier">puts</span> <span class="ruby-identifier">e</span>
275:     <span class="ruby-identifier">exit</span> <span class="ruby-value">1</span>
276:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004640">
                    
                    <a name="M004640"></a><b>run</b>(argv = ARGV)
                    
                </div>
                
                <div class="description">
                  <p>
Runs the ri command line executable using <tt>argv</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004640_source')" id="l_M004640_source">show</a>
                        
                    </p>
                    <div id="M004640_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 316</span>
316:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">run</span> <span class="ruby-identifier">argv</span> = <span class="ruby-constant">ARGV</span>
317:     <span class="ruby-identifier">options</span> = <span class="ruby-identifier">process_args</span> <span class="ruby-identifier">argv</span>
318: 
319:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:dump_path</span>] <span class="ruby-keyword kw">then</span>
320:       <span class="ruby-identifier">dump</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:dump_path</span>]
321:       <span class="ruby-keyword kw">return</span>
322:     <span class="ruby-keyword kw">end</span>
323: 
324:     <span class="ruby-identifier">ri</span> = <span class="ruby-identifier">new</span> <span class="ruby-identifier">options</span>
325:     <span class="ruby-identifier">ri</span>.<span class="ruby-identifier">run</span>
326:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M004643">
                    
                    <a name="M004643"></a><b>add_also_in</b>(out, also_in)
                    
                </div>
                
                <div class="description">
                  <p>
Adds paths for undocumented classes <tt>also_in</tt> to <tt>out</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004643_source')" id="l_M004643_source">show</a>
                        
                    </p>
                    <div id="M004643_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 366</span>
366:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_also_in</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">also_in</span>
367:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">also_in</span>.<span class="ruby-identifier">empty?</span>
368: 
369:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Rule</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>)
370:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Paragraph</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;Also found in:&quot;</span>)
371: 
372:     <span class="ruby-identifier">paths</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Verbatim</span>.<span class="ruby-identifier">new</span>
373:     <span class="ruby-identifier">also_in</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span><span class="ruby-operator">|</span>
374:       <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">parts</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">store</span>.<span class="ruby-identifier">friendly_path</span>, <span class="ruby-value str">&quot;\n&quot;</span>
375:     <span class="ruby-keyword kw">end</span>
376:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">paths</span>
377:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004645">
                    
                    <a name="M004645"></a><b>add_class</b>(out, name, classes)
                    
                </div>
                
                <div class="description">
                  <p>
Adds a class header to <tt>out</tt> for class <tt>name</tt> which is
described in <tt>classes</tt>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004645_source')" id="l_M004645_source">show</a>
                        
                    </p>
                    <div id="M004645_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 383</span>
383:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_class</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">classes</span>
384:     <span class="ruby-identifier">heading</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">module?</span> } <span class="ruby-keyword kw">then</span>
385:                 <span class="ruby-identifier">name</span>
386:               <span class="ruby-keyword kw">else</span>
387:                 <span class="ruby-identifier">superclass</span> = <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span>
388:                   <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">superclass</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">module?</span>
389:                 <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">shift</span> <span class="ruby-operator">||</span> <span class="ruby-value str">'Object'</span>
390: 
391:                 <span class="ruby-identifier">superclass</span> = <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">full_name</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">superclass</span>
392: 
393:                 <span class="ruby-node">&quot;#{name} &lt; #{superclass}&quot;</span>
394:               <span class="ruby-keyword kw">end</span>
395: 
396:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Heading</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">heading</span>)
397:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
398:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004646">
                    
                    <a name="M004646"></a><b>add_from</b>(out, store)
                    
                </div>
                
                <div class="description">
                  <p>
Adds &#8220;(from &#8230;)&#8221; to <tt>out</tt> for <tt>store</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004646_source')" id="l_M004646_source">show</a>
                        
                    </p>
                    <div id="M004646_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 403</span>
403:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_from</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">store</span>
404:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Paragraph</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;(from #{store.friendly_path})&quot;</span>)
405:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004647">
                    
                    <a name="M004647"></a><b>add_includes</b>(out, includes)
                    
                </div>
                
                <div class="description">
                  <p>
Adds <tt>includes</tt> to <tt>out</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004647_source')" id="l_M004647_source">show</a>
                        
                    </p>
                    <div id="M004647_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 410</span>
410:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_includes</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">includes</span>
411:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">includes</span>.<span class="ruby-identifier">empty?</span>
412: 
413:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Rule</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>)
414:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Heading</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>, <span class="ruby-value str">&quot;Includes:&quot;</span>)
415: 
416:     <span class="ruby-identifier">includes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">modules</span>, <span class="ruby-identifier">store</span><span class="ruby-operator">|</span>
417:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">modules</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">then</span>
418:         <span class="ruby-identifier">include</span> = <span class="ruby-identifier">modules</span>.<span class="ruby-identifier">first</span>
419:         <span class="ruby-identifier">name</span> = <span class="ruby-identifier">include</span>.<span class="ruby-identifier">name</span>
420:         <span class="ruby-identifier">path</span> = <span class="ruby-identifier">store</span>.<span class="ruby-identifier">friendly_path</span>
421:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Paragraph</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;#{name} (from #{path})&quot;</span>)
422: 
423:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">include</span>.<span class="ruby-identifier">comment</span> <span class="ruby-keyword kw">then</span>
424:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
425:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">include</span>.<span class="ruby-identifier">comment</span>
426:         <span class="ruby-keyword kw">end</span>
427:       <span class="ruby-keyword kw">else</span>
428:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Paragraph</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;(from #{store.friendly_path})&quot;</span>)
429: 
430:         <span class="ruby-identifier">wout</span>, <span class="ruby-identifier">with</span> = <span class="ruby-identifier">modules</span>.<span class="ruby-identifier">partition</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">incl</span><span class="ruby-operator">|</span> <span class="ruby-identifier">incl</span>.<span class="ruby-identifier">comment</span>.<span class="ruby-identifier">empty?</span> }
431: 
432:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">with</span>.<span class="ruby-identifier">empty?</span>
433: 
434:         <span class="ruby-identifier">with</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">incl</span><span class="ruby-operator">|</span>
435:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Paragraph</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">incl</span>.<span class="ruby-identifier">name</span>)
436:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
437:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">incl</span>.<span class="ruby-identifier">comment</span>
438:         <span class="ruby-keyword kw">end</span>
439: 
440:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">wout</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
441:           <span class="ruby-identifier">verb</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Verbatim</span>.<span class="ruby-identifier">new</span>
442: 
443:           <span class="ruby-identifier">wout</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">incl</span><span class="ruby-operator">|</span>
444:             <span class="ruby-identifier">verb</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">incl</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">&quot;\n&quot;</span>
445:           <span class="ruby-keyword kw">end</span>
446: 
447:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">verb</span>
448:         <span class="ruby-keyword kw">end</span>
449:       <span class="ruby-keyword kw">end</span>
450:     <span class="ruby-keyword kw">end</span>
451:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004650">
                    
                    <a name="M004650"></a><b>add_method_list</b>(out, methods, name)
                    
                </div>
                
                <div class="description">
                  <p>
Adds a list of <tt>methods</tt> to <tt>out</tt> with a heading of
<tt>name</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004650_source')" id="l_M004650_source">show</a>
                        
                    </p>
                    <div id="M004650_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 456</span>
456:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_method_list</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">methods</span>, <span class="ruby-identifier">name</span>
457:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">empty?</span>
458: 
459:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Heading</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>, <span class="ruby-node">&quot;#{name}:&quot;</span>)
460:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
461: 
462:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@use_stdout</span> <span class="ruby-keyword kw">and</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@interactive</span>
463:       <span class="ruby-identifier">out</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">methods</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
464:         <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Verbatim</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">method</span>
465:       <span class="ruby-keyword kw">end</span>)
466:     <span class="ruby-keyword kw">else</span>
467:       <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">IndentedParagraph</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2</span>, <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">', '</span>))
468:     <span class="ruby-keyword kw">end</span>
469: 
470:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
471:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004651">
                    
                    <a name="M004651"></a><b>ancestors_of</b>(klass)
                    
                </div>
                
                <div class="description">
                  <p>
Returns ancestor classes of <tt>klass</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004651_source')" id="l_M004651_source">show</a>
                        
                    </p>
                    <div id="M004651_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 476</span>
476:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ancestors_of</span> <span class="ruby-identifier">klass</span>
477:     <span class="ruby-identifier">ancestors</span> = []
478: 
479:     <span class="ruby-identifier">unexamined</span> = [<span class="ruby-identifier">klass</span>]
480:     <span class="ruby-identifier">seen</span> = []
481: 
482:     <span class="ruby-identifier">loop</span> <span class="ruby-keyword kw">do</span>
483:       <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">unexamined</span>.<span class="ruby-identifier">empty?</span>
484:       <span class="ruby-identifier">current</span> = <span class="ruby-identifier">unexamined</span>.<span class="ruby-identifier">shift</span>
485:       <span class="ruby-identifier">seen</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">current</span>
486: 
487:       <span class="ruby-identifier">stores</span> = <span class="ruby-identifier">classes</span>[<span class="ruby-identifier">current</span>]
488: 
489:       <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">stores</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">stores</span>.<span class="ruby-identifier">empty?</span>
490: 
491:       <span class="ruby-identifier">klasses</span> = <span class="ruby-identifier">stores</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span><span class="ruby-operator">|</span>
492:         <span class="ruby-identifier">store</span>.<span class="ruby-identifier">ancestors</span>[<span class="ruby-identifier">current</span>]
493:       <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>
494: 
495:       <span class="ruby-identifier">klasses</span> = <span class="ruby-identifier">klasses</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">seen</span>
496: 
497:       <span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">klasses</span>)
498:       <span class="ruby-identifier">unexamined</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">klasses</span>)
499:     <span class="ruby-keyword kw">end</span>
500: 
501:     <span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">reverse</span>
502:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004653">
                    
                    <a name="M004653"></a><b>class_document</b>(name, found, klasses, includes)
                    
                </div>
                
                <div class="description">
                  <p>
Builds a <a href="../Markup/Document.html">RDoc::Markup::Document</a> from
<tt>found</tt>, <tt>klasess</tt> and <tt>includes</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004653_source')" id="l_M004653_source">show</a>
                        
                    </p>
                    <div id="M004653_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 513</span>
513:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">class_document</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">found</span>, <span class="ruby-identifier">klasses</span>, <span class="ruby-identifier">includes</span>
514:     <span class="ruby-identifier">also_in</span> = []
515: 
516:     <span class="ruby-identifier">out</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
517: 
518:     <span class="ruby-identifier">add_class</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">klasses</span>
519: 
520:     <span class="ruby-identifier">add_includes</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">includes</span>
521: 
522:     <span class="ruby-identifier">found</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span>, <span class="ruby-identifier">klass</span><span class="ruby-operator">|</span>
523:       <span class="ruby-identifier">comment</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">comment</span>
524:       <span class="ruby-comment cmt"># TODO the store's cache should always return an empty Array</span>
525:       <span class="ruby-identifier">class_methods</span>    = <span class="ruby-identifier">store</span>.<span class="ruby-identifier">class_methods</span>[<span class="ruby-identifier">klass</span>.<span class="ruby-identifier">full_name</span>]    <span class="ruby-operator">||</span> []
526:       <span class="ruby-identifier">instance_methods</span> = <span class="ruby-identifier">store</span>.<span class="ruby-identifier">instance_methods</span>[<span class="ruby-identifier">klass</span>.<span class="ruby-identifier">full_name</span>] <span class="ruby-operator">||</span> []
527:       <span class="ruby-identifier">attributes</span>       = <span class="ruby-identifier">store</span>.<span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">klass</span>.<span class="ruby-identifier">full_name</span>]       <span class="ruby-operator">||</span> []
528: 
529:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">comment</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">and</span>
530:          <span class="ruby-identifier">instance_methods</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">class_methods</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
531:         <span class="ruby-identifier">also_in</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">store</span>
532:         <span class="ruby-keyword kw">next</span>
533:       <span class="ruby-keyword kw">end</span>
534: 
535:       <span class="ruby-identifier">add_from</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">store</span>
536: 
537:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">comment</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
538:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Rule</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>)
539: 
540:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">comment</span>.<span class="ruby-identifier">merged?</span> <span class="ruby-keyword kw">then</span>
541:           <span class="ruby-identifier">parts</span> = <span class="ruby-identifier">comment</span>.<span class="ruby-identifier">parts</span>
542:           <span class="ruby-identifier">parts</span> = <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">zip</span> [<span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>] <span class="ruby-operator">*</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">length</span>
543:           <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">flatten!</span>
544:           <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">pop</span>
545: 
546:           <span class="ruby-identifier">out</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">parts</span>)
547:         <span class="ruby-keyword kw">else</span>
548:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">comment</span>
549:         <span class="ruby-keyword kw">end</span>
550:       <span class="ruby-keyword kw">end</span>
551: 
552:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">class_methods</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">instance_methods</span> <span class="ruby-keyword kw">or</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
553:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Rule</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>)
554:       <span class="ruby-keyword kw">end</span>
555: 
556:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
557:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Heading</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>, <span class="ruby-value str">&quot;Constants:&quot;</span>)
558:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
559:         <span class="ruby-identifier">list</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">List</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">:NOTE</span>
560: 
561:         <span class="ruby-identifier">constants</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">sort_by</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">constant</span><span class="ruby-operator">|</span> <span class="ruby-identifier">constant</span>.<span class="ruby-identifier">name</span> }
562: 
563:         <span class="ruby-identifier">list</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">constants</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">constant</span><span class="ruby-operator">|</span>
564:           <span class="ruby-identifier">parts</span> = <span class="ruby-identifier">constant</span>.<span class="ruby-identifier">comment</span>.<span class="ruby-identifier">parts</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">constant</span>.<span class="ruby-identifier">comment</span>
565:           <span class="ruby-identifier">parts</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Paragraph</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'[not documented]'</span>) <span class="ruby-keyword kw">if</span>
566:             <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">empty?</span>
567: 
568:           <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">ListItem</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">constant</span>.<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parts</span>)
569:         <span class="ruby-keyword kw">end</span>)
570: 
571:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">list</span>
572:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
573:       <span class="ruby-keyword kw">end</span>
574: 
575:       <span class="ruby-identifier">add_method_list</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">class_methods</span>,    <span class="ruby-value str">'Class methods'</span>
576:       <span class="ruby-identifier">add_method_list</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">instance_methods</span>, <span class="ruby-value str">'Instance methods'</span>
577:       <span class="ruby-identifier">add_method_list</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">attributes</span>,       <span class="ruby-value str">'Attributes'</span>
578:     <span class="ruby-keyword kw">end</span>
579: 
580:     <span class="ruby-identifier">add_also_in</span> <span class="ruby-identifier">out</span>, <span class="ruby-identifier">also_in</span>
581: 
582:     <span class="ruby-identifier">out</span>
583:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004659">
                    
                    <a name="M004659"></a><b>classes</b>()
                    
                </div>
                
                <div class="description">
                  <p>
<a href="../../Hash.html">Hash</a> mapping a known class or module to the
stores it can be loaded from
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004659_source')" id="l_M004659_source">show</a>
                        
                    </p>
                    <div id="M004659_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 588</span>
588:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">classes</span>
589:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@classes</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@classes</span>
590: 
591:     <span class="ruby-ivar">@classes</span> = {}
592: 
593:     <span class="ruby-ivar">@stores</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span><span class="ruby-operator">|</span>
594:       <span class="ruby-identifier">store</span>.<span class="ruby-identifier">cache</span>[<span class="ruby-identifier">:modules</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mod</span><span class="ruby-operator">|</span>
595:         <span class="ruby-comment cmt"># using default block causes searched-for modules to be added</span>
596:         <span class="ruby-ivar">@classes</span>[<span class="ruby-identifier">mod</span>] <span class="ruby-operator">||=</span> []
597:         <span class="ruby-ivar">@classes</span>[<span class="ruby-identifier">mod</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">store</span>
598:       <span class="ruby-keyword kw">end</span>
599:     <span class="ruby-keyword kw">end</span>
600: 
601:     <span class="ruby-ivar">@classes</span>
602:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004663">
                    
                    <a name="M004663"></a><b>classes_and_includes_for</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Returns the stores wherin <tt>name</tt> is found along with the classes and
includes that match it
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004663_source')" id="l_M004663_source">show</a>
                        
                    </p>
                    <div id="M004663_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 608</span>
608:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">classes_and_includes_for</span> <span class="ruby-identifier">name</span>
609:     <span class="ruby-identifier">klasses</span> = []
610:     <span class="ruby-identifier">includes</span> = []
611: 
612:     <span class="ruby-identifier">found</span> = <span class="ruby-ivar">@stores</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span><span class="ruby-operator">|</span>
613:       <span class="ruby-keyword kw">begin</span>
614:         <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">store</span>.<span class="ruby-identifier">load_class</span> <span class="ruby-identifier">name</span>
615:         <span class="ruby-identifier">klasses</span>  <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">klass</span>
616:         <span class="ruby-identifier">includes</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">klass</span>.<span class="ruby-identifier">includes</span>, <span class="ruby-identifier">store</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">includes</span>
617:         [<span class="ruby-identifier">store</span>, <span class="ruby-identifier">klass</span>]
618:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>
619:       <span class="ruby-keyword kw">end</span>
620:     <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">compact</span>
621: 
622:     <span class="ruby-identifier">includes</span>.<span class="ruby-identifier">reject!</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">modules</span>,<span class="ruby-operator">|</span> <span class="ruby-identifier">modules</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">end</span>
623: 
624:     [<span class="ruby-identifier">found</span>, <span class="ruby-identifier">klasses</span>, <span class="ruby-identifier">includes</span>]
625:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004666">
                    
                    <a name="M004666"></a><b>complete</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Completes <tt>name</tt> based on the caches. For <a
href="../../Readline.html">Readline</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004666_source')" id="l_M004666_source">show</a>
                        
                    </p>
                    <div id="M004666_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 630</span>
630:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">complete</span> <span class="ruby-identifier">name</span>
631:     <span class="ruby-identifier">klasses</span> = <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">keys</span>
632:     <span class="ruby-identifier">completions</span> = []
633: 
634:     <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">selector</span>, <span class="ruby-identifier">method</span> = <span class="ruby-identifier">parse_name</span> <span class="ruby-identifier">name</span>
635: 
636:     <span class="ruby-comment cmt"># may need to include Foo when given Foo::</span>
637:     <span class="ruby-identifier">klass_name</span> = <span class="ruby-identifier">method</span> <span class="ruby-value">? </span><span class="ruby-identifier">name</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">klass</span>
638: 
639:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">!~</span> <span class="ruby-regexp re">/#|\./</span> <span class="ruby-keyword kw">then</span>
640:       <span class="ruby-identifier">completions</span> = <span class="ruby-identifier">klasses</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-node">/^#{Regexp.escape klass_name}[^:]*$/</span>)
641:       <span class="ruby-identifier">completions</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">klasses</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-node">/^#{Regexp.escape name}[^:]*$/</span>) <span class="ruby-keyword kw">if</span>
642:         <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/::$/</span>
643: 
644:       <span class="ruby-identifier">completions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">klass</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">key?</span> <span class="ruby-identifier">klass</span> <span class="ruby-comment cmt"># to complete a method name</span>
645:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">selector</span> <span class="ruby-keyword kw">then</span>
646:       <span class="ruby-identifier">completions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">klass</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">key?</span> <span class="ruby-identifier">klass</span>
647:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">key?</span> <span class="ruby-identifier">klass_name</span> <span class="ruby-keyword kw">then</span>
648:       <span class="ruby-identifier">completions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">klass_name</span>
649:     <span class="ruby-keyword kw">end</span>
650: 
651:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">completions</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">klass</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/#|\.|::/</span> <span class="ruby-keyword kw">then</span>
652:       <span class="ruby-identifier">methods</span> = <span class="ruby-identifier">list_methods_matching</span> <span class="ruby-identifier">name</span>
653: 
654:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
655:         <span class="ruby-comment cmt"># remove Foo if given Foo:: and a method was found</span>
656:         <span class="ruby-identifier">completions</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">klass</span>
657:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">selector</span> <span class="ruby-keyword kw">then</span>
658:         <span class="ruby-comment cmt"># replace Foo with Foo:: as given</span>
659:         <span class="ruby-identifier">completions</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">klass</span>
660:         <span class="ruby-identifier">completions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{klass}#{selector}&quot;</span>
661:       <span class="ruby-keyword kw">end</span>
662: 
663:       <span class="ruby-identifier">completions</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">methods</span>)
664:     <span class="ruby-keyword kw">end</span>
665: 
666:     <span class="ruby-identifier">completions</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">uniq</span>
667:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004672">
                    
                    <a name="M004672"></a><b>display</b>(document)
                    
                </div>
                
                <div class="description">
                  <p>
Converts <tt>document</tt> to text and writes it to the pager
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004672_source')" id="l_M004672_source">show</a>
                        
                    </p>
                    <div id="M004672_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 672</span>
672:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">display</span> <span class="ruby-identifier">document</span>
673:     <span class="ruby-identifier">page</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span>
674:       <span class="ruby-identifier">text</span> = <span class="ruby-identifier">document</span>.<span class="ruby-identifier">accept</span> <span class="ruby-identifier">formatter</span>(<span class="ruby-identifier">io</span>)
675: 
676:       <span class="ruby-identifier">io</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">text</span>
677:     <span class="ruby-keyword kw">end</span>
678:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004673">
                    
                    <a name="M004673"></a><b>display_class</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Outputs formatted <a href="../RI.html">RI</a> data for class <tt>name</tt>.
Groups undocumented classes
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004673_source')" id="l_M004673_source">show</a>
                        
                    </p>
                    <div id="M004673_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 683</span>
683:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">display_class</span> <span class="ruby-identifier">name</span>
684:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/#|\./</span>
685: 
686:     <span class="ruby-identifier">found</span>, <span class="ruby-identifier">klasses</span>, <span class="ruby-identifier">includes</span> = <span class="ruby-identifier">classes_and_includes_for</span> <span class="ruby-identifier">name</span>
687: 
688:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">found</span>.<span class="ruby-identifier">empty?</span>
689: 
690:     <span class="ruby-identifier">out</span> = <span class="ruby-identifier">class_document</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">found</span>, <span class="ruby-identifier">klasses</span>, <span class="ruby-identifier">includes</span>
691: 
692:     <span class="ruby-identifier">display</span> <span class="ruby-identifier">out</span>
693:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004675">
                    
                    <a name="M004675"></a><b>display_method</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Outputs formatted <a href="../RI.html">RI</a> data for method <tt>name</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004675_source')" id="l_M004675_source">show</a>
                        
                    </p>
                    <div id="M004675_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 698</span>
698:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">display_method</span> <span class="ruby-identifier">name</span>
699:     <span class="ruby-identifier">found</span> = <span class="ruby-identifier">load_methods_matching</span> <span class="ruby-identifier">name</span>
700: 
701:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotFoundError</span>, <span class="ruby-identifier">name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">found</span>.<span class="ruby-identifier">empty?</span>
702: 
703:     <span class="ruby-identifier">filtered</span> = <span class="ruby-identifier">filter_methods</span> <span class="ruby-identifier">found</span>, <span class="ruby-identifier">name</span>
704: 
705:     <span class="ruby-identifier">out</span> = <span class="ruby-identifier">method_document</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">filtered</span>
706: 
707:     <span class="ruby-identifier">display</span> <span class="ruby-identifier">out</span>
708:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004676">
                    
                    <a name="M004676"></a><b>display_name</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Outputs formatted <a href="../RI.html">RI</a> data for the class or method
<tt>name</tt>.
</p>
<p>
Returns true if <tt>name</tt> was found, false if it was not an alternative
could be guessed, raises an error if <tt>name</tt> couldn&#8217;t be
guessed.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004676_source')" id="l_M004676_source">show</a>
                        
                    </p>
                    <div id="M004676_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 716</span>
716:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">display_name</span> <span class="ruby-identifier">name</span>
717:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">display_class</span> <span class="ruby-identifier">name</span>
718: 
719:     <span class="ruby-identifier">display_method</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/::|#|\./</span>
720: 
721:     <span class="ruby-keyword kw">true</span>
722:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">NotFoundError</span>
723:     <span class="ruby-identifier">matches</span> = <span class="ruby-identifier">list_methods_matching</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/::|#|\./</span>
724:     <span class="ruby-identifier">matches</span> = <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-node">/^#{name}/</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">empty?</span>
725: 
726:     <span class="ruby-identifier">raise</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">empty?</span>
727: 
728:     <span class="ruby-identifier">page</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span>
729:       <span class="ruby-identifier">io</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;#{name} not found, maybe you meant:&quot;</span>
730:       <span class="ruby-identifier">io</span>.<span class="ruby-identifier">puts</span>
731:       <span class="ruby-identifier">io</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
732:     <span class="ruby-keyword kw">end</span>
733: 
734:     <span class="ruby-keyword kw">false</span>
735:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004679">
                    
                    <a name="M004679"></a><b>display_names</b>(names)
                    
                </div>
                
                <div class="description">
                  <p>
Displays each name in <tt>name</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004679_source')" id="l_M004679_source">show</a>
                        
                    </p>
                    <div id="M004679_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 740</span>
740:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">display_names</span> <span class="ruby-identifier">names</span>
741:     <span class="ruby-identifier">names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
742:       <span class="ruby-identifier">name</span> = <span class="ruby-identifier">expand_name</span> <span class="ruby-identifier">name</span>
743: 
744:       <span class="ruby-identifier">display_name</span> <span class="ruby-identifier">name</span>
745:     <span class="ruby-keyword kw">end</span>
746:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004680">
                    
                    <a name="M004680"></a><b>expand_class</b>(klass)
                    
                </div>
                
                <div class="description">
                  <p>
Expands abbreviated klass <tt>klass</tt> into a fully-qualified class.
&#8220;Zl::Da&#8221; will be expanded to <a
href="../../Zlib/DataError.html">Zlib::DataError</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004680_source')" id="l_M004680_source">show</a>
                        
                    </p>
                    <div id="M004680_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 752</span>
752:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expand_class</span> <span class="ruby-identifier">klass</span>
753:     <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">'::'</span>).<span class="ruby-identifier">inject</span> <span class="ruby-value str">''</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">expanded</span>, <span class="ruby-identifier">klass_part</span><span class="ruby-operator">|</span>
754:       <span class="ruby-identifier">expanded</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'::'</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">expanded</span>.<span class="ruby-identifier">empty?</span>
755:       <span class="ruby-identifier">short</span> = <span class="ruby-identifier">expanded</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">klass_part</span>
756: 
757:       <span class="ruby-identifier">subset</span> = <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">select</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">klass_name</span><span class="ruby-operator">|</span>
758:         <span class="ruby-identifier">klass_name</span> <span class="ruby-operator">=~</span> <span class="ruby-node">/^#{expanded}[^:]*$/</span>
759:       <span class="ruby-keyword kw">end</span>
760: 
761:       <span class="ruby-identifier">abbrevs</span> = <span class="ruby-constant">Abbrev</span>.<span class="ruby-identifier">abbrev</span> <span class="ruby-identifier">subset</span>
762: 
763:       <span class="ruby-identifier">expanded</span> = <span class="ruby-identifier">abbrevs</span>[<span class="ruby-identifier">short</span>]
764: 
765:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotFoundError</span>, <span class="ruby-identifier">short</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">expanded</span>
766: 
767:       <span class="ruby-identifier">expanded</span>.<span class="ruby-identifier">dup</span>
768:     <span class="ruby-keyword kw">end</span>
769:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004681">
                    
                    <a name="M004681"></a><b>expand_name</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Expands the class portion of <tt>name</tt> into a fully-qualified class.
See <a href="Driver.html#M004680">expand_class</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004681_source')" id="l_M004681_source">show</a>
                        
                    </p>
                    <div id="M004681_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 775</span>
775:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expand_name</span> <span class="ruby-identifier">name</span>
776:     <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">selector</span>, <span class="ruby-identifier">method</span> = <span class="ruby-identifier">parse_name</span> <span class="ruby-identifier">name</span>
777: 
778:     <span class="ruby-keyword kw">return</span> [<span class="ruby-identifier">selector</span>, <span class="ruby-identifier">method</span>].<span class="ruby-identifier">join</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">empty?</span>
779: 
780:     <span class="ruby-node">&quot;#{expand_class klass}#{selector}#{method}&quot;</span>
781:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004682">
                    
                    <a name="M004682"></a><b>filter_methods</b>(found, name)
                    
                </div>
                
                <div class="description">
                  <p>
Filters the methods in <tt>found</tt> trying to find a match for
<tt>name</tt>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004682_source')" id="l_M004682_source">show</a>
                        
                    </p>
                    <div id="M004682_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 786</span>
786:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">filter_methods</span> <span class="ruby-identifier">found</span>, <span class="ruby-identifier">name</span>
787:     <span class="ruby-identifier">regexp</span> = <span class="ruby-identifier">name_regexp</span> <span class="ruby-identifier">name</span>
788: 
789:     <span class="ruby-identifier">filtered</span> = <span class="ruby-identifier">found</span>.<span class="ruby-identifier">find_all</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span>, <span class="ruby-identifier">methods</span><span class="ruby-operator">|</span>
790:       <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span> <span class="ruby-identifier">method</span>.<span class="ruby-identifier">full_name</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">regexp</span> }
791:     <span class="ruby-keyword kw">end</span>
792: 
793:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">filtered</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">filtered</span>.<span class="ruby-identifier">empty?</span>
794: 
795:     <span class="ruby-identifier">found</span>
796:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004683">
                    
                    <a name="M004683"></a><b>find_methods</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Yields items matching <tt>name</tt> including the store they were found in,
the class being searched for, the class they were found in (an ancestor)
the types of methods to look up (from <a
href="Driver.html#M004693">method_type</a>), and the method name being
searched for
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004683_source')" id="l_M004683_source">show</a>
                        
                    </p>
                    <div id="M004683_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 804</span>
804:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find_methods</span> <span class="ruby-identifier">name</span>
805:     <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">selector</span>, <span class="ruby-identifier">method</span> = <span class="ruby-identifier">parse_name</span> <span class="ruby-identifier">name</span>
806: 
807:     <span class="ruby-identifier">types</span> = <span class="ruby-identifier">method_type</span> <span class="ruby-identifier">selector</span>
808: 
809:     <span class="ruby-identifier">klasses</span> = <span class="ruby-keyword kw">nil</span>
810:     <span class="ruby-identifier">ambiguous</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">empty?</span>
811: 
812:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ambiguous</span> <span class="ruby-keyword kw">then</span>
813:       <span class="ruby-identifier">klasses</span> = <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">keys</span>
814:     <span class="ruby-keyword kw">else</span>
815:       <span class="ruby-identifier">klasses</span> = <span class="ruby-identifier">ancestors_of</span> <span class="ruby-identifier">klass</span>
816:       <span class="ruby-identifier">klasses</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-identifier">klass</span>
817:     <span class="ruby-keyword kw">end</span>
818: 
819:     <span class="ruby-identifier">methods</span> = []
820: 
821:     <span class="ruby-identifier">klasses</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ancestor</span><span class="ruby-operator">|</span>
822:       <span class="ruby-identifier">ancestors</span> = <span class="ruby-identifier">classes</span>[<span class="ruby-identifier">ancestor</span>]
823: 
824:       <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">ancestors</span>
825: 
826:       <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">ancestor</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ambiguous</span>
827: 
828:       <span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span><span class="ruby-operator">|</span>
829:         <span class="ruby-identifier">methods</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">store</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">ancestor</span>, <span class="ruby-identifier">types</span>, <span class="ruby-identifier">method</span>]
830:       <span class="ruby-keyword kw">end</span>
831:     <span class="ruby-keyword kw">end</span>
832: 
833:     <span class="ruby-identifier">methods</span> = <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">sort_by</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">_</span>, <span class="ruby-identifier">k</span>, <span class="ruby-identifier">a</span>, <span class="ruby-identifier">_</span>, <span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
834:       [<span class="ruby-identifier">k</span>, <span class="ruby-identifier">a</span>, <span class="ruby-identifier">m</span>].<span class="ruby-identifier">compact</span>
835:     <span class="ruby-keyword kw">end</span>
836: 
837:     <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
838:       <span class="ruby-keyword kw">yield</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">item</span>) <span class="ruby-comment cmt"># :yields: store, klass, ancestor, types, method</span>
839:     <span class="ruby-keyword kw">end</span>
840: 
841:     <span class="ruby-keyword kw">self</span>
842:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004685">
                    
                    <a name="M004685"></a><b>formatter</b>(io)
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new <a
href="../Markup/Formatter.html">RDoc::Markup::Formatter</a>. If a formatter
is given with -f, use it. If we&#8217;re outputting to a pager, use bs,
otherwise ansi.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004685_source')" id="l_M004685_source">show</a>
                        
                    </p>
                    <div id="M004685_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 848</span>
848:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">formatter</span>(<span class="ruby-identifier">io</span>)
849:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@formatter_klass</span> <span class="ruby-keyword kw">then</span>
850:       <span class="ruby-ivar">@formatter_klass</span>.<span class="ruby-identifier">new</span>
851:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">paging?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-operator">!</span><span class="ruby-identifier">io</span>.<span class="ruby-identifier">tty?</span> <span class="ruby-keyword kw">then</span>
852:       <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">ToBs</span>.<span class="ruby-identifier">new</span>
853:     <span class="ruby-keyword kw">else</span>
854:       <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">ToAnsi</span>.<span class="ruby-identifier">new</span>
855:     <span class="ruby-keyword kw">end</span>
856:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004687">
                    
                    <a name="M004687"></a><b>in_path?</b>(file)
                    
                </div>
                
                <div class="description">
                  <p>
Is <tt>file</tt> in ENV[&#8216;PATH&#8217;]?
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004687_source')" id="l_M004687_source">show</a>
                        
                    </p>
                    <div id="M004687_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 897</span>
897:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">in_path?</span> <span class="ruby-identifier">file</span>
898:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">file</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">%r%\A/%</span> <span class="ruby-keyword kw">and</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span> <span class="ruby-identifier">file</span>
899: 
900:     <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'PATH'</span>].<span class="ruby-identifier">split</span>(<span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">PATH_SEPARATOR</span>).<span class="ruby-identifier">any?</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
901:       <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">file</span>)
902:     <span class="ruby-keyword kw">end</span>
903:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004686">
                    
                    <a name="M004686"></a><b>interactive</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Runs ri interactively using <a href="../../Readline.html">Readline</a> if
it is available.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004686_source')" id="l_M004686_source">show</a>
                        
                    </p>
                    <div id="M004686_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 861</span>
861:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">interactive</span>
862:     <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;\nEnter the method name you want to look up.&quot;</span>
863: 
864:     <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-constant">Readline</span> <span class="ruby-keyword kw">then</span>
865:       <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_proc</span> = <span class="ruby-identifier">method</span> <span class="ruby-identifier">:complete</span>
866:       <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;You can use tab to autocomplete.&quot;</span>
867:     <span class="ruby-keyword kw">end</span>
868: 
869:     <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Enter a blank line to exit.\n\n&quot;</span>
870: 
871:     <span class="ruby-identifier">loop</span> <span class="ruby-keyword kw">do</span>
872:       <span class="ruby-identifier">name</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-constant">Readline</span> <span class="ruby-keyword kw">then</span>
873:                <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span> <span class="ruby-value str">&quot;&gt;&gt; &quot;</span>
874:              <span class="ruby-keyword kw">else</span>
875:                <span class="ruby-identifier">print</span> <span class="ruby-value str">&quot;&gt;&gt; &quot;</span>
876:                <span class="ruby-identifier">$stdin</span>.<span class="ruby-identifier">gets</span>
877:              <span class="ruby-keyword kw">end</span>
878: 
879:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">empty?</span>
880: 
881:       <span class="ruby-identifier">name</span> = <span class="ruby-identifier">expand_name</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">strip</span>
882: 
883:       <span class="ruby-keyword kw">begin</span>
884:         <span class="ruby-identifier">display_name</span> <span class="ruby-identifier">name</span>
885:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">NotFoundError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
886:         <span class="ruby-identifier">puts</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
887:       <span class="ruby-keyword kw">end</span>
888:     <span class="ruby-keyword kw">end</span>
889: 
890:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Interrupt</span>
891:     <span class="ruby-identifier">exit</span>
892:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004688">
                    
                    <a name="M004688"></a><b>list_known_classes</b>(names = [])
                    
                </div>
                
                <div class="description">
                  <p>
Lists classes known to ri starting with <tt>names</tt>. If <tt>names</tt>
is empty all known classes are shown.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004688_source')" id="l_M004688_source">show</a>
                        
                    </p>
                    <div id="M004688_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 909</span>
909:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list_known_classes</span> <span class="ruby-identifier">names</span> = []
910:     <span class="ruby-identifier">classes</span> = []
911: 
912:     <span class="ruby-identifier">stores</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span><span class="ruby-operator">|</span>
913:       <span class="ruby-identifier">classes</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">store</span>.<span class="ruby-identifier">modules</span>
914:     <span class="ruby-keyword kw">end</span>
915: 
916:     <span class="ruby-identifier">classes</span> = <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">sort</span>
917: 
918:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
919:       <span class="ruby-identifier">filter</span> = <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">union</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-node">/^#{name}/</span> }
920: 
921:       <span class="ruby-identifier">classes</span> = <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">grep</span> <span class="ruby-identifier">filter</span>
922:     <span class="ruby-keyword kw">end</span>
923: 
924:     <span class="ruby-identifier">page</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span>
925:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">paging?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">io</span>.<span class="ruby-identifier">tty?</span> <span class="ruby-keyword kw">then</span>
926:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
927:           <span class="ruby-identifier">io</span>.<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Classes and Modules known to ri:&quot;</span>
928:         <span class="ruby-keyword kw">else</span>
929:           <span class="ruby-identifier">io</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Classes and Modules starting with #{names.join ', '}:&quot;</span>
930:         <span class="ruby-keyword kw">end</span>
931:         <span class="ruby-identifier">io</span>.<span class="ruby-identifier">puts</span>
932:       <span class="ruby-keyword kw">end</span>
933: 
934:       <span class="ruby-identifier">io</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
935:     <span class="ruby-keyword kw">end</span>
936:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004689">
                    
                    <a name="M004689"></a><b>list_methods_matching</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Returns an <a href="../../Array.html">Array</a> of methods matching
<tt>name</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004689_source')" id="l_M004689_source">show</a>
                        
                    </p>
                    <div id="M004689_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 941</span>
941:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list_methods_matching</span> <span class="ruby-identifier">name</span>
942:     <span class="ruby-identifier">found</span> = []
943: 
944:     <span class="ruby-identifier">find_methods</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">ancestor</span>, <span class="ruby-identifier">types</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
945:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">types</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:instance</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">types</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:both</span> <span class="ruby-keyword kw">then</span>
946:         <span class="ruby-identifier">methods</span> = <span class="ruby-identifier">store</span>.<span class="ruby-identifier">instance_methods</span>[<span class="ruby-identifier">ancestor</span>]
947: 
948:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">methods</span> <span class="ruby-keyword kw">then</span>
949:           <span class="ruby-identifier">matches</span> = <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-node">/^#{Regexp.escape method.to_s}/</span>)
950: 
951:           <span class="ruby-identifier">matches</span> = <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">match</span><span class="ruby-operator">|</span>
952:             <span class="ruby-node">&quot;#{klass}##{match}&quot;</span>
953:           <span class="ruby-keyword kw">end</span>
954: 
955:           <span class="ruby-identifier">found</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">matches</span>)
956:         <span class="ruby-keyword kw">end</span>
957:       <span class="ruby-keyword kw">end</span>
958: 
959:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">types</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:class</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">types</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:both</span> <span class="ruby-keyword kw">then</span>
960:         <span class="ruby-identifier">methods</span> = <span class="ruby-identifier">store</span>.<span class="ruby-identifier">class_methods</span>[<span class="ruby-identifier">ancestor</span>]
961: 
962:         <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">methods</span>
963:         <span class="ruby-identifier">matches</span> = <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-node">/^#{Regexp.escape method.to_s}/</span>)
964: 
965:         <span class="ruby-identifier">matches</span> = <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">match</span><span class="ruby-operator">|</span>
966:           <span class="ruby-node">&quot;#{klass}::#{match}&quot;</span>
967:         <span class="ruby-keyword kw">end</span>
968: 
969:         <span class="ruby-identifier">found</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">matches</span>)
970:       <span class="ruby-keyword kw">end</span>
971:     <span class="ruby-keyword kw">end</span>
972: 
973:     <span class="ruby-identifier">found</span>.<span class="ruby-identifier">uniq</span>
974:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004690">
                    
                    <a name="M004690"></a><b>load_method</b>(store, cache, klass, type, name)
                    
                </div>
                
                <div class="description">
                  <p>
Loads <a href="../RI.html">RI</a> data for method <tt>name</tt> on
<tt>klass</tt> from <tt>store</tt>. <tt>type</tt> and <tt>cache</tt>
indicate if it is a class or instance method.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004690_source')" id="l_M004690_source">show</a>
                        
                    </p>
                    <div id="M004690_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 980</span>
980:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_method</span> <span class="ruby-identifier">store</span>, <span class="ruby-identifier">cache</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">name</span>
981:     <span class="ruby-identifier">methods</span> = <span class="ruby-identifier">store</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">cache</span>)[<span class="ruby-identifier">klass</span>]
982: 
983:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">methods</span>
984: 
985:     <span class="ruby-identifier">method</span> = <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">find</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method_name</span><span class="ruby-operator">|</span>
986:       <span class="ruby-identifier">method_name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">name</span>
987:     <span class="ruby-keyword kw">end</span>
988: 
989:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">method</span>
990: 
991:     <span class="ruby-identifier">store</span>.<span class="ruby-identifier">load_method</span> <span class="ruby-identifier">klass</span>, <span class="ruby-node">&quot;#{type}#{method}&quot;</span>
992:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004691">
                    
                    <a name="M004691"></a><b>load_methods_matching</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Returns an <a href="../../Array.html">Array</a> of <a
href="../RI.html">RI</a> data for methods matching <tt>name</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004691_source')" id="l_M004691_source">show</a>
                        
                    </p>
                    <div id="M004691_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 997</span>
 997:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_methods_matching</span> <span class="ruby-identifier">name</span>
 998:     <span class="ruby-identifier">found</span> = []
 999: 
1000:     <span class="ruby-identifier">find_methods</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">ancestor</span>, <span class="ruby-identifier">types</span>, <span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
1001:       <span class="ruby-identifier">methods</span> = []
1002: 
1003:       <span class="ruby-identifier">methods</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">load_method</span>(<span class="ruby-identifier">store</span>, <span class="ruby-identifier">:class_methods</span>, <span class="ruby-identifier">ancestor</span>, <span class="ruby-value str">'::'</span>,  <span class="ruby-identifier">method</span>) <span class="ruby-keyword kw">if</span>
1004:         [<span class="ruby-identifier">:class</span>, <span class="ruby-identifier">:both</span>].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">types</span>
1005: 
1006:       <span class="ruby-identifier">methods</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">load_method</span>(<span class="ruby-identifier">store</span>, <span class="ruby-identifier">:instance_methods</span>, <span class="ruby-identifier">ancestor</span>, <span class="ruby-value str">'#'</span>,  <span class="ruby-identifier">method</span>) <span class="ruby-keyword kw">if</span>
1007:         [<span class="ruby-identifier">:instance</span>, <span class="ruby-identifier">:both</span>].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">types</span>
1008: 
1009:       <span class="ruby-identifier">found</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">store</span>, <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">compact</span>]
1010:     <span class="ruby-keyword kw">end</span>
1011: 
1012:     <span class="ruby-identifier">found</span>.<span class="ruby-identifier">reject</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">methods</span><span class="ruby-operator">|</span> <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">end</span>
1013:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004692">
                    
                    <a name="M004692"></a><b>method_document</b>(name, filtered)
                    
                </div>
                
                <div class="description">
                  <p>
Builds a <a href="../Markup/Document.html">RDoc::Markup::Document</a> from
<tt>found</tt>, <tt>klasess</tt> and <tt>includes</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004692_source')" id="l_M004692_source">show</a>
                        
                    </p>
                    <div id="M004692_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 1018</span>
1018:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">method_document</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">filtered</span>
1019:     <span class="ruby-identifier">out</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
1020: 
1021:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Heading</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">name</span>)
1022:     <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
1023: 
1024:     <span class="ruby-identifier">filtered</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">store</span>, <span class="ruby-identifier">methods</span><span class="ruby-operator">|</span>
1025:       <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
1026:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Paragraph</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;(from #{store.friendly_path})&quot;</span>)
1027: 
1028:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-node">/^#{Regexp.escape method.parent_name}/</span> <span class="ruby-keyword kw">then</span>
1029:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Heading</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">3</span>, <span class="ruby-node">&quot;Implementation from #{method.parent_name}&quot;</span>)
1030:         <span class="ruby-keyword kw">end</span>
1031:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Rule</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>)
1032: 
1033:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">method</span>.<span class="ruby-identifier">arglists</span> <span class="ruby-keyword kw">then</span>
1034:           <span class="ruby-identifier">arglists</span> = <span class="ruby-identifier">method</span>.<span class="ruby-identifier">arglists</span>.<span class="ruby-identifier">chomp</span>.<span class="ruby-identifier">split</span> <span class="ruby-value str">&quot;\n&quot;</span>
1035:           <span class="ruby-identifier">arglists</span> = <span class="ruby-identifier">arglists</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;\n&quot;</span> }
1036:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Verbatim</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arglists</span>)
1037:           <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">Rule</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">1</span>)
1038:         <span class="ruby-keyword kw">end</span>
1039: 
1040:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
1041:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">method</span>.<span class="ruby-identifier">comment</span>
1042:         <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">BlankLine</span>.<span class="ruby-identifier">new</span>
1043:       <span class="ruby-keyword kw">end</span>
1044:     <span class="ruby-keyword kw">end</span>
1045: 
1046:     <span class="ruby-identifier">out</span>
1047:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004693">
                    
                    <a name="M004693"></a><b>method_type</b>(selector)
                    
                </div>
                
                <div class="description">
                  <p>
Returns the type of method (:both, :instance, :class) for <tt>selector</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004693_source')" id="l_M004693_source">show</a>
                        
                    </p>
                    <div id="M004693_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 1052</span>
1052:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">method_type</span> <span class="ruby-identifier">selector</span>
1053:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">selector</span>
1054:     <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'.'</span>, <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">:both</span>
1055:     <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'#'</span>      <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">:instance</span>
1056:     <span class="ruby-keyword kw">else</span>               <span class="ruby-identifier">:class</span>
1057:     <span class="ruby-keyword kw">end</span>
1058:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004694">
                    
                    <a name="M004694"></a><b>name_regexp</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a regular expression for <tt>name</tt> that will match an
RDoc::AnyMethod&#8217;s name.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004694_source')" id="l_M004694_source">show</a>
                        
                    </p>
                    <div id="M004694_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 1064</span>
1064:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">name_regexp</span> <span class="ruby-identifier">name</span>
1065:     <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">name</span> = <span class="ruby-identifier">parse_name</span> <span class="ruby-identifier">name</span>
1066: 
1067:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">type</span>
1068:     <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'#'</span>, <span class="ruby-value str">'::'</span> <span class="ruby-keyword kw">then</span>
1069:       <span class="ruby-node">/^#{klass}#{type}#{Regexp.escape name}$/</span>
1070:     <span class="ruby-keyword kw">else</span>
1071:       <span class="ruby-node">/^#{klass}(#|::)#{Regexp.escape name}$/</span>
1072:     <span class="ruby-keyword kw">end</span>
1073:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004695">
                    
                    <a name="M004695"></a><b>page</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Paginates output through a pager program.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004695_source')" id="l_M004695_source">show</a>
                        
                    </p>
                    <div id="M004695_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 1078</span>
1078:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">page</span>
1079:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pager</span> = <span class="ruby-identifier">setup_pager</span> <span class="ruby-keyword kw">then</span>
1080:       <span class="ruby-keyword kw">begin</span>
1081:         <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">pager</span>
1082:       <span class="ruby-keyword kw">ensure</span>
1083:         <span class="ruby-identifier">pager</span>.<span class="ruby-identifier">close</span>
1084:       <span class="ruby-keyword kw">end</span>
1085:     <span class="ruby-keyword kw">else</span>
1086:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">$stdout</span>
1087:     <span class="ruby-keyword kw">end</span>
1088:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EPIPE</span>
1089:   <span class="ruby-keyword kw">ensure</span>
1090:     <span class="ruby-ivar">@paging</span> = <span class="ruby-keyword kw">false</span>
1091:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004696">
                    
                    <a name="M004696"></a><b>paging?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Are we using a pager?
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004696_source')" id="l_M004696_source">show</a>
                        
                    </p>
                    <div id="M004696_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 1096</span>
1096:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">paging?</span>
1097:     <span class="ruby-ivar">@paging</span>
1098:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004697">
                    
                    <a name="M004697"></a><b>parse_name</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Extracts the class, selector and method name parts from <tt>name</tt> like
Foo::Bar#baz.
</p>
<p>
NOTE: Given Foo::Bar, Bar is considered a class even though it may be a
</p>
<pre>
      method
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004697_source')" id="l_M004697_source">show</a>
                        
                    </p>
                    <div id="M004697_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 1107</span>
1107:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse_name</span> <span class="ruby-identifier">name</span>
1108:     <span class="ruby-identifier">parts</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/(::|#|\.)/</span>)
1109: 
1110:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">then</span>
1111:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^[a-z]|^([%&amp;*+\/&lt;&gt;^`|~-]|\+@|-@|&lt;&lt;|&lt;=&gt;?|===?|=&gt;|=~|&gt;&gt;|\[\]=?|~@)$/</span> <span class="ruby-keyword kw">then</span>
1112:         <span class="ruby-identifier">type</span> = <span class="ruby-value str">'.'</span>
1113:         <span class="ruby-identifier">meth</span> = <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">pop</span>
1114:       <span class="ruby-keyword kw">else</span>
1115:         <span class="ruby-identifier">type</span> = <span class="ruby-keyword kw">nil</span>
1116:         <span class="ruby-identifier">meth</span> = <span class="ruby-keyword kw">nil</span>
1117:       <span class="ruby-keyword kw">end</span>
1118:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/::|#|\./</span> <span class="ruby-keyword kw">then</span>
1119:       <span class="ruby-identifier">type</span> = <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">pop</span>
1120:       <span class="ruby-identifier">meth</span> = <span class="ruby-keyword kw">nil</span>
1121:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">parts</span>[<span class="ruby-value">-2</span>] <span class="ruby-operator">!=</span> <span class="ruby-value str">'::'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">!~</span> <span class="ruby-regexp re">/^[A-Z]/</span> <span class="ruby-keyword kw">then</span>
1122:       <span class="ruby-identifier">meth</span> = <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">pop</span>
1123:       <span class="ruby-identifier">type</span> = <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">pop</span>
1124:     <span class="ruby-keyword kw">end</span>
1125: 
1126:     <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">join</span>
1127: 
1128:     [<span class="ruby-identifier">klass</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">meth</span>]
1129:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004698">
                    
                    <a name="M004698"></a><b>run</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Looks up and displays ri data according to the options given.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004698_source')" id="l_M004698_source">show</a>
                        
                    </p>
                    <div id="M004698_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 1134</span>
1134:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run</span>
1135:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@list_doc_dirs</span> <span class="ruby-keyword kw">then</span>
1136:       <span class="ruby-identifier">puts</span> <span class="ruby-ivar">@doc_dirs</span>
1137:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@list</span> <span class="ruby-keyword kw">then</span>
1138:       <span class="ruby-identifier">list_known_classes</span> <span class="ruby-ivar">@names</span>
1139:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@interactive</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@names</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
1140:       <span class="ruby-identifier">interactive</span>
1141:     <span class="ruby-keyword kw">else</span>
1142:       <span class="ruby-identifier">display_names</span> <span class="ruby-ivar">@names</span>
1143:     <span class="ruby-keyword kw">end</span>
1144:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">NotFoundError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
1145:     <span class="ruby-identifier">abort</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
1146:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004699">
                    
                    <a name="M004699"></a><b>setup_pager</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Sets up a pager program to pass output through. Tries the RI_PAGER and
PAGER environment variables followed by pager, less then more.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004699_source')" id="l_M004699_source">show</a>
                        
                    </p>
                    <div id="M004699_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/ri/driver.rb, line 1152</span>
1152:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup_pager</span>
1153:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@use_stdout</span>
1154: 
1155:     <span class="ruby-identifier">pagers</span> = [<span class="ruby-constant">ENV</span>[<span class="ruby-value str">'RI_PAGER'</span>], <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'PAGER'</span>], <span class="ruby-value str">'pager'</span>, <span class="ruby-value str">'less'</span>, <span class="ruby-value str">'more'</span>]
1156: 
1157:     <span class="ruby-identifier">pagers</span>.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pager</span><span class="ruby-operator">|</span>
1158:       <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">pager</span>
1159: 
1160:       <span class="ruby-identifier">pager_cmd</span> = <span class="ruby-identifier">pager</span>.<span class="ruby-identifier">split</span>.<span class="ruby-identifier">first</span>
1161: 
1162:       <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">in_path?</span> <span class="ruby-identifier">pager_cmd</span>
1163: 
1164:       <span class="ruby-identifier">io</span> = <span class="ruby-constant">IO</span>.<span class="ruby-identifier">popen</span>(<span class="ruby-identifier">pager</span>, <span class="ruby-value str">'w'</span>) <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">next</span>
1165: 
1166:       <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">$?</span>.<span class="ruby-identifier">exited?</span> <span class="ruby-comment cmt"># pager didn't work</span>
1167: 
1168:       <span class="ruby-ivar">@paging</span> = <span class="ruby-keyword kw">true</span>
1169: 
1170:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">io</span>
1171:     <span class="ruby-keyword kw">end</span>
1172: 
1173:     <span class="ruby-ivar">@use_stdout</span> = <span class="ruby-keyword kw">true</span>
1174: 
1175:     <span class="ruby-keyword kw">nil</span>
1176:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    