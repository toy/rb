<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Psych::Visitors::YAMLTree</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Psych::Visitors::YAMLTree 
            
                <span class="parent">&lt; 
                    
                    <a href="Visitor.html">Psych::Visitors::Visitor</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/ext/psych/lib/psych/visitors/yaml_tree_rb.html">ext/psych/lib/psych/visitors/yaml_tree.rb</a></li>
            
            <li><a href="../../../files/ext/psych/to_ruby_c.html">ext/psych/to_ruby.c</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
call-seq: <a href="YAMLTree.html#M010047">private_iv_get</a>(target, prop)
</p>
<p>
Get the private instance variable <tt>prop</tt> from <tt>target</tt>
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M009993"><<</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M009994">accept</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M010028">dump_coder</a>,</li>
                
                <li><a href="#M010030">dump_ivars</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M010029">emit_coder</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M010026">find_ivars</a>,</li>
                
                <li><a href="#M009990">finish</a>,</li>
                
                <li><a href="#M010025">format_time</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M009987">new</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M010047">private_iv_get</a>,</li>
                
                <li><a href="#M009992">push</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M010027">register</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M009988">start</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M009991">tree</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M010022">visit_Array</a>,</li>
                
                <li><a href="#M010018">visit_Class</a>,</li>
                
                <li><a href="#M010009">visit_Complex</a>,</li>
                
                <li><a href="#M010014">visit_Date</a>,</li>
                
                <li><a href="#M010004">visit_DateTime</a>,</li>
                
                <li><a href="#M010001">visit_Exception</a>,</li>
                
                <li><a href="#M010013">visit_FalseClass</a>,</li>
                
                <li><a href="#M010015">visit_Float</a>,</li>
                
                <li><a href="#M010020">visit_Hash</a>,</li>
                
                <li><a href="#M010011">visit_Integer</a>,</li>
                
                <li><a href="#M010017">visit_Module</a>,</li>
                
                <li><a href="#M010023">visit_NilClass</a>,</li>
                
                <li><a href="#M009996">visit_Object</a>,</li>
                
                <li><a href="#M009995">visit_Psych_Omap</a>,</li>
                
                <li><a href="#M010021">visit_Psych_Set</a>,</li>
                
                <li><a href="#M010019">visit_Range</a>,</li>
                
                <li><a href="#M010008">visit_Rational</a>,</li>
                
                <li><a href="#M010003">visit_Regexp</a>,</li>
                
                <li><a href="#M010016">visit_String</a>,</li>
                
                <li><a href="#M009997">visit_Struct</a>,</li>
                
                <li><a href="#M010024">visit_Symbol</a>,</li>
                
                <li><a href="#M010007">visit_Time</a>,</li>
                
                <li><a href="#M010012">visit_TrueClass</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>started</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>finished</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M009987">
                    
                    <a name="M009987"></a><b>new</b>(options = {})
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M009987_source')" id="l_M009987_source">show</a>
                        
                    </p>
                    <div id="M009987_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 15</span>
15:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span> <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">emitter</span> = <span class="ruby-constant">Psych</span><span class="ruby-operator">::</span><span class="ruby-constant">TreeBuilder</span>.<span class="ruby-identifier">new</span>
16:         <span class="ruby-keyword kw">super</span>()
17:         <span class="ruby-ivar">@started</span>  = <span class="ruby-keyword kw">false</span>
18:         <span class="ruby-ivar">@finished</span> = <span class="ruby-keyword kw">false</span>
19:         <span class="ruby-ivar">@emitter</span>  = <span class="ruby-identifier">emitter</span>
20:         <span class="ruby-ivar">@st</span>       = {}
21:         <span class="ruby-ivar">@ss</span>       = <span class="ruby-constant">ScalarScanner</span>.<span class="ruby-identifier">new</span>
22:         <span class="ruby-ivar">@options</span>  = <span class="ruby-identifier">options</span>
23: 
24:         <span class="ruby-ivar">@dispatch_cache</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>,<span class="ruby-identifier">klass</span><span class="ruby-operator">|</span>
25:           <span class="ruby-identifier">method</span> = <span class="ruby-node">&quot;visit_#{(klass.name || '').split('::').join('_')}&quot;</span>
26: 
27:           <span class="ruby-identifier">method</span> = <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">method</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">method</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">klass</span>.<span class="ruby-identifier">superclass</span>]
28: 
29:           <span class="ruby-identifier">raise</span>(<span class="ruby-constant">TypeError</span>, <span class="ruby-node">&quot;Can't dump #{target.class}&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">method</span>
30: 
31:           <span class="ruby-identifier">h</span>[<span class="ruby-identifier">klass</span>] = <span class="ruby-identifier">method</span>
32:         <span class="ruby-keyword kw">end</span>
33:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M009993">
                    
                    <a name="M009993"></a><b>&lt;&lt;</b>(object)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="YAMLTree.html#M009992">push</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M009994">
                    
                    <a name="M009994"></a><b>accept</b>(target)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M009994_source')" id="l_M009994_source">show</a>
                        
                    </p>
                    <div id="M009994_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 71</span>
 71:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">accept</span> <span class="ruby-identifier">target</span>
 72:         <span class="ruby-comment cmt"># return any aliases we find</span>
 73:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@st</span>.<span class="ruby-identifier">key?</span> <span class="ruby-identifier">target</span>.<span class="ruby-identifier">object_id</span>
 74:           <span class="ruby-identifier">oid</span>         = <span class="ruby-identifier">target</span>.<span class="ruby-identifier">object_id</span>
 75:           <span class="ruby-identifier">node</span>        = <span class="ruby-ivar">@st</span>[<span class="ruby-identifier">oid</span>]
 76:           <span class="ruby-identifier">anchor</span>      = <span class="ruby-identifier">oid</span>.<span class="ruby-identifier">to_s</span>
 77:           <span class="ruby-identifier">node</span>.<span class="ruby-identifier">anchor</span> = <span class="ruby-identifier">anchor</span>
 78:           <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">alias</span> <span class="ruby-identifier">anchor</span>
 79:         <span class="ruby-keyword kw">end</span>
 80: 
 81:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">target</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:to_yaml</span>)
 82:           <span class="ruby-keyword kw">begin</span>
 83:             <span class="ruby-identifier">loc</span> = <span class="ruby-identifier">target</span>.<span class="ruby-identifier">method</span>(<span class="ruby-identifier">:to_yaml</span>).<span class="ruby-identifier">source_location</span>.<span class="ruby-identifier">first</span>
 84:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">loc</span> <span class="ruby-operator">!~</span> <span class="ruby-regexp re">/(syck\/rubytypes.rb|psych\/core_ext.rb)/</span>
 85:               <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">target</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:encode_with</span>)
 86:                 <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$VERBOSE</span>
 87:                   <span class="ruby-identifier">warn</span> <span class="ruby-value str">&quot;implementing to_yaml is deprecated, please implement \&quot;encode_with\&quot;&quot;</span>
 88:                 <span class="ruby-keyword kw">end</span>
 89: 
 90:                 <span class="ruby-identifier">target</span>.<span class="ruby-identifier">to_yaml</span>(<span class="ruby-identifier">:nodump</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
 91:               <span class="ruby-keyword kw">end</span>
 92:             <span class="ruby-keyword kw">end</span>
 93:           <span class="ruby-keyword kw">rescue</span>
 94:             <span class="ruby-comment cmt"># public_method or source_location might be overridden,</span>
 95:             <span class="ruby-comment cmt"># and it's OK to skip it since it's only to emit a warning</span>
 96:           <span class="ruby-keyword kw">end</span>
 97:         <span class="ruby-keyword kw">end</span>
 98: 
 99:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">target</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:encode_with</span>)
100:           <span class="ruby-identifier">dump_coder</span> <span class="ruby-identifier">target</span>
101:         <span class="ruby-keyword kw">else</span>
102:           <span class="ruby-identifier">send</span>(<span class="ruby-ivar">@dispatch_cache</span>[<span class="ruby-identifier">target</span>.<span class="ruby-identifier">class</span>], <span class="ruby-identifier">target</span>)
103:         <span class="ruby-keyword kw">end</span>
104:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M009990">
                    
                    <a name="M009990"></a><b>finish</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M009990_source')" id="l_M009990_source">show</a>
                        
                    </p>
                    <div id="M009990_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 41</span>
41:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">finish</span>
42:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">end_stream</span>.<span class="ruby-identifier">tap</span> <span class="ruby-keyword kw">do</span>
43:           <span class="ruby-ivar">@finished</span> = <span class="ruby-keyword kw">true</span>
44:         <span class="ruby-keyword kw">end</span>
45:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M009992">
                    
                    <a name="M009992"></a><b>push</b>(object)
                    
                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="YAMLTree.html#M009993">&lt;&lt;</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M009992_source')" id="l_M009992_source">show</a>
                        
                    </p>
                    <div id="M009992_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 51</span>
51:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">push</span> <span class="ruby-identifier">object</span>
52:         <span class="ruby-identifier">start</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">started?</span>
53:         <span class="ruby-identifier">version</span> = []
54:         <span class="ruby-identifier">version</span> = [<span class="ruby-value">1</span>,<span class="ruby-value">1</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:header</span>]
55: 
56:         <span class="ruby-keyword kw">case</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:version</span>]
57:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Array</span>
58:           <span class="ruby-identifier">version</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:version</span>]
59:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span>
60:           <span class="ruby-identifier">version</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:version</span>].<span class="ruby-identifier">split</span>(<span class="ruby-value str">'.'</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">to_i</span> }
61:         <span class="ruby-keyword kw">else</span>
62:           <span class="ruby-identifier">version</span> = [<span class="ruby-value">1</span>,<span class="ruby-value">1</span>]
63:         <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">key?</span> <span class="ruby-identifier">:version</span>
64: 
65:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">start_document</span> <span class="ruby-identifier">version</span>, [], <span class="ruby-keyword kw">false</span>
66:         <span class="ruby-identifier">accept</span> <span class="ruby-identifier">object</span>
67:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">end_document</span>
68:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M009988">
                    
                    <a name="M009988"></a><b>start</b>(encoding = Nodes::Stream::UTF8)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M009988_source')" id="l_M009988_source">show</a>
                        
                    </p>
                    <div id="M009988_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 35</span>
35:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">start</span> <span class="ruby-identifier">encoding</span> = <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Stream</span><span class="ruby-operator">::</span><span class="ruby-constant">UTF8</span>
36:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">start_stream</span>(<span class="ruby-identifier">encoding</span>).<span class="ruby-identifier">tap</span> <span class="ruby-keyword kw">do</span>
37:           <span class="ruby-ivar">@started</span> = <span class="ruby-keyword kw">true</span>
38:         <span class="ruby-keyword kw">end</span>
39:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M009991">
                    
                    <a name="M009991"></a><b>tree</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M009991_source')" id="l_M009991_source">show</a>
                        
                    </p>
                    <div id="M009991_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 47</span>
47:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">tree</span>
48:         <span class="ruby-identifier">finish</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">finished?</span>
49:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010022">
                    
                    <a name="M010022"></a><b>visit_Array</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010022_source')" id="l_M010022_source">show</a>
                        
                    </p>
                    <div id="M010022_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 292</span>
292:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_Array</span> <span class="ruby-identifier">o</span>
293:         <span class="ruby-identifier">register</span> <span class="ruby-identifier">o</span>, <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">start_sequence</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Sequence</span><span class="ruby-operator">::</span><span class="ruby-constant">BLOCK</span>)
294:         <span class="ruby-identifier">o</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">accept</span> <span class="ruby-identifier">c</span> }
295:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">end_sequence</span>
296:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010018">
                    
                    <a name="M010018"></a><b>visit_Class</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010018_source')" id="l_M010018_source">show</a>
                        
                    </p>
                    <div id="M010018_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 254</span>
254:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_Class</span> <span class="ruby-identifier">o</span>
255:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-node">&quot;can't dump anonymous class: #{o}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">name</span>
256:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">name</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'!ruby/class'</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">SINGLE_QUOTED</span>
257:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010009">
                    
                    <a name="M010009"></a><b>visit_Complex</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010009_source')" id="l_M010009_source">show</a>
                        
                    </p>
                    <div id="M010009_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 189</span>
189:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_Complex</span> <span class="ruby-identifier">o</span>
190:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">start_mapping</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'!ruby/object:Complex'</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Mapping</span><span class="ruby-operator">::</span><span class="ruby-constant">BLOCK</span>)
191: 
192:         [<span class="ruby-value str">'real'</span>, <span class="ruby-identifier">o</span>.<span class="ruby-identifier">real</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-value str">'image'</span>, <span class="ruby-identifier">o</span>.<span class="ruby-identifier">imag</span>.<span class="ruby-identifier">to_s</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
193:           <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span> <span class="ruby-identifier">m</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">ANY</span>
194:         <span class="ruby-keyword kw">end</span>
195: 
196:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">end_mapping</span>
197:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010014">
                    
                    <a name="M010014"></a><b>visit_Date</b>(o)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="YAMLTree.html#M010011">visit_Integer</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M010004">
                    
                    <a name="M010004"></a><b>visit_DateTime</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010004_source')" id="l_M010004_source">show</a>
                        
                    </p>
                    <div id="M010004_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 165</span>
165:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_DateTime</span> <span class="ruby-identifier">o</span>
166:         <span class="ruby-identifier">formatted</span> = <span class="ruby-identifier">format_time</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">to_time</span>
167:         <span class="ruby-identifier">tag</span> = <span class="ruby-value str">'!ruby/object:DateTime'</span>
168:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span> <span class="ruby-identifier">formatted</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">tag</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">ANY</span>
169:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010001">
                    
                    <a name="M010001"></a><b>visit_Exception</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010001_source')" id="l_M010001_source">show</a>
                        
                    </p>
                    <div id="M010001_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 142</span>
142:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_Exception</span> <span class="ruby-identifier">o</span>
143:         <span class="ruby-identifier">tag</span> = [<span class="ruby-value str">'!ruby/exception'</span>, <span class="ruby-identifier">o</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>].<span class="ruby-identifier">join</span> <span class="ruby-value str">':'</span>
144: 
145:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">start_mapping</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">tag</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Mapping</span><span class="ruby-operator">::</span><span class="ruby-constant">BLOCK</span>
146: 
147:         {
148:           <span class="ruby-value str">'message'</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">private_iv_get</span>(<span class="ruby-identifier">o</span>, <span class="ruby-value str">'mesg'</span>),
149:           <span class="ruby-value str">'backtrace'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">private_iv_get</span>(<span class="ruby-identifier">o</span>, <span class="ruby-value str">'backtrace'</span>),
150:         }.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
151:           <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">v</span>
152:           <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span> <span class="ruby-identifier">k</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">ANY</span>
153:           <span class="ruby-identifier">accept</span> <span class="ruby-identifier">v</span>
154:         <span class="ruby-keyword kw">end</span>
155: 
156:         <span class="ruby-identifier">dump_ivars</span> <span class="ruby-identifier">o</span>
157: 
158:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">end_mapping</span>
159:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010013">
                    
                    <a name="M010013"></a><b>visit_FalseClass</b>(o)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="YAMLTree.html#M010011">visit_Integer</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M010015">
                    
                    <a name="M010015"></a><b>visit_Float</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010015_source')" id="l_M010015_source">show</a>
                        
                    </p>
                    <div id="M010015_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 206</span>
206:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_Float</span> <span class="ruby-identifier">o</span>
207:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">nan?</span>
208:           <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span> <span class="ruby-value str">'.nan'</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">ANY</span>
209:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">infinite?</span>
210:           <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span>((<span class="ruby-identifier">o</span>.<span class="ruby-identifier">infinite?</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value str">'.inf'</span> <span class="ruby-operator">:</span> <span class="ruby-value str">'-.inf'</span>),
211:             <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">ANY</span>)
212:         <span class="ruby-keyword kw">else</span>
213:           <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">ANY</span>
214:         <span class="ruby-keyword kw">end</span>
215:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010020">
                    
                    <a name="M010020"></a><b>visit_Hash</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010020_source')" id="l_M010020_source">show</a>
                        
                    </p>
                    <div id="M010020_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 267</span>
267:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_Hash</span> <span class="ruby-identifier">o</span>
268:         <span class="ruby-identifier">tag</span>      = <span class="ruby-identifier">o</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-operator">::</span><span class="ruby-constant">Hash</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;!ruby/hash:#{o.class}&quot;</span>
269:         <span class="ruby-identifier">implicit</span> = <span class="ruby-operator">!</span><span class="ruby-identifier">tag</span>
270: 
271:         <span class="ruby-identifier">register</span>(<span class="ruby-identifier">o</span>, <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">start_mapping</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">tag</span>, <span class="ruby-identifier">implicit</span>, <span class="ruby-constant">Psych</span><span class="ruby-operator">::</span><span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Mapping</span><span class="ruby-operator">::</span><span class="ruby-constant">BLOCK</span>))
272: 
273:         <span class="ruby-identifier">o</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
274:           <span class="ruby-identifier">accept</span> <span class="ruby-identifier">k</span>
275:           <span class="ruby-identifier">accept</span> <span class="ruby-identifier">v</span>
276:         <span class="ruby-keyword kw">end</span>
277: 
278:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">end_mapping</span>
279:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010011">
                    
                    <a name="M010011"></a><b>visit_Integer</b>(o)
                    
                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="YAMLTree.html#M010012">visit_TrueClass</a>
                    
                    <a href="YAMLTree.html#M010013">visit_FalseClass</a>
                    
                    <a href="YAMLTree.html#M010014">visit_Date</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010011_source')" id="l_M010011_source">show</a>
                        
                    </p>
                    <div id="M010011_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 199</span>
199:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_Integer</span> <span class="ruby-identifier">o</span>
200:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">ANY</span>
201:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010017">
                    
                    <a name="M010017"></a><b>visit_Module</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010017_source')" id="l_M010017_source">show</a>
                        
                    </p>
                    <div id="M010017_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 249</span>
249:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_Module</span> <span class="ruby-identifier">o</span>
250:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-node">&quot;can't dump anonymous module: #{o}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">name</span>
251:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">name</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'!ruby/module'</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">SINGLE_QUOTED</span>
252:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010023">
                    
                    <a name="M010023"></a><b>visit_NilClass</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010023_source')" id="l_M010023_source">show</a>
                        
                    </p>
                    <div id="M010023_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 298</span>
298:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_NilClass</span> <span class="ruby-identifier">o</span>
299:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span>(<span class="ruby-value str">''</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'tag:yaml.org,2002:null'</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">ANY</span>)
300:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M009996">
                    
                    <a name="M009996"></a><b>visit_Object</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M009996_source')" id="l_M009996_source">show</a>
                        
                    </p>
                    <div id="M009996_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 114</span>
114:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_Object</span> <span class="ruby-identifier">o</span>
115:         <span class="ruby-identifier">tag</span> = <span class="ruby-constant">Psych</span>.<span class="ruby-identifier">dump_tags</span>[<span class="ruby-identifier">o</span>.<span class="ruby-identifier">class</span>]
116:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">tag</span>
117:           <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">o</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Object</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>
118:           <span class="ruby-identifier">tag</span>   = [<span class="ruby-value str">'!ruby/object'</span>, <span class="ruby-identifier">klass</span>].<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">':'</span>)
119:         <span class="ruby-keyword kw">end</span>
120: 
121:         <span class="ruby-identifier">map</span> = <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">start_mapping</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">tag</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Mapping</span><span class="ruby-operator">::</span><span class="ruby-constant">BLOCK</span>)
122:         <span class="ruby-identifier">register</span>(<span class="ruby-identifier">o</span>, <span class="ruby-identifier">map</span>)
123: 
124:         <span class="ruby-identifier">dump_ivars</span> <span class="ruby-identifier">o</span>
125:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">end_mapping</span>
126:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M009995">
                    
                    <a name="M009995"></a><b>visit_Psych_Omap</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M009995_source')" id="l_M009995_source">show</a>
                        
                    </p>
                    <div id="M009995_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 106</span>
106:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_Psych_Omap</span> <span class="ruby-identifier">o</span>
107:         <span class="ruby-identifier">seq</span> = <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">start_sequence</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'!omap'</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Sequence</span><span class="ruby-operator">::</span><span class="ruby-constant">BLOCK</span>)
108:         <span class="ruby-identifier">register</span>(<span class="ruby-identifier">o</span>, <span class="ruby-identifier">seq</span>)
109: 
110:         <span class="ruby-identifier">o</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">visit_Hash</span> <span class="ruby-identifier">k</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">v</span> }
111:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">end_sequence</span>
112:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010021">
                    
                    <a name="M010021"></a><b>visit_Psych_Set</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010021_source')" id="l_M010021_source">show</a>
                        
                    </p>
                    <div id="M010021_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 281</span>
281:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_Psych_Set</span> <span class="ruby-identifier">o</span>
282:         <span class="ruby-identifier">register</span>(<span class="ruby-identifier">o</span>, <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">start_mapping</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'!set'</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Psych</span><span class="ruby-operator">::</span><span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Mapping</span><span class="ruby-operator">::</span><span class="ruby-constant">BLOCK</span>))
283: 
284:         <span class="ruby-identifier">o</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
285:           <span class="ruby-identifier">accept</span> <span class="ruby-identifier">k</span>
286:           <span class="ruby-identifier">accept</span> <span class="ruby-identifier">v</span>
287:         <span class="ruby-keyword kw">end</span>
288: 
289:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">end_mapping</span>
290:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010019">
                    
                    <a name="M010019"></a><b>visit_Range</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010019_source')" id="l_M010019_source">show</a>
                        
                    </p>
                    <div id="M010019_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 259</span>
259:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_Range</span> <span class="ruby-identifier">o</span>
260:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">start_mapping</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'!ruby/range'</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Mapping</span><span class="ruby-operator">::</span><span class="ruby-constant">BLOCK</span>
261:         [<span class="ruby-value str">'begin'</span>, <span class="ruby-identifier">o</span>.<span class="ruby-identifier">begin</span>, <span class="ruby-value str">'end'</span>, <span class="ruby-identifier">o</span>.<span class="ruby-identifier">end</span>, <span class="ruby-value str">'excl'</span>, <span class="ruby-identifier">o</span>.<span class="ruby-identifier">exclude_end?</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
262:           <span class="ruby-identifier">accept</span> <span class="ruby-identifier">m</span>
263:         <span class="ruby-keyword kw">end</span>
264:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">end_mapping</span>
265:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010008">
                    
                    <a name="M010008"></a><b>visit_Rational</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010008_source')" id="l_M010008_source">show</a>
                        
                    </p>
                    <div id="M010008_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 176</span>
176:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_Rational</span> <span class="ruby-identifier">o</span>
177:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">start_mapping</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'!ruby/object:Rational'</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Mapping</span><span class="ruby-operator">::</span><span class="ruby-constant">BLOCK</span>)
178: 
179:         [
180:           <span class="ruby-value str">'denominator'</span>, <span class="ruby-identifier">o</span>.<span class="ruby-identifier">denominator</span>.<span class="ruby-identifier">to_s</span>,
181:           <span class="ruby-value str">'numerator'</span>, <span class="ruby-identifier">o</span>.<span class="ruby-identifier">numerator</span>.<span class="ruby-identifier">to_s</span>
182:         ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
183:           <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span> <span class="ruby-identifier">m</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">ANY</span>
184:         <span class="ruby-keyword kw">end</span>
185: 
186:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">end_mapping</span>
187:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010003">
                    
                    <a name="M010003"></a><b>visit_Regexp</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010003_source')" id="l_M010003_source">show</a>
                        
                    </p>
                    <div id="M010003_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 161</span>
161:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_Regexp</span> <span class="ruby-identifier">o</span>
162:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">inspect</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'!ruby/regexp'</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">ANY</span>
163:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010016">
                    
                    <a name="M010016"></a><b>visit_String</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010016_source')" id="l_M010016_source">show</a>
                        
                    </p>
                    <div id="M010016_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 217</span>
217:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_String</span> <span class="ruby-identifier">o</span>
218:         <span class="ruby-identifier">plain</span> = <span class="ruby-keyword kw">false</span>
219:         <span class="ruby-identifier">quote</span> = <span class="ruby-keyword kw">false</span>
220:         <span class="ruby-identifier">style</span> = <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">ANY</span>
221: 
222:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">&quot;\x00&quot;</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">count</span>(<span class="ruby-value str">&quot;\x00-\x7F&quot;</span>, <span class="ruby-value str">&quot;^ -~\t\r\n&quot;</span>).<span class="ruby-identifier">fdiv</span>(<span class="ruby-identifier">o</span>.<span class="ruby-identifier">length</span>) <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span><span class="ruby-value">.3</span>
223:           <span class="ruby-identifier">str</span>   = [<span class="ruby-identifier">o</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'m'</span>).<span class="ruby-identifier">chomp</span>
224:           <span class="ruby-identifier">tag</span>   = <span class="ruby-value str">'!binary'</span> <span class="ruby-comment cmt"># FIXME: change to below when syck is removed</span>
225:           <span class="ruby-comment cmt">#tag   = 'tag:yaml.org,2002:binary'</span>
226:           <span class="ruby-identifier">style</span> = <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">LITERAL</span>
227:         <span class="ruby-keyword kw">else</span>
228:           <span class="ruby-identifier">str</span>   = <span class="ruby-identifier">o</span>
229:           <span class="ruby-identifier">tag</span>   = <span class="ruby-keyword kw">nil</span>
230:           <span class="ruby-identifier">quote</span> = <span class="ruby-operator">!</span>(<span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-ivar">@ss</span>.<span class="ruby-identifier">tokenize</span>(<span class="ruby-identifier">o</span>))
231:           <span class="ruby-identifier">plain</span> = <span class="ruby-operator">!</span><span class="ruby-identifier">quote</span>
232:         <span class="ruby-keyword kw">end</span>
233: 
234:         <span class="ruby-identifier">ivars</span> = <span class="ruby-identifier">find_ivars</span> <span class="ruby-identifier">o</span>
235: 
236:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ivars</span>.<span class="ruby-identifier">empty?</span>
237:           <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span> <span class="ruby-identifier">str</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">tag</span>, <span class="ruby-identifier">plain</span>, <span class="ruby-identifier">quote</span>, <span class="ruby-identifier">style</span>
238:         <span class="ruby-keyword kw">else</span>
239:           <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">start_mapping</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'!str'</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Mapping</span><span class="ruby-operator">::</span><span class="ruby-constant">BLOCK</span>
240:           <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span> <span class="ruby-value str">'str'</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">ANY</span>
241:           <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span> <span class="ruby-identifier">str</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">tag</span>, <span class="ruby-identifier">plain</span>, <span class="ruby-identifier">quote</span>, <span class="ruby-identifier">style</span>
242: 
243:           <span class="ruby-identifier">dump_ivars</span> <span class="ruby-identifier">o</span>
244: 
245:           <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">end_mapping</span>
246:         <span class="ruby-keyword kw">end</span>
247:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M009997">
                    
                    <a name="M009997"></a><b>visit_Struct</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M009997_source')" id="l_M009997_source">show</a>
                        
                    </p>
                    <div id="M009997_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 128</span>
128:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_Struct</span> <span class="ruby-identifier">o</span>
129:         <span class="ruby-identifier">tag</span> = [<span class="ruby-value str">'!ruby/struct'</span>, <span class="ruby-identifier">o</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>].<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">':'</span>)
130: 
131:         <span class="ruby-identifier">register</span> <span class="ruby-identifier">o</span>, <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">start_mapping</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">tag</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Mapping</span><span class="ruby-operator">::</span><span class="ruby-constant">BLOCK</span>)
132:         <span class="ruby-identifier">o</span>.<span class="ruby-identifier">members</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">member</span><span class="ruby-operator">|</span>
133:           <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">ANY</span>
134:           <span class="ruby-identifier">accept</span> <span class="ruby-identifier">o</span>[<span class="ruby-identifier">member</span>]
135:         <span class="ruby-keyword kw">end</span>
136: 
137:         <span class="ruby-identifier">dump_ivars</span> <span class="ruby-identifier">o</span>
138: 
139:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">end_mapping</span>
140:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010024">
                    
                    <a name="M010024"></a><b>visit_Symbol</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010024_source')" id="l_M010024_source">show</a>
                        
                    </p>
                    <div id="M010024_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 302</span>
302:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_Symbol</span> <span class="ruby-identifier">o</span>
303:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span> <span class="ruby-node">&quot;:#{o}&quot;</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">ANY</span>
304:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010007">
                    
                    <a name="M010007"></a><b>visit_Time</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010007_source')" id="l_M010007_source">show</a>
                        
                    </p>
                    <div id="M010007_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 171</span>
171:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit_Time</span> <span class="ruby-identifier">o</span>
172:         <span class="ruby-identifier">formatted</span> = <span class="ruby-identifier">format_time</span> <span class="ruby-identifier">o</span>
173:         <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span> <span class="ruby-identifier">formatted</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">ANY</span>
174:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010012">
                    
                    <a name="M010012"></a><b>visit_TrueClass</b>(o)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="YAMLTree.html#M010011">visit_Integer</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M010028">
                    
                    <a name="M010028"></a><b>dump_coder</b>(o)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010028_source')" id="l_M010028_source">show</a>
                        
                    </p>
                    <div id="M010028_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 338</span>
338:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dump_coder</span> <span class="ruby-identifier">o</span>
339:         <span class="ruby-identifier">tag</span> = <span class="ruby-constant">Psych</span>.<span class="ruby-identifier">dump_tags</span>[<span class="ruby-identifier">o</span>.<span class="ruby-identifier">class</span>]
340:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">tag</span>
341:           <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">o</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Object</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>
342:           <span class="ruby-identifier">tag</span>   = [<span class="ruby-value str">'!ruby/object'</span>, <span class="ruby-identifier">klass</span>].<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">':'</span>)
343:         <span class="ruby-keyword kw">end</span>
344: 
345:         <span class="ruby-identifier">c</span> = <span class="ruby-constant">Psych</span><span class="ruby-operator">::</span><span class="ruby-constant">Coder</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">tag</span>)
346:         <span class="ruby-identifier">o</span>.<span class="ruby-identifier">encode_with</span>(<span class="ruby-identifier">c</span>)
347:         <span class="ruby-identifier">emit_coder</span> <span class="ruby-identifier">c</span>
348:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010030">
                    
                    <a name="M010030"></a><b>dump_ivars</b>(target)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010030_source')" id="l_M010030_source">show</a>
                        
                    </p>
                    <div id="M010030_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 372</span>
372:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dump_ivars</span> <span class="ruby-identifier">target</span>
373:         <span class="ruby-identifier">ivars</span> = <span class="ruby-identifier">find_ivars</span> <span class="ruby-identifier">target</span>
374: 
375:         <span class="ruby-identifier">ivars</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">iv</span><span class="ruby-operator">|</span>
376:           <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span>(<span class="ruby-node">&quot;#{iv.to_s.sub(/^@/, '')}&quot;</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">ANY</span>)
377:           <span class="ruby-identifier">accept</span> <span class="ruby-identifier">target</span>.<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-identifier">iv</span>)
378:         <span class="ruby-keyword kw">end</span>
379:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010029">
                    
                    <a name="M010029"></a><b>emit_coder</b>(c)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010029_source')" id="l_M010029_source">show</a>
                        
                    </p>
                    <div id="M010029_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 350</span>
350:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">emit_coder</span> <span class="ruby-identifier">c</span>
351:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">type</span>
352:         <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:scalar</span>
353:           <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">scalar</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">c</span>.<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">c</span>.<span class="ruby-identifier">tag</span>.<span class="ruby-identifier">nil?</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">ANY</span>
354:         <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:seq</span>
355:           <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">start_sequence</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">c</span>.<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">c</span>.<span class="ruby-identifier">tag</span>.<span class="ruby-identifier">nil?</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Sequence</span><span class="ruby-operator">::</span><span class="ruby-constant">BLOCK</span>
356:           <span class="ruby-identifier">c</span>.<span class="ruby-identifier">seq</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">thing</span><span class="ruby-operator">|</span>
357:             <span class="ruby-identifier">accept</span> <span class="ruby-identifier">thing</span>
358:           <span class="ruby-keyword kw">end</span>
359:           <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">end_sequence</span>
360:         <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:map</span>
361:           <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">start_mapping</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">c</span>.<span class="ruby-identifier">tag</span>, <span class="ruby-identifier">c</span>.<span class="ruby-identifier">implicit</span>, <span class="ruby-identifier">c</span>.<span class="ruby-identifier">style</span>
362:           <span class="ruby-identifier">c</span>.<span class="ruby-identifier">map</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
363:             <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">scalar</span> <span class="ruby-identifier">k</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">false</span>, <span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Scalar</span><span class="ruby-operator">::</span><span class="ruby-constant">ANY</span>
364:             <span class="ruby-identifier">accept</span> <span class="ruby-identifier">v</span>
365:           <span class="ruby-keyword kw">end</span>
366:           <span class="ruby-ivar">@emitter</span>.<span class="ruby-identifier">end_mapping</span>
367:         <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:object</span>
368:           <span class="ruby-identifier">accept</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">object</span>
369:         <span class="ruby-keyword kw">end</span>
370:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010026">
                    
                    <a name="M010026"></a><b>find_ivars</b>(target)
                    
                </div>
                
                <div class="description">
                  <p>
FIXME: remove this method once &#8220;to_yaml_properties&#8220; is removed
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010026_source')" id="l_M010026_source">show</a>
                        
                    </p>
                    <div id="M010026_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 316</span>
316:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find_ivars</span> <span class="ruby-identifier">target</span>
317:         <span class="ruby-keyword kw">begin</span>
318:           <span class="ruby-identifier">loc</span> = <span class="ruby-identifier">target</span>.<span class="ruby-identifier">method</span>(<span class="ruby-identifier">:to_yaml_properties</span>).<span class="ruby-identifier">source_location</span>.<span class="ruby-identifier">first</span>
319:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">loc</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-constant">Psych</span><span class="ruby-operator">::</span><span class="ruby-constant">DEPRECATED</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">loc</span>.<span class="ruby-identifier">end_with?</span>(<span class="ruby-value str">'rubytypes.rb'</span>)
320:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$VERBOSE</span>
321:               <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{loc}: to_yaml_properties is deprecated, please implement \&quot;encode_with(coder)\&quot;&quot;</span>
322:             <span class="ruby-keyword kw">end</span>
323:             <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">target</span>.<span class="ruby-identifier">to_yaml_properties</span>
324:           <span class="ruby-keyword kw">end</span>
325:         <span class="ruby-keyword kw">rescue</span>
326:           <span class="ruby-comment cmt"># public_method or source_location might be overridden,</span>
327:           <span class="ruby-comment cmt"># and it's OK to skip it since it's only to emit a warning.</span>
328:         <span class="ruby-keyword kw">end</span>
329: 
330:         <span class="ruby-identifier">target</span>.<span class="ruby-identifier">instance_variables</span>
331:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010025">
                    
                    <a name="M010025"></a><b>format_time</b>(time)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010025_source')" id="l_M010025_source">show</a>
                        
                    </p>
                    <div id="M010025_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 307</span>
307:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_time</span> <span class="ruby-identifier">time</span>
308:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">time</span>.<span class="ruby-identifier">utc?</span>
309:           <span class="ruby-identifier">time</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-value str">&quot;%Y-%m-%d %H:%M:%S.%9N Z&quot;</span>)
310:         <span class="ruby-keyword kw">else</span>
311:           <span class="ruby-identifier">time</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-value str">&quot;%Y-%m-%d %H:%M:%S.%9N %:z&quot;</span>)
312:         <span class="ruby-keyword kw">end</span>
313:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010047">
                    
                    <a name="M010047"></a><b> private_iv_get(target, prop)
</b>
                    
                </div>
                
                <div class="description">
                  <p>
Get the private instance variable <tt>prop</tt> from <tt>target</tt>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010047_source')" id="l_M010047_source">show</a>
                        
                    </p>
                    <div id="M010047_source" class="dyn-source">
                        <pre>static VALUE private_iv_get(VALUE self, VALUE target, VALUE prop)
{
    return rb_attr_get(target, rb_intern(StringValuePtr(prop)));
}</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M010027">
                    
                    <a name="M010027"></a><b>register</b>(target, yaml_obj)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M010027_source')" id="l_M010027_source">show</a>
                        
                    </p>
                    <div id="M010027_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File ext/psych/lib/psych/visitors/yaml_tree.rb, line 333</span>
333:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">register</span> <span class="ruby-identifier">target</span>, <span class="ruby-identifier">yaml_obj</span>
334:         <span class="ruby-ivar">@st</span>[<span class="ruby-identifier">target</span>.<span class="ruby-identifier">object_id</span>] = <span class="ruby-identifier">yaml_obj</span>
335:         <span class="ruby-identifier">yaml_obj</span>
336:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    