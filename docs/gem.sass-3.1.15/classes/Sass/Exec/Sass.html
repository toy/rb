<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Sass::Exec::Sass</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Sass::Exec::Sass 
            
                <span class="parent">&lt; 
                    
                    Generic
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/sass/exec_rb.html">lib/sass/exec.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
The `sass` executable.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000116">colon_path?</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000112">interactive</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M000110">load_compass</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000099">new</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000118">probably_dest_dir?</a>,</li>
                
                <li><a href="#M000106">process_result</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000100">set_opts</a>,</li>
                
                <li><a href="#M000117">split_colon_path</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M000113">watch_or_update</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>default_syntax</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000099">
                    
                    <a name="M000099"></a><b>new</b>(args)
                    
                </div>
                
                <div class="description">
                  <p>
@param args [Array<String>] The command-line arguments
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000099_source')" id="l_M000099_source">show</a>
                        
                    </p>
                    <div id="M000099_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/sass/exec.rb, line 183</span>
183:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">args</span>)
184:         <span class="ruby-keyword kw">super</span>
185:         <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:for_engine</span>] = {
186:           <span class="ruby-identifier">:load_paths</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">'.'</span>] <span class="ruby-operator">+</span> (<span class="ruby-constant">ENV</span>[<span class="ruby-value str">'SASSPATH'</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">''</span>).<span class="ruby-identifier">split</span>(<span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">PATH_SEPARATOR</span>)
187:         }
188:         <span class="ruby-ivar">@default_syntax</span> = <span class="ruby-identifier">:sass</span>
189:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Protected methods</div>
            
            <div class="method">
                <div class="title" id="M000106">
                    
                    <a name="M000106"></a><b>process_result</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Processes the options set by the command-line arguments, and runs the <a
href="Sass.html">Sass</a> compiler appropriately.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000106_source')" id="l_M000106_source">show</a>
                        
                    </p>
                    <div id="M000106_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/sass/exec.rb, line 291</span>
291:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">process_result</span>
292:         <span class="ruby-identifier">require</span> <span class="ruby-value str">'sass'</span>
293: 
294:         <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:update</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:watch</span>] <span class="ruby-operator">&amp;&amp;</span>
295:             <span class="ruby-ivar">@args</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">colon_path?</span>(<span class="ruby-ivar">@args</span>.<span class="ruby-identifier">first</span>)
296:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
297:             <span class="ruby-ivar">@args</span> = <span class="ruby-identifier">split_colon_path</span>(<span class="ruby-ivar">@args</span>.<span class="ruby-identifier">first</span>)
298:           <span class="ruby-keyword kw">else</span>
299:             <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:update</span>] = <span class="ruby-keyword kw">true</span>
300:           <span class="ruby-keyword kw">end</span>
301:         <span class="ruby-keyword kw">end</span>
302:         <span class="ruby-identifier">load_compass</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:compass</span>]
303:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">interactive</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:interactive</span>]
304:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">watch_or_update</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:watch</span>] <span class="ruby-operator">||</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:update</span>]
305:         <span class="ruby-keyword kw">super</span>
306:         <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:for_engine</span>][<span class="ruby-identifier">:filename</span>] = <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:filename</span>]
307: 
308:         <span class="ruby-keyword kw">begin</span>
309:           <span class="ruby-identifier">input</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:input</span>]
310:           <span class="ruby-identifier">output</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:output</span>]
311: 
312:           <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:for_engine</span>][<span class="ruby-identifier">:syntax</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">:scss</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">input</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">File</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">input</span>.<span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\.scss$/</span>
313:           <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:for_engine</span>][<span class="ruby-identifier">:syntax</span>] <span class="ruby-operator">||=</span> <span class="ruby-ivar">@default_syntax</span>
314:           <span class="ruby-identifier">engine</span> =
315:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">input</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">File</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:check_syntax</span>]
316:               <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Engine</span>.<span class="ruby-identifier">for_file</span>(<span class="ruby-identifier">input</span>.<span class="ruby-identifier">path</span>, <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:for_engine</span>])
317:             <span class="ruby-keyword kw">else</span>
318:               <span class="ruby-comment cmt"># We don't need to do any special handling of @options[:check_syntax] here,</span>
319:               <span class="ruby-comment cmt"># because the Sass syntax checking happens alongside evaluation</span>
320:               <span class="ruby-comment cmt"># and evaluation doesn't actually evaluate any code anyway.</span>
321:               <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Engine</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">input</span>.<span class="ruby-identifier">read</span>(), <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:for_engine</span>])
322:             <span class="ruby-keyword kw">end</span>
323: 
324:           <span class="ruby-identifier">input</span>.<span class="ruby-identifier">close</span>() <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">input</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">File</span>)
325: 
326:           <span class="ruby-identifier">output</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">engine</span>.<span class="ruby-identifier">render</span>)
327:           <span class="ruby-identifier">output</span>.<span class="ruby-identifier">close</span>() <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">output</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">File</span>
328:         <span class="ruby-keyword kw">rescue</span> <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
329:           <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:trace</span>]
330:           <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">sass_backtrace_str</span>(<span class="ruby-value str">&quot;standard input&quot;</span>)
331:         <span class="ruby-keyword kw">end</span>
332:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000100">
                    
                    <a name="M000100"></a><b>set_opts</b>(opts)
                    
                </div>
                
                <div class="description">
                  <p>
Tells optparse how to parse the arguments.
</p>
<p>
@param opts [OptionParser]
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000100_source')" id="l_M000100_source">show</a>
                        
                    </p>
                    <div id="M000100_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/sass/exec.rb, line 196</span>
196:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_opts</span>(<span class="ruby-identifier">opts</span>)
197:         <span class="ruby-keyword kw">super</span>
198: 
199:         <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">banner</span> = <span class="ruby-value str">&quot;Usage: \#{default_syntax} [options] [INPUT] [OUTPUT]\n\nDescription:\n  Converts SCSS or Sass files to CSS.\n\nOptions:\n&quot;</span>
200: 
201:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@default_syntax</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:sass</span>
202:           <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'--scss'</span>,
203:                   <span class="ruby-value str">'Use the CSS-superset SCSS syntax.'</span>) <span class="ruby-keyword kw">do</span>
204:             <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:for_engine</span>][<span class="ruby-identifier">:syntax</span>] = <span class="ruby-identifier">:scss</span>
205:           <span class="ruby-keyword kw">end</span>
206:         <span class="ruby-keyword kw">else</span>
207:           <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'--sass'</span>,
208:                   <span class="ruby-value str">'Use the Indented syntax.'</span>) <span class="ruby-keyword kw">do</span>
209:             <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:for_engine</span>][<span class="ruby-identifier">:syntax</span>] = <span class="ruby-identifier">:sass</span>
210:           <span class="ruby-keyword kw">end</span>
211:         <span class="ruby-keyword kw">end</span>
212:         <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'--watch'</span>, <span class="ruby-value str">'Watch files or directories for changes.'</span>,
213:                            <span class="ruby-value str">'The location of the generated CSS can be set using a colon:'</span>,
214:                            <span class="ruby-node">&quot;  #{@default_syntax} --watch input.#{@default_syntax}:output.css&quot;</span>,
215:                            <span class="ruby-node">&quot;  #{@default_syntax} --watch input-dir:output-dir&quot;</span>) <span class="ruby-keyword kw">do</span>
216:           <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:watch</span>] = <span class="ruby-keyword kw">true</span>
217:         <span class="ruby-keyword kw">end</span>
218:         <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'--update'</span>, <span class="ruby-value str">'Compile files or directories to CSS.'</span>,
219:                             <span class="ruby-value str">'Locations are set like --watch.'</span>) <span class="ruby-keyword kw">do</span>
220:           <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:update</span>] = <span class="ruby-keyword kw">true</span>
221:         <span class="ruby-keyword kw">end</span>
222:         <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'--stop-on-error'</span>, <span class="ruby-value str">'If a file fails to compile, exit immediately.'</span>,
223:                                    <span class="ruby-value str">'Only meaningful for --watch and --update.'</span>) <span class="ruby-keyword kw">do</span>
224:           <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:stop_on_error</span>] = <span class="ruby-keyword kw">true</span>
225:         <span class="ruby-keyword kw">end</span>
226:         <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'-f'</span>, <span class="ruby-value str">'--force'</span>, <span class="ruby-value str">'Recompile all Sass files, even if the CSS file is newer.'</span>,
227:                                  <span class="ruby-value str">'Only meaningful for --update.'</span>) <span class="ruby-keyword kw">do</span>
228:           <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:force</span>] = <span class="ruby-keyword kw">true</span>
229:         <span class="ruby-keyword kw">end</span>
230:         <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'-c'</span>, <span class="ruby-value str">'--check'</span>, <span class="ruby-value str">&quot;Just check syntax, don't evaluate.&quot;</span>) <span class="ruby-keyword kw">do</span>
231:           <span class="ruby-identifier">require</span> <span class="ruby-value str">'stringio'</span>
232:           <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:check_syntax</span>] = <span class="ruby-keyword kw">true</span>
233:           <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:output</span>] = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
234:         <span class="ruby-keyword kw">end</span>
235:         <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'-t'</span>, <span class="ruby-value str">'--style NAME'</span>,
236:                 <span class="ruby-value str">'Output style. Can be nested (default), compact, compressed, or expanded.'</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
237:           <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:for_engine</span>][<span class="ruby-identifier">:style</span>] = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>
238:         <span class="ruby-keyword kw">end</span>
239:         <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'--precision NUMBER_OF_DIGITS'</span>, <span class="ruby-constant">Integer</span>,
240:                 <span class="ruby-value str">'How many digits of precision to use when outputting decimal numbers. Defaults to 3.'</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">precision</span><span class="ruby-operator">|</span>
241:           <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Script</span><span class="ruby-operator">::</span><span class="ruby-constant">Number</span>.<span class="ruby-identifier">precision</span> = <span class="ruby-identifier">precision</span>
242:         <span class="ruby-keyword kw">end</span>
243:         <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'-q'</span>, <span class="ruby-value str">'--quiet'</span>, <span class="ruby-value str">'Silence warnings and status messages during compilation.'</span>) <span class="ruby-keyword kw">do</span>
244:           <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:for_engine</span>][<span class="ruby-identifier">:quiet</span>] = <span class="ruby-keyword kw">true</span>
245:         <span class="ruby-keyword kw">end</span>
246:         <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'--compass'</span>, <span class="ruby-value str">'Make Compass imports available and load project configuration.'</span>) <span class="ruby-keyword kw">do</span>
247:           <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:compass</span>] = <span class="ruby-keyword kw">true</span>
248:         <span class="ruby-keyword kw">end</span>
249:         <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'-g'</span>, <span class="ruby-value str">'--debug-info'</span>,
250:                 <span class="ruby-value str">'Emit extra information in the generated CSS that can be used by the FireSass Firebug plugin.'</span>) <span class="ruby-keyword kw">do</span>
251:           <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:for_engine</span>][<span class="ruby-identifier">:debug_info</span>] = <span class="ruby-keyword kw">true</span>
252:         <span class="ruby-keyword kw">end</span>
253:         <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'-l'</span>, <span class="ruby-value str">'--line-numbers'</span>, <span class="ruby-value str">'--line-comments'</span>,
254:                 <span class="ruby-value str">'Emit comments in the generated CSS indicating the corresponding source line.'</span>) <span class="ruby-keyword kw">do</span>
255:           <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:for_engine</span>][<span class="ruby-identifier">:line_numbers</span>] = <span class="ruby-keyword kw">true</span>
256:         <span class="ruby-keyword kw">end</span>
257:         <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'-i'</span>, <span class="ruby-value str">'--interactive'</span>,
258:                 <span class="ruby-value str">'Run an interactive SassScript shell.'</span>) <span class="ruby-keyword kw">do</span>
259:           <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:interactive</span>] = <span class="ruby-keyword kw">true</span>
260:         <span class="ruby-keyword kw">end</span>
261:         <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'-I'</span>, <span class="ruby-value str">'--load-path PATH'</span>, <span class="ruby-value str">'Add a sass import path.'</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
262:           <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:for_engine</span>][<span class="ruby-identifier">:load_paths</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">path</span>
263:         <span class="ruby-keyword kw">end</span>
264:         <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'-r'</span>, <span class="ruby-value str">'--require LIB'</span>, <span class="ruby-value str">'Require a Ruby library before running Sass.'</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">lib</span><span class="ruby-operator">|</span>
265:           <span class="ruby-identifier">require</span> <span class="ruby-identifier">lib</span>
266:         <span class="ruby-keyword kw">end</span>
267:         <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'--cache-location PATH'</span>, <span class="ruby-value str">'The path to put cached Sass files. Defaults to .sass-cache.'</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">loc</span><span class="ruby-operator">|</span>
268:           <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:for_engine</span>][<span class="ruby-identifier">:cache_location</span>] = <span class="ruby-identifier">loc</span>
269:         <span class="ruby-keyword kw">end</span>
270:         <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'-C'</span>, <span class="ruby-value str">'--no-cache'</span>, <span class="ruby-value str">&quot;Don't cache to sassc files.&quot;</span>) <span class="ruby-keyword kw">do</span>
271:           <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:for_engine</span>][<span class="ruby-identifier">:cache</span>] = <span class="ruby-keyword kw">false</span>
272:         <span class="ruby-keyword kw">end</span>
273: 
274:         <span class="ruby-keyword kw">unless</span> <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">ruby1_8?</span>
275:           <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value str">'-E encoding'</span>, <span class="ruby-value str">'Specify the default encoding for Sass files.'</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">encoding</span><span class="ruby-operator">|</span>
276:             <span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">default_external</span> = <span class="ruby-identifier">encoding</span>
277:           <span class="ruby-keyword kw">end</span>
278:         <span class="ruby-keyword kw">end</span>
279:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M000116">
                    
                    <a name="M000116"></a><b>colon_path?</b>(path)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000116_source')" id="l_M000116_source">show</a>
                        
                    </p>
                    <div id="M000116_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/sass/exec.rb, line 438</span>
438:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">colon_path?</span>(<span class="ruby-identifier">path</span>)
439:         <span class="ruby-operator">!</span><span class="ruby-identifier">split_colon_path</span>(<span class="ruby-identifier">path</span>)[<span class="ruby-value">1</span>].<span class="ruby-identifier">nil?</span>
440:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000112">
                    
                    <a name="M000112"></a><b>interactive</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000112_source')" id="l_M000112_source">show</a>
                        
                    </p>
                    <div id="M000112_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/sass/exec.rb, line 353</span>
353:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">interactive</span>
354:         <span class="ruby-identifier">require</span> <span class="ruby-value str">'sass/repl'</span>
355:         <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Repl</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@options</span>).<span class="ruby-identifier">run</span>
356:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000110">
                    
                    <a name="M000110"></a><b>load_compass</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000110_source')" id="l_M000110_source">show</a>
                        
                    </p>
                    <div id="M000110_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/sass/exec.rb, line 336</span>
336:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_compass</span>
337:         <span class="ruby-keyword kw">begin</span>
338:           <span class="ruby-identifier">require</span> <span class="ruby-value str">'compass'</span>
339:         <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span>
340:           <span class="ruby-identifier">require</span> <span class="ruby-value str">'rubygems'</span>
341:           <span class="ruby-keyword kw">begin</span>
342:             <span class="ruby-identifier">require</span> <span class="ruby-value str">'compass'</span>
343:           <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span>
344:             <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;ERROR: Cannot load compass.&quot;</span>
345:             <span class="ruby-identifier">exit</span> <span class="ruby-value">1</span>
346:           <span class="ruby-keyword kw">end</span>
347:         <span class="ruby-keyword kw">end</span>
348:         <span class="ruby-constant">Compass</span>.<span class="ruby-identifier">add_project_configuration</span>
349:         <span class="ruby-constant">Compass</span>.<span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">project_path</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">pwd</span>
350:         <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:for_engine</span>][<span class="ruby-identifier">:load_paths</span>] <span class="ruby-operator">+=</span> <span class="ruby-constant">Compass</span>.<span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">sass_load_paths</span>
351:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000118">
                    
                    <a name="M000118"></a><b>probably_dest_dir?</b>(path)
                    
                </div>
                
                <div class="description">
                  <p>
Whether path is likely to be meant as the destination in a source:dest
pair.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000118_source')" id="l_M000118_source">show</a>
                        
                    </p>
                    <div id="M000118_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/sass/exec.rb, line 456</span>
456:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">probably_dest_dir?</span>(<span class="ruby-identifier">path</span>)
457:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">path</span>
458:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">colon_path?</span>(<span class="ruby-identifier">path</span>)
459:         <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">path</span>, <span class="ruby-value str">&quot;*.s[ca]ss&quot;</span>)).<span class="ruby-identifier">empty?</span>
460:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000117">
                    
                    <a name="M000117"></a><b>split_colon_path</b>(path)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000117_source')" id="l_M000117_source">show</a>
                        
                    </p>
                    <div id="M000117_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/sass/exec.rb, line 442</span>
442:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">split_colon_path</span>(<span class="ruby-identifier">path</span>)
443:         <span class="ruby-identifier">one</span>, <span class="ruby-identifier">two</span> = <span class="ruby-identifier">path</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">':'</span>, <span class="ruby-value">2</span>)
444:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">one</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">two</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">windows?</span> <span class="ruby-operator">&amp;&amp;</span>
445:             <span class="ruby-identifier">one</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\A[A-Za-z]\Z/</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">two</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\A[\/\\]/</span>
446:           <span class="ruby-comment cmt"># If we're on Windows and we were passed a drive letter path,</span>
447:           <span class="ruby-comment cmt"># don't split on that colon.</span>
448:           <span class="ruby-identifier">one2</span>, <span class="ruby-identifier">two</span> = <span class="ruby-identifier">two</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">':'</span>, <span class="ruby-value">2</span>)
449:           <span class="ruby-identifier">one</span> = <span class="ruby-identifier">one</span> <span class="ruby-operator">+</span> <span class="ruby-value str">':'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">one2</span>
450:         <span class="ruby-keyword kw">end</span>
451:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">one</span>, <span class="ruby-identifier">two</span>
452:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000113">
                    
                    <a name="M000113"></a><b>watch_or_update</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000113_source')" id="l_M000113_source">show</a>
                        
                    </p>
                    <div id="M000113_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/sass/exec.rb, line 358</span>
358:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">watch_or_update</span>
359:         <span class="ruby-identifier">require</span> <span class="ruby-value str">'sass/plugin'</span>
360:         <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Plugin</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge!</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:for_engine</span>]
361:         <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Plugin</span>.<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:unix_newlines</span>] = <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:unix_newlines</span>]
362: 
363:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:force</span>]
364:           <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;The --force flag may only be used with --update.&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:update</span>]
365:           <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Plugin</span>.<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:always_update</span>] = <span class="ruby-keyword kw">true</span>
366:         <span class="ruby-keyword kw">end</span>
367: 
368:         <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;What files should I watch? Did you mean something like:\n    \#{@default_syntax} --watch input.\#{@default_syntax}:output.css\n    \#{@default_syntax} --watch input-dir:output-dir\n&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@args</span>.<span class="ruby-identifier">empty?</span>
369: 
370:         <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">colon_path?</span>(<span class="ruby-ivar">@args</span>[<span class="ruby-value">0</span>]) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">probably_dest_dir?</span>(<span class="ruby-ivar">@args</span>[<span class="ruby-value">1</span>])
371:           <span class="ruby-identifier">flag</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:update</span>] <span class="ruby-operator">?</span> <span class="ruby-value str">&quot;--update&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;--watch&quot;</span>
372:           <span class="ruby-identifier">err</span> =
373:             <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-ivar">@args</span>[<span class="ruby-value">1</span>])
374:               <span class="ruby-value str">&quot;doesn't exist&quot;</span>
375:             <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@args</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\.css$/</span>
376:               <span class="ruby-value str">&quot;is a CSS file&quot;</span>
377:             <span class="ruby-keyword kw">end</span>
378:           <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;File \#{@args[1]} \#{err}.\n    Did you mean: \#{@default_syntax} \#{flag} \#{@args[0]}:\#{@args[1]}\n&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">err</span>
379:         <span class="ruby-keyword kw">end</span>
380: 
381:         <span class="ruby-identifier">dirs</span>, <span class="ruby-identifier">files</span> = <span class="ruby-ivar">@args</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">split_colon_path</span>(<span class="ruby-identifier">name</span>)}.
382:           <span class="ruby-identifier">partition</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span>, <span class="ruby-identifier">_</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span> <span class="ruby-identifier">i</span>}
383:         <span class="ruby-identifier">files</span>.<span class="ruby-identifier">map!</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">from</span>, <span class="ruby-identifier">to</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">from</span>, <span class="ruby-identifier">to</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">from</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\.[^.]*?$/</span>, <span class="ruby-value str">'.css'</span>)]}
384:         <span class="ruby-identifier">dirs</span>.<span class="ruby-identifier">map!</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">from</span>, <span class="ruby-identifier">to</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">from</span>, <span class="ruby-identifier">to</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">from</span>]}
385:         <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Plugin</span>.<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:template_location</span>] = <span class="ruby-identifier">dirs</span>
386: 
387:         <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Plugin</span>.<span class="ruby-identifier">on_updated_stylesheet</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">_</span>, <span class="ruby-identifier">css</span><span class="ruby-operator">|</span>
388:           <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span> <span class="ruby-identifier">css</span>
389:             <span class="ruby-identifier">puts_action</span> <span class="ruby-identifier">:overwrite</span>, <span class="ruby-identifier">:yellow</span>, <span class="ruby-identifier">css</span>
390:           <span class="ruby-keyword kw">else</span>
391:             <span class="ruby-identifier">puts_action</span> <span class="ruby-identifier">:create</span>, <span class="ruby-identifier">:green</span>, <span class="ruby-identifier">css</span>
392:           <span class="ruby-keyword kw">end</span>
393:         <span class="ruby-keyword kw">end</span>
394: 
395:         <span class="ruby-identifier">had_error</span> = <span class="ruby-keyword kw">false</span>
396:         <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Plugin</span>.<span class="ruby-identifier">on_creating_directory</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">dirname</span><span class="ruby-operator">|</span> <span class="ruby-identifier">puts_action</span> <span class="ruby-identifier">:directory</span>, <span class="ruby-identifier">:green</span>, <span class="ruby-identifier">dirname</span>}
397:         <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Plugin</span>.<span class="ruby-identifier">on_deleting_css</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">filename</span><span class="ruby-operator">|</span> <span class="ruby-identifier">puts_action</span> <span class="ruby-identifier">:delete</span>, <span class="ruby-identifier">:yellow</span>, <span class="ruby-identifier">filename</span>}
398:         <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Plugin</span>.<span class="ruby-identifier">on_compilation_error</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">error</span>, <span class="ruby-identifier">_</span>, <span class="ruby-identifier">_</span><span class="ruby-operator">|</span>
399:           <span class="ruby-identifier">raise</span> <span class="ruby-identifier">error</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">error</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:stop_on_error</span>]
400:           <span class="ruby-identifier">had_error</span> = <span class="ruby-keyword kw">true</span>
401:           <span class="ruby-identifier">puts_action</span> <span class="ruby-identifier">:error</span>, <span class="ruby-identifier">:red</span>, <span class="ruby-node">&quot;#{error.sass_filename} (Line #{error.sass_line}: #{error.message})&quot;</span>
402:           <span class="ruby-constant">STDOUT</span>.<span class="ruby-identifier">flush</span>
403:         <span class="ruby-keyword kw">end</span>
404: 
405:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:update</span>]
406:           <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Plugin</span>.<span class="ruby-identifier">update_stylesheets</span>(<span class="ruby-identifier">files</span>)
407:           <span class="ruby-identifier">exit</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">had_error</span>
408:           <span class="ruby-keyword kw">return</span>
409:         <span class="ruby-keyword kw">end</span>
410: 
411:         <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;&gt;&gt;&gt; Sass is watching for changes. Press Ctrl-C to stop.&quot;</span>
412: 
413:         <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Plugin</span>.<span class="ruby-identifier">on_template_modified</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">template</span><span class="ruby-operator">|</span>
414:           <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;&gt;&gt;&gt; Change detected to: #{template}&quot;</span>
415:           <span class="ruby-constant">STDOUT</span>.<span class="ruby-identifier">flush</span>
416:         <span class="ruby-keyword kw">end</span>
417:         <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Plugin</span>.<span class="ruby-identifier">on_template_created</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">template</span><span class="ruby-operator">|</span>
418:           <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;&gt;&gt;&gt; New template detected: #{template}&quot;</span>
419:           <span class="ruby-constant">STDOUT</span>.<span class="ruby-identifier">flush</span>
420:         <span class="ruby-keyword kw">end</span>
421:         <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Plugin</span>.<span class="ruby-identifier">on_template_deleted</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">template</span><span class="ruby-operator">|</span>
422:           <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;&gt;&gt;&gt; Deleted template detected: #{template}&quot;</span>
423:           <span class="ruby-constant">STDOUT</span>.<span class="ruby-identifier">flush</span>
424:         <span class="ruby-keyword kw">end</span>
425: 
426:         <span class="ruby-operator">::</span><span class="ruby-constant">Sass</span><span class="ruby-operator">::</span><span class="ruby-constant">Plugin</span>.<span class="ruby-identifier">watch</span>(<span class="ruby-identifier">files</span>)
427:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    