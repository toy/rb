<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Cucumber::Rake::Task</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Cucumber::Rake::Task 
            
                <span class="parent">&lt; 
                    
                    <a href="../../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/cucumber/rake/task_rb.html">lib/cucumber/rake/task.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Defines a <a href="../Rake.html">Rake</a> task for running features.
</p>
<p>
The simplest use of it goes something like:
</p>
<pre>
  Cucumber::Rake::Task.new
</pre>
<p>
This will define a task named <tt>cucumber</tt> described as &#8216;Run <a
href="../../Cucumber.html">Cucumber</a> features&#8217;. It will use steps
from &#8216;features/*<b>/</b>.rb&#8217; and features in
&#8216;features/*<b>/</b>.feature&#8217;.
</p>
<p>
To further configure the task, you can pass a block:
</p>
<pre>
  Cucumber::Rake::Task.new do |t|
    t.cucumber_opts = %w{--format progress}
  end
</pre>
<p>
This task can also be configured to be run with RCov:
</p>
<pre>
  Cucumber::Rake::Task.new do |t|
    t.rcov = true
  end
</pre>
<p>
See the attributes for additional configuration possibilities.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000507">make_command_line_safe</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000497">new</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000495">rcov=</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <span>Gherkin::Formatter::AnsiEscapes</span>
            
            START:includes
        </li>
        
        <li>
            
            <span>::Rake::DSL</span>
            
            START:includes
        </li>
        
    </ul>
    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">CLASS</span> <a href="Task/ForkedCucumberRunner.html">Cucumber::Rake::Task::ForkedCucumberRunner</a></li>
        
        <li><span class="type">CLASS</span> <a href="Task/InProcessCucumberRunner.html">Cucumber::Rake::Task::InProcessCucumberRunner</a></li>
        
        <li><span class="type">CLASS</span> <a href="Task/RCovCucumberRunner.html">Cucumber::Rake::Task::RCovCucumberRunner</a></li>
        
    </ul>
    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>libs</td>
            <td class='attr-desc'><p>
Directories to add to the Ruby $LOAD_PATH
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>binary</td>
            <td class='attr-desc'><p>
Name of the cucumber binary to use for running features. Defaults to
Cucumber::BINARY
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>cucumber_opts</td>
            <td class='attr-desc'><p>
Extra options to pass to the cucumber binary. Can be overridden by the
CUCUMBER_OPTS environment variable. It&#8217;s recommended to pass an
Array, but if it&#8217;s a String it will be split by &#8217; &#8217;.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>rcov</td>
            <td class='attr-desc'><p>
Run cucumber with RCov? Defaults to false. If you set this to true,
<tt>fork</tt> is implicit.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>rcov_opts</td>
            <td class='attr-desc'><p>
Extra options to pass to rcov. It&#8217;s recommended to pass an Array, but
if it&#8217;s a String it will be split by &#8217; &#8217;.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>fork</td>
            <td class='attr-desc'><p>
Whether or not to fork a new ruby interpreter. Defaults to true. You may
gain some startup speed if you set it to false, but this may also cause
issues with your load path and gems.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>profile</td>
            <td class='attr-desc'><p>
Define what profile to be used. When used with <a
href="Task.html#cucumber_opts">cucumber_opts</a> it is simply appended to
it. Will be ignored when CUCUMBER_OPTS is used.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>bundler</td>
            <td class='attr-desc'><p>
Whether or not to run with bundler (bundle exec). Setting this to false may
speed up the execution. The default value is true if Bundler is installed
and you have a Gemfile, false otherwise.
</p>
<p>
Note that this attribute has no effect if you don&#8217;t run in forked
mode.
</p></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000497">
                    
                    <a name="M000497"></a><b>new</b>(task_name = &quot;cucumber&quot;, desc = &quot;Run Cucumber features&quot;)
                    
                </div>
                
                <div class="description">
                  <p>
Define <a href="../../Cucumber.html">Cucumber</a> <a
href="../Rake.html">Rake</a> task
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000497_source')" id="l_M000497_source">show</a>
                        
                    </p>
                    <div id="M000497_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/cucumber/rake/task.rb, line 176</span>
176:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">task_name</span> = <span class="ruby-value str">&quot;cucumber&quot;</span>, <span class="ruby-identifier">desc</span> = <span class="ruby-value str">&quot;Run Cucumber features&quot;</span>)
177:         <span class="ruby-ivar">@task_name</span>, <span class="ruby-ivar">@desc</span> = <span class="ruby-identifier">task_name</span>, <span class="ruby-identifier">desc</span>
178:         <span class="ruby-ivar">@fork</span> = <span class="ruby-keyword kw">true</span>
179:         <span class="ruby-ivar">@libs</span> = [<span class="ruby-value str">'lib'</span>]
180:         <span class="ruby-ivar">@rcov_opts</span> = <span class="ruby-node">%w{--rails --exclude osx\/objc,gems\/}</span>
181: 
182:         <span class="ruby-keyword kw">yield</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
183: 
184:         <span class="ruby-ivar">@binary</span> = <span class="ruby-identifier">binary</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-constant">Cucumber</span><span class="ruby-operator">::</span><span class="ruby-constant">BINARY</span> <span class="ruby-operator">:</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">binary</span>)
185:         <span class="ruby-ivar">@libs</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-value">0</span>, <span class="ruby-constant">LIB</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">binary</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Cucumber</span><span class="ruby-operator">::</span><span class="ruby-constant">BINARY</span>
186: 
187:         <span class="ruby-identifier">define_task</span>
188:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000507">
                    
                    <a name="M000507"></a><b>make_command_line_safe</b>(list)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000507_source')" id="l_M000507_source">show</a>
                        
                    </p>
                    <div id="M000507_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/cucumber/rake/task.rb, line 216</span>
216:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">make_command_line_safe</span>(<span class="ruby-identifier">list</span>)
217:         <span class="ruby-identifier">list</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">string</span><span class="ruby-operator">|</span> <span class="ruby-identifier">string</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">' '</span>, <span class="ruby-value str">'\ '</span>)}
218:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000495">
                    
                    <a name="M000495"></a><b>rcov=</b>(flag)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000495_source')" id="l_M000495_source">show</a>
                        
                    </p>
                    <div id="M000495_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/cucumber/rake/task.rb, line 145</span>
145:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rcov=</span>(<span class="ruby-identifier">flag</span>)
146:         <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">flag</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">Cucumber</span><span class="ruby-operator">::</span><span class="ruby-constant">RUBY_1_9</span>)
147:           <span class="ruby-identifier">raise</span> <span class="ruby-identifier">failed</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;RCov only works on Ruby 1.8.x. You may want to use SimpleCov: https://github.com/colszowka/simplecov&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">reset</span>
148:         <span class="ruby-keyword kw">end</span>
149:         <span class="ruby-ivar">@rcov</span> = <span class="ruby-identifier">flag</span>
150:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    