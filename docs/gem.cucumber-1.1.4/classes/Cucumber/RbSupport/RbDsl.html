<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Cucumber::RbSupport::RbDsl</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            Cucumber::RbSupport::RbDsl 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/cucumber/rb_support/rb_dsl_rb.html">lib/cucumber/rb_support/rb_dsl.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
This module defines the methods you can use to define pure Ruby Step
Definitions and Hooks. This module is mixed into the toplevel object.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000510">After</a>,</li>
                
                <li><a href="#M000514">AfterConfiguration</a>,</li>
                
                <li><a href="#M000512">AfterStep</a>,</li>
                
                <li><a href="#M000511">Around</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M000509">Before</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000513">Transform</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M000508">World</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000498">alias_adverb</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M000499">build_rb_world_factory</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000500">register_rb_hook</a>,</li>
                
                <li><a href="#M000504">register_rb_step_definition</a>,</li>
                
                <li><a href="#M000515">register_rb_step_definition</a>,</li>
                
                <li><a href="#M000503">register_rb_transform</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [W]
            </td>
            <td class='attr-name'>rb_language</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000498">
                    
                    <a name="M000498"></a><b>alias_adverb</b>(adverb)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000498_source')" id="l_M000498_source">show</a>
                        
                    </p>
                    <div id="M000498_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 10</span>
10:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">alias_adverb</span>(<span class="ruby-identifier">adverb</span>)
11:           <span class="ruby-identifier">alias_method</span> <span class="ruby-identifier">adverb</span>, <span class="ruby-identifier">:register_rb_step_definition</span>
12:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000499">
                    
                    <a name="M000499"></a><b>build_rb_world_factory</b>(world_modules, proc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000499_source')" id="l_M000499_source">show</a>
                        
                    </p>
                    <div id="M000499_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 14</span>
14:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build_rb_world_factory</span>(<span class="ruby-identifier">world_modules</span>, <span class="ruby-identifier">proc</span>)
15:           <span class="ruby-ivar">@rb_language</span>.<span class="ruby-identifier">build_rb_world_factory</span>(<span class="ruby-identifier">world_modules</span>, <span class="ruby-identifier">proc</span>)
16:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000500">
                    
                    <a name="M000500"></a><b>register_rb_hook</b>(phase, tag_names, proc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000500_source')" id="l_M000500_source">show</a>
                        
                    </p>
                    <div id="M000500_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 18</span>
18:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">register_rb_hook</span>(<span class="ruby-identifier">phase</span>, <span class="ruby-identifier">tag_names</span>, <span class="ruby-identifier">proc</span>)
19:           <span class="ruby-ivar">@rb_language</span>.<span class="ruby-identifier">register_rb_hook</span>(<span class="ruby-identifier">phase</span>, <span class="ruby-identifier">tag_names</span>, <span class="ruby-identifier">proc</span>)
20:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000504">
                    
                    <a name="M000504"></a><b>register_rb_step_definition</b>(regexp, proc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000504_source')" id="l_M000504_source">show</a>
                        
                    </p>
                    <div id="M000504_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 26</span>
26:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">register_rb_step_definition</span>(<span class="ruby-identifier">regexp</span>, <span class="ruby-identifier">proc</span>)
27:           <span class="ruby-ivar">@rb_language</span>.<span class="ruby-identifier">register_rb_step_definition</span>(<span class="ruby-identifier">regexp</span>, <span class="ruby-identifier">proc</span>)
28:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000503">
                    
                    <a name="M000503"></a><b>register_rb_transform</b>(regexp, proc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000503_source')" id="l_M000503_source">show</a>
                        
                    </p>
                    <div id="M000503_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 22</span>
22:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">register_rb_transform</span>(<span class="ruby-identifier">regexp</span>, <span class="ruby-identifier">proc</span>)
23:           <span class="ruby-ivar">@rb_language</span>.<span class="ruby-identifier">register_rb_transform</span>(<span class="ruby-identifier">regexp</span>, <span class="ruby-identifier">proc</span>)          
24:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000510">
                    
                    <a name="M000510"></a><b>After</b>(*tag_expressions, &amp;proc)
                    
                </div>
                
                <div class="description">
                  <p>
Registers a proc that will run after each Scenario. You can register as
many as you want (typically from ruby scripts under
<tt>support/hooks.rb</tt>).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000510_source')" id="l_M000510_source">show</a>
                        
                    </p>
                    <div id="M000510_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 61</span>
61:       <span class="ruby-keyword kw">def</span> <span class="ruby-constant">After</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">tag_expressions</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)
62:         <span class="ruby-constant">RbDsl</span>.<span class="ruby-identifier">register_rb_hook</span>(<span class="ruby-value str">'after'</span>, <span class="ruby-identifier">tag_expressions</span>, <span class="ruby-identifier">proc</span>)
63:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000514">
                    
                    <a name="M000514"></a><b>AfterConfiguration</b>(&amp;proc)
                    
                </div>
                
                <div class="description">
                  <p>
Registers a proc that will run after <a
href="../../Cucumber.html">Cucumber</a> is configured. You can register as
as you want (typically from ruby scripts under <tt>support/hooks.rb</tt>).
TODO: Deprecate this
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000514_source')" id="l_M000514_source">show</a>
                        
                    </p>
                    <div id="M000514_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 92</span>
92:       <span class="ruby-keyword kw">def</span> <span class="ruby-constant">AfterConfiguration</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)
93:         <span class="ruby-constant">RbDsl</span>.<span class="ruby-identifier">register_rb_hook</span>(<span class="ruby-value str">'after_configuration'</span>, [], <span class="ruby-identifier">proc</span>)
94:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000512">
                    
                    <a name="M000512"></a><b>AfterStep</b>(*tag_expressions, &amp;proc)
                    
                </div>
                
                <div class="description">
                  <p>
Registers a proc that will run after each Step. You can register as as you
want (typically from ruby scripts under <tt>support/hooks.rb</tt>).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000512_source')" id="l_M000512_source">show</a>
                        
                    </p>
                    <div id="M000512_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 76</span>
76:       <span class="ruby-keyword kw">def</span> <span class="ruby-constant">AfterStep</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">tag_expressions</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)
77:         <span class="ruby-constant">RbDsl</span>.<span class="ruby-identifier">register_rb_hook</span>(<span class="ruby-value str">'after_step'</span>, <span class="ruby-identifier">tag_expressions</span>, <span class="ruby-identifier">proc</span>)
78:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000511">
                    
                    <a name="M000511"></a><b>Around</b>(*tag_expressions, &amp;proc)
                    
                </div>
                
                <div class="description">
                  <p>
Registers a proc that will be wrapped around each scenario. The proc should
accept two arguments: two arguments: the scenario and a &#8220;block&#8221;
argument (but passed as a regular argument, since blocks cannot accept
blocks in 1.8), on which it should call the .call method. You can register
as many as you want (typically from ruby scripts under
<tt>support/hooks.rb</tt>).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000511_source')" id="l_M000511_source">show</a>
                        
                    </p>
                    <div id="M000511_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 70</span>
70:       <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Around</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">tag_expressions</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)
71:         <span class="ruby-constant">RbDsl</span>.<span class="ruby-identifier">register_rb_hook</span>(<span class="ruby-value str">'around'</span>, <span class="ruby-identifier">tag_expressions</span>, <span class="ruby-identifier">proc</span>)
72:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000509">
                    
                    <a name="M000509"></a><b>Before</b>(*tag_expressions, &amp;proc)
                    
                </div>
                
                <div class="description">
                  <p>
Registers a proc that will run before each Scenario. You can register as
many as you want (typically from ruby scripts under
<tt>support/hooks.rb</tt>).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000509_source')" id="l_M000509_source">show</a>
                        
                    </p>
                    <div id="M000509_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 55</span>
55:       <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Before</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">tag_expressions</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)
56:         <span class="ruby-constant">RbDsl</span>.<span class="ruby-identifier">register_rb_hook</span>(<span class="ruby-value str">'before'</span>, <span class="ruby-identifier">tag_expressions</span>, <span class="ruby-identifier">proc</span>)
57:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000513">
                    
                    <a name="M000513"></a><b>Transform</b>(regexp, &amp;proc)
                    
                </div>
                
                <div class="description">
                  <p>
Registers a proc that will be called with a step definition argument if it
matches the pattern passed as the first argument to <a
href="RbDsl.html#M000513">Transform</a>. Alternatively, if the pattern
contains captures then they will be yielded as arguments to the provided
proc. The return value of the proc is consequently yielded to the step
definition.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000513_source')" id="l_M000513_source">show</a>
                        
                    </p>
                    <div id="M000513_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 85</span>
85:       <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Transform</span>(<span class="ruby-identifier">regexp</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)
86:         <span class="ruby-constant">RbDsl</span>.<span class="ruby-identifier">register_rb_transform</span>(<span class="ruby-identifier">regexp</span>, <span class="ruby-identifier">proc</span>)
87:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000508">
                    
                    <a name="M000508"></a><b>World</b>(*world_modules, &amp;proc)
                    
                </div>
                
                <div class="description">
                  <p>
Registers any number of <tt>world_modules</tt> (Ruby Modules) and/or a
Proc. The <tt>proc</tt> will be executed once before each scenario to
create an Object that the scenario&#8217;s steps will run within. Any
<tt>world_modules</tt> will be mixed into this Object (via Object#extend).
</p>
<p>
This method is typically called from one or more Ruby scripts under
<tt>features/support</tt>. You can call this method as many times as you
like (to register more modules), but if you try to register more than one
Proc you will get an error.
</p>
<p>
<a href="../../Cucumber.html">Cucumber</a> will not yield anything to the
<tt>proc</tt>. Examples:
</p>
<pre>
   World do
     MyClass.new
   end

   World(MyModule)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000508_source')" id="l_M000508_source">show</a>
                        
                    </p>
                    <div id="M000508_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 49</span>
49:       <span class="ruby-keyword kw">def</span> <span class="ruby-constant">World</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">world_modules</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)
50:         <span class="ruby-constant">RbDsl</span>.<span class="ruby-identifier">build_rb_world_factory</span>(<span class="ruby-identifier">world_modules</span>, <span class="ruby-identifier">proc</span>)
51:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000515">
                    
                    <a name="M000515"></a><b>register_rb_step_definition</b>(regexp, &amp;proc)
                    
                </div>
                
                <div class="description">
                  <p>
Registers a new Ruby StepDefinition. This method is aliased to
<tt>Given</tt>, <tt>When</tt> and <tt>Then</tt>, and also to the i18n
translations whenever a feature of a new language is loaded.
</p>
<p>
The +&amp;proc+ gets executed in the context of a <tt>World</tt> object,
which is defined by <a href="RbDsl.html#M000508">World</a>. A new
<tt>World</tt> object is created for each scenario and is shared across
step definitions within that scenario.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000515_source')" id="l_M000515_source">show</a>
                        
                    </p>
                    <div id="M000515_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/cucumber/rb_support/rb_dsl.rb, line 105</span>
105:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">register_rb_step_definition</span>(<span class="ruby-identifier">regexp</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)
106:         <span class="ruby-constant">RbDsl</span>.<span class="ruby-identifier">register_rb_step_definition</span>(<span class="ruby-identifier">regexp</span>, <span class="ruby-identifier">proc</span>)
107:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    