<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>I18n</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            I18n 
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/lib/i18n/backend/base_rb.html">lib/i18n/backend/base.rb</a></li>
            
            <li><a href="../files/lib/i18n/backend/cache_rb.html">lib/i18n/backend/cache.rb</a></li>
            
            <li><a href="../files/lib/i18n/backend/cascade_rb.html">lib/i18n/backend/cascade.rb</a></li>
            
            <li><a href="../files/lib/i18n/backend/chain_rb.html">lib/i18n/backend/chain.rb</a></li>
            
            <li><a href="../files/lib/i18n/backend/fallbacks_rb.html">lib/i18n/backend/fallbacks.rb</a></li>
            
            <li><a href="../files/lib/i18n/backend/flatten_rb.html">lib/i18n/backend/flatten.rb</a></li>
            
            <li><a href="../files/lib/i18n/backend/gettext_rb.html">lib/i18n/backend/gettext.rb</a></li>
            
            <li><a href="../files/lib/i18n/backend/interpolation_compiler_rb.html">lib/i18n/backend/interpolation_compiler.rb</a></li>
            
            <li><a href="../files/lib/i18n/backend/key_value_rb.html">lib/i18n/backend/key_value.rb</a></li>
            
            <li><a href="../files/lib/i18n/backend/memoize_rb.html">lib/i18n/backend/memoize.rb</a></li>
            
            <li><a href="../files/lib/i18n/backend/metadata_rb.html">lib/i18n/backend/metadata.rb</a></li>
            
            <li><a href="../files/lib/i18n/backend/pluralization_rb.html">lib/i18n/backend/pluralization.rb</a></li>
            
            <li><a href="../files/lib/i18n/backend/simple_rb.html">lib/i18n/backend/simple.rb</a></li>
            
            <li><a href="../files/lib/i18n/backend/transliterator_rb.html">lib/i18n/backend/transliterator.rb</a></li>
            
            <li><a href="../files/lib/i18n/backend_rb.html">lib/i18n/backend.rb</a></li>
            
            <li><a href="../files/lib/i18n/config_rb.html">lib/i18n/config.rb</a></li>
            
            <li><a href="../files/lib/i18n/exceptions_rb.html">lib/i18n/exceptions.rb</a></li>
            
            <li><a href="../files/lib/i18n/gettext/helpers_rb.html">lib/i18n/gettext/helpers.rb</a></li>
            
            <li><a href="../files/lib/i18n/gettext_rb.html">lib/i18n/gettext.rb</a></li>
            
            <li><a href="../files/lib/i18n/interpolate/ruby_rb.html">lib/i18n/interpolate/ruby.rb</a></li>
            
            <li><a href="../files/lib/i18n/locale/tag/parents_rb.html">lib/i18n/locale/tag/parents.rb</a></li>
            
            <li><a href="../files/lib/i18n/locale/fallbacks_rb.html">lib/i18n/locale/fallbacks.rb</a></li>
            
            <li><a href="../files/lib/i18n/locale/tag/rfc4646_rb.html">lib/i18n/locale/tag/rfc4646.rb</a></li>
            
            <li><a href="../files/lib/i18n/locale/tag/simple_rb.html">lib/i18n/locale/tag/simple.rb</a></li>
            
            <li><a href="../files/lib/i18n/locale/tag_rb.html">lib/i18n/locale/tag.rb</a></li>
            
            <li><a href="../files/lib/i18n/locale_rb.html">lib/i18n/locale.rb</a></li>
            
            <li><a href="../files/lib/i18n/tests/basics_rb.html">lib/i18n/tests/basics.rb</a></li>
            
            <li><a href="../files/lib/i18n/tests/defaults_rb.html">lib/i18n/tests/defaults.rb</a></li>
            
            <li><a href="../files/lib/i18n/tests/interpolation_rb.html">lib/i18n/tests/interpolation.rb</a></li>
            
            <li><a href="../files/lib/i18n/tests/link_rb.html">lib/i18n/tests/link.rb</a></li>
            
            <li><a href="../files/lib/i18n/tests/localization/date_rb.html">lib/i18n/tests/localization/date.rb</a></li>
            
            <li><a href="../files/lib/i18n/tests/localization/date_time_rb.html">lib/i18n/tests/localization/date_time.rb</a></li>
            
            <li><a href="../files/lib/i18n/tests/localization/procs_rb.html">lib/i18n/tests/localization/procs.rb</a></li>
            
            <li><a href="../files/lib/i18n/tests/localization/time_rb.html">lib/i18n/tests/localization/time.rb</a></li>
            
            <li><a href="../files/lib/i18n/tests/localization_rb.html">lib/i18n/tests/localization.rb</a></li>
            
            <li><a href="../files/lib/i18n/tests/lookup_rb.html">lib/i18n/tests/lookup.rb</a></li>
            
            <li><a href="../files/lib/i18n/tests/pluralization_rb.html">lib/i18n/tests/pluralization.rb</a></li>
            
            <li><a href="../files/lib/i18n/tests/procs_rb.html">lib/i18n/tests/procs.rb</a></li>
            
            <li><a href="../files/lib/i18n/tests_rb.html">lib/i18n/tests.rb</a></li>
            
            <li><a href="../files/lib/i18n/version_rb.html">lib/i18n/version.rb</a></li>
            
            <li><a href="../files/lib/i18n_rb.html">lib/i18n.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
This module allows you to easily cache all responses from the backend -
thus speeding up the <a href="I18n.html">I18n</a> aspects of your
application quite a bit.
</p>
<p>
To enable caching you can simply include the Cache module to the Simple
backend - or whatever other backend you are using:
</p>
<pre>
  I18n::Backend::Simple.include(I18n::Backend::Cache)
</pre>
<p>
You will also need to set a cache store implementation that you want to
use:
</p>
<pre>
  I18n.cache_store = ActiveSupport::Cache.lookup_store(:memory_store)
</pre>
<p>
You can use any cache implementation you want that provides the same API as
ActiveSupport::Cache (only the methods fetch and write are being used).
</p>
<p>
The cache_key implementation assumes that you only pass values to <a
href="I18n.html#M000199">I18n.translate</a> that return a valid key from
hash (see <a
href="http://www.ruby-doc.org/core/classes/Object.html#M000337">www.ruby-doc.org/core/classes/Object.html#M000337</a>).
</p>
<p>
If you use a lambda as a default value in your translation like this:
</p>
<pre>
  I18n.t(:&quot;date.order&quot;, :default =&gt; lambda {[:month, :day, :year]})
</pre>
<p>
Then you will always have a cache miss, because each time this method is
called the lambda will have a different hash value. If you know the result
of the lambda is a constant as in the example above, then to cache this you
can make the lambda a constant, like this:
</p>
<pre>
  DEFAULT_DATE_ORDER = lambda {[:month, :day, :year]}
  ...
  I18n.t(:&quot;date.order&quot;, :default =&gt; DEFAULT_DATE_ORDER)
</pre>
<p>
If the lambda may result in different values for each call then consider
also using the Memoize backend.
</p>
<hr size="1"></hr><p>
The Cascade module adds the ability to do cascading lookups to backends
that are compatible to the Simple backend.
</p>
<p>
By cascading lookups we mean that for any key that can not be found the
Cascade module strips one segment off the scope part of the key and then
tries to look up the key in that scope.
</p>
<p>
E.g. when a lookup for the key :&#8220;foo.bar.baz&#8220; does not yield a
result then the segment :bar will be stripped off the scope part
:&#8220;foo.bar&#8220; and the new scope :foo will be used to look up the
key :baz. If that does not succeed then the remaining scope segment :foo
will be omitted, too, and again the key :baz will be looked up (now with no
scope).
</p>
<p>
To enable a cascading lookup one passes the :cascade option:
</p>
<pre>
  I18n.t(:'foo.bar.baz', :cascade =&gt; true)
</pre>
<p>
This will return the first translation found for
:&#8220;foo.bar.baz&#8220;, :&#8220;foo.baz&#8220; or :baz in this order.
</p>
<p>
The cascading lookup takes precedence over resolving any given defaults.
I.e. defaults will kick in after the cascading lookups haven&#8217;t
succeeded.
</p>
<p>
This behavior is useful for libraries like ActiveRecord validations where
the library wants to give users a bunch of more or less fine-grained
options of scopes for a particular key.
</p>
<p>
Thanks to Clemens Kofler for the initial idea and implementation! See <a
href="http://github.com/clemens/i18n-cascading-backend">github.com/clemens/i18n-cascading-backend</a>
</p>
<hr size="1"></hr><p>
<a href="I18n.html">I18n</a> locale fallbacks are useful when you want your
application to use translations from other locales when translations for
the current locale are missing. E.g. you might want to use :en translations
when translations in your applications main locale :de are missing.
</p>
<p>
To enable locale fallbacks you can simply include the Fallbacks module to
the Simple backend - or whatever other backend you are using:
</p>
<pre>
  I18n::Backend::Simple.include(I18n::Backend::Fallbacks)
</pre>
<hr size="1"></hr><p>
Experimental support for using <a href="I18n/Gettext.html">Gettext</a> po
files to store translations.
</p>
<p>
To use this you can simply include the module to the Simple backend - or
whatever other backend you are using.
</p>
<pre>
  I18n::Backend::Simple.include(I18n::Backend::Gettext)
</pre>
<p>
Now you should be able to include your <a
href="I18n/Gettext.html">Gettext</a> translation (*.po) files to the
I18n.load_path so they&#8217;re loaded to the backend and you can use them
as usual:
</p>
<pre>
 I18n.load_path += Dir[&quot;path/to/locales/*.po&quot;]
</pre>
<p>
Following the <a href="I18n/Gettext.html">Gettext</a> convention this
implementation expects that your translation files are named by their
locales. E.g. the file en.po would contain the translations for the English
locale.
</p>
<hr size="1"></hr><p>
The InterpolationCompiler module contains optimizations that can
tremendously speed up the interpolation process on the Simple backend.
</p>
<p>
It works by defining a pre-compiled method on stored translation Strings
that already bring all the knowledge about contained interpolation
variables etc. so that the actual recurring interpolation will be very
fast.
</p>
<p>
To enable pre-compiled interpolations you can simply include the
InterpolationCompiler module to the Simple backend:
</p>
<pre>
  I18n::Backend::Simple.include(I18n::Backend::InterpolationCompiler)
</pre>
<p>
Note that InterpolationCompiler does not yield meaningful results and
consequently should not be used with Ruby 1.9 (YARV) but improves
performance everywhere else (jRuby, Rubinius and 1.8.7).
</p>
<hr size="1"></hr><p>
Memoize module simply memoizes the values returned by lookup using a flat
hash and can tremendously speed up the lookup process in a backend.
</p>
<p>
To enable it you can simply include the Memoize module to your backend:
</p>
<pre>
  I18n::Backend::Simple.include(I18n::Backend::Memoize)
</pre>
<p>
Notice that it&#8217;s the responsibility of the backend to define whenever
the cache should be cleaned.
</p>
<hr size="1"></hr><p>
<a href="I18n.html">I18n</a> translation metadata is useful when you want
to access information about how a translation was looked up, pluralized or
interpolated in your application.
</p>
<pre>
  msg = I18n.t(:message, :default =&gt; 'Hi!', :scope =&gt; :foo)
  msg.translation_metadata
  # =&gt; { :key =&gt; :message, :scope =&gt; :foo, :default =&gt; 'Hi!' }
</pre>
<p>
If a :count option was passed to <a href="I18n.html#M000199">translate</a>
it will be set to the metadata. Likewise, if any interpolation variables
were passed they will also be set.
</p>
<p>
To enable translation metadata you can simply include the Metadata module
into the Simple backend class - or whatever other backend you are using:
</p>
<pre>
  I18n::Backend::Simple.include(I18n::Backend::Metadata)
</pre>
<hr size="1"></hr><p>
<a href="I18n.html">I18n</a> locale fallbacks are useful when you want your
application to use translations from other locales when translations for
the current locale are missing. E.g. you might want to use :en translations
when translations in your applications main locale :de are missing.
</p>
<p>
To enable locale specific pluralizations you can simply include the
Pluralization module to the Simple backend - or whatever other backend you
are using.
</p>
<pre>
  I18n::Backend::Simple.include(I18n::Backend::Pluralization)
</pre>
<p>
You also need to make sure to provide pluralization algorithms to the
backend, i.e. include them to your I18n.load_path accordingly.
</p>
<hr size="1"></hr><p>
encoding: utf-8
</p>
<hr size="1"></hr><p>
heavily based on Masao Mutoh&#8217;s gettext <a
href="String.html">String</a> interpolation extension <a
href="http://github.com/mutoh/gettext/blob/f6566738b981fe0952548c421042ad1e0cdfb31e/lib/gettext/core_ext/string.rb">github.com/mutoh/gettext/blob/f6566738b981fe0952548c421042ad1e0cdfb31e/lib/gettext/core_ext/string.rb</a>
</p>
<hr size="1"></hr><p>
<a href="I18n/Locale.html">Locale</a> Fallbacks
</p>
<p>
Extends the <a href="I18n.html">I18n</a> module to hold a fallbacks
instance which is set to an instance of <a
href="I18n/Locale/Fallbacks.html">I18n::Locale::Fallbacks</a> by default
but can be swapped with a different implementation.
</p>
<p>
<a href="I18n/Locale.html">Locale</a> fallbacks will compute a number of
fallback locales for a given locale. For example:
</p>
<p>
<pre><tt> <a
href="I18n.html#M000031">I18n.fallbacks</a>[:&quot;es-MX&quot;] # =&gt;
[:&quot;es-MX&quot;, :es, :en] </tt></pre>
</p>
<p>
<a href="I18n/Locale.html">Locale</a> fallbacks always fall back to
</p>
<pre>
  * all parent locales of a given locale (e.g. :es for :&quot;es-MX&quot;) first,
  * the current default locales and all of their parents second
</pre>
<p>
The default locales are set to [I18n.default_locale] by default but can be
set to something else.
</p>
<p>
One can additionally add any number of additional fallback locales
manually. These will be added before the default locales to the fallback
chain. For example:
</p>
<pre>
  # using the default locale as default fallback locale

  I18n.default_locale = :&quot;en-US&quot;
  I18n.fallbacks = I18n::Fallbacks.new(:&quot;de-AT&quot; =&gt; :&quot;de-DE&quot;)
  I18n.fallbacks[:&quot;de-AT&quot;] # =&gt; [:&quot;de-AT&quot;, :&quot;de-DE&quot;, :de, :&quot;en-US&quot;, :en]

  # using a custom locale as default fallback locale

  I18n.fallbacks = I18n::Fallbacks.new(:&quot;en-GB&quot;, :&quot;de-AT&quot; =&gt; :de, :&quot;de-CH&quot; =&gt; :de)
  I18n.fallbacks[:&quot;de-AT&quot;] # =&gt; [:&quot;de-AT&quot;, :de, :&quot;en-GB&quot;, :en]
  I18n.fallbacks[:&quot;de-CH&quot;] # =&gt; [:&quot;de-CH&quot;, :de, :&quot;en-GB&quot;, :en]

  # mapping fallbacks to an existing instance

  # people speaking Catalan also speak Spanish as spoken in Spain
  fallbacks = I18n.fallbacks
  fallbacks.map(:ca =&gt; :&quot;es-ES&quot;)
  fallbacks[:ca] # =&gt; [:ca, :&quot;es-ES&quot;, :es, :&quot;en-US&quot;, :en]

  # people speaking Arabian as spoken in Palestine also speak Hebrew as spoken in Israel
  fallbacks.map(:&quot;ar-PS&quot; =&gt; :&quot;he-IL&quot;)
  fallbacks[:&quot;ar-PS&quot;] # =&gt; [:&quot;ar-PS&quot;, :ar, :&quot;he-IL&quot;, :he, :&quot;en-US&quot;, :en]
  fallbacks[:&quot;ar-EG&quot;] # =&gt; [:&quot;ar-EG&quot;, :ar, :&quot;en-US&quot;, :en]

  # people speaking Sami as spoken in Finnland also speak Swedish and Finnish as spoken in Finnland
  fallbacks.map(:sms =&gt; [:&quot;se-FI&quot;, :&quot;fi-FI&quot;])
  fallbacks[:sms] # =&gt; [:sms, :&quot;se-FI&quot;, :se, :&quot;fi-FI&quot;, :fi, :&quot;en-US&quot;, :en]
</pre>
<hr size="1"></hr><p>
RFC 4646/47 compliant <a href="I18n/Locale.html">Locale</a> tag
implementation that parses locale tags to subtags such as language, script,
region, variant etc.
</p>
<p>
For more information see by <a
href="http://en.wikipedia.org/wiki/IETF_language_tag">en.wikipedia.org/wiki/IETF_language_tag</a>
</p>
<p>
Rfc4646::Parser does not implement grandfathered tags.
</p>
<hr size="1"></hr><p>
Simple <a href="I18n/Locale.html">Locale</a> tag implementation that
computes subtags by simply splitting the locale tag at &#8217;-&#8217;
occurences.
</p>
<hr size="1"></hr><p>
encoding: utf-8
</p>
<hr size="1"></hr><p>
encoding: utf-8
</p>
<hr size="1"></hr><p>
encoding: utf-8
</p>
<hr size="1"></hr><p>
encoding: utf-8
</p>
<hr size="1"></hr><p>
encoding: utf-8
</p>
<hr size="1"></hr><p>
encoding: utf-8
</p>
<hr size="1"></hr><p>
encoding: utf-8
</p>
<hr size="1"></hr><p>
encoding: utf-8
</p>
<hr size="1"></hr><p>
encoding: utf-8
</p>
<hr size="1"></hr><p>
encoding: utf-8
</p>
<hr size="1"></hr><p>
encoding: utf-8
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000009">cache_namespace</a>,</li>
                
                <li><a href="#M000010">cache_namespace=</a>,</li>
                
                <li><a href="#M000007">cache_store</a>,</li>
                
                <li><a href="#M000008">cache_store=</a>,</li>
                
                <li><a href="#M000196">config</a>,</li>
                
                <li><a href="#M000197">config=</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000209">default_exception_handler</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000031">fallbacks</a>,</li>
                
                <li><a href="#M000032">fallbacks=</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M000205">handle_exception</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000153">interpolate</a>,</li>
                
                <li><a href="#M000154">interpolate_hash</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M000202">localize</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000206">normalize_key</a>,</li>
                
                <li><a href="#M000204">normalize_keys</a>,</li>
                
                <li><a href="#M000208">normalize_translation_keys</a>,</li>
                
                <li><a href="#M000207">normalized_key_cache</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000011">perform_caching?</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000198">reload!</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000199">translate</a>,</li>
                
                <li><a href="#M000200">translate!</a>,</li>
                
                <li><a href="#M000201">transliterate</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M000203">with_locale</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">MODULE</span> <a href="I18n/Backend.html">I18n::Backend</a></li>
        
        <li><span class="type">MODULE</span> <a href="I18n/Gettext.html">I18n::Gettext</a></li>
        
        <li><span class="type">MODULE</span> <a href="I18n/Locale.html">I18n::Locale</a></li>
        
        <li><span class="type">MODULE</span> <a href="I18n/Tests.html">I18n::Tests</a></li>
        
        <li><span class="type">CLASS</span> <a href="I18n/ArgumentError.html">I18n::ArgumentError</a></li>
        
        <li><span class="type">CLASS</span> <a href="I18n/Config.html">I18n::Config</a></li>
        
        <li><span class="type">CLASS</span> <a href="I18n/ExceptionHandler.html">I18n::ExceptionHandler</a></li>
        
        <li><span class="type">CLASS</span> <a href="I18n/InvalidLocale.html">I18n::InvalidLocale</a></li>
        
        <li><span class="type">CLASS</span> <a href="I18n/InvalidLocaleData.html">I18n::InvalidLocaleData</a></li>
        
        <li><span class="type">CLASS</span> <a href="I18n/InvalidPluralizationData.html">I18n::InvalidPluralizationData</a></li>
        
        <li><span class="type">CLASS</span> <a href="I18n/MissingInterpolationArgument.html">I18n::MissingInterpolationArgument</a></li>
        
        <li><span class="type">CLASS</span> <a href="I18n/MissingTranslation.html">I18n::MissingTranslation</a></li>
        
        <li><span class="type">CLASS</span> <a href="I18n/MissingTranslationData.html">I18n::MissingTranslationData</a></li>
        
        <li><span class="type">CLASS</span> <a href="I18n/ReservedInterpolationKey.html">I18n::ReservedInterpolationKey</a></li>
        
        <li><span class="type">CLASS</span> <a href="I18n/UnknownFileType.html">I18n::UnknownFileType</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">INTERPOLATION_PATTERN</td>
            <td>=</td>
            <td class="attr-value">Regexp.union(     /%%/,     /%\{(\w+)\}/,                               # matches placeholders like &quot;%{foo}&quot;     /%&lt;(\w+)&gt;(.*?\d*\.?\d*[bBdiouxXeEfgGcps])/  # matches placeholders like &quot;%&lt;foo&gt;.d&quot;   )</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">VERSION</td>
            <td>=</td>
            <td class="attr-value">&quot;0.6.0&quot;</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">RESERVED_KEYS</td>
            <td>=</td>
            <td class="attr-value">[:scope, :default, :separator, :resolve, :object, :fallback, :format, :cascade, :throw, :raise, :rescue_format]</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">RESERVED_KEYS_PATTERN</td>
            <td>=</td>
            <td class="attr-value">/%\{(#{RESERVED_KEYS.join(&quot;|&quot;)})\}/</td>
        </tr>
        
        
    </table>
    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000009">
                    
                    <a name="M000009"></a><b>cache_namespace</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000009_source')" id="l_M000009_source">show</a>
                        
                    </p>
                    <div id="M000009_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/i18n/backend/cache.rb, line 49</span>
49:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cache_namespace</span>
50:       <span class="ruby-ivar">@@cache_namespace</span>
51:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000010">
                    
                    <a name="M000010"></a><b>cache_namespace=</b>(namespace)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000010_source')" id="l_M000010_source">show</a>
                        
                    </p>
                    <div id="M000010_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/i18n/backend/cache.rb, line 53</span>
53:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cache_namespace=</span>(<span class="ruby-identifier">namespace</span>)
54:       <span class="ruby-ivar">@@cache_namespace</span> = <span class="ruby-identifier">namespace</span>
55:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000007">
                    
                    <a name="M000007"></a><b>cache_store</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000007_source')" id="l_M000007_source">show</a>
                        
                    </p>
                    <div id="M000007_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/i18n/backend/cache.rb, line 41</span>
41:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cache_store</span>
42:       <span class="ruby-ivar">@@cache_store</span>
43:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000008">
                    
                    <a name="M000008"></a><b>cache_store=</b>(store)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000008_source')" id="l_M000008_source">show</a>
                        
                    </p>
                    <div id="M000008_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/i18n/backend/cache.rb, line 45</span>
45:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cache_store=</span>(<span class="ruby-identifier">store</span>)
46:       <span class="ruby-ivar">@@cache_store</span> = <span class="ruby-identifier">store</span>
47:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000196">
                    
                    <a name="M000196"></a><b>config</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Gets <a href="I18n.html">I18n</a> configuration object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000196_source')" id="l_M000196_source">show</a>
                        
                    </p>
                    <div id="M000196_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/i18n.rb, line 17</span>
17:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">config</span>
18:       <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-identifier">:i18n_config</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">I18n</span><span class="ruby-operator">::</span><span class="ruby-constant">Config</span>.<span class="ruby-identifier">new</span>
19:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000197">
                    
                    <a name="M000197"></a><b>config=</b>(value)
                    
                </div>
                
                <div class="description">
                  <p>
Sets <a href="I18n.html">I18n</a> configuration object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000197_source')" id="l_M000197_source">show</a>
                        
                    </p>
                    <div id="M000197_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/i18n.rb, line 22</span>
22:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">config=</span>(<span class="ruby-identifier">value</span>)
23:       <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-identifier">:i18n_config</span>] = <span class="ruby-identifier">value</span>
24:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000031">
                    
                    <a name="M000031"></a><b>fallbacks</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the current fallbacks implementation. Defaults to
+I18n::Locale::Fallbacks+.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000031_source')" id="l_M000031_source">show</a>
                        
                    </p>
                    <div id="M000031_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/i18n/backend/fallbacks.rb, line 15</span>
15:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fallbacks</span>
16:       <span class="ruby-ivar">@@fallbacks</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">I18n</span><span class="ruby-operator">::</span><span class="ruby-constant">Locale</span><span class="ruby-operator">::</span><span class="ruby-constant">Fallbacks</span>.<span class="ruby-identifier">new</span>
17:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000032">
                    
                    <a name="M000032"></a><b>fallbacks=</b>(fallbacks)
                    
                </div>
                
                <div class="description">
                  <p>
Sets the current fallbacks implementation. Use this to set a different
fallbacks implementation.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000032_source')" id="l_M000032_source">show</a>
                        
                    </p>
                    <div id="M000032_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/i18n/backend/fallbacks.rb, line 20</span>
20:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fallbacks=</span>(<span class="ruby-identifier">fallbacks</span>)
21:       <span class="ruby-ivar">@@fallbacks</span> = <span class="ruby-identifier">fallbacks</span>
22:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000153">
                    
                    <a name="M000153"></a><b>interpolate</b>(string, values)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000153_source')" id="l_M000153_source">show</a>
                        
                    </p>
                    <div id="M000153_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/i18n/interpolate/ruby.rb, line 12</span>
12:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">interpolate</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">values</span>)
13:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ReservedInterpolationKey</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">$1</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">string</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">string</span> <span class="ruby-operator">=~</span> <span class="ruby-constant">RESERVED_KEYS_PATTERN</span>
14:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'Interpolation values must be a Hash.'</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Hash</span>)
15:       <span class="ruby-identifier">interpolate_hash</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">values</span>)
16:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000154">
                    
                    <a name="M000154"></a><b>interpolate_hash</b>(string, values)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000154_source')" id="l_M000154_source">show</a>
                        
                    </p>
                    <div id="M000154_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/i18n/interpolate/ruby.rb, line 18</span>
18:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">interpolate_hash</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">values</span>)
19:       <span class="ruby-identifier">string</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-constant">INTERPOLATION_PATTERN</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">match</span><span class="ruby-operator">|</span>
20:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">match</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'%%'</span>
21:           <span class="ruby-value str">'%'</span>
22:         <span class="ruby-keyword kw">else</span>
23:           <span class="ruby-identifier">key</span> = (<span class="ruby-identifier">$1</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">$2</span>).<span class="ruby-identifier">to_sym</span>
24:           <span class="ruby-identifier">value</span> = <span class="ruby-identifier">values</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">key</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">values</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">:</span> <span class="ruby-identifier">raise</span>(<span class="ruby-constant">MissingInterpolationArgument</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">values</span>, <span class="ruby-identifier">string</span>))
25:           <span class="ruby-identifier">value</span> = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">values</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:call</span>)
26:           <span class="ruby-identifier">$3</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-node">&quot;%#{$3}&quot;</span>, <span class="ruby-identifier">value</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">value</span>
27:         <span class="ruby-keyword kw">end</span>
28:       <span class="ruby-keyword kw">end</span>
29:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000202">
                    
                    <a name="M000202"></a><b>localize</b>(object, options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Localizes certain objects, such as dates and numbers to local formatting.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000202_source')" id="l_M000202_source">show</a>
                        
                    </p>
                    <div id="M000202_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/i18n.rb, line 233</span>
233:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">localize</span>(<span class="ruby-identifier">object</span>, <span class="ruby-identifier">options</span> = {})
234:       <span class="ruby-identifier">locale</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:locale</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">locale</span>
235:       <span class="ruby-identifier">format</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:format</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">:default</span>
236:       <span class="ruby-identifier">config</span>.<span class="ruby-identifier">backend</span>.<span class="ruby-identifier">localize</span>(<span class="ruby-identifier">locale</span>, <span class="ruby-identifier">object</span>, <span class="ruby-identifier">format</span>, <span class="ruby-identifier">options</span>)
237:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000204">
                    
                    <a name="M000204"></a><b>normalize_keys</b>(locale, key, scope, separator = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Merges the given locale, key and scope into a single array of keys. Splits
keys that contain dots into multiple keys. Makes sure all keys are Symbols.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000204_source')" id="l_M000204_source">show</a>
                        
                    </p>
                    <div id="M000204_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/i18n.rb, line 254</span>
254:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">normalize_keys</span>(<span class="ruby-identifier">locale</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">scope</span>, <span class="ruby-identifier">separator</span> = <span class="ruby-keyword kw">nil</span>)
255:       <span class="ruby-identifier">separator</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">default_separator</span>
256: 
257:       <span class="ruby-identifier">keys</span> = []
258:       <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">normalize_key</span>(<span class="ruby-identifier">locale</span>, <span class="ruby-identifier">separator</span>)
259:       <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">normalize_key</span>(<span class="ruby-identifier">scope</span>, <span class="ruby-identifier">separator</span>)
260:       <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">normalize_key</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">separator</span>)
261:       <span class="ruby-identifier">keys</span>
262:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000011">
                    
                    <a name="M000011"></a><b>perform_caching?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000011_source')" id="l_M000011_source">show</a>
                        
                    </p>
                    <div id="M000011_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/i18n/backend/cache.rb, line 57</span>
57:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">perform_caching?</span>
58:       <span class="ruby-operator">!</span><span class="ruby-identifier">cache_store</span>.<span class="ruby-identifier">nil?</span>
59:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000198">
                    
                    <a name="M000198"></a><b>reload!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Tells the backend to reload translations. Used in situations like the Rails
development environment. Backends can implement whatever strategy is
useful.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000198_source')" id="l_M000198_source">show</a>
                        
                    </p>
                    <div id="M000198_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/i18n.rb, line 44</span>
44:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reload!</span>
45:       <span class="ruby-identifier">config</span>.<span class="ruby-identifier">backend</span>.<span class="ruby-identifier">reload!</span>
46:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000199">
                    
                    <a name="M000199"></a><b>translate</b>(*args)
                    
                </div>
                
                <div class="description">
                  <p>
Translates, pluralizes and interpolates a given key using a given locale,
scope, and default, as well as interpolation values.
</p>
<p>
<b>LOOKUP</b>
</p>
<p>
Translation data is organized as a nested hash using the upper-level keys
as namespaces. <em>E.g.</em>, ActionView ships with the translation:
<tt>:date =&gt; {:formats =&gt; {:short =&gt; &quot;%b %d&quot;}}</tt>.
</p>
<p>
Translations can be looked up at any level of this hash using the key
argument and the scope option. <em>E.g.</em>, in this example <tt>I18n.t
:date</tt> returns the whole translations hash <tt>{:formats =&gt; {:short
=&gt; &quot;%b %d&quot;}}</tt>.
</p>
<p>
Key can be either a single key or a dot-separated key (both Strings and
Symbols work). <em>E.g.</em>, the short format can be looked up using both:
</p>
<pre>
  I18n.t 'date.formats.short'
  I18n.t :'date.formats.short'
</pre>
<p>
Scope can be either a single key, a dot-separated key or an array of keys
or dot-separated keys. Keys and scopes can be combined freely. So these
examples will all look up the same short date format:
</p>
<pre>
  I18n.t 'date.formats.short'
  I18n.t 'formats.short', :scope =&gt; 'date'
  I18n.t 'short', :scope =&gt; 'date.formats'
  I18n.t 'short', :scope =&gt; %w(date formats)
</pre>
<p>
<b>INTERPOLATION</b>
</p>
<p>
Translations can contain interpolation variables which will be replaced by
values passed to <a href="I18n.html#M000199">translate</a> as part of the
options hash, with the keys matching the interpolation variable names.
</p>
<p>
<em>E.g.</em>, with a translation <tt>:foo =&gt; &quot;foo
%{bar}&quot;</tt> the option value for the key <tt>bar</tt> will be
interpolated into the translation:
</p>
<pre>
  I18n.t :foo, :bar =&gt; 'baz' # =&gt; 'foo baz'
</pre>
<p>
<b>PLURALIZATION</b>
</p>
<p>
Translation data can contain pluralized translations. Pluralized
translations are arrays of singluar/plural versions of translations like
<tt>['Foo', 'Foos']</tt>.
</p>
<p>
Note that <tt>I18n::Backend::Simple</tt> only supports an algorithm for
English pluralization rules. Other algorithms can be supported by custom
backends.
</p>
<p>
This returns the singular version of a pluralized translation:
</p>
<pre>
  I18n.t :foo, :count =&gt; 1 # =&gt; 'Foo'
</pre>
<p>
These both return the plural version of a pluralized translation:
</p>
<pre>
  I18n.t :foo, :count =&gt; 0 # =&gt; 'Foos'
  I18n.t :foo, :count =&gt; 2 # =&gt; 'Foos'
</pre>
<p>
The <tt>:count</tt> option can be used both for pluralization and
interpolation. <em>E.g.</em>, with the translation <tt>:foo =&gt;
['%{count} foo', '%{count} foos']</tt>, count will be interpolated to the
pluralized translation:
</p>
<pre>
  I18n.t :foo, :count =&gt; 1 # =&gt; '1 foo'
</pre>
<p>
<b>DEFAULTS</b>
</p>
<p>
This returns the translation for <tt>:foo</tt> or <tt>default</tt> if no
translation was found:
</p>
<pre>
  I18n.t :foo, :default =&gt; 'default'
</pre>
<p>
This returns the translation for <tt>:foo</tt> or the translation for
<tt>:bar</tt> if no translation for <tt>:foo</tt> was found:
</p>
<pre>
  I18n.t :foo, :default =&gt; :bar
</pre>
<p>
Returns the translation for <tt>:foo</tt> or the translation for
<tt>:bar</tt> or <tt>default</tt> if no translations for <tt>:foo</tt> and
<tt>:bar</tt> were found.
</p>
<pre>
  I18n.t :foo, :default =&gt; [:bar, 'default']
</pre>
<p>
*BULK LOOKUP*
</p>
<p>
This returns an array with the translations for <tt>:foo</tt> and
<tt>:bar</tt>.
</p>
<pre>
  I18n.t [:foo, :bar]
</pre>
<p>
Can be used with dot-separated nested keys:
</p>
<pre>
  I18n.t [:'baz.foo', :'baz.bar']
</pre>
<p>
Which is the same as using a scope option:
</p>
<pre>
  I18n.t [:foo, :bar], :scope =&gt; :baz
</pre>
<p>
<b>LAMBDAS</b>
</p>
<p>
Both translations and defaults can be given as Ruby lambdas. Lambdas will
be called and passed the key and options.
</p>
<p>
E.g. assuming the key <tt>:salutation</tt> resolves to:
</p>
<pre>
  lambda { |key, options| options[:gender] == 'm' ? &quot;Mr. %{options[:name]}&quot; : &quot;Mrs. %{options[:name]}&quot;}
</pre>
<p>
Then <tt>I18n.t(:salutation, :gender => &#8216;w&#8217;, :name =>
&#8216;Smith&#8217;) will result in &#8220;Mrs. Smith&#8221;.
</p>
<p>
It is recommended to use/implement lambdas in an &#8220;idempotent&#8221;
way. E.g. when a cache layer is put in front of <a
href="I18n.html#M000199">I18n.translate</a> it will generate a cache key
from the argument values passed to <a
href="I18n.html#M000199">translate</a>. Therefor your lambdas should always
return the same translations/values per unique combination of argument
values.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000199_source')" id="l_M000199_source">show</a>
                        
                    </p>
                    <div id="M000199_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/i18n.rb, line 144</span>
144:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">translate</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
145:       <span class="ruby-identifier">options</span>  = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">:</span> {}
146:       <span class="ruby-identifier">key</span>      = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>
147:       <span class="ruby-identifier">backend</span>  = <span class="ruby-identifier">config</span>.<span class="ruby-identifier">backend</span>
148:       <span class="ruby-identifier">locale</span>   = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:locale</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">locale</span>
149:       <span class="ruby-identifier">handling</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:throw</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">:throw</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:raise</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">:raise</span> <span class="ruby-comment cmt"># TODO deprecate :raise</span>
150: 
151:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">I18n</span><span class="ruby-operator">::</span><span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">empty?</span>
152: 
153:       <span class="ruby-identifier">result</span> = <span class="ruby-identifier">catch</span>(<span class="ruby-identifier">:exception</span>) <span class="ruby-keyword kw">do</span>
154:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
155:           <span class="ruby-identifier">key</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">backend</span>.<span class="ruby-identifier">translate</span>(<span class="ruby-identifier">locale</span>, <span class="ruby-identifier">k</span>, <span class="ruby-identifier">options</span>) }
156:         <span class="ruby-keyword kw">else</span>
157:           <span class="ruby-identifier">backend</span>.<span class="ruby-identifier">translate</span>(<span class="ruby-identifier">locale</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">options</span>)
158:         <span class="ruby-keyword kw">end</span>
159:       <span class="ruby-keyword kw">end</span>
160:       <span class="ruby-identifier">result</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">MissingTranslation</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">handle_exception</span>(<span class="ruby-identifier">handling</span>, <span class="ruby-identifier">result</span>, <span class="ruby-identifier">locale</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">options</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">result</span>
161:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000200">
                    
                    <a name="M000200"></a><b>translate!</b>(key, options={})
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000200_source')" id="l_M000200_source">show</a>
                        
                    </p>
                    <div id="M000200_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/i18n.rb, line 164</span>
164:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">translate!</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">options</span>={})
165:       <span class="ruby-identifier">translate</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:raise</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>))
166:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000201">
                    
                    <a name="M000201"></a><b>transliterate</b>(*args)
                    
                </div>
                
                <div class="description">
                  <p>
Transliterates UTF-8 characters to ASCII. By default this method will
transliterate only Latin strings to an ASCII approximation:
</p>
<pre>
   I18n.transliterate(&quot;rskbing&quot;)
   # =&gt; &quot;AEroskobing&quot;

   I18n.transliterate(&quot;&quot;)
   # =&gt; &quot;???&quot;
</pre>
<p>
It&#8217;s also possible to add support for per-locale transliterations. <a
href="I18n.html">I18n</a> expects transliteration rules to be stored at
<tt>i18n.transliterate.rule</tt>.
</p>
<p>
Transliteration rules can either be a <a href="Hash.html">Hash</a> or a
Proc. Procs must accept a single string argument. <a
href="Hash.html">Hash</a> rules inherit the default transliteration rules,
while Procs do not.
</p>
<p>
<b>Examples</b>
</p>
<p>
Setting a <a href="Hash.html">Hash</a> in <locale>.yml:
</p>
<pre>
   i18n:
     transliterate:
       rule:
         : &quot;ue&quot;
         : &quot;oe&quot;
</pre>
<p>
Setting a <a href="Hash.html">Hash</a> using Ruby:
</p>
<pre>
    store_translations(:de, :i18n =&gt; {
      :transliterate =&gt; {
        :rule =&gt; {
          &quot;&quot; =&gt; &quot;ue&quot;,
          &quot;&quot; =&gt; &quot;oe&quot;
        }
      }
    )
</pre>
<p>
Setting a Proc:
</p>
<pre>
    translit = lambda {|string| MyTransliterator.transliterate(string) }
    store_translations(:xx, :i18n =&gt; {:transliterate =&gt; {:rule =&gt; translit})
</pre>
<p>
Transliterating strings:
</p>
<pre>
    I18n.locale = :en
    I18n.transliterate(&quot;Jrgen&quot;) # =&gt; &quot;Jurgen&quot;
    I18n.locale = :de
    I18n.transliterate(&quot;Jrgen&quot;) # =&gt; &quot;Juergen&quot;
    I18n.transliterate(&quot;Jrgen&quot;, :locale =&gt; :en) # =&gt; &quot;Jurgen&quot;
    I18n.transliterate(&quot;Jrgen&quot;, :locale =&gt; :de) # =&gt; &quot;Juergen&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000201_source')" id="l_M000201_source">show</a>
                        
                    </p>
                    <div id="M000201_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/i18n.rb, line 220</span>
220:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">transliterate</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
221:       <span class="ruby-identifier">options</span>      = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">pop</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
222:       <span class="ruby-identifier">key</span>          = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>
223:       <span class="ruby-identifier">locale</span>       = <span class="ruby-identifier">options</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:locale</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">locale</span>
224:       <span class="ruby-identifier">raises</span>       = <span class="ruby-identifier">options</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:raise</span>)
225:       <span class="ruby-identifier">replacement</span>  = <span class="ruby-identifier">options</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:replacement</span>)
226:       <span class="ruby-identifier">config</span>.<span class="ruby-identifier">backend</span>.<span class="ruby-identifier">transliterate</span>(<span class="ruby-identifier">locale</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">replacement</span>)
227:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">I18n</span><span class="ruby-operator">::</span><span class="ruby-constant">ArgumentError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">exception</span>
228:       <span class="ruby-identifier">raise</span> <span class="ruby-identifier">exception</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">raises</span>
229:       <span class="ruby-identifier">handle_exception</span>(<span class="ruby-identifier">exception</span>, <span class="ruby-identifier">locale</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">options</span>)
230:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000203">
                    
                    <a name="M000203"></a><b>with_locale</b>(tmp_locale = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Executes block with given I18n.locale set.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000203_source')" id="l_M000203_source">show</a>
                        
                    </p>
                    <div id="M000203_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/i18n.rb, line 241</span>
241:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">with_locale</span>(<span class="ruby-identifier">tmp_locale</span> = <span class="ruby-keyword kw">nil</span>)
242:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tmp_locale</span>
243:         <span class="ruby-identifier">current_locale</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">locale</span>
244:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">locale</span>    = <span class="ruby-identifier">tmp_locale</span>
245:       <span class="ruby-keyword kw">end</span>
246:       <span class="ruby-keyword kw">yield</span>
247:     <span class="ruby-keyword kw">ensure</span>
248:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">locale</span> = <span class="ruby-identifier">current_locale</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tmp_locale</span>
249:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Private methods</div>
            
            <div class="method">
                <div class="title" id="M000209">
                    
                    <a name="M000209"></a><b>default_exception_handler</b>(exception, locale, key, options)
                    
                </div>
                
                <div class="description">
                  <p>
DEPRECATED. Please use the <a
href="I18n/ExceptionHandler.html">I18n::ExceptionHandler</a> class instead.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000209_source')" id="l_M000209_source">show</a>
                        
                    </p>
                    <div id="M000209_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/i18n.rb, line 326</span>
326:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">default_exception_handler</span>(<span class="ruby-identifier">exception</span>, <span class="ruby-identifier">locale</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">options</span>)
327:       <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;I18n.default_exception_handler is deprecated. Please use the class I18n::ExceptionHandler instead &quot;</span> <span class="ruby-operator">+</span>
328:            <span class="ruby-value str">&quot;(an instance of which is set to I18n.exception_handler by default).&quot;</span>
329:       <span class="ruby-identifier">exception</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">MissingTranslation</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">exception</span>.<span class="ruby-identifier">message</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">raise</span>(<span class="ruby-identifier">exception</span>)
330:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000205">
                    
                    <a name="M000205"></a><b>handle_exception</b>(handling, exception, locale, key, options)
                    
                </div>
                
                <div class="description">
                  <p>
Any exceptions thrown in translate will be sent to the @@exception_handler
which can be a Symbol, a Proc or any other Object unless they&#8217;re
forced to be raised or thrown (<a
href="I18n/MissingTranslation.html">MissingTranslation</a>).
</p>
<p>
If exception_handler is a Symbol then it will simply be sent to <a
href="I18n.html">I18n</a> as a method call. A Proc will simply be called.
In any other case the method call will be called on the exception_handler
object.
</p>
<p>
Examples:
</p>
<pre>
  I18n.exception_handler = :default_exception_handler             # this is the default
  I18n.default_exception_handler(exception, locale, key, options) # will be called like this

  I18n.exception_handler = lambda { |*args| ... }                 # a lambda
  I18n.exception_handler.call(exception, locale, key, options)    # will be called like this

 I18n.exception_handler = I18nExceptionHandler.new                # an object
 I18n.exception_handler.call(exception, locale, key, options)     # will be called like this
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000205_source')" id="l_M000205_source">show</a>
                        
                    </p>
                    <div id="M000205_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/i18n.rb, line 286</span>
286:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_exception</span>(<span class="ruby-identifier">handling</span>, <span class="ruby-identifier">exception</span>, <span class="ruby-identifier">locale</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">options</span>)
287:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">handling</span>
288:       <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:raise</span>
289:         <span class="ruby-identifier">raise</span>(<span class="ruby-identifier">exception</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:to_exception</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">exception</span>.<span class="ruby-identifier">to_exception</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">exception</span>)
290:       <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:throw</span>
291:         <span class="ruby-identifier">throw</span> <span class="ruby-identifier">:exception</span>, <span class="ruby-identifier">exception</span>
292:       <span class="ruby-keyword kw">else</span>
293:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">handler</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:exception_handler</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">exception_handler</span>
294:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Symbol</span>
295:           <span class="ruby-identifier">send</span>(<span class="ruby-identifier">handler</span>, <span class="ruby-identifier">exception</span>, <span class="ruby-identifier">locale</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">options</span>)
296:         <span class="ruby-keyword kw">else</span>
297:           <span class="ruby-identifier">handler</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">exception</span>, <span class="ruby-identifier">locale</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">options</span>)
298:         <span class="ruby-keyword kw">end</span>
299:       <span class="ruby-keyword kw">end</span>
300:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000206">
                    
                    <a name="M000206"></a><b>normalize_key</b>(key, separator)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000206_source')" id="l_M000206_source">show</a>
                        
                    </p>
                    <div id="M000206_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/i18n.rb, line 302</span>
302:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">normalize_key</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">separator</span>)
303:       <span class="ruby-identifier">normalized_key_cache</span>[<span class="ruby-identifier">separator</span>][<span class="ruby-identifier">key</span>] <span class="ruby-operator">||=</span>
304:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">key</span>
305:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Array</span>
306:           <span class="ruby-identifier">key</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">normalize_key</span>(<span class="ruby-identifier">k</span>, <span class="ruby-identifier">separator</span>) }.<span class="ruby-identifier">flatten</span>
307:         <span class="ruby-keyword kw">else</span>
308:           <span class="ruby-identifier">keys</span> = <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-identifier">separator</span>)
309:           <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">''</span>)
310:           <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">map!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_sym</span> }
311:           <span class="ruby-identifier">keys</span>
312:         <span class="ruby-keyword kw">end</span>
313:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000208">
                    
                    <a name="M000208"></a><b>normalize_translation_keys</b>(locale, key, scope, separator = nil)
                    
                </div>
                
                <div class="description">
                  <p>
DEPRECATED. Use <a href="I18n.html#M000204">I18n.normalize_keys</a>
instead.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000208_source')" id="l_M000208_source">show</a>
                        
                    </p>
                    <div id="M000208_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/i18n.rb, line 320</span>
320:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">normalize_translation_keys</span>(<span class="ruby-identifier">locale</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">scope</span>, <span class="ruby-identifier">separator</span> = <span class="ruby-keyword kw">nil</span>)
321:       <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;I18n.normalize_translation_keys is deprecated. Please use the class I18n.normalize_keys instead.&quot;</span>
322:       <span class="ruby-identifier">normalize_keys</span>(<span class="ruby-identifier">locale</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">scope</span>, <span class="ruby-identifier">separator</span>)
323:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000207">
                    
                    <a name="M000207"></a><b>normalized_key_cache</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000207_source')" id="l_M000207_source">show</a>
                        
                    </p>
                    <div id="M000207_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/i18n.rb, line 315</span>
315:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">normalized_key_cache</span>
316:       <span class="ruby-ivar">@normalized_key_cache</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>,<span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">k</span>] = {} }
317:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    