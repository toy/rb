<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>cascade.rb</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            cascade.rb
        </h1>
        <ul class="files">
            <li>lib/i18n/backend/cascade.rb</li>
            <li>Last modified: Sat Oct 01 23:00:07 +0200 2011</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
The Cascade module adds the ability to do cascading lookups to backends
that are compatible to the Simple backend.
</p>
<p>
By cascading lookups we mean that for any key that can not be found the
Cascade module strips one segment off the scope part of the key and then
tries to look up the key in that scope.
</p>
<p>
E.g. when a lookup for the key :&#8220;foo.bar.baz&#8220; does not yield a
result then the segment :bar will be stripped off the scope part
:&#8220;foo.bar&#8220; and the new scope :foo will be used to look up the
key :baz. If that does not succeed then the remaining scope segment :foo
will be omitted, too, and again the key :baz will be looked up (now with no
scope).
</p>
<p>
To enable a cascading lookup one passes the :cascade option:
</p>
<pre>
  I18n.t(:'foo.bar.baz', :cascade =&gt; true)
</pre>
<p>
This will return the first translation found for
:&#8220;foo.bar.baz&#8220;, :&#8220;foo.baz&#8220; or :baz in this order.
</p>
<p>
The cascading lookup takes precedence over resolving any given defaults.
I.e. defaults will kick in after the cascading lookups haven&#8217;t
succeeded.
</p>
<p>
This behavior is useful for libraries like ActiveRecord validations where
the library wants to give users a bunch of more or less fine-grained
options of scopes for a particular key.
</p>
<p>
Thanks to Clemens Kofler for the initial idea and implementation! See <a
href="http://github.com/clemens/i18n-cascading-backend">github.com/clemens/i18n-cascading-backend</a>
</p>

    </div>
    

    

    
    

    
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">MODULE</span> <a href="../../../../classes/I18n.html">I18n</a></li>
        
    </ul>
    

    

    

    
</div>
    </div>
  </body>
</html>