<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Vagrant::Config::VMConfig</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Vagrant::Config::VMConfig 
            
                <span class="parent">&lt; 
                    
                    Base
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/vagrant/config/vm/provisioner_rb.html">lib/vagrant/config/vm/provisioner.rb</a></li>
            
            <li><a href="../../../files/lib/vagrant/config/vm/sub_vm_rb.html">lib/vagrant/config/vm/sub_vm.rb</a></li>
            
            <li><a href="../../../files/lib/vagrant/config/vm_rb.html">lib/vagrant/config/vm.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000241">customize</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000245">define</a>,</li>
                
                <li><a href="#M000244">defined_vm_keys</a>,</li>
                
                <li><a href="#M000243">defined_vms</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000237">forward_port</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000233">merge</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000239">network</a>,</li>
                
                <li><a href="#M000232">new</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000240">provision</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000238">share_folder</a>,</li>
                
                <li><a href="#M000236">system=</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M000246">validate</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">CLASS</span> <a href="VMConfig/Provisioner.html">Vagrant::Config::VMConfig::Provisioner</a></li>
        
        <li><span class="type">CLASS</span> <a href="VMConfig/SubVM.html">Vagrant::Config::VMConfig::SubVM</a></li>
        
    </ul>
    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>name</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>auto_port_range</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>box</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>box_url</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>base_mac</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>boot_mode</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>host_name</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>forwarded_ports</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>shared_folders</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>networks</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>provisioners</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>customizations</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>guest</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000241">
                    
                    <a name="M000241"></a><b>customize</b>(command=nil)
                    
                </div>
                
                <div class="description">
                  <p>
TODO: This argument should not be `nil` in the future. It is only defaulted
to nil so that the deprecation error can be properly shown.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000241_source')" id="l_M000241_source">show</a>
                        
                    </p>
                    <div id="M000241_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/vagrant/config/vm.rb, line 114</span>
114:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">customize</span>(<span class="ruby-identifier">command</span>=<span class="ruby-keyword kw">nil</span>)
115:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
116:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">Errors</span><span class="ruby-operator">::</span><span class="ruby-constant">DeprecationError</span>, <span class="ruby-identifier">:message</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;`config.vm.customize` now takes an array of arguments to send to\n`VBoxManage` instead of having a block which gets a virtual machine\nobject. Example of the new usage:\n\nconfig.vm.customize [\&quot;modifyvm\&quot;, :id, \&quot;--memory\&quot;, \&quot;1024\&quot;]\n\nThe above will run `VBoxManage modifyvm 1234 --memory 1024` where\n\&quot;1234\&quot; is the ID of your current virtual machine. Anything you could\ndo before is certainly still possible with `VBoxManage` as well.\n&quot;</span>
117:         <span class="ruby-keyword kw">end</span>
118: 
119:         <span class="ruby-ivar">@customizations</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">command</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">command</span>
120:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000245">
                    
                    <a name="M000245"></a><b>define</b>(name, options=nil, &amp;block)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000245_source')" id="l_M000245_source">show</a>
                        
                    </p>
                    <div id="M000245_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/vagrant/config/vm.rb, line 143</span>
143:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">define</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
144:         <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>
145:         <span class="ruby-identifier">options</span> <span class="ruby-operator">||=</span> {}
146: 
147:         <span class="ruby-comment cmt"># Add the name to the array of VM keys. This array is used to</span>
148:         <span class="ruby-comment cmt"># preserve the order in which VMs are defined.</span>
149:         <span class="ruby-identifier">defined_vm_keys</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">name</span>
150: 
151:         <span class="ruby-comment cmt"># Add the SubVM to the hash of defined VMs</span>
152:         <span class="ruby-identifier">defined_vms</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">SubVM</span>.<span class="ruby-identifier">new</span>
153:         <span class="ruby-identifier">defined_vms</span>[<span class="ruby-identifier">name</span>].<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">options</span>)
154:         <span class="ruby-identifier">defined_vms</span>[<span class="ruby-identifier">name</span>].<span class="ruby-identifier">push_proc</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
155:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000244">
                    
                    <a name="M000244"></a><b>defined_vm_keys</b>()
                    
                </div>
                
                <div class="description">
                  <p>
This returns the keys of the sub-vms in the order they were defined.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000244_source')" id="l_M000244_source">show</a>
                        
                    </p>
                    <div id="M000244_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/vagrant/config/vm.rb, line 139</span>
139:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">defined_vm_keys</span>
140:         <span class="ruby-ivar">@defined_vm_keys</span> <span class="ruby-operator">||=</span> []
141:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000243">
                    
                    <a name="M000243"></a><b>defined_vms</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000243_source')" id="l_M000243_source">show</a>
                        
                    </p>
                    <div id="M000243_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/vagrant/config/vm.rb, line 133</span>
133:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">defined_vms</span>
134:         <span class="ruby-ivar">@defined_vms</span> <span class="ruby-operator">||=</span> {}
135:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000237">
                    
                    <a name="M000237"></a><b>forward_port</b>(guestport, hostport, options=nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000237_source')" id="l_M000237_source">show</a>
                        
                    </p>
                    <div id="M000237_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/vagrant/config/vm.rb, line 51</span>
51:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">forward_port</span>(<span class="ruby-identifier">guestport</span>, <span class="ruby-identifier">hostport</span>, <span class="ruby-identifier">options</span>=<span class="ruby-keyword kw">nil</span>)
52:         <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">guestport</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Integer</span>)
53:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">Errors</span><span class="ruby-operator">::</span><span class="ruby-constant">DeprecationError</span>, <span class="ruby-identifier">:message</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;`config.vm.forward_port` changed in 0.9.0 where the required name\nargument is now removed. Vagrant will now automatically generate\na unique name for your forwarded port. For example, to forward\nport 80 to port 8080 you now do the following:\n\nconfig.vm.forward_port 80, 8080\n\nPlease change your configurations to match this new syntax.\n&quot;</span>
54:         <span class="ruby-keyword kw">end</span>
55: 
56:         <span class="ruby-ivar">@forwarded_ports</span> <span class="ruby-operator">&lt;&lt;</span> {
57:           <span class="ruby-identifier">:name</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{guestport.to_s(32)}-#{hostport.to_s(32)}&quot;</span>,
58:           <span class="ruby-identifier">:guestport</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">guestport</span>,
59:           <span class="ruby-identifier">:hostport</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">hostport</span>,
60:           <span class="ruby-identifier">:protocol</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:tcp</span>,
61:           <span class="ruby-identifier">:adapter</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,
62:           <span class="ruby-identifier">:auto</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
63:         }.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span> <span class="ruby-operator">||</span> {})
64:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000233">
                    
                    <a name="M000233"></a><b>merge</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
Custom merge method since some keys here are merged differently.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000233_source')" id="l_M000233_source">show</a>
                        
                    </p>
                    <div id="M000233_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/vagrant/config/vm.rb, line 32</span>
32:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">other</span>)
33:         <span class="ruby-identifier">result</span> = <span class="ruby-keyword kw">super</span>
34:         <span class="ruby-identifier">result</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-identifier">:@forwarded_ports</span>, <span class="ruby-ivar">@forwarded_ports</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">forwarded_ports</span>)
35:         <span class="ruby-identifier">result</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-identifier">:@shared_folders</span>, <span class="ruby-ivar">@shared_folders</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">other</span>.<span class="ruby-identifier">shared_folders</span>))
36:         <span class="ruby-identifier">result</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-identifier">:@networks</span>, <span class="ruby-ivar">@networks</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">networks</span>)
37:         <span class="ruby-identifier">result</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-identifier">:@provisioners</span>, <span class="ruby-ivar">@provisioners</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">provisioners</span>)
38:         <span class="ruby-identifier">result</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-identifier">:@customizations</span>, <span class="ruby-ivar">@customizations</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">customizations</span>)
39:         <span class="ruby-identifier">result</span>
40:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000239">
                    
                    <a name="M000239"></a><b>network</b>(type, *args)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000239_source')" id="l_M000239_source">show</a>
                        
                    </p>
                    <div id="M000239_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/vagrant/config/vm.rb, line 89</span>
89:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">network</span>(<span class="ruby-identifier">type</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
90:         <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">type</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Symbol</span>)
91:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">Errors</span><span class="ruby-operator">::</span><span class="ruby-constant">DeprecationError</span>, <span class="ruby-identifier">:message</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;`config.vm.network` changed in 0.9.0 where the first argument is\nnow the type of network and the remaining arguments are options for\nthat type. For example, host only networks are now configured like\nso:\n\nconfig.vm.network :hostonly, \&quot;172.24.24.24\&quot;\n\nPlease change your configurations to match this new syntax.\n&quot;</span>
92:         <span class="ruby-keyword kw">end</span>
93: 
94:         <span class="ruby-ivar">@networks</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">type</span>, <span class="ruby-identifier">args</span>]
95:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000240">
                    
                    <a name="M000240"></a><b>provision</b>(name, options=nil, &amp;block)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000240_source')" id="l_M000240_source">show</a>
                        
                    </p>
                    <div id="M000240_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/vagrant/config/vm.rb, line 107</span>
107:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">provision</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
108:         <span class="ruby-ivar">@provisioners</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Provisioner</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
109:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000238">
                    
                    <a name="M000238"></a><b>share_folder</b>(name, guestpath, hostpath, opts=nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000238_source')" id="l_M000238_source">show</a>
                        
                    </p>
                    <div id="M000238_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/vagrant/config/vm.rb, line 76</span>
76:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">share_folder</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">guestpath</span>, <span class="ruby-identifier">hostpath</span>, <span class="ruby-identifier">opts</span>=<span class="ruby-keyword kw">nil</span>)
77:         <span class="ruby-ivar">@shared_folders</span>[<span class="ruby-identifier">name</span>] = {
78:           <span class="ruby-identifier">:guestpath</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">guestpath</span>.<span class="ruby-identifier">to_s</span>,
79:           <span class="ruby-identifier">:hostpath</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">hostpath</span>.<span class="ruby-identifier">to_s</span>,
80:           <span class="ruby-identifier">:create</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>,
81:           <span class="ruby-identifier">:owner</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>,
82:           <span class="ruby-identifier">:group</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>,
83:           <span class="ruby-identifier">:nfs</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>,
84:           <span class="ruby-identifier">:transient</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>,
85:           <span class="ruby-identifier">:extra</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>
86:         }.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">opts</span> <span class="ruby-operator">||</span> {})
87:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000236">
                    
                    <a name="M000236"></a><b>system=</b>(value)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000236_source')" id="l_M000236_source">show</a>
                        
                    </p>
                    <div id="M000236_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/vagrant/config/vm.rb, line 42</span>
42:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">system=</span>(<span class="ruby-identifier">value</span>)
43:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">Errors</span><span class="ruby-operator">::</span><span class="ruby-constant">DeprecationError</span>, <span class="ruby-identifier">:message</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;`config.vm.system` has changed to `config.vm.guest` in Vagrant 0.9,\nsince this is more clear about the use of the configuration key.\nPlease change all references of `config.vm.system` to `config.vm.guest`.\n&quot;</span>
44:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000246">
                    
                    <a name="M000246"></a><b>validate</b>(env, errors)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000246_source')" id="l_M000246_source">show</a>
                        
                    </p>
                    <div id="M000246_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/vagrant/config/vm.rb, line 157</span>
157:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">validate</span>(<span class="ruby-identifier">env</span>, <span class="ruby-identifier">errors</span>)
158:         <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add</span>(<span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-value str">&quot;vagrant.config.vm.box_missing&quot;</span>)) <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">box</span>
159:         <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add</span>(<span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-value str">&quot;vagrant.config.vm.box_not_found&quot;</span>, <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">box</span>)) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">box</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">box_url</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">env</span>.<span class="ruby-identifier">boxes</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">box</span>)
160:         <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add</span>(<span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-value str">&quot;vagrant.config.vm.boot_mode_invalid&quot;</span>)) <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span>[<span class="ruby-identifier">:headless</span>, <span class="ruby-identifier">:gui</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">boot_mode</span>.<span class="ruby-identifier">to_sym</span>)
161:         <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add</span>(<span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-value str">&quot;vagrant.config.vm.base_mac_invalid&quot;</span>)) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">env</span>.<span class="ruby-identifier">boxes</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">box</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">base_mac</span>
162: 
163:         <span class="ruby-identifier">shared_folders</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
164:           <span class="ruby-identifier">hostpath</span> = <span class="ruby-constant">Pathname</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:hostpath</span>]).<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">env</span>.<span class="ruby-identifier">root_path</span>)
165: 
166:           <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">hostpath</span>.<span class="ruby-identifier">directory?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">options</span>[<span class="ruby-identifier">:create</span>]
167:             <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add</span>(<span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-value str">&quot;vagrant.config.vm.shared_folder_hostpath_missing&quot;</span>,
168:                        <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">name</span>,
169:                        <span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:hostpath</span>]))
170:           <span class="ruby-keyword kw">end</span>
171: 
172:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:nfs</span>] <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:owner</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:group</span>])
173:             <span class="ruby-comment cmt"># Owner/group don't work with NFS</span>
174:             <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add</span>(<span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-value str">&quot;vagrant.config.vm.shared_folder_nfs_owner_group&quot;</span>,
175:                               <span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">name</span>))
176:           <span class="ruby-keyword kw">end</span>
177:         <span class="ruby-keyword kw">end</span>
178: 
179:         <span class="ruby-comment cmt"># Validate some basic networking</span>
180:         <span class="ruby-comment cmt">#</span>
181:         <span class="ruby-comment cmt"># TODO: One day we need to abstract this out, since in the future</span>
182:         <span class="ruby-comment cmt"># providers other than VirtualBox will not be able to satisfy</span>
183:         <span class="ruby-comment cmt"># all types of networks.</span>
184:         <span class="ruby-identifier">networks</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">type</span>, <span class="ruby-identifier">args</span><span class="ruby-operator">|</span>
185:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:hostonly</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">:dhcp</span>
186:             <span class="ruby-comment cmt"># Valid. There is no real way this can be invalid at the moment.</span>
187:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:hostonly</span>
188:             <span class="ruby-comment cmt"># Validate the host-only network</span>
189:             <span class="ruby-identifier">ip</span>      = <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>]
190:             <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">||</span> {}
191: 
192:             <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">ip</span>
193:               <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add</span>(<span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-value str">&quot;vagrant.config.vm.network_ip_required&quot;</span>))
194:             <span class="ruby-keyword kw">else</span>
195:               <span class="ruby-identifier">ip_parts</span> = <span class="ruby-identifier">ip</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;.&quot;</span>)
196: 
197:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ip_parts</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">!=</span> <span class="ruby-value">4</span>
198:                 <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add</span>(<span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-value str">&quot;vagrant.config.vm.network_ip_invalid&quot;</span>,
199:                                   <span class="ruby-identifier">:ip</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ip</span>))
200:               <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">ip_parts</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;1&quot;</span>
201:                 <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add</span>(<span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-value str">&quot;vagrant.config.vm.network_ip_ends_one&quot;</span>,
202:                                   <span class="ruby-identifier">:ip</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ip</span>))
203:               <span class="ruby-keyword kw">end</span>
204:             <span class="ruby-keyword kw">end</span>
205:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:bridged</span>
206:           <span class="ruby-keyword kw">else</span>
207:             <span class="ruby-comment cmt"># Invalid network type</span>
208:             <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add</span>(<span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-value str">&quot;vagrant.config.vm.network_invalid&quot;</span>,
209:                               <span class="ruby-identifier">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">type</span>.<span class="ruby-identifier">to_s</span>))
210:           <span class="ruby-keyword kw">end</span>
211:         <span class="ruby-keyword kw">end</span>
212: 
213:         <span class="ruby-comment cmt"># Each provisioner can validate itself</span>
214:         <span class="ruby-identifier">provisioners</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">prov</span><span class="ruby-operator">|</span>
215:           <span class="ruby-identifier">prov</span>.<span class="ruby-identifier">validate</span>(<span class="ruby-identifier">env</span>, <span class="ruby-identifier">errors</span>)
216:         <span class="ruby-keyword kw">end</span>
217:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000232">
                    
                    <a name="M000232"></a><b>new</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000232_source')" id="l_M000232_source">show</a>
                        
                    </p>
                    <div id="M000232_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/vagrant/config/vm.rb, line 23</span>
23:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>
24:         <span class="ruby-ivar">@forwarded_ports</span> = []
25:         <span class="ruby-ivar">@shared_folders</span> = {}
26:         <span class="ruby-ivar">@networks</span> = []
27:         <span class="ruby-ivar">@provisioners</span> = []
28:         <span class="ruby-ivar">@customizations</span> = []
29:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    