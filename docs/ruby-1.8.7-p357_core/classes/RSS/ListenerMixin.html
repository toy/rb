<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>RSS::ListenerMixin</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            RSS::ListenerMixin 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/rss/0_9_rb.html">lib/rss/0.9.rb</a></li>
            
            <li><a href="../../files/lib/rss/1_0_rb.html">lib/rss/1.0.rb</a></li>
            
            <li><a href="../../files/lib/rss/atom_rb.html">lib/rss/atom.rb</a></li>
            
            <li><a href="../../files/lib/rss/parser_rb.html">lib/rss/parser.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M005545">_ns</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M005555">check_ns</a>,</li>
                
                <li><a href="#M005564">collect_attributes</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M005024">initial_start_RDF</a>,</li>
                
                <li><a href="#M005107">initial_start_entry</a>,</li>
                
                <li><a href="#M005106">initial_start_feed</a>,</li>
                
                <li><a href="#M004999">initial_start_rss</a>,</li>
                
                <li><a href="#M005539">instruction</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M005537">new</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M005548">parse_pi_content</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M005567">setup_next_element</a>,</li>
                
                <li><a href="#M005554">split_name</a>,</li>
                
                <li><a href="#M005549">start_else_element</a>,</li>
                
                <li><a href="#M005558">start_get_text_element</a>,</li>
                
                <li><a href="#M005561">start_have_something_element</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M005543">tag_end</a>,</li>
                
                <li><a href="#M005540">tag_start</a>,</li>
                
                <li><a href="#M005544">text</a></li>
                
            </ul>
        </dd>
    
        <dt>X</dt>
        <dd>
            <ul>
                
                <li><a href="#M005538">xmldecl</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">CONTENT_PATTERN</td>
            <td>=</td>
            <td class="attr-value">/\s*([^=]+)=([&quot;'])([^\2]+?)\2/</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">NAMESPLIT</td>
            <td>=</td>
            <td class="attr-value">/^(?:([\w:][-\w\d.]*):)?([\w:][-\w\d.]*)/</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>rss</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>ignore_unknown_element</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>do_validate</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M005539">
                    
                    <a name="M005539"></a><b>instruction</b>(name, content)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005539_source')" id="l_M005539_source">show</a>
                        
                    </p>
                    <div id="M005539_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/parser.rb, line 290</span>
290:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">instruction</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">content</span>)
291:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;xml-stylesheet&quot;</span>
292:         <span class="ruby-identifier">params</span> = <span class="ruby-identifier">parse_pi_content</span>(<span class="ruby-identifier">content</span>)
293:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value str">&quot;href&quot;</span>)
294:           <span class="ruby-ivar">@xml_stylesheets</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">XMLStyleSheet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">params</span>)
295:         <span class="ruby-keyword kw">end</span>
296:       <span class="ruby-keyword kw">end</span>
297:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005543">
                    
                    <a name="M005543"></a><b>tag_end</b>(name)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005543_source')" id="l_M005543_source">show</a>
                        
                    </p>
                    <div id="M005543_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/parser.rb, line 352</span>
352:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">tag_end</span>(<span class="ruby-identifier">name</span>)
353:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">DEBUG</span>
354:         <span class="ruby-identifier">p</span> <span class="ruby-node">&quot;end tag #{name}&quot;</span>
355:         <span class="ruby-identifier">p</span> <span class="ruby-ivar">@tag_stack</span>
356:       <span class="ruby-keyword kw">end</span>
357:       <span class="ruby-identifier">text</span> = <span class="ruby-ivar">@text_stack</span>.<span class="ruby-identifier">pop</span>
358:       <span class="ruby-identifier">tags</span> = <span class="ruby-ivar">@tag_stack</span>.<span class="ruby-identifier">pop</span>
359:       <span class="ruby-identifier">pr</span> = <span class="ruby-ivar">@proc_stack</span>.<span class="ruby-identifier">pop</span>
360:       <span class="ruby-identifier">pr</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">tags</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">pr</span>.<span class="ruby-identifier">nil?</span>
361:       <span class="ruby-ivar">@ns_stack</span>.<span class="ruby-identifier">pop</span>
362:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005540">
                    
                    <a name="M005540"></a><b>tag_start</b>(name, attributes)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005540_source')" id="l_M005540_source">show</a>
                        
                    </p>
                    <div id="M005540_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/parser.rb, line 299</span>
299:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">tag_start</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">attributes</span>)
300:       <span class="ruby-ivar">@text_stack</span>.<span class="ruby-identifier">push</span>(<span class="ruby-value str">''</span>)
301: 
302:       <span class="ruby-identifier">ns</span> = <span class="ruby-ivar">@ns_stack</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">dup</span>
303:       <span class="ruby-identifier">attrs</span> = {}
304:       <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">n</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
305:         <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">/\Axmlns(?:\z|:)/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">n</span>
306:           <span class="ruby-identifier">ns</span>[<span class="ruby-identifier">$POSTMATCH</span>] = <span class="ruby-identifier">v</span>
307:         <span class="ruby-keyword kw">else</span>
308:           <span class="ruby-identifier">attrs</span>[<span class="ruby-identifier">n</span>] = <span class="ruby-identifier">v</span>
309:         <span class="ruby-keyword kw">end</span>
310:       <span class="ruby-keyword kw">end</span>
311:       <span class="ruby-ivar">@ns_stack</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">ns</span>)
312: 
313:       <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">local</span> = <span class="ruby-identifier">split_name</span>(<span class="ruby-identifier">name</span>)
314:       <span class="ruby-ivar">@tag_stack</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">push</span>([<span class="ruby-identifier">_ns</span>(<span class="ruby-identifier">ns</span>, <span class="ruby-identifier">prefix</span>), <span class="ruby-identifier">local</span>])
315:       <span class="ruby-ivar">@tag_stack</span>.<span class="ruby-identifier">push</span>([])
316:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@xml_child_mode</span>
317:         <span class="ruby-identifier">previous</span> = <span class="ruby-ivar">@last_xml_element</span>
318:         <span class="ruby-identifier">element_attrs</span> = <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">dup</span>
319:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">previous</span>
320:           <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ns_prefix</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
321:             <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ns_prefix</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;xml&quot;</span>
322:             <span class="ruby-identifier">key</span> = <span class="ruby-identifier">ns_prefix</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-value">? </span><span class="ruby-value str">&quot;xmlns&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;xmlns:#{ns_prefix}&quot;</span>
323:             <span class="ruby-identifier">element_attrs</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">value</span>
324:           <span class="ruby-keyword kw">end</span>
325:         <span class="ruby-keyword kw">end</span>
326:         <span class="ruby-identifier">next_element</span> = <span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Element</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">local</span>,
327:                                         <span class="ruby-identifier">prefix</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">prefix</span>,
328:                                         <span class="ruby-identifier">_ns</span>(<span class="ruby-identifier">ns</span>, <span class="ruby-identifier">prefix</span>),
329:                                         <span class="ruby-identifier">element_attrs</span>)
330:         <span class="ruby-identifier">previous</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">next_element</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">previous</span>
331:         <span class="ruby-ivar">@last_xml_element</span> = <span class="ruby-identifier">next_element</span>
332:         <span class="ruby-identifier">pr</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">text</span>, <span class="ruby-identifier">tags</span><span class="ruby-operator">|</span>
333:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">previous</span>
334:             <span class="ruby-ivar">@last_xml_element</span> = <span class="ruby-identifier">previous</span>
335:           <span class="ruby-keyword kw">else</span>
336:             <span class="ruby-ivar">@xml_element</span> = <span class="ruby-ivar">@last_xml_element</span>
337:             <span class="ruby-ivar">@last_xml_element</span> = <span class="ruby-keyword kw">nil</span>
338:           <span class="ruby-keyword kw">end</span>
339:         <span class="ruby-keyword kw">end</span>
340:         <span class="ruby-ivar">@proc_stack</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">pr</span>)
341:       <span class="ruby-keyword kw">else</span>
342:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@rss</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-node">&quot;initial_start_#{local}&quot;</span>, <span class="ruby-keyword kw">true</span>)
343:           <span class="ruby-identifier">__send__</span>(<span class="ruby-node">&quot;initial_start_#{local}&quot;</span>, <span class="ruby-identifier">local</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">dup</span>)
344:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-node">&quot;start_#{local}&quot;</span>, <span class="ruby-keyword kw">true</span>)
345:           <span class="ruby-identifier">__send__</span>(<span class="ruby-node">&quot;start_#{local}&quot;</span>, <span class="ruby-identifier">local</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">dup</span>)
346:         <span class="ruby-keyword kw">else</span>
347:           <span class="ruby-identifier">start_else_element</span>(<span class="ruby-identifier">local</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">dup</span>)
348:         <span class="ruby-keyword kw">end</span>
349:       <span class="ruby-keyword kw">end</span>
350:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005544">
                    
                    <a name="M005544"></a><b>text</b>(data)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005544_source')" id="l_M005544_source">show</a>
                        
                    </p>
                    <div id="M005544_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/parser.rb, line 364</span>
364:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">text</span>(<span class="ruby-identifier">data</span>)
365:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@xml_child_mode</span>
366:         <span class="ruby-ivar">@last_xml_element</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">data</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@last_xml_element</span>
367:       <span class="ruby-keyword kw">else</span>
368:         <span class="ruby-ivar">@text_stack</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">data</span>
369:       <span class="ruby-keyword kw">end</span>
370:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005538">
                    
                    <a name="M005538"></a><b>xmldecl</b>(version, encoding, standalone)
                    
                </div>
                
                <div class="description">
                  <p>
set instance vars for version, encoding, standalone
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005538_source')" id="l_M005538_source">show</a>
                        
                    </p>
                    <div id="M005538_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/parser.rb, line 286</span>
286:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">xmldecl</span>(<span class="ruby-identifier">version</span>, <span class="ruby-identifier">encoding</span>, <span class="ruby-identifier">standalone</span>)
287:       <span class="ruby-ivar">@version</span>, <span class="ruby-ivar">@encoding</span>, <span class="ruby-ivar">@standalone</span> = <span class="ruby-identifier">version</span>, <span class="ruby-identifier">encoding</span>, <span class="ruby-identifier">standalone</span>
288:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M005545">
                    
                    <a name="M005545"></a><b>_ns</b>(ns, prefix)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005545_source')" id="l_M005545_source">show</a>
                        
                    </p>
                    <div id="M005545_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/parser.rb, line 373</span>
373:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">_ns</span>(<span class="ruby-identifier">ns</span>, <span class="ruby-identifier">prefix</span>)
374:       <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">prefix</span>, <span class="ruby-value str">&quot;&quot;</span>)
375:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005555">
                    
                    <a name="M005555"></a><b>check_ns</b>(tag_name, prefix, ns, require_uri)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005555_source')" id="l_M005555_source">show</a>
                        
                    </p>
                    <div id="M005555_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/parser.rb, line 416</span>
416:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_ns</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">ns</span>, <span class="ruby-identifier">require_uri</span>)
417:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">_ns</span>(<span class="ruby-identifier">ns</span>, <span class="ruby-identifier">prefix</span>) <span class="ruby-operator">==</span> <span class="ruby-identifier">require_uri</span>
418:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@do_validate</span>
419:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">NSError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">require_uri</span>)
420:         <span class="ruby-keyword kw">else</span>
421:           <span class="ruby-comment cmt"># Force bind required URI with prefix</span>
422:           <span class="ruby-ivar">@ns_stack</span>.<span class="ruby-identifier">last</span>[<span class="ruby-identifier">prefix</span>] = <span class="ruby-identifier">require_uri</span>
423:         <span class="ruby-keyword kw">end</span>
424:       <span class="ruby-keyword kw">end</span>
425:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005564">
                    
                    <a name="M005564"></a><b>collect_attributes</b>(tag_name, prefix, attrs, ns, klass)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005564_source')" id="l_M005564_source">show</a>
                        
                    </p>
                    <div id="M005564_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/parser.rb, line 454</span>
454:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">collect_attributes</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-identifier">ns</span>, <span class="ruby-identifier">klass</span>)
455:       <span class="ruby-identifier">attributes</span> = {}
456:       <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">get_attributes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a_name</span>, <span class="ruby-identifier">a_uri</span>, <span class="ruby-identifier">required</span>, <span class="ruby-identifier">element_name</span><span class="ruby-operator">|</span>
457:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">a_uri</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-keyword kw">or</span> <span class="ruby-operator">!</span><span class="ruby-identifier">a_uri</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:include?</span>)
458:           <span class="ruby-identifier">a_uri</span> = [<span class="ruby-identifier">a_uri</span>]
459:         <span class="ruby-keyword kw">end</span>
460:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">a_uri</span> <span class="ruby-operator">==</span> [<span class="ruby-value str">&quot;&quot;</span>]
461:           <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">uri</span> <span class="ruby-keyword kw">in</span> <span class="ruby-identifier">ns</span>
462:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">a_uri</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">uri</span>)
463:               <span class="ruby-identifier">val</span> = <span class="ruby-identifier">attrs</span>[<span class="ruby-node">&quot;#{prefix}:#{a_name}&quot;</span>]
464:               <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val</span>
465:             <span class="ruby-keyword kw">end</span>
466:           <span class="ruby-keyword kw">end</span>
467:         <span class="ruby-keyword kw">end</span>
468:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">a_uri</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">&quot;&quot;</span>)
469:           <span class="ruby-identifier">val</span> = <span class="ruby-identifier">attrs</span>[<span class="ruby-identifier">a_name</span>]
470:         <span class="ruby-keyword kw">end</span>
471: 
472:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@do_validate</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">required</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">nil?</span>
473:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">a_uri</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">&quot;&quot;</span>)
474:             <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">uri</span> <span class="ruby-keyword kw">in</span> <span class="ruby-identifier">ns</span>
475:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">a_uri</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">uri</span>)
476:                 <span class="ruby-identifier">a_name</span> = <span class="ruby-node">&quot;#{prefix}:#{a_name}&quot;</span>
477:               <span class="ruby-keyword kw">end</span>
478:             <span class="ruby-keyword kw">end</span>
479:           <span class="ruby-keyword kw">end</span>
480:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">MissingAttributeError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">a_name</span>)
481:         <span class="ruby-keyword kw">end</span>
482: 
483:         <span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">a_name</span>] = <span class="ruby-identifier">val</span>
484:       <span class="ruby-keyword kw">end</span>
485:       <span class="ruby-identifier">attributes</span>
486:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005024">
                    
                    <a name="M005024"></a><b>initial_start_RDF</b>(tag_name, prefix, attrs, ns)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005024_source')" id="l_M005024_source">show</a>
                        
                    </p>
                    <div id="M005024_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/1.0.rb, line 438</span>
438:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initial_start_RDF</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-identifier">ns</span>)
439:       <span class="ruby-identifier">check_ns</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">ns</span>, <span class="ruby-constant">RDF</span><span class="ruby-operator">::</span><span class="ruby-constant">URI</span>)
440: 
441:       <span class="ruby-ivar">@rss</span> = <span class="ruby-constant">RDF</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@version</span>, <span class="ruby-ivar">@encoding</span>, <span class="ruby-ivar">@standalone</span>)
442:       <span class="ruby-ivar">@rss</span>.<span class="ruby-identifier">do_validate</span> = <span class="ruby-ivar">@do_validate</span>
443:       <span class="ruby-ivar">@rss</span>.<span class="ruby-identifier">xml_stylesheets</span> = <span class="ruby-ivar">@xml_stylesheets</span>
444:       <span class="ruby-ivar">@last_element</span> = <span class="ruby-ivar">@rss</span>
445:       <span class="ruby-identifier">pr</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">text</span>, <span class="ruby-identifier">tags</span><span class="ruby-operator">|</span>
446:         <span class="ruby-ivar">@rss</span>.<span class="ruby-identifier">validate_for_stream</span>(<span class="ruby-identifier">tags</span>, <span class="ruby-ivar">@ignore_unknown_element</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@do_validate</span>
447:       <span class="ruby-keyword kw">end</span>
448:       <span class="ruby-ivar">@proc_stack</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">pr</span>)
449:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005107">
                    
                    <a name="M005107"></a><b>initial_start_entry</b>(tag_name, prefix, attrs, ns)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005107_source')" id="l_M005107_source">show</a>
                        
                    </p>
                    <div id="M005107_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/atom.rb, line 734</span>
734:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initial_start_entry</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-identifier">ns</span>)
735:       <span class="ruby-identifier">check_ns</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">ns</span>, <span class="ruby-constant">Atom</span><span class="ruby-operator">::</span><span class="ruby-constant">URI</span>)
736: 
737:       <span class="ruby-ivar">@rss</span> = <span class="ruby-constant">Atom</span><span class="ruby-operator">::</span><span class="ruby-constant">Entry</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@version</span>, <span class="ruby-ivar">@encoding</span>, <span class="ruby-ivar">@standalone</span>)
738:       <span class="ruby-ivar">@rss</span>.<span class="ruby-identifier">do_validate</span> = <span class="ruby-ivar">@do_validate</span>
739:       <span class="ruby-ivar">@rss</span>.<span class="ruby-identifier">xml_stylesheets</span> = <span class="ruby-ivar">@xml_stylesheets</span>
740:       <span class="ruby-ivar">@rss</span>.<span class="ruby-identifier">lang</span> = <span class="ruby-identifier">attrs</span>[<span class="ruby-value str">&quot;xml:lang&quot;</span>]
741:       <span class="ruby-ivar">@rss</span>.<span class="ruby-identifier">base</span> = <span class="ruby-identifier">attrs</span>[<span class="ruby-value str">&quot;xml:base&quot;</span>]
742:       <span class="ruby-ivar">@last_element</span> = <span class="ruby-ivar">@rss</span>
743:       <span class="ruby-identifier">pr</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">text</span>, <span class="ruby-identifier">tags</span><span class="ruby-operator">|</span>
744:         <span class="ruby-ivar">@rss</span>.<span class="ruby-identifier">validate_for_stream</span>(<span class="ruby-identifier">tags</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@do_validate</span>
745:       <span class="ruby-keyword kw">end</span>
746:       <span class="ruby-ivar">@proc_stack</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">pr</span>)
747:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005106">
                    
                    <a name="M005106"></a><b>initial_start_feed</b>(tag_name, prefix, attrs, ns)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005106_source')" id="l_M005106_source">show</a>
                        
                    </p>
                    <div id="M005106_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/atom.rb, line 719</span>
719:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initial_start_feed</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-identifier">ns</span>)
720:       <span class="ruby-identifier">check_ns</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">ns</span>, <span class="ruby-constant">Atom</span><span class="ruby-operator">::</span><span class="ruby-constant">URI</span>)
721: 
722:       <span class="ruby-ivar">@rss</span> = <span class="ruby-constant">Atom</span><span class="ruby-operator">::</span><span class="ruby-constant">Feed</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@version</span>, <span class="ruby-ivar">@encoding</span>, <span class="ruby-ivar">@standalone</span>)
723:       <span class="ruby-ivar">@rss</span>.<span class="ruby-identifier">do_validate</span> = <span class="ruby-ivar">@do_validate</span>
724:       <span class="ruby-ivar">@rss</span>.<span class="ruby-identifier">xml_stylesheets</span> = <span class="ruby-ivar">@xml_stylesheets</span>
725:       <span class="ruby-ivar">@rss</span>.<span class="ruby-identifier">lang</span> = <span class="ruby-identifier">attrs</span>[<span class="ruby-value str">&quot;xml:lang&quot;</span>]
726:       <span class="ruby-ivar">@rss</span>.<span class="ruby-identifier">base</span> = <span class="ruby-identifier">attrs</span>[<span class="ruby-value str">&quot;xml:base&quot;</span>]
727:       <span class="ruby-ivar">@last_element</span> = <span class="ruby-ivar">@rss</span>
728:       <span class="ruby-identifier">pr</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">text</span>, <span class="ruby-identifier">tags</span><span class="ruby-operator">|</span>
729:         <span class="ruby-ivar">@rss</span>.<span class="ruby-identifier">validate_for_stream</span>(<span class="ruby-identifier">tags</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@do_validate</span>
730:       <span class="ruby-keyword kw">end</span>
731:       <span class="ruby-ivar">@proc_stack</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">pr</span>)
732:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004999">
                    
                    <a name="M004999"></a><b>initial_start_rss</b>(tag_name, prefix, attrs, ns)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004999_source')" id="l_M004999_source">show</a>
                        
                    </p>
                    <div id="M004999_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/0.9.rb, line 413</span>
413:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initial_start_rss</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-identifier">ns</span>)
414:       <span class="ruby-identifier">check_ns</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">ns</span>, <span class="ruby-value str">&quot;&quot;</span>)
415:       
416:       <span class="ruby-ivar">@rss</span> = <span class="ruby-constant">Rss</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">attrs</span>[<span class="ruby-value str">'version'</span>], <span class="ruby-ivar">@version</span>, <span class="ruby-ivar">@encoding</span>, <span class="ruby-ivar">@standalone</span>)
417:       <span class="ruby-ivar">@rss</span>.<span class="ruby-identifier">do_validate</span> = <span class="ruby-ivar">@do_validate</span>
418:       <span class="ruby-ivar">@rss</span>.<span class="ruby-identifier">xml_stylesheets</span> = <span class="ruby-ivar">@xml_stylesheets</span>
419:       <span class="ruby-ivar">@last_element</span> = <span class="ruby-ivar">@rss</span>
420:       <span class="ruby-identifier">pr</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">text</span>, <span class="ruby-identifier">tags</span><span class="ruby-operator">|</span>
421:         <span class="ruby-ivar">@rss</span>.<span class="ruby-identifier">validate_for_stream</span>(<span class="ruby-identifier">tags</span>, <span class="ruby-ivar">@ignore_unknown_element</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@do_validate</span>
422:       <span class="ruby-keyword kw">end</span>
423:       <span class="ruby-ivar">@proc_stack</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">pr</span>)
424:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005548">
                    
                    <a name="M005548"></a><b>parse_pi_content</b>(content)
                    
                </div>
                
                <div class="description">
                  <p>
Extract the first name=&#8220;value&#8221; pair from content. Works with
single quotes according to the constant <a
href="ListenerMixin.html#CONTENT_PATTERN">CONTENT_PATTERN</a>. Return a <a
href="../Hash.html">Hash</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005548_source')" id="l_M005548_source">show</a>
                        
                    </p>
                    <div id="M005548_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/parser.rb, line 381</span>
381:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse_pi_content</span>(<span class="ruby-identifier">content</span>)
382:       <span class="ruby-identifier">params</span> = {}
383:       <span class="ruby-identifier">content</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-constant">CONTENT_PATTERN</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">quote</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
384:         <span class="ruby-identifier">params</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">value</span>
385:       <span class="ruby-keyword kw">end</span>
386:       <span class="ruby-identifier">params</span>
387:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005567">
                    
                    <a name="M005567"></a><b>setup_next_element</b>(tag_name, klass, attributes)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005567_source')" id="l_M005567_source">show</a>
                        
                    </p>
                    <div id="M005567_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/parser.rb, line 488</span>
488:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup_next_element</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">attributes</span>)
489:       <span class="ruby-identifier">previous</span> = <span class="ruby-ivar">@last_element</span>
490:       <span class="ruby-identifier">next_element</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@do_validate</span>, <span class="ruby-identifier">attributes</span>)
491:       <span class="ruby-identifier">previous</span>.<span class="ruby-identifier">set_next_element</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">next_element</span>)
492:       <span class="ruby-ivar">@last_element</span> = <span class="ruby-identifier">next_element</span>
493:       <span class="ruby-ivar">@last_element</span>.<span class="ruby-identifier">parent</span> = <span class="ruby-identifier">previous</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">need_parent?</span>
494:       <span class="ruby-ivar">@xml_child_mode</span> = <span class="ruby-ivar">@last_element</span>.<span class="ruby-identifier">have_xml_content?</span>
495: 
496:       <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">text</span>, <span class="ruby-identifier">tags</span><span class="ruby-operator">|</span>
497:         <span class="ruby-identifier">p</span>(<span class="ruby-ivar">@last_element</span>.<span class="ruby-identifier">class</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-constant">DEBUG</span>
498:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@xml_child_mode</span>
499:           <span class="ruby-ivar">@last_element</span>.<span class="ruby-identifier">content</span> = <span class="ruby-ivar">@xml_element</span>.<span class="ruby-identifier">to_s</span>
500:           <span class="ruby-identifier">xml_setter</span> = <span class="ruby-ivar">@last_element</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">xml_setter</span>
501:           <span class="ruby-ivar">@last_element</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">xml_setter</span>, <span class="ruby-ivar">@xml_element</span>)
502:           <span class="ruby-ivar">@xml_element</span> = <span class="ruby-keyword kw">nil</span>
503:           <span class="ruby-ivar">@xml_child_mode</span> = <span class="ruby-keyword kw">false</span>
504:         <span class="ruby-keyword kw">else</span>
505:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">have_content?</span>
506:             <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@last_element</span>.<span class="ruby-identifier">need_base64_encode?</span>
507:               <span class="ruby-identifier">text</span> = <span class="ruby-constant">Base64</span>.<span class="ruby-identifier">decode64</span>(<span class="ruby-identifier">text</span>.<span class="ruby-identifier">lstrip</span>)
508:             <span class="ruby-keyword kw">end</span>
509:             <span class="ruby-ivar">@last_element</span>.<span class="ruby-identifier">content</span> = <span class="ruby-identifier">text</span>
510:           <span class="ruby-keyword kw">end</span>
511:         <span class="ruby-keyword kw">end</span>
512:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@do_validate</span>
513:           <span class="ruby-ivar">@last_element</span>.<span class="ruby-identifier">validate_for_stream</span>(<span class="ruby-identifier">tags</span>, <span class="ruby-ivar">@ignore_unknown_element</span>)
514:         <span class="ruby-keyword kw">end</span>
515:         <span class="ruby-ivar">@last_element</span> = <span class="ruby-identifier">previous</span>
516:       <span class="ruby-keyword kw">end</span>
517:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005554">
                    
                    <a name="M005554"></a><b>split_name</b>(name)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005554_source')" id="l_M005554_source">show</a>
                        
                    </p>
                    <div id="M005554_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/parser.rb, line 411</span>
411:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">split_name</span>(<span class="ruby-identifier">name</span>)
412:       <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-constant">NAMESPLIT</span>
413:       [<span class="ruby-identifier">$1</span> <span class="ruby-operator">||</span> <span class="ruby-value str">''</span>, <span class="ruby-identifier">$2</span>]
414:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005549">
                    
                    <a name="M005549"></a><b>start_else_element</b>(local, prefix, attrs, ns)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005549_source')" id="l_M005549_source">show</a>
                        
                    </p>
                    <div id="M005549_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/parser.rb, line 389</span>
389:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">start_else_element</span>(<span class="ruby-identifier">local</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-identifier">ns</span>)
390:       <span class="ruby-identifier">class_name</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">class_name</span>(<span class="ruby-identifier">_ns</span>(<span class="ruby-identifier">ns</span>, <span class="ruby-identifier">prefix</span>), <span class="ruby-identifier">local</span>)
391:       <span class="ruby-identifier">current_class</span> = <span class="ruby-ivar">@last_element</span>.<span class="ruby-identifier">class</span>
392:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">class_name</span> <span class="ruby-keyword kw">and</span>
393:           (<span class="ruby-identifier">current_class</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-identifier">class_name</span>) <span class="ruby-keyword kw">or</span>
394:            <span class="ruby-identifier">current_class</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">class_name</span>))
395:         <span class="ruby-identifier">next_class</span> = <span class="ruby-identifier">current_class</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">class_name</span>)
396:         <span class="ruby-identifier">start_have_something_element</span>(<span class="ruby-identifier">local</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-identifier">ns</span>, <span class="ruby-identifier">next_class</span>)
397:       <span class="ruby-keyword kw">else</span>
398:         <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@do_validate</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@ignore_unknown_element</span>
399:           <span class="ruby-ivar">@proc_stack</span>.<span class="ruby-identifier">push</span>(<span class="ruby-keyword kw">nil</span>)
400:         <span class="ruby-keyword kw">else</span>
401:           <span class="ruby-identifier">parent</span> = <span class="ruby-value str">&quot;ROOT ELEMENT???&quot;</span>
402:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">current_class</span>.<span class="ruby-identifier">tag_name</span>
403:             <span class="ruby-identifier">parent</span> = <span class="ruby-identifier">current_class</span>.<span class="ruby-identifier">tag_name</span>
404:           <span class="ruby-keyword kw">end</span>
405:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotExpectedTagError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">local</span>, <span class="ruby-identifier">_ns</span>(<span class="ruby-identifier">ns</span>, <span class="ruby-identifier">prefix</span>), <span class="ruby-identifier">parent</span>)
406:         <span class="ruby-keyword kw">end</span>
407:       <span class="ruby-keyword kw">end</span>
408:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005558">
                    
                    <a name="M005558"></a><b>start_get_text_element</b>(tag_name, prefix, ns, required_uri)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005558_source')" id="l_M005558_source">show</a>
                        
                    </p>
                    <div id="M005558_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/parser.rb, line 427</span>
427:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">start_get_text_element</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">ns</span>, <span class="ruby-identifier">required_uri</span>)
428:       <span class="ruby-identifier">pr</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">text</span>, <span class="ruby-identifier">tags</span><span class="ruby-operator">|</span>
429:         <span class="ruby-identifier">setter</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">setter</span>(<span class="ruby-identifier">required_uri</span>, <span class="ruby-identifier">tag_name</span>)
430:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@last_element</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">setter</span>)
431:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@do_validate</span>
432:             <span class="ruby-identifier">getter</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">getter</span>(<span class="ruby-identifier">required_uri</span>, <span class="ruby-identifier">tag_name</span>)
433:             <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@last_element</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">getter</span>)
434:               <span class="ruby-identifier">raise</span> <span class="ruby-constant">TooMuchTagError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-ivar">@last_element</span>.<span class="ruby-identifier">tag_name</span>)
435:             <span class="ruby-keyword kw">end</span>
436:           <span class="ruby-keyword kw">end</span>
437:           <span class="ruby-ivar">@last_element</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">setter</span>, <span class="ruby-identifier">text</span>.<span class="ruby-identifier">to_s</span>)
438:         <span class="ruby-keyword kw">else</span>
439:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@do_validate</span> <span class="ruby-keyword kw">and</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@ignore_unknown_element</span>
440:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotExpectedTagError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">_ns</span>(<span class="ruby-identifier">ns</span>, <span class="ruby-identifier">prefix</span>),
441:                                           <span class="ruby-ivar">@last_element</span>.<span class="ruby-identifier">tag_name</span>)
442:           <span class="ruby-keyword kw">end</span>
443:         <span class="ruby-keyword kw">end</span>
444:       <span class="ruby-keyword kw">end</span>
445:       <span class="ruby-ivar">@proc_stack</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">pr</span>)
446:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M005561">
                    
                    <a name="M005561"></a><b>start_have_something_element</b>(tag_name, prefix, attrs, ns, klass)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005561_source')" id="l_M005561_source">show</a>
                        
                    </p>
                    <div id="M005561_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/parser.rb, line 448</span>
448:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">start_have_something_element</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-identifier">ns</span>, <span class="ruby-identifier">klass</span>)
449:       <span class="ruby-identifier">check_ns</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">ns</span>, <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">required_uri</span>)
450:       <span class="ruby-identifier">attributes</span> = <span class="ruby-identifier">collect_attributes</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">attrs</span>, <span class="ruby-identifier">ns</span>, <span class="ruby-identifier">klass</span>)
451:       <span class="ruby-ivar">@proc_stack</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">setup_next_element</span>(<span class="ruby-identifier">tag_name</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">attributes</span>))
452:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M005537">
                    
                    <a name="M005537"></a><b>new</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M005537_source')" id="l_M005537_source">show</a>
                        
                    </p>
                    <div id="M005537_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rss/parser.rb, line 269</span>
269:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>
270:       <span class="ruby-ivar">@rss</span> = <span class="ruby-keyword kw">nil</span>
271:       <span class="ruby-ivar">@ignore_unknown_element</span> = <span class="ruby-keyword kw">true</span>
272:       <span class="ruby-ivar">@do_validate</span> = <span class="ruby-keyword kw">true</span>
273:       <span class="ruby-ivar">@ns_stack</span> = [{<span class="ruby-value str">&quot;xml&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:xml</span>}]
274:       <span class="ruby-ivar">@tag_stack</span> = [[]]
275:       <span class="ruby-ivar">@text_stack</span> = [<span class="ruby-value str">''</span>]
276:       <span class="ruby-ivar">@proc_stack</span> = []
277:       <span class="ruby-ivar">@last_element</span> = <span class="ruby-keyword kw">nil</span>
278:       <span class="ruby-ivar">@version</span> = <span class="ruby-ivar">@encoding</span> = <span class="ruby-ivar">@standalone</span> = <span class="ruby-keyword kw">nil</span>
279:       <span class="ruby-ivar">@xml_stylesheets</span> = []
280:       <span class="ruby-ivar">@xml_child_mode</span> = <span class="ruby-keyword kw">false</span>
281:       <span class="ruby-ivar">@xml_element</span> = <span class="ruby-keyword kw">nil</span>
282:       <span class="ruby-ivar">@last_xml_element</span> = <span class="ruby-keyword kw">nil</span>
283:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    