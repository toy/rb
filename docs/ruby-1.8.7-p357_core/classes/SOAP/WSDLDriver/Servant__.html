<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>SOAP::WSDLDriver::Servant__</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            SOAP::WSDLDriver::Servant__ 
            
                <span class="parent">&lt; 
                    
                    <a href="../../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/soap/wsdlDriver_rb.html">lib/soap/wsdlDriver.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M006817">add_document_method_interface</a>,</li>
                
                <li><a href="#M006811">add_method_interface</a>,</li>
                
                <li><a href="#M006815">add_rpc_method_interface</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M006803">body_from_obj</a>,</li>
                
                <li><a href="#M006807">bodyitem_from_obj</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M006798">create_method_obj</a>,</li>
                
                <li><a href="#M006796">create_method_struct</a>,</li>
                
                <li><a href="#M006791">create_options</a>,</li>
                
                <li><a href="#M006795">create_request_body</a>,</li>
                
                <li><a href="#M006793">create_request_header</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M006790">document_send</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M006782">endpoint_url</a>,</li>
                
                <li><a href="#M006783">endpoint_url=</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M006799">header_from_obj</a>,</li>
                
                <li><a href="#M006784">headerhandler</a>,</li>
                
                <li><a href="#M006800">headeritem_from_obj</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M006781">inspect</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M006776">new</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M006794">receive_headers</a>,</li>
                
                <li><a href="#M006787">reset_stream</a>,</li>
                
                <li><a href="#M006788">rpc_call</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M006792">set_wiredump_file_base</a>,</li>
                
                <li><a href="#M006818">setup_options</a>,</li>
                
                <li><a href="#M006785">streamhandler</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M006786">test_loopback_response</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="../../RSS/Utils.html">RSS::Utils</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>options</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>port</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>soapaction</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>default_encodingstyle</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>allow_unqualified_element</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>generate_explicit_type</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>mapping_registry</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>wsdl_mapping_registry</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M006790">
                    
                    <a name="M006790"></a><b>document_send</b>(name, header_obj, body_obj)
                    
                </div>
                
                <div class="description">
                  <p>
req_header: [[element, mustunderstand, encodingstyle(QName/String)],
&#8230;] req_body: SOAPBasetype/SOAPCompoundtype
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006790_source')" id="l_M006790_source">show</a>
                        
                    </p>
                    <div id="M006790_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 363</span>
363:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">document_send</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">header_obj</span>, <span class="ruby-identifier">body_obj</span>)
364:       <span class="ruby-identifier">set_wiredump_file_base</span>(<span class="ruby-identifier">name</span>)
365:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">op_info</span> = <span class="ruby-ivar">@operation</span>[<span class="ruby-identifier">name</span>]
366:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">RuntimeError</span>, <span class="ruby-node">&quot;method: #{name} not defined&quot;</span>
367:       <span class="ruby-keyword kw">end</span>
368:       <span class="ruby-identifier">req_header</span> = <span class="ruby-identifier">header_obj</span> <span class="ruby-value">? </span><span class="ruby-identifier">header_from_obj</span>(<span class="ruby-identifier">header_obj</span>, <span class="ruby-identifier">op_info</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
369:       <span class="ruby-identifier">req_body</span> = <span class="ruby-identifier">body_from_obj</span>(<span class="ruby-identifier">body_obj</span>, <span class="ruby-identifier">op_info</span>)
370:       <span class="ruby-identifier">opt</span> = <span class="ruby-identifier">create_options</span>({
371:         <span class="ruby-identifier">:soapaction</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">op_info</span>.<span class="ruby-identifier">soapaction</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@soapaction</span>,
372:         <span class="ruby-identifier">:decode_typemap</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@wsdl_types</span>})
373:       <span class="ruby-identifier">env</span> = <span class="ruby-ivar">@proxy</span>.<span class="ruby-identifier">invoke</span>(<span class="ruby-identifier">req_header</span>, <span class="ruby-identifier">req_body</span>, <span class="ruby-identifier">opt</span>)
374:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">EmptyResponseError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">env</span>
375:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">env</span>.<span class="ruby-identifier">body</span>.<span class="ruby-identifier">fault</span>
376:   <span class="ruby-identifier">raise</span> <span class="ruby-operator">::</span><span class="ruby-constant">SOAP</span><span class="ruby-operator">::</span><span class="ruby-constant">FaultError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">env</span>.<span class="ruby-identifier">body</span>.<span class="ruby-identifier">fault</span>)
377:       <span class="ruby-keyword kw">end</span>
378:       <span class="ruby-identifier">res_body_obj</span> = <span class="ruby-identifier">env</span>.<span class="ruby-identifier">body</span>.<span class="ruby-identifier">response</span> <span class="ruby-value">?
379: </span>  <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">soap2obj</span>(<span class="ruby-identifier">env</span>.<span class="ruby-identifier">body</span>.<span class="ruby-identifier">response</span>, <span class="ruby-ivar">@mapping_registry</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
380:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">env</span>.<span class="ruby-identifier">header</span>, <span class="ruby-identifier">res_body_obj</span>
381:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006782">
                    
                    <a name="M006782"></a><b>endpoint_url</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006782_source')" id="l_M006782_source">show</a>
                        
                    </p>
                    <div id="M006782_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 306</span>
306:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">endpoint_url</span>
307:       <span class="ruby-ivar">@proxy</span>.<span class="ruby-identifier">endpoint_url</span>
308:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006783">
                    
                    <a name="M006783"></a><b>endpoint_url=</b>(endpoint_url)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006783_source')" id="l_M006783_source">show</a>
                        
                    </p>
                    <div id="M006783_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 310</span>
310:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">endpoint_url=</span>(<span class="ruby-identifier">endpoint_url</span>)
311:       <span class="ruby-ivar">@proxy</span>.<span class="ruby-identifier">endpoint_url</span> = <span class="ruby-identifier">endpoint_url</span>
312:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006784">
                    
                    <a name="M006784"></a><b>headerhandler</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006784_source')" id="l_M006784_source">show</a>
                        
                    </p>
                    <div id="M006784_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 314</span>
314:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">headerhandler</span>
315:       <span class="ruby-ivar">@proxy</span>.<span class="ruby-identifier">headerhandler</span>
316:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006781">
                    
                    <a name="M006781"></a><b>inspect</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006781_source')" id="l_M006781_source">show</a>
                        
                    </p>
                    <div id="M006781_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 302</span>
302:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
303:       <span class="ruby-node">&quot;#&lt;#{self.class}:#{@proxy.inspect}&gt;&quot;</span>
304:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006787">
                    
                    <a name="M006787"></a><b>reset_stream</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006787_source')" id="l_M006787_source">show</a>
                        
                    </p>
                    <div id="M006787_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 326</span>
326:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reset_stream</span>
327:       <span class="ruby-ivar">@proxy</span>.<span class="ruby-identifier">reset_stream</span>
328:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006788">
                    
                    <a name="M006788"></a><b>rpc_call</b>(name, *values)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006788_source')" id="l_M006788_source">show</a>
                        
                    </p>
                    <div id="M006788_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 330</span>
330:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rpc_call</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">values</span>)
331:       <span class="ruby-identifier">set_wiredump_file_base</span>(<span class="ruby-identifier">name</span>)
332:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">op_info</span> = <span class="ruby-ivar">@operation</span>[<span class="ruby-identifier">name</span>]
333:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">RuntimeError</span>, <span class="ruby-node">&quot;method: #{name} not defined&quot;</span>
334:       <span class="ruby-keyword kw">end</span>
335:       <span class="ruby-identifier">req_header</span> = <span class="ruby-identifier">create_request_header</span>
336:       <span class="ruby-identifier">req_body</span> = <span class="ruby-identifier">create_request_body</span>(<span class="ruby-identifier">op_info</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">values</span>)
337:       <span class="ruby-identifier">reqopt</span> = <span class="ruby-identifier">create_options</span>({
338:         <span class="ruby-identifier">:soapaction</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">op_info</span>.<span class="ruby-identifier">soapaction</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@soapaction</span>})
339:       <span class="ruby-identifier">resopt</span> = <span class="ruby-identifier">create_options</span>({
340:         <span class="ruby-identifier">:decode_typemap</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@rpc_decode_typemap</span>})
341:       <span class="ruby-identifier">env</span> = <span class="ruby-ivar">@proxy</span>.<span class="ruby-identifier">route</span>(<span class="ruby-identifier">req_header</span>, <span class="ruby-identifier">req_body</span>, <span class="ruby-identifier">reqopt</span>, <span class="ruby-identifier">resopt</span>)
342:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">EmptyResponseError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">env</span>
343:       <span class="ruby-identifier">receive_headers</span>(<span class="ruby-identifier">env</span>.<span class="ruby-identifier">header</span>)
344:       <span class="ruby-keyword kw">begin</span>
345:         <span class="ruby-ivar">@proxy</span>.<span class="ruby-identifier">check_fault</span>(<span class="ruby-identifier">env</span>.<span class="ruby-identifier">body</span>)
346:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-operator">::</span><span class="ruby-constant">SOAP</span><span class="ruby-operator">::</span><span class="ruby-constant">FaultError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
347:   <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">fault2exception</span>(<span class="ruby-identifier">e</span>)
348:       <span class="ruby-keyword kw">end</span>
349:       <span class="ruby-identifier">ret</span> = <span class="ruby-identifier">env</span>.<span class="ruby-identifier">body</span>.<span class="ruby-identifier">response</span> <span class="ruby-value">?
350: </span>  <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">soap2obj</span>(<span class="ruby-identifier">env</span>.<span class="ruby-identifier">body</span>.<span class="ruby-identifier">response</span>, <span class="ruby-ivar">@mapping_registry</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
351:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">env</span>.<span class="ruby-identifier">body</span>.<span class="ruby-identifier">outparams</span>
352:   <span class="ruby-identifier">outparams</span> = <span class="ruby-identifier">env</span>.<span class="ruby-identifier">body</span>.<span class="ruby-identifier">outparams</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">outparam</span><span class="ruby-operator">|</span>
353:       <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">soap2obj</span>(<span class="ruby-identifier">outparam</span>)
354:     }
355:       <span class="ruby-keyword kw">return</span> [<span class="ruby-identifier">ret</span>].<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">outparams</span>)
356:       <span class="ruby-keyword kw">else</span>
357:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ret</span>
358:       <span class="ruby-keyword kw">end</span>
359:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006785">
                    
                    <a name="M006785"></a><b>streamhandler</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006785_source')" id="l_M006785_source">show</a>
                        
                    </p>
                    <div id="M006785_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 318</span>
318:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">streamhandler</span>
319:       <span class="ruby-ivar">@proxy</span>.<span class="ruby-identifier">streamhandler</span>
320:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006786">
                    
                    <a name="M006786"></a><b>test_loopback_response</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006786_source')" id="l_M006786_source">show</a>
                        
                    </p>
                    <div id="M006786_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 322</span>
322:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_loopback_response</span>
323:       <span class="ruby-ivar">@proxy</span>.<span class="ruby-identifier">test_loopback_response</span>
324:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M006817">
                    
                    <a name="M006817"></a><b>add_document_method_interface</b>(name, parts_names)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006817_source')" id="l_M006817_source">show</a>
                        
                    </p>
                    <div id="M006817_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 550</span>
550:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_document_method_interface</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">parts_names</span>)
551:       <span class="ruby-operator">::</span><span class="ruby-constant">SOAP</span><span class="ruby-operator">::</span><span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">define_singleton_method</span>(<span class="ruby-ivar">@host</span>, <span class="ruby-identifier">name</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">|</span>
552:         <span class="ruby-ivar">@servant</span>.<span class="ruby-identifier">document_send</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">h</span>, <span class="ruby-identifier">b</span>)
553:       <span class="ruby-keyword kw">end</span>
554:       <span class="ruby-ivar">@host</span>.<span class="ruby-identifier">method</span>(<span class="ruby-identifier">name</span>)
555:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006811">
                    
                    <a name="M006811"></a><b>add_method_interface</b>(op_info)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006811_source')" id="l_M006811_source">show</a>
                        
                    </p>
                    <div id="M006811_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 519</span>
519:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_method_interface</span>(<span class="ruby-identifier">op_info</span>)
520:       <span class="ruby-identifier">name</span> = <span class="ruby-constant">XSD</span><span class="ruby-operator">::</span><span class="ruby-constant">CodeGen</span><span class="ruby-operator">::</span><span class="ruby-constant">GenSupport</span>.<span class="ruby-identifier">safemethodname</span>(<span class="ruby-identifier">op_info</span>.<span class="ruby-identifier">op_name</span>.<span class="ruby-identifier">name</span>)
521:       <span class="ruby-identifier">orgname</span> = <span class="ruby-identifier">op_info</span>.<span class="ruby-identifier">op_name</span>.<span class="ruby-identifier">name</span>
522:       <span class="ruby-identifier">parts_names</span> = <span class="ruby-identifier">op_info</span>.<span class="ruby-identifier">bodyparts</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">name</span> }
523:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">op_info</span>.<span class="ruby-identifier">style</span>
524:       <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:document</span>
525:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">orgname</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">orgname</span>.<span class="ruby-identifier">capitalize</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">capitalize</span>
526:           <span class="ruby-identifier">add_document_method_interface</span>(<span class="ruby-identifier">orgname</span>, <span class="ruby-identifier">parts_names</span>)
527:         <span class="ruby-keyword kw">end</span>
528:   <span class="ruby-identifier">add_document_method_interface</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">parts_names</span>)
529:       <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:rpc</span>
530:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">orgname</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">orgname</span>.<span class="ruby-identifier">capitalize</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">capitalize</span>
531:           <span class="ruby-identifier">add_rpc_method_interface</span>(<span class="ruby-identifier">orgname</span>, <span class="ruby-identifier">parts_names</span>)
532:         <span class="ruby-keyword kw">end</span>
533:   <span class="ruby-identifier">add_rpc_method_interface</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">parts_names</span>)
534:       <span class="ruby-keyword kw">else</span>
535:   <span class="ruby-identifier">raise</span> <span class="ruby-constant">RuntimeError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;unknown style: #{op_info.style}&quot;</span>)
536:       <span class="ruby-keyword kw">end</span>
537:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006815">
                    
                    <a name="M006815"></a><b>add_rpc_method_interface</b>(name, parts_names)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006815_source')" id="l_M006815_source">show</a>
                        
                    </p>
                    <div id="M006815_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 539</span>
539:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_rpc_method_interface</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">parts_names</span>)
540:       <span class="ruby-operator">::</span><span class="ruby-constant">SOAP</span><span class="ruby-operator">::</span><span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">define_singleton_method</span>(<span class="ruby-ivar">@host</span>, <span class="ruby-identifier">name</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">arg</span><span class="ruby-operator">|</span>
541:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">parts_names</span>.<span class="ruby-identifier">size</span>
542:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(
543:             <span class="ruby-node">&quot;wrong number of arguments (#{arg.size} for #{parts_names.size})&quot;</span>)
544:         <span class="ruby-keyword kw">end</span>
545:         <span class="ruby-ivar">@servant</span>.<span class="ruby-identifier">rpc_call</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
546:       <span class="ruby-keyword kw">end</span>
547:       <span class="ruby-ivar">@host</span>.<span class="ruby-identifier">method</span>(<span class="ruby-identifier">name</span>)
548:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006803">
                    
                    <a name="M006803"></a><b>body_from_obj</b>(obj, op_info)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006803_source')" id="l_M006803_source">show</a>
                        
                    </p>
                    <div id="M006803_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 485</span>
485:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">body_from_obj</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">op_info</span>)
486:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SOAPBody</span>)
487:   <span class="ruby-identifier">obj</span>
488:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">op_info</span>.<span class="ruby-identifier">bodyparts</span>.<span class="ruby-identifier">empty?</span>
489:   <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">nil?</span>
490:     <span class="ruby-keyword kw">nil</span>
491:   <span class="ruby-keyword kw">else</span>
492:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">RuntimeError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;no body found in schema&quot;</span>)
493:   <span class="ruby-keyword kw">end</span>
494:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">op_info</span>.<span class="ruby-identifier">bodyparts</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
495:         <span class="ruby-identifier">part</span> = <span class="ruby-identifier">op_info</span>.<span class="ruby-identifier">bodyparts</span>[<span class="ruby-value">0</span>]
496:   <span class="ruby-identifier">ele</span> = <span class="ruby-identifier">bodyitem_from_obj</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">part</span>.<span class="ruby-identifier">element</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">type</span>)
497:   <span class="ruby-constant">SOAPBody</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">ele</span>)
498:       <span class="ruby-keyword kw">else</span>
499:   <span class="ruby-identifier">body</span> = <span class="ruby-constant">SOAPBody</span>.<span class="ruby-identifier">new</span>
500:   <span class="ruby-identifier">op_info</span>.<span class="ruby-identifier">bodyparts</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span>
501:     <span class="ruby-identifier">child</span> = <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">get_attribute</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">part</span>.<span class="ruby-identifier">name</span>)
502:     <span class="ruby-identifier">ele</span> = <span class="ruby-identifier">bodyitem_from_obj</span>(<span class="ruby-identifier">child</span>, <span class="ruby-identifier">part</span>.<span class="ruby-identifier">element</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">type</span>)
503:     <span class="ruby-identifier">body</span>.<span class="ruby-identifier">add</span>(<span class="ruby-identifier">ele</span>.<span class="ruby-identifier">elename</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">ele</span>)
504:   <span class="ruby-keyword kw">end</span>
505:   <span class="ruby-identifier">body</span>
506:       <span class="ruby-keyword kw">end</span>
507:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006807">
                    
                    <a name="M006807"></a><b>bodyitem_from_obj</b>(obj, name)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006807_source')" id="l_M006807_source">show</a>
                        
                    </p>
                    <div id="M006807_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 509</span>
509:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">bodyitem_from_obj</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">name</span>)
510:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">nil?</span>
511:   <span class="ruby-constant">SOAPElement</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>)
512:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SOAPElement</span>)
513:   <span class="ruby-identifier">obj</span>
514:       <span class="ruby-keyword kw">else</span>
515:         <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">obj2soap</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-ivar">@doc_mapper</span>, <span class="ruby-identifier">name</span>)
516:       <span class="ruby-keyword kw">end</span>
517:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006798">
                    
                    <a name="M006798"></a><b>create_method_obj</b>(names, params)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006798_source')" id="l_M006798_source">show</a>
                        
                    </p>
                    <div id="M006798_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 440</span>
440:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_method_obj</span>(<span class="ruby-identifier">names</span>, <span class="ruby-identifier">params</span>)
441:       <span class="ruby-identifier">o</span> = <span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>
442:       <span class="ruby-identifier">idx</span> = <span class="ruby-value">0</span>
443:       <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">idx</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">params</span>.<span class="ruby-identifier">length</span>
444:         <span class="ruby-identifier">o</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value str">'@'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">names</span>[<span class="ruby-identifier">idx</span>], <span class="ruby-identifier">params</span>[<span class="ruby-identifier">idx</span>])
445:         <span class="ruby-identifier">idx</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
446:       <span class="ruby-keyword kw">end</span>
447:       <span class="ruby-identifier">o</span>
448:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006796">
                    
                    <a name="M006796"></a><b>create_method_struct</b>(op_info, *params)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006796_source')" id="l_M006796_source">show</a>
                        
                    </p>
                    <div id="M006796_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 422</span>
422:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_method_struct</span>(<span class="ruby-identifier">op_info</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">params</span>)
423:       <span class="ruby-identifier">parts_names</span> = <span class="ruby-identifier">op_info</span>.<span class="ruby-identifier">bodyparts</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">name</span> }
424:       <span class="ruby-identifier">obj</span> = <span class="ruby-identifier">create_method_obj</span>(<span class="ruby-identifier">parts_names</span>, <span class="ruby-identifier">params</span>)
425:       <span class="ruby-identifier">method</span> = <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">obj2soap</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-ivar">@wsdl_mapping_registry</span>, <span class="ruby-identifier">op_info</span>.<span class="ruby-identifier">op_name</span>)
426:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">method</span>.<span class="ruby-identifier">members</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">parts_names</span>.<span class="ruby-identifier">size</span>
427:   <span class="ruby-identifier">new_method</span> = <span class="ruby-constant">SOAPStruct</span>.<span class="ruby-identifier">new</span>
428:   <span class="ruby-identifier">method</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
429:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parts_names</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">key</span>)
430:       <span class="ruby-identifier">new_method</span>.<span class="ruby-identifier">add</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
431:     <span class="ruby-keyword kw">end</span>
432:   <span class="ruby-keyword kw">end</span>
433:   <span class="ruby-identifier">method</span> = <span class="ruby-identifier">new_method</span>
434:       <span class="ruby-keyword kw">end</span>
435:       <span class="ruby-identifier">method</span>.<span class="ruby-identifier">elename</span> = <span class="ruby-identifier">op_info</span>.<span class="ruby-identifier">op_name</span>
436:       <span class="ruby-identifier">method</span>.<span class="ruby-identifier">type</span> = <span class="ruby-constant">XSD</span><span class="ruby-operator">::</span><span class="ruby-constant">QName</span>.<span class="ruby-identifier">new</span>  <span class="ruby-comment cmt"># Request should not be typed.</span>
437:       <span class="ruby-identifier">method</span>
438:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006791">
                    
                    <a name="M006791"></a><b>create_options</b>(hash = nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006791_source')" id="l_M006791_source">show</a>
                        
                    </p>
                    <div id="M006791_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 385</span>
385:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_options</span>(<span class="ruby-identifier">hash</span> = <span class="ruby-keyword kw">nil</span>)
386:       <span class="ruby-identifier">opt</span> = {}
387:       <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:default_encodingstyle</span>] = <span class="ruby-ivar">@default_encodingstyle</span>
388:       <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:allow_unqualified_element</span>] = <span class="ruby-ivar">@allow_unqualified_element</span>
389:       <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:generate_explicit_type</span>] = <span class="ruby-ivar">@generate_explicit_type</span>
390:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">hash</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">hash</span>
391:       <span class="ruby-identifier">opt</span>
392:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006795">
                    
                    <a name="M006795"></a><b>create_request_body</b>(op_info, *values)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006795_source')" id="l_M006795_source">show</a>
                        
                    </p>
                    <div id="M006795_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 417</span>
417:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_request_body</span>(<span class="ruby-identifier">op_info</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">values</span>)
418:       <span class="ruby-identifier">method</span> = <span class="ruby-identifier">create_method_struct</span>(<span class="ruby-identifier">op_info</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">values</span>)
419:       <span class="ruby-constant">SOAPBody</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">method</span>)
420:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006793">
                    
                    <a name="M006793"></a><b>create_request_header</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006793_source')" id="l_M006793_source">show</a>
                        
                    </p>
                    <div id="M006793_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 400</span>
400:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_request_header</span>
401:       <span class="ruby-identifier">headers</span> = <span class="ruby-ivar">@proxy</span>.<span class="ruby-identifier">headerhandler</span>.<span class="ruby-identifier">on_outbound</span>
402:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">empty?</span>
403:   <span class="ruby-keyword kw">nil</span>
404:       <span class="ruby-keyword kw">else</span>
405:   <span class="ruby-identifier">h</span> = <span class="ruby-constant">SOAPHeader</span>.<span class="ruby-identifier">new</span>
406:   <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">header</span><span class="ruby-operator">|</span>
407:     <span class="ruby-identifier">h</span>.<span class="ruby-identifier">add</span>(<span class="ruby-identifier">header</span>.<span class="ruby-identifier">elename</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">header</span>)
408:   <span class="ruby-keyword kw">end</span>
409:   <span class="ruby-identifier">h</span>
410:       <span class="ruby-keyword kw">end</span>
411:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006799">
                    
                    <a name="M006799"></a><b>header_from_obj</b>(obj, op_info)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006799_source')" id="l_M006799_source">show</a>
                        
                    </p>
                    <div id="M006799_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 450</span>
450:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">header_from_obj</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">op_info</span>)
451:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SOAPHeader</span>)
452:   <span class="ruby-identifier">obj</span>
453:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">op_info</span>.<span class="ruby-identifier">headerparts</span>.<span class="ruby-identifier">empty?</span>
454:   <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">nil?</span>
455:     <span class="ruby-keyword kw">nil</span>
456:   <span class="ruby-keyword kw">else</span>
457:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">RuntimeError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;no header definition in schema: #{obj}&quot;</span>)
458:   <span class="ruby-keyword kw">end</span>
459:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">op_info</span>.<span class="ruby-identifier">headerparts</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
460:         <span class="ruby-identifier">part</span> = <span class="ruby-identifier">op_info</span>.<span class="ruby-identifier">headerparts</span>[<span class="ruby-value">0</span>]
461:   <span class="ruby-identifier">header</span> = <span class="ruby-constant">SOAPHeader</span>.<span class="ruby-identifier">new</span>()
462:   <span class="ruby-identifier">header</span>.<span class="ruby-identifier">add</span>(<span class="ruby-identifier">headeritem_from_obj</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">part</span>.<span class="ruby-identifier">element</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">eletype</span>))
463:   <span class="ruby-identifier">header</span>
464:       <span class="ruby-keyword kw">else</span>
465:   <span class="ruby-identifier">header</span> = <span class="ruby-constant">SOAPHeader</span>.<span class="ruby-identifier">new</span>()
466:   <span class="ruby-identifier">op_info</span>.<span class="ruby-identifier">headerparts</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span>
467:     <span class="ruby-identifier">child</span> = <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">get_attribute</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">part</span>.<span class="ruby-identifier">name</span>)
468:     <span class="ruby-identifier">ele</span> = <span class="ruby-identifier">headeritem_from_obj</span>(<span class="ruby-identifier">child</span>, <span class="ruby-identifier">part</span>.<span class="ruby-identifier">element</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">eletype</span>)
469:     <span class="ruby-identifier">header</span>.<span class="ruby-identifier">add</span>(<span class="ruby-identifier">part</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">ele</span>)
470:   <span class="ruby-keyword kw">end</span>
471:   <span class="ruby-identifier">header</span>
472:       <span class="ruby-keyword kw">end</span>
473:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006800">
                    
                    <a name="M006800"></a><b>headeritem_from_obj</b>(obj, name)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006800_source')" id="l_M006800_source">show</a>
                        
                    </p>
                    <div id="M006800_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 475</span>
475:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">headeritem_from_obj</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-identifier">name</span>)
476:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">nil?</span>
477:   <span class="ruby-constant">SOAPElement</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>)
478:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SOAPHeaderItem</span>)
479:   <span class="ruby-identifier">obj</span>
480:       <span class="ruby-keyword kw">else</span>
481:         <span class="ruby-constant">Mapping</span>.<span class="ruby-identifier">obj2soap</span>(<span class="ruby-identifier">obj</span>, <span class="ruby-ivar">@doc_mapper</span>, <span class="ruby-identifier">name</span>)
482:       <span class="ruby-keyword kw">end</span>
483:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006794">
                    
                    <a name="M006794"></a><b>receive_headers</b>(headers)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006794_source')" id="l_M006794_source">show</a>
                        
                    </p>
                    <div id="M006794_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 413</span>
413:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">receive_headers</span>(<span class="ruby-identifier">headers</span>)
414:       <span class="ruby-ivar">@proxy</span>.<span class="ruby-identifier">headerhandler</span>.<span class="ruby-identifier">on_inbound</span>(<span class="ruby-identifier">headers</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">headers</span>
415:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006792">
                    
                    <a name="M006792"></a><b>set_wiredump_file_base</b>(name)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006792_source')" id="l_M006792_source">show</a>
                        
                    </p>
                    <div id="M006792_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 394</span>
394:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_wiredump_file_base</span>(<span class="ruby-identifier">name</span>)
395:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@wiredump_file_base</span>
396:         <span class="ruby-ivar">@proxy</span>.<span class="ruby-identifier">set_wiredump_file_base</span>(<span class="ruby-ivar">@wiredump_file_base</span> <span class="ruby-operator">+</span> <span class="ruby-node">&quot;_#{name}&quot;</span>)
397:       <span class="ruby-keyword kw">end</span>
398:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M006818">
                    
                    <a name="M006818"></a><b>setup_options</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006818_source')" id="l_M006818_source">show</a>
                        
                    </p>
                    <div id="M006818_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 557</span>
557:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup_options</span>
558:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opt</span> = <span class="ruby-constant">Property</span>.<span class="ruby-identifier">loadproperty</span>(<span class="ruby-operator">::</span><span class="ruby-constant">SOAP</span><span class="ruby-operator">::</span><span class="ruby-constant">PropertyName</span>)
559:   <span class="ruby-identifier">opt</span> = <span class="ruby-identifier">opt</span>[<span class="ruby-value str">&quot;client&quot;</span>]
560:       <span class="ruby-keyword kw">end</span>
561:       <span class="ruby-identifier">opt</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Property</span>.<span class="ruby-identifier">new</span>
562:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">add_hook</span>(<span class="ruby-value str">&quot;protocol.mandatorycharset&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
563:   <span class="ruby-ivar">@mandatorycharset</span> = <span class="ruby-identifier">value</span>
564:       <span class="ruby-keyword kw">end</span>
565:       <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">add_hook</span>(<span class="ruby-value str">&quot;protocol.wiredump_file_base&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
566:   <span class="ruby-ivar">@wiredump_file_base</span> = <span class="ruby-identifier">value</span>
567:       <span class="ruby-keyword kw">end</span>
568:       <span class="ruby-identifier">opt</span>[<span class="ruby-value str">&quot;protocol.http.charset&quot;</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">XSD</span><span class="ruby-operator">::</span><span class="ruby-constant">Charset</span>.<span class="ruby-identifier">xml_encoding_label</span>
569:       <span class="ruby-identifier">opt</span>[<span class="ruby-value str">&quot;protocol.http.proxy&quot;</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">Env</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP_PROXY</span>
570:       <span class="ruby-identifier">opt</span>[<span class="ruby-value str">&quot;protocol.http.no_proxy&quot;</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">Env</span><span class="ruby-operator">::</span><span class="ruby-constant">NO_PROXY</span>
571:       <span class="ruby-identifier">opt</span>
572:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M006776">
                    
                    <a name="M006776"></a><b>new</b>(host, wsdl, port, logdev)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M006776_source')" id="l_M006776_source">show</a>
                        
                    </p>
                    <div id="M006776_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/soap/wsdlDriver.rb, line 268</span>
268:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">wsdl</span>, <span class="ruby-identifier">port</span>, <span class="ruby-identifier">logdev</span>)
269:       <span class="ruby-ivar">@host</span> = <span class="ruby-identifier">host</span>
270:       <span class="ruby-ivar">@wsdl</span> = <span class="ruby-identifier">wsdl</span>
271:       <span class="ruby-ivar">@port</span> = <span class="ruby-identifier">port</span>
272:       <span class="ruby-ivar">@logdev</span> = <span class="ruby-identifier">logdev</span>
273:       <span class="ruby-ivar">@soapaction</span> = <span class="ruby-keyword kw">nil</span>
274:       <span class="ruby-ivar">@options</span> = <span class="ruby-identifier">setup_options</span>
275:       <span class="ruby-ivar">@default_encodingstyle</span> = <span class="ruby-keyword kw">nil</span>
276:       <span class="ruby-ivar">@allow_unqualified_element</span> = <span class="ruby-keyword kw">nil</span>
277:       <span class="ruby-ivar">@generate_explicit_type</span> = <span class="ruby-keyword kw">false</span>
278:       <span class="ruby-ivar">@mapping_registry</span> = <span class="ruby-keyword kw">nil</span>   <span class="ruby-comment cmt"># for rpc unmarshal</span>
279:       <span class="ruby-ivar">@wsdl_mapping_registry</span> = <span class="ruby-keyword kw">nil</span>  <span class="ruby-comment cmt"># for rpc marshal</span>
280:       <span class="ruby-ivar">@wiredump_file_base</span> = <span class="ruby-keyword kw">nil</span>
281:       <span class="ruby-ivar">@mandatorycharset</span> = <span class="ruby-keyword kw">nil</span>
282:       <span class="ruby-ivar">@wsdl_elements</span> = <span class="ruby-ivar">@wsdl</span>.<span class="ruby-identifier">collect_elements</span>
283:       <span class="ruby-ivar">@wsdl_types</span> = <span class="ruby-ivar">@wsdl</span>.<span class="ruby-identifier">collect_complextypes</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@wsdl</span>.<span class="ruby-identifier">collect_simpletypes</span>
284:       <span class="ruby-ivar">@rpc_decode_typemap</span> = <span class="ruby-ivar">@wsdl_types</span> <span class="ruby-operator">+</span>
285:   <span class="ruby-ivar">@wsdl</span>.<span class="ruby-identifier">soap_rpc_complextypes</span>(<span class="ruby-identifier">port</span>.<span class="ruby-identifier">find_binding</span>)
286:       <span class="ruby-ivar">@wsdl_mapping_registry</span> = <span class="ruby-constant">Mapping</span><span class="ruby-operator">::</span><span class="ruby-constant">WSDLEncodedRegistry</span>.<span class="ruby-identifier">new</span>(
287:         <span class="ruby-ivar">@rpc_decode_typemap</span>)
288:       <span class="ruby-ivar">@doc_mapper</span> = <span class="ruby-constant">Mapping</span><span class="ruby-operator">::</span><span class="ruby-constant">WSDLLiteralRegistry</span>.<span class="ruby-identifier">new</span>(
289:         <span class="ruby-ivar">@wsdl_types</span>, <span class="ruby-ivar">@wsdl_elements</span>)
290:       <span class="ruby-identifier">endpoint_url</span> = <span class="ruby-ivar">@port</span>.<span class="ruby-identifier">soap_address</span>.<span class="ruby-identifier">location</span>
291:       <span class="ruby-comment cmt"># Convert a map which key is QName, to a Hash which key is String.</span>
292:       <span class="ruby-ivar">@operation</span> = {}
293:       <span class="ruby-ivar">@port</span>.<span class="ruby-identifier">inputoperation_map</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">op_name</span>, <span class="ruby-identifier">op_info</span><span class="ruby-operator">|</span>
294:         <span class="ruby-identifier">orgname</span> = <span class="ruby-identifier">op_name</span>.<span class="ruby-identifier">name</span>
295:         <span class="ruby-identifier">name</span> = <span class="ruby-constant">XSD</span><span class="ruby-operator">::</span><span class="ruby-constant">CodeGen</span><span class="ruby-operator">::</span><span class="ruby-constant">GenSupport</span>.<span class="ruby-identifier">safemethodname</span>(<span class="ruby-identifier">orgname</span>)
296:   <span class="ruby-ivar">@operation</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-ivar">@operation</span>[<span class="ruby-identifier">orgname</span>] = <span class="ruby-identifier">op_info</span>
297:   <span class="ruby-identifier">add_method_interface</span>(<span class="ruby-identifier">op_info</span>)
298:       <span class="ruby-keyword kw">end</span>
299:       <span class="ruby-ivar">@proxy</span> = <span class="ruby-operator">::</span><span class="ruby-constant">SOAP</span><span class="ruby-operator">::</span><span class="ruby-constant">RPC</span><span class="ruby-operator">::</span><span class="ruby-constant">Proxy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">endpoint_url</span>, <span class="ruby-ivar">@soapaction</span>, <span class="ruby-ivar">@options</span>)
300:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    