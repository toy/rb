<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>URI::Generic</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            URI::Generic 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/open-uri_rb.html">lib/open-uri.rb</a></li>
            
            <li><a href="../../files/lib/uri/generic_rb.html">lib/uri/generic.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Base class for all <a href="../URI.html">URI</a> classes. Implements
generic <a href="../URI.html">URI</a> syntax as per RFC 2396.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M007279">+</a>,</li>
                
                <li><a href="#M007290">-</a>,</li>
                
                <li><a href="#M007301">==</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M007273">absolute</a>,</li>
                
                <li><a href="#M007272">absolute?</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M007205">build</a>,</li>
                
                <li><a href="#M007204">build2</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M007263">check_fragment</a>,</li>
                
                <li><a href="#M007229">check_host</a>,</li>
                
                <li><a href="#M007254">check_opaque</a>,</li>
                
                <li><a href="#M007217">check_password</a>,</li>
                
                <li><a href="#M007242">check_path</a>,</li>
                
                <li><a href="#M007232">check_port</a>,</li>
                
                <li><a href="#M007246">check_query</a>,</li>
                
                <li><a href="#M007236">check_registry</a>,</li>
                
                <li><a href="#M007212">check_scheme</a>,</li>
                
                <li><a href="#M007216">check_user</a>,</li>
                
                <li><a href="#M007215">check_userinfo</a>,</li>
                
                <li><a href="#M007307">coerce</a>,</li>
                
                <li><a href="#M007202">component</a>,</li>
                
                <li><a href="#M007211">component</a>,</li>
                
                <li><a href="#M007304">component_ary</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M007198">default_port</a>,</li>
                
                <li><a href="#M007199">default_port</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M007303">eql?</a>,</li>
                
                <li><a href="#M007225">escape_userpass</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M003043">find_proxy</a>,</li>
                
                <li><a href="#M007270">fragment=</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M007302">hash</a>,</li>
                
                <li><a href="#M007271">hierarchical?</a>,</li>
                
                <li><a href="#M007231">host=</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M007306">inspect</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M007278">merge</a>,</li>
                
                <li><a href="#M007277">merge!</a>,</li>
                
                <li><a href="#M007280">merge0</a>,</li>
                
                <li><a href="#M007276">merge_path</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M007206">new</a>,</li>
                
                <li><a href="#M007295">normalize</a>,</li>
                
                <li><a href="#M007296">normalize!</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M007262">opaque=</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M007228">password</a>,</li>
                
                <li><a href="#M007220">password=</a>,</li>
                
                <li><a href="#M007245">path=</a>,</li>
                
                <li><a href="#M007298">path_query</a>,</li>
                
                <li><a href="#M007234">port=</a></li>
                
            </ul>
        </dd>
    
        <dt>Q</dt>
        <dd>
            <ul>
                
                <li><a href="#M007253">query=</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M007238">registry=</a>,</li>
                
                <li><a href="#M007274">relative?</a>,</li>
                
                <li><a href="#M007210">replace!</a>,</li>
                
                <li><a href="#M007286">route_from</a>,</li>
                
                <li><a href="#M007282">route_from0</a>,</li>
                
                <li><a href="#M007281">route_from_path</a>,</li>
                
                <li><a href="#M007294">route_to</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M007214">scheme=</a>,</li>
                
                <li><a href="#M007305">select</a>,</li>
                
                <li><a href="#M007269">set_fragment</a>,</li>
                
                <li><a href="#M007230">set_host</a>,</li>
                
                <li><a href="#M007261">set_opaque</a>,</li>
                
                <li><a href="#M007223">set_password</a>,</li>
                
                <li><a href="#M007244">set_path</a>,</li>
                
                <li><a href="#M007233">set_port</a>,</li>
                
                <li><a href="#M007252">set_query</a>,</li>
                
                <li><a href="#M007237">set_registry</a>,</li>
                
                <li><a href="#M007213">set_scheme</a>,</li>
                
                <li><a href="#M007222">set_user</a>,</li>
                
                <li><a href="#M007221">set_userinfo</a>,</li>
                
                <li><a href="#M007275">split_path</a>,</li>
                
                <li><a href="#M007224">split_userinfo</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M007299">to_s</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M007203">use_registry</a>,</li>
                
                <li><a href="#M007227">user</a>,</li>
                
                <li><a href="#M007219">user=</a>,</li>
                
                <li><a href="#M007226">userinfo</a>,</li>
                
                <li><a href="#M007218">userinfo=</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="../RSS/Utils.html">RSS::Utils</a>
            
            START:includes
        </li>
        
        <li>
            
            <a href="REGEXP.html">URI::REGEXP</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">DEFAULT_PORT</td>
            <td>=</td>
            <td class="attr-value">nil</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">COMPONENT</td>
            <td>=</td>
            <td class="attr-value">[       :scheme,        :userinfo, :host, :port, :registry,        :path, :opaque,        :query,        :fragment     ].freeze</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">USE_REGISTRY</td>
            <td>=</td>
            <td class="attr-value">false</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>scheme</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>host</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>port</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>registry</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>path</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>query</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>opaque</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>fragment</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M007279">
                    
                    <a name="M007279"></a><b>+</b>(oth)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Generic.html#M007278">merge</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M007290">
                    
                    <a name="M007290"></a><b>-</b>(oth)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Generic.html#M007286">route_from</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M007301">
                    
                    <a name="M007301"></a><b>==</b>(oth)
                    
                </div>
                
                <div class="description">
                  <p>
Compares to URI&#8217;s
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007301_source')" id="l_M007301_source">show</a>
                        
                    </p>
                    <div id="M007301_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 1040</span>
1040:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">oth</span>)
1041:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">class</span>
1042:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">normalize</span>.<span class="ruby-identifier">component_ary</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">normalize</span>.<span class="ruby-identifier">component_ary</span>
1043:       <span class="ruby-keyword kw">else</span>
1044:         <span class="ruby-keyword kw">false</span>
1045:       <span class="ruby-keyword kw">end</span>
1046:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007273">
                    
                    <a name="M007273"></a><b>absolute</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Generic.html#M007272">absolute?</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M007272">
                    
                    <a name="M007272"></a><b>absolute?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Checks if <a href="../URI.html">URI</a> is an absolute one
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Generic.html#M007273">absolute</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007272_source')" id="l_M007272_source">show</a>
                        
                    </p>
                    <div id="M007272_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 597</span>
597:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">absolute?</span>
598:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@scheme</span>
599:         <span class="ruby-keyword kw">true</span>
600:       <span class="ruby-keyword kw">else</span>
601:         <span class="ruby-keyword kw">false</span>
602:       <span class="ruby-keyword kw">end</span>
603:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007307">
                    
                    <a name="M007307"></a><b>coerce</b>(oth)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007307_source')" id="l_M007307_source">show</a>
                        
                    </p>
                    <div id="M007307_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 1108</span>
1108:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">coerce</span>(<span class="ruby-identifier">oth</span>)
1109:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">oth</span>
1110:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span>
1111:         <span class="ruby-identifier">oth</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">oth</span>)
1112:       <span class="ruby-keyword kw">else</span>
1113:         <span class="ruby-keyword kw">super</span>
1114:       <span class="ruby-keyword kw">end</span>
1115: 
1116:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">oth</span>, <span class="ruby-keyword kw">self</span>
1117:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007211">
                    
                    <a name="M007211"></a><b>component</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007211_source')" id="l_M007211_source">show</a>
                        
                    </p>
                    <div id="M007211_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 224</span>
224:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">component</span>
225:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">component</span>
226:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007199">
                    
                    <a name="M007199"></a><b>default_port</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007199_source')" id="l_M007199_source">show</a>
                        
                    </p>
                    <div id="M007199_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 30</span>
30:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">default_port</span>
31:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">default_port</span>
32:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007303">
                    
                    <a name="M007303"></a><b>eql?</b>(oth)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007303_source')" id="l_M007303_source">show</a>
                        
                    </p>
                    <div id="M007303_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 1052</span>
1052:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">oth</span>)
1053:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">&amp;&amp;</span>
1054:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">component_ary</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">oth</span>.<span class="ruby-identifier">component_ary</span>)
1055:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003043">
                    
                    <a name="M003043"></a><b>find_proxy</b>()
                    
                </div>
                
                <div class="description">
                  <p>
returns a proxy <a href="../URI.html">URI</a>. The proxy <a
href="../URI.html">URI</a> is obtained from environment variables such as
http_proxy, ftp_proxy, no_proxy, etc. If there is no proper proxy, nil is
returned.
</p>
<p>
Note that capitalized variables (HTTP_PROXY, FTP_PROXY, NO_PROXY, etc.) are
examined too.
</p>
<p>
But http_proxy and HTTP_PROXY is treated specially under <a
href="../CGI.html">CGI</a> environment. It&#8217;s because HTTP_PROXY may
be set by Proxy: header. So HTTP_PROXY is not used. http_proxy is not used
too if the variable is case insensitive. CGI_HTTP_PROXY can be used
instead.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003043_source')" id="l_M003043_source">show</a>
                        
                    </p>
                    <div id="M003043_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/open-uri.rb, line 550</span>
550:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find_proxy</span>
551:       <span class="ruby-identifier">name</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">scheme</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'_proxy'</span>
552:       <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword kw">nil</span>
553:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'http_proxy'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">'REQUEST_METHOD'</span>) <span class="ruby-comment cmt"># CGI?</span>
554:         <span class="ruby-comment cmt"># HTTP_PROXY conflicts with *_proxy for proxy settings and</span>
555:         <span class="ruby-comment cmt"># HTTP_* for header information in CGI.</span>
556:         <span class="ruby-comment cmt"># So it should be careful to use it.</span>
557:         <span class="ruby-identifier">pairs</span> = <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">reject</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-regexp re">/\Ahttp_proxy\z/i</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">k</span> }
558:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">pairs</span>.<span class="ruby-identifier">length</span>
559:         <span class="ruby-keyword kw">when</span> <span class="ruby-value">0</span> <span class="ruby-comment cmt"># no proxy setting anyway.</span>
560:           <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword kw">nil</span>
561:         <span class="ruby-keyword kw">when</span> <span class="ruby-value">1</span>
562:           <span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span> = <span class="ruby-identifier">pairs</span>.<span class="ruby-identifier">shift</span>
563:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'http_proxy'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">upcase</span>] <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
564:             <span class="ruby-comment cmt"># http_proxy is safe to use because ENV is case sensitive.</span>
565:             <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>]
566:           <span class="ruby-keyword kw">else</span>
567:             <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword kw">nil</span>
568:           <span class="ruby-keyword kw">end</span>
569:         <span class="ruby-keyword kw">else</span> <span class="ruby-comment cmt"># http_proxy is safe to use because ENV is case sensitive.</span>
570:           <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">to_hash</span>[<span class="ruby-identifier">name</span>]
571:         <span class="ruby-keyword kw">end</span>
572:         <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">proxy_uri</span>
573:           <span class="ruby-comment cmt"># Use CGI_HTTP_PROXY.  cf. libwww-perl.</span>
574:           <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-node">&quot;CGI_#{name.upcase}&quot;</span>]
575:         <span class="ruby-keyword kw">end</span>
576:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'http_proxy'</span>
577:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>]
578:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">upcase</span>]
579:             <span class="ruby-identifier">warn</span> <span class="ruby-value str">'The environment variable HTTP_PROXY is discouraged.  Use http_proxy.'</span>
580:           <span class="ruby-keyword kw">end</span>
581:         <span class="ruby-keyword kw">end</span>
582:       <span class="ruby-keyword kw">else</span>
583:         <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">upcase</span>]
584:       <span class="ruby-keyword kw">end</span>
585: 
586:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">proxy_uri</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">host</span>
587:         <span class="ruby-identifier">require</span> <span class="ruby-value str">'socket'</span>
588:         <span class="ruby-keyword kw">begin</span>
589:           <span class="ruby-identifier">addr</span> = <span class="ruby-constant">IPSocket</span>.<span class="ruby-identifier">getaddress</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">host</span>)
590:           <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">/\A127\.|\A::1\z/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">addr</span>
591:         <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">SocketError</span>
592:         <span class="ruby-keyword kw">end</span>
593:       <span class="ruby-keyword kw">end</span>
594: 
595:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">proxy_uri</span>
596:         <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">proxy_uri</span>)
597:         <span class="ruby-identifier">name</span> = <span class="ruby-value str">'no_proxy'</span>
598:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">no_proxy</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">ENV</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">upcase</span>]
599:           <span class="ruby-identifier">no_proxy</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp re">/([^:,]*)(?::(\d+))?/</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span><span class="ruby-operator">|</span>
600:             <span class="ruby-keyword kw">if</span> <span class="ruby-node">/(\A|\.)#{Regexp.quote host}\z/i</span> <span class="ruby-operator">=~</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">host</span> <span class="ruby-operator">&amp;&amp;</span>
601:                (<span class="ruby-operator">!</span><span class="ruby-identifier">port</span> <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">port</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">port</span>.<span class="ruby-identifier">to_i</span>)
602:               <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword kw">nil</span>
603:               <span class="ruby-keyword kw">break</span>
604:             <span class="ruby-keyword kw">end</span>
605:           }
606:         <span class="ruby-keyword kw">end</span>
607:         <span class="ruby-identifier">proxy_uri</span>
608:       <span class="ruby-keyword kw">else</span>
609:         <span class="ruby-keyword kw">nil</span>
610:       <span class="ruby-keyword kw">end</span>
611:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007270">
                    
                    <a name="M007270"></a><b>fragment=</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007270_source')" id="l_M007270_source">show</a>
                        
                    </p>
                    <div id="M007270_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 577</span>
577:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fragment=</span>(<span class="ruby-identifier">v</span>)
578:       <span class="ruby-identifier">check_fragment</span>(<span class="ruby-identifier">v</span>)
579:       <span class="ruby-identifier">set_fragment</span>(<span class="ruby-identifier">v</span>)
580:       <span class="ruby-identifier">v</span>
581:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007302">
                    
                    <a name="M007302"></a><b>hash</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007302_source')" id="l_M007302_source">show</a>
                        
                    </p>
                    <div id="M007302_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 1048</span>
1048:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hash</span>
1049:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">component_ary</span>.<span class="ruby-identifier">hash</span>
1050:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007271">
                    
                    <a name="M007271"></a><b>hierarchical?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Checks if <a href="../URI.html">URI</a> has a path
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007271_source')" id="l_M007271_source">show</a>
                        
                    </p>
                    <div id="M007271_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 586</span>
586:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hierarchical?</span>
587:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@path</span>
588:         <span class="ruby-keyword kw">true</span>
589:       <span class="ruby-keyword kw">else</span>
590:         <span class="ruby-keyword kw">false</span>
591:       <span class="ruby-keyword kw">end</span>
592:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007231">
                    
                    <a name="M007231"></a><b>host=</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007231_source')" id="l_M007231_source">show</a>
                        
                    </p>
                    <div id="M007231_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 396</span>
396:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">host=</span>(<span class="ruby-identifier">v</span>)
397:       <span class="ruby-identifier">check_host</span>(<span class="ruby-identifier">v</span>)
398:       <span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">v</span>)
399:       <span class="ruby-identifier">v</span>
400:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007306">
                    
                    <a name="M007306"></a><b>inspect</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007306_source')" id="l_M007306_source">show</a>
                        
                    </p>
                    <div id="M007306_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 1104</span>
1104:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
1105:       <span class="ruby-ivar">@@to_s</span>.<span class="ruby-identifier">bind</span>(<span class="ruby-keyword kw">self</span>).<span class="ruby-identifier">call</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp re">/&gt;\z/</span>) {<span class="ruby-node">&quot; URL:#{self}&gt;&quot;</span>}
1106:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007278">
                    
                    <a name="M007278"></a><b>merge</b>(oth)
                    
                </div>
                
                <div class="description">
                  <h2>Args</h2>
<table>
<tr><td valign="top"><tt>oth</tt>:</td><td><a href="../URI.html">URI</a> or <a href="../String.html">String</a>

</td></tr>
</table>
<h2>Description</h2>
<p>
Merges two URI&#8217;s.
</p>
<h2>Usage</h2>
<pre>
  require 'uri'

  uri = URI.parse(&quot;http://my.example.com&quot;)
  p uri.merge(&quot;/main.rbx?page=1&quot;)
  # =&gt;  #&lt;URI::HTTP:0x2021f3b0 URL:http://my.example.com/main.rbx?page=1&gt;
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Generic.html#M007279">+</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007278_source')" id="l_M007278_source">show</a>
                        
                    </p>
                    <div id="M007278_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 728</span>
728:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">oth</span>)
729:       <span class="ruby-keyword kw">begin</span>
730:         <span class="ruby-identifier">base</span>, <span class="ruby-identifier">rel</span> = <span class="ruby-identifier">merge0</span>(<span class="ruby-identifier">oth</span>)
731:       <span class="ruby-keyword kw">rescue</span>
732:         <span class="ruby-identifier">raise</span> <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">class</span>, <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">message</span>
733:       <span class="ruby-keyword kw">end</span>
734: 
735:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">base</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">rel</span>
736:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">base</span>
737:       <span class="ruby-keyword kw">end</span>
738: 
739:       <span class="ruby-identifier">authority</span> = <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">userinfo</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">host</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span>
740: 
741:       <span class="ruby-comment cmt"># RFC2396, Section 5.2, 2)</span>
742:       <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>.<span class="ruby-identifier">empty?</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">authority</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span>
743:         <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_fragment</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>
744:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">base</span>
745:       <span class="ruby-keyword kw">end</span>
746: 
747:       <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_query</span>(<span class="ruby-keyword kw">nil</span>)
748:       <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_fragment</span>(<span class="ruby-keyword kw">nil</span>)
749: 
750:       <span class="ruby-comment cmt"># RFC2396, Section 5.2, 4)</span>
751:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">authority</span>
752:         <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">merge_path</span>(<span class="ruby-identifier">base</span>.<span class="ruby-identifier">path</span>, <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>)) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">base</span>.<span class="ruby-identifier">path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>
753:       <span class="ruby-keyword kw">else</span>
754:         <span class="ruby-comment cmt"># RFC2396, Section 5.2, 4)</span>
755:         <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>
756:       <span class="ruby-keyword kw">end</span>
757: 
758:       <span class="ruby-comment cmt"># RFC2396, Section 5.2, 7)</span>
759:       <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">userinfo</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">userinfo</span>
760:       <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">host</span>)         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">host</span>
761:       <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span>)         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span>
762:       <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_query</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span>)       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span>
763:       <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_fragment</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>
764: 
765:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">base</span>
766:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007277">
                    
                    <a name="M007277"></a><b>merge!</b>(oth)
                    
                </div>
                
                <div class="description">
                  <h2>Args</h2>
<table>
<tr><td valign="top"><tt>oth</tt>:</td><td><a href="../URI.html">URI</a> or <a href="../String.html">String</a>

</td></tr>
</table>
<h2>Description</h2>
<p>
Destructive form of <a href="Generic.html#M007278">merge</a>
</p>
<h2>Usage</h2>
<pre>
  require 'uri'

  uri = URI.parse(&quot;http://my.example.com&quot;)
  uri.merge!(&quot;/main.rbx?page=1&quot;)
  p uri
  # =&gt;  #&lt;URI::HTTP:0x2021f3b0 URL:http://my.example.com/main.rbx?page=1&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007277_source')" id="l_M007277_source">show</a>
                        
                    </p>
                    <div id="M007277_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 700</span>
700:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">oth</span>)
701:       <span class="ruby-identifier">t</span> = <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">oth</span>)
702:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">t</span>
703:         <span class="ruby-keyword kw">nil</span>
704:       <span class="ruby-keyword kw">else</span>
705:         <span class="ruby-identifier">replace!</span>(<span class="ruby-identifier">t</span>)
706:         <span class="ruby-keyword kw">self</span>
707:       <span class="ruby-keyword kw">end</span>
708:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007295">
                    
                    <a name="M007295"></a><b>normalize</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns normalized <a href="../URI.html">URI</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007295_source')" id="l_M007295_source">show</a>
                        
                    </p>
                    <div id="M007295_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 966</span>
966:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">normalize</span>
967:       <span class="ruby-identifier">uri</span> = <span class="ruby-identifier">dup</span>
968:       <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">normalize!</span>
969:       <span class="ruby-identifier">uri</span>
970:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007296">
                    
                    <a name="M007296"></a><b>normalize!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Destructive version of <a href="Generic.html#M007295">normalize</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007296_source')" id="l_M007296_source">show</a>
                        
                    </p>
                    <div id="M007296_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 975</span>
975:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">normalize!</span>
976:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">==</span> <span class="ruby-value str">''</span>
977:         <span class="ruby-identifier">set_path</span>(<span class="ruby-value str">'/'</span>)
978:       <span class="ruby-keyword kw">end</span>
979:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">host</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">host</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">host</span>.<span class="ruby-identifier">downcase</span>
980:         <span class="ruby-identifier">set_host</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">host</span>.<span class="ruby-identifier">downcase</span>)
981:       <span class="ruby-keyword kw">end</span>        
982:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007262">
                    
                    <a name="M007262"></a><b>opaque=</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007262_source')" id="l_M007262_source">show</a>
                        
                    </p>
                    <div id="M007262_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 554</span>
554:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">opaque=</span>(<span class="ruby-identifier">v</span>)
555:       <span class="ruby-identifier">check_opaque</span>(<span class="ruby-identifier">v</span>)
556:       <span class="ruby-identifier">set_opaque</span>(<span class="ruby-identifier">v</span>)
557:       <span class="ruby-identifier">v</span>
558:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007228">
                    
                    <a name="M007228"></a><b>password</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007228_source')" id="l_M007228_source">show</a>
                        
                    </p>
                    <div id="M007228_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 372</span>
372:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">password</span>
373:       <span class="ruby-ivar">@password</span>
374:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007220">
                    
                    <a name="M007220"></a><b>password=</b>(password)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007220_source')" id="l_M007220_source">show</a>
                        
                    </p>
                    <div id="M007220_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 316</span>
316:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">password=</span>(<span class="ruby-identifier">password</span>)
317:       <span class="ruby-identifier">check_password</span>(<span class="ruby-identifier">password</span>)
318:       <span class="ruby-identifier">set_password</span>(<span class="ruby-identifier">password</span>)
319:       <span class="ruby-comment cmt"># returns password</span>
320:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007245">
                    
                    <a name="M007245"></a><b>path=</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007245_source')" id="l_M007245_source">show</a>
                        
                    </p>
                    <div id="M007245_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 494</span>
494:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">path=</span>(<span class="ruby-identifier">v</span>)
495:       <span class="ruby-identifier">check_path</span>(<span class="ruby-identifier">v</span>)
496:       <span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">v</span>)
497:       <span class="ruby-identifier">v</span>
498:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007234">
                    
                    <a name="M007234"></a><b>port=</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007234_source')" id="l_M007234_source">show</a>
                        
                    </p>
                    <div id="M007234_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 429</span>
429:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">port=</span>(<span class="ruby-identifier">v</span>)
430:       <span class="ruby-identifier">check_port</span>(<span class="ruby-identifier">v</span>)
431:       <span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">v</span>)
432:       <span class="ruby-identifier">port</span>
433:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007253">
                    
                    <a name="M007253"></a><b>query=</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007253_source')" id="l_M007253_source">show</a>
                        
                    </p>
                    <div id="M007253_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 525</span>
525:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">query=</span>(<span class="ruby-identifier">v</span>)
526:       <span class="ruby-identifier">check_query</span>(<span class="ruby-identifier">v</span>)
527:       <span class="ruby-identifier">set_query</span>(<span class="ruby-identifier">v</span>)
528:       <span class="ruby-identifier">v</span>
529:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007238">
                    
                    <a name="M007238"></a><b>registry=</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007238_source')" id="l_M007238_source">show</a>
                        
                    </p>
                    <div id="M007238_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 458</span>
458:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">registry=</span>(<span class="ruby-identifier">v</span>)
459:       <span class="ruby-identifier">check_registry</span>(<span class="ruby-identifier">v</span>)
460:       <span class="ruby-identifier">set_registry</span>(<span class="ruby-identifier">v</span>)
461:       <span class="ruby-identifier">v</span>
462:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007274">
                    
                    <a name="M007274"></a><b>relative?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Checks if <a href="../URI.html">URI</a> is relative
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007274_source')" id="l_M007274_source">show</a>
                        
                    </p>
                    <div id="M007274_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 609</span>
609:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">relative?</span>
610:       <span class="ruby-operator">!</span><span class="ruby-identifier">absolute?</span>
611:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007286">
                    
                    <a name="M007286"></a><b>route_from</b>(oth)
                    
                </div>
                
                <div class="description">
                  <h2>Args</h2>
<table>
<tr><td valign="top"><tt>oth</tt>:</td><td><a href="../URI.html">URI</a> or <a href="../String.html">String</a>

</td></tr>
</table>
<h2>Description</h2>
<p>
Calculates relative path from oth to self
</p>
<h2>Usage</h2>
<pre>
  require 'uri'

  uri = URI.parse('http://my.example.com/main.rbx?page=1')
  p uri.route_from('http://my.example.com')
  #=&gt; #&lt;URI::Generic:0x20218858 URL:/main.rbx?page=1&gt;
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Generic.html#M007290">-</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007286_source')" id="l_M007286_source">show</a>
                        
                    </p>
                    <div id="M007286_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 910</span>
910:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">route_from</span>(<span class="ruby-identifier">oth</span>)
911:       <span class="ruby-comment cmt"># you can modify `rel', but can not `oth'.</span>
912:       <span class="ruby-keyword kw">begin</span>
913:         <span class="ruby-identifier">oth</span>, <span class="ruby-identifier">rel</span> = <span class="ruby-identifier">route_from0</span>(<span class="ruby-identifier">oth</span>)
914:       <span class="ruby-keyword kw">rescue</span>
915:         <span class="ruby-identifier">raise</span> <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">class</span>, <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">message</span>
916:       <span class="ruby-keyword kw">end</span>
917:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">oth</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">rel</span>
918:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rel</span>
919:       <span class="ruby-keyword kw">end</span>
920: 
921:       <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">route_from_path</span>(<span class="ruby-identifier">oth</span>.<span class="ruby-identifier">path</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">path</span>))
922:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'./'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">query</span>
923:         <span class="ruby-comment cmt"># &quot;./?foo&quot; -&gt; &quot;?foo&quot;</span>
924:         <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-value str">''</span>)
925:       <span class="ruby-keyword kw">end</span>
926: 
927:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rel</span>
928:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007294">
                    
                    <a name="M007294"></a><b>route_to</b>(oth)
                    
                </div>
                
                <div class="description">
                  <h2>Args</h2>
<table>
<tr><td valign="top"><tt>oth</tt>:</td><td><a href="../URI.html">URI</a> or <a href="../String.html">String</a>

</td></tr>
</table>
<h2>Description</h2>
<p>
Calculates relative path to oth from self
</p>
<h2>Usage</h2>
<pre>
  require 'uri'

  uri = URI.parse('http://my.example.com')
  p uri.route_to('http://my.example.com/main.rbx?page=1')
  #=&gt; #&lt;URI::Generic:0x2020c2f6 URL:/main.rbx?page=1&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007294_source')" id="l_M007294_source">show</a>
                        
                    </p>
                    <div id="M007294_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 950</span>
950:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">route_to</span>(<span class="ruby-identifier">oth</span>)
951:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">oth</span>
952:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Generic</span>
953:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span>
954:         <span class="ruby-identifier">oth</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">oth</span>)
955:       <span class="ruby-keyword kw">else</span>
956:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>,
957:           <span class="ruby-value str">&quot;bad argument(expected URI object or URI string)&quot;</span>
958:       <span class="ruby-keyword kw">end</span>
959: 
960:       <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">route_from</span>(<span class="ruby-keyword kw">self</span>)
961:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007214">
                    
                    <a name="M007214"></a><b>scheme=</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007214_source')" id="l_M007214_source">show</a>
                        
                    </p>
                    <div id="M007214_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 243</span>
243:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">scheme=</span>(<span class="ruby-identifier">v</span>)
244:       <span class="ruby-identifier">check_scheme</span>(<span class="ruby-identifier">v</span>)
245:       <span class="ruby-identifier">set_scheme</span>(<span class="ruby-identifier">v</span>)
246:       <span class="ruby-identifier">v</span>
247:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007305">
                    
                    <a name="M007305"></a><b>select</b>(*components)
                    
                </div>
                
                <div class="description">
                  <h2>Args</h2>
<table>
<tr><td valign="top"><tt>components</tt>:</td><td>Multiple <a href="../Symbol.html">Symbol</a> arguments defined in <a
href="HTTP.html">URI::HTTP</a>

</td></tr>
</table>
<h2>Description</h2>
<p>
Selects specified components from <a href="../URI.html">URI</a>
</p>
<h2>Usage</h2>
<pre>
  require 'uri'

  uri = URI.parse('http://myuser:mypass@my.example.com/test.rbx')
  p uri.select(:userinfo, :host, :path)
  # =&gt; [&quot;myuser:mypass&quot;, &quot;my.example.com&quot;, &quot;/test.rbx&quot;]
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007305_source')" id="l_M007305_source">show</a>
                        
                    </p>
                    <div id="M007305_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 1092</span>
1092:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">select</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">components</span>)
1093:       <span class="ruby-identifier">components</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
1094:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">component</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">c</span>)
1095:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">c</span>)
1096:         <span class="ruby-keyword kw">else</span>
1097:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, 
1098:             <span class="ruby-node">&quot;expected of components of #{self.class} (#{self.class.component.join(', ')})&quot;</span>
1099:         <span class="ruby-keyword kw">end</span>
1100:       <span class="ruby-keyword kw">end</span>
1101:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007299">
                    
                    <a name="M007299"></a><b>to_s</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Constructs <a href="../String.html">String</a> from <a
href="../URI.html">URI</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007299_source')" id="l_M007299_source">show</a>
                        
                    </p>
                    <div id="M007299_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 996</span>
 996:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_s</span>
 997:       <span class="ruby-identifier">str</span> = <span class="ruby-value str">''</span>
 998:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@scheme</span>
 999:         <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@scheme</span>
1000:         <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">':'</span>
1001:       <span class="ruby-keyword kw">end</span>
1002: 
1003:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@opaque</span>
1004:         <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@opaque</span>
1005: 
1006:       <span class="ruby-keyword kw">else</span>
1007:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@registry</span>
1008:           <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@registry</span>
1009:         <span class="ruby-keyword kw">else</span>
1010:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@host</span>
1011:             <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'//'</span>
1012:           <span class="ruby-keyword kw">end</span>
1013:           <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">userinfo</span>
1014:             <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">userinfo</span>
1015:             <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'@'</span>
1016:           <span class="ruby-keyword kw">end</span>
1017:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@host</span>
1018:             <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@host</span>
1019:           <span class="ruby-keyword kw">end</span>
1020:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@port</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@port</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">default_port</span>
1021:             <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">':'</span>
1022:             <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@port</span>.<span class="ruby-identifier">to_s</span>
1023:           <span class="ruby-keyword kw">end</span>
1024:         <span class="ruby-keyword kw">end</span>
1025: 
1026:         <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">path_query</span>
1027:       <span class="ruby-keyword kw">end</span>
1028: 
1029:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@fragment</span>
1030:         <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'#'</span>
1031:         <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@fragment</span>
1032:       <span class="ruby-keyword kw">end</span>
1033: 
1034:       <span class="ruby-identifier">str</span>
1035:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007227">
                    
                    <a name="M007227"></a><b>user</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007227_source')" id="l_M007227_source">show</a>
                        
                    </p>
                    <div id="M007227_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 368</span>
368:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">user</span>
369:       <span class="ruby-ivar">@user</span>
370:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007219">
                    
                    <a name="M007219"></a><b>user=</b>(user)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007219_source')" id="l_M007219_source">show</a>
                        
                    </p>
                    <div id="M007219_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 310</span>
310:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">user=</span>(<span class="ruby-identifier">user</span>)
311:       <span class="ruby-identifier">check_user</span>(<span class="ruby-identifier">user</span>)
312:       <span class="ruby-identifier">set_user</span>(<span class="ruby-identifier">user</span>)
313:       <span class="ruby-comment cmt"># returns user</span>
314:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007226">
                    
                    <a name="M007226"></a><b>userinfo</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007226_source')" id="l_M007226_source">show</a>
                        
                    </p>
                    <div id="M007226_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 358</span>
358:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">userinfo</span>
359:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@user</span>.<span class="ruby-identifier">nil?</span>
360:         <span class="ruby-keyword kw">nil</span>
361:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@password</span>.<span class="ruby-identifier">nil?</span>
362:         <span class="ruby-ivar">@user</span>
363:       <span class="ruby-keyword kw">else</span>
364:         <span class="ruby-ivar">@user</span> <span class="ruby-operator">+</span> <span class="ruby-value str">':'</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@password</span>
365:       <span class="ruby-keyword kw">end</span>
366:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007218">
                    
                    <a name="M007218"></a><b>userinfo=</b>(userinfo)
                    
                </div>
                
                <div class="description">
                  <p>
Sets userinfo, argument is string like &#8216;name:pass&#8217;
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007218_source')" id="l_M007218_source">show</a>
                        
                    </p>
                    <div id="M007218_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 301</span>
301:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">userinfo=</span>(<span class="ruby-identifier">userinfo</span>)
302:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">userinfo</span>.<span class="ruby-identifier">nil?</span>
303:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>
304:       <span class="ruby-keyword kw">end</span>
305:       <span class="ruby-identifier">check_userinfo</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">userinfo</span>)
306:       <span class="ruby-identifier">set_userinfo</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">userinfo</span>)
307:       <span class="ruby-comment cmt"># returns userinfo</span>
308:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Protected methods</div>
            
            <div class="method">
                <div class="title" id="M007304">
                    
                    <a name="M007304"></a><b>component_ary</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007304_source')" id="l_M007304_source">show</a>
                        
                    </p>
                    <div id="M007304_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 1068</span>
1068:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">component_ary</span>
1069:       <span class="ruby-identifier">component</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
1070:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">x</span>)
1071:       <span class="ruby-keyword kw">end</span>
1072:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007269">
                    
                    <a name="M007269"></a><b>set_fragment</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007269_source')" id="l_M007269_source">show</a>
                        
                    </p>
                    <div id="M007269_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 572</span>
572:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_fragment</span>(<span class="ruby-identifier">v</span>)
573:       <span class="ruby-ivar">@fragment</span> = <span class="ruby-identifier">v</span>
574:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007230">
                    
                    <a name="M007230"></a><b>set_host</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007230_source')" id="l_M007230_source">show</a>
                        
                    </p>
                    <div id="M007230_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 391</span>
391:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">v</span>)
392:       <span class="ruby-ivar">@host</span> = <span class="ruby-identifier">v</span>
393:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007261">
                    
                    <a name="M007261"></a><b>set_opaque</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007261_source')" id="l_M007261_source">show</a>
                        
                    </p>
                    <div id="M007261_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 549</span>
549:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_opaque</span>(<span class="ruby-identifier">v</span>)
550:       <span class="ruby-ivar">@opaque</span> = <span class="ruby-identifier">v</span>
551:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007223">
                    
                    <a name="M007223"></a><b>set_password</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007223_source')" id="l_M007223_source">show</a>
                        
                    </p>
                    <div id="M007223_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 339</span>
339:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_password</span>(<span class="ruby-identifier">v</span>)
340:       <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">v</span>
341:       <span class="ruby-comment cmt"># returns v</span>
342:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007244">
                    
                    <a name="M007244"></a><b>set_path</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007244_source')" id="l_M007244_source">show</a>
                        
                    </p>
                    <div id="M007244_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 489</span>
489:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">v</span>)
490:       <span class="ruby-ivar">@path</span> = <span class="ruby-identifier">v</span>
491:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007233">
                    
                    <a name="M007233"></a><b>set_port</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007233_source')" id="l_M007233_source">show</a>
                        
                    </p>
                    <div id="M007233_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 417</span>
417:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">v</span>)
418:       <span class="ruby-keyword kw">unless</span> <span class="ruby-operator">!</span><span class="ruby-identifier">v</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Fixnum</span>)
419:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">empty?</span>
420:           <span class="ruby-identifier">v</span> = <span class="ruby-keyword kw">nil</span>
421:         <span class="ruby-keyword kw">else</span>
422:           <span class="ruby-identifier">v</span> = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_i</span>
423:         <span class="ruby-keyword kw">end</span>
424:       <span class="ruby-keyword kw">end</span>
425:       <span class="ruby-ivar">@port</span> = <span class="ruby-identifier">v</span>
426:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007252">
                    
                    <a name="M007252"></a><b>set_query</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007252_source')" id="l_M007252_source">show</a>
                        
                    </p>
                    <div id="M007252_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 520</span>
520:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_query</span>(<span class="ruby-identifier">v</span>)
521:       <span class="ruby-ivar">@query</span> = <span class="ruby-identifier">v</span>
522:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007237">
                    
                    <a name="M007237"></a><b>set_registry</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007237_source')" id="l_M007237_source">show</a>
                        
                    </p>
                    <div id="M007237_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 453</span>
453:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_registry</span>(<span class="ruby-identifier">v</span>)
454:       <span class="ruby-ivar">@registry</span> = <span class="ruby-identifier">v</span>
455:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007213">
                    
                    <a name="M007213"></a><b>set_scheme</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007213_source')" id="l_M007213_source">show</a>
                        
                    </p>
                    <div id="M007213_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 238</span>
238:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_scheme</span>(<span class="ruby-identifier">v</span>)
239:       <span class="ruby-ivar">@scheme</span> = <span class="ruby-identifier">v</span>
240:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007222">
                    
                    <a name="M007222"></a><b>set_user</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007222_source')" id="l_M007222_source">show</a>
                        
                    </p>
                    <div id="M007222_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 333</span>
333:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_user</span>(<span class="ruby-identifier">v</span>)
334:       <span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">v</span>, <span class="ruby-ivar">@password</span>)
335:       <span class="ruby-identifier">v</span>
336:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007221">
                    
                    <a name="M007221"></a><b>set_userinfo</b>(user, password = nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007221_source')" id="l_M007221_source">show</a>
                        
                    </p>
                    <div id="M007221_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 322</span>
322:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span> = <span class="ruby-keyword kw">nil</span>)
323:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">password</span> 
324:         <span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span> = <span class="ruby-identifier">split_userinfo</span>(<span class="ruby-identifier">user</span>)
325:       <span class="ruby-keyword kw">end</span>
326:       <span class="ruby-ivar">@user</span>     = <span class="ruby-identifier">user</span>
327:       <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">password</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">password</span>
328: 
329:       [<span class="ruby-ivar">@user</span>, <span class="ruby-ivar">@password</span>]
330:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M007263">
                    
                    <a name="M007263"></a><b>check_fragment</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007263_source')" id="l_M007263_source">show</a>
                        
                    </p>
                    <div id="M007263_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 560</span>
560:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_fragment</span>(<span class="ruby-identifier">v</span>)
561:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">v</span>
562: 
563:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">''</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">FRAGMENT</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
564:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>, 
565:           <span class="ruby-node">&quot;bad component(expected fragment component): #{v}&quot;</span>
566:       <span class="ruby-keyword kw">end</span>
567: 
568:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
569:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007229">
                    
                    <a name="M007229"></a><b>check_host</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007229_source')" id="l_M007229_source">show</a>
                        
                    </p>
                    <div id="M007229_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 376</span>
376:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_host</span>(<span class="ruby-identifier">v</span>)
377:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">v</span>
378: 
379:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@registry</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@opaque</span>
380:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>, 
381:           <span class="ruby-value str">&quot;can not set host with registry or opaque&quot;</span>
382:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">HOST</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
383:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>,
384:           <span class="ruby-node">&quot;bad component(expected host component): #{v}&quot;</span>
385:       <span class="ruby-keyword kw">end</span>
386: 
387:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
388:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007254">
                    
                    <a name="M007254"></a><b>check_opaque</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007254_source')" id="l_M007254_source">show</a>
                        
                    </p>
                    <div id="M007254_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 531</span>
531:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_opaque</span>(<span class="ruby-identifier">v</span>)
532:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">v</span>
533: 
534:       <span class="ruby-comment cmt"># raise if both hier and opaque are not nil, because:</span>
535:       <span class="ruby-comment cmt"># absoluteURI   = scheme &quot;:&quot; ( hier_part | opaque_part )</span>
536:       <span class="ruby-comment cmt"># hier_part     = ( net_path | abs_path ) [ &quot;?&quot; query ]</span>
537:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@host</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@port</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@user</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@path</span>  <span class="ruby-comment cmt"># userinfo = @user + ':' + @password</span>
538:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>, 
539:           <span class="ruby-value str">&quot;can not set opaque with host, port, userinfo or path&quot;</span>
540:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">OPAQUE</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
541:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>,
542:           <span class="ruby-node">&quot;bad component(expected opaque component): #{v}&quot;</span>
543:       <span class="ruby-keyword kw">end</span>
544: 
545:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
546:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007217">
                    
                    <a name="M007217"></a><b>check_password</b>(v, user = @user)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007217_source')" id="l_M007217_source">show</a>
                        
                    </p>
                    <div id="M007217_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 277</span>
277:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_password</span>(<span class="ruby-identifier">v</span>, <span class="ruby-identifier">user</span> = <span class="ruby-ivar">@user</span>)
278:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@registry</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@opaque</span>
279:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>, 
280:           <span class="ruby-value str">&quot;can not set password with registry or opaque&quot;</span>
281:       <span class="ruby-keyword kw">end</span>
282:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">v</span>
283: 
284:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">user</span>
285:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>,
286:           <span class="ruby-value str">&quot;password component depends user component&quot;</span>
287:       <span class="ruby-keyword kw">end</span>
288: 
289:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">USERINFO</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
290:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>,
291:           <span class="ruby-node">&quot;bad component(expected user component): #{v}&quot;</span>
292:       <span class="ruby-keyword kw">end</span>
293: 
294:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
295:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007242">
                    
                    <a name="M007242"></a><b>check_path</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007242_source')" id="l_M007242_source">show</a>
                        
                    </p>
                    <div id="M007242_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 464</span>
464:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_path</span>(<span class="ruby-identifier">v</span>)
465:       <span class="ruby-comment cmt"># raise if both hier and opaque are not nil, because:</span>
466:       <span class="ruby-comment cmt"># absoluteURI   = scheme &quot;:&quot; ( hier_part | opaque_part )</span>
467:       <span class="ruby-comment cmt"># hier_part     = ( net_path | abs_path ) [ &quot;?&quot; query ]</span>
468:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@opaque</span>
469:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>, 
470:           <span class="ruby-value str">&quot;path conflicts with opaque&quot;</span>
471:       <span class="ruby-keyword kw">end</span>
472: 
473:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@scheme</span>
474:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">''</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">ABS_PATH</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
475:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>, 
476:             <span class="ruby-node">&quot;bad component(expected absolute path component): #{v}&quot;</span>
477:         <span class="ruby-keyword kw">end</span>
478:       <span class="ruby-keyword kw">else</span>
479:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">''</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">ABS_PATH</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">REL_PATH</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
480:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>, 
481:             <span class="ruby-node">&quot;bad component(expected relative path component): #{v}&quot;</span>
482:         <span class="ruby-keyword kw">end</span>
483:       <span class="ruby-keyword kw">end</span>
484: 
485:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
486:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007232">
                    
                    <a name="M007232"></a><b>check_port</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007232_source')" id="l_M007232_source">show</a>
                        
                    </p>
                    <div id="M007232_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 402</span>
402:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_port</span>(<span class="ruby-identifier">v</span>)
403:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">v</span>
404: 
405:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@registry</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@opaque</span>
406:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>, 
407:           <span class="ruby-value str">&quot;can not set port with registry or opaque&quot;</span>
408:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">v</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Fixnum</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">PORT</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
409:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>,
410:           <span class="ruby-node">&quot;bad component(expected port component): #{v}&quot;</span>
411:       <span class="ruby-keyword kw">end</span>
412: 
413:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
414:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007246">
                    
                    <a name="M007246"></a><b>check_query</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007246_source')" id="l_M007246_source">show</a>
                        
                    </p>
                    <div id="M007246_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 500</span>
500:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_query</span>(<span class="ruby-identifier">v</span>)
501:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">v</span>
502: 
503:       <span class="ruby-comment cmt"># raise if both hier and opaque are not nil, because:</span>
504:       <span class="ruby-comment cmt"># absoluteURI   = scheme &quot;:&quot; ( hier_part | opaque_part )</span>
505:       <span class="ruby-comment cmt"># hier_part     = ( net_path | abs_path ) [ &quot;?&quot; query ]</span>
506:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@opaque</span>
507:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>, 
508:           <span class="ruby-value str">&quot;query conflicts with opaque&quot;</span>
509:       <span class="ruby-keyword kw">end</span>
510: 
511:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">''</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">QUERY</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
512:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>, 
513:             <span class="ruby-node">&quot;bad component(expected query component): #{v}&quot;</span>
514:         <span class="ruby-keyword kw">end</span>
515: 
516:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
517:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007236">
                    
                    <a name="M007236"></a><b>check_registry</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007236_source')" id="l_M007236_source">show</a>
                        
                    </p>
                    <div id="M007236_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 435</span>
435:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_registry</span>(<span class="ruby-identifier">v</span>)
436:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">v</span>
437: 
438:       <span class="ruby-comment cmt"># raise if both server and registry are not nil, because:</span>
439:       <span class="ruby-comment cmt"># authority     = server | reg_name</span>
440:       <span class="ruby-comment cmt"># server        = [ [ userinfo &quot;@&quot; ] hostport ]</span>
441:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@host</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@port</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@user</span> <span class="ruby-comment cmt"># userinfo = @user + ':' + @password</span>
442:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>, 
443:           <span class="ruby-value str">&quot;can not set registry with host, port, or userinfo&quot;</span>
444:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">REGISTRY</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
445:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>,
446:           <span class="ruby-node">&quot;bad component(expected registry component): #{v}&quot;</span>
447:       <span class="ruby-keyword kw">end</span>
448: 
449:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
450:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007212">
                    
                    <a name="M007212"></a><b>check_scheme</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007212_source')" id="l_M007212_source">show</a>
                        
                    </p>
                    <div id="M007212_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 228</span>
228:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_scheme</span>(<span class="ruby-identifier">v</span>)
229:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">SCHEME</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
230:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>,
231:           <span class="ruby-node">&quot;bad component(expected scheme component): #{v}&quot;</span>
232:       <span class="ruby-keyword kw">end</span>
233: 
234:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
235:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007216">
                    
                    <a name="M007216"></a><b>check_user</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007216_source')" id="l_M007216_source">show</a>
                        
                    </p>
                    <div id="M007216_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 260</span>
260:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_user</span>(<span class="ruby-identifier">v</span>)
261:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@registry</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@opaque</span>
262:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>, 
263:           <span class="ruby-value str">&quot;can not set user with registry or opaque&quot;</span>
264:       <span class="ruby-keyword kw">end</span>
265: 
266:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">v</span>
267: 
268:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">USERINFO</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span>
269:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidComponentError</span>,
270:           <span class="ruby-node">&quot;bad component(expected userinfo component or user component): #{v}&quot;</span>
271:       <span class="ruby-keyword kw">end</span>
272: 
273:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
274:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007215">
                    
                    <a name="M007215"></a><b>check_userinfo</b>(user, password = nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007215_source')" id="l_M007215_source">show</a>
                        
                    </p>
                    <div id="M007215_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 249</span>
249:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_userinfo</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span> = <span class="ruby-keyword kw">nil</span>)
250:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">password</span>
251:         <span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span> = <span class="ruby-identifier">split_userinfo</span>(<span class="ruby-identifier">user</span>)
252:       <span class="ruby-keyword kw">end</span>
253:       <span class="ruby-identifier">check_user</span>(<span class="ruby-identifier">user</span>)
254:       <span class="ruby-identifier">check_password</span>(<span class="ruby-identifier">password</span>, <span class="ruby-identifier">user</span>)
255: 
256:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>
257:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007225">
                    
                    <a name="M007225"></a><b>escape_userpass</b>(v)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007225_source')" id="l_M007225_source">show</a>
                        
                    </p>
                    <div id="M007225_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 353</span>
353:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">escape_userpass</span>(<span class="ruby-identifier">v</span>)
354:       <span class="ruby-identifier">v</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-identifier">v</span>, <span class="ruby-regexp re">/[@:\/]/o</span>) <span class="ruby-comment cmt"># RFC 1738 section 3.1 #/</span>
355:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007280">
                    
                    <a name="M007280"></a><b>merge0</b>(oth)
                    
                </div>
                
                <div class="description">
                  <p>
return base and rel. you can modify `base&#8217;, but can not `rel&#8217;.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007280_source')" id="l_M007280_source">show</a>
                        
                    </p>
                    <div id="M007280_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 771</span>
771:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">merge0</span>(<span class="ruby-identifier">oth</span>)
772:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">oth</span>
773:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Generic</span>
774:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span>
775:         <span class="ruby-identifier">oth</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">oth</span>)
776:       <span class="ruby-keyword kw">else</span>
777:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>,
778:           <span class="ruby-value str">&quot;bad argument(expected URI object or URI string)&quot;</span>
779:       <span class="ruby-keyword kw">end</span>
780: 
781:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">relative?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">relative?</span>
782:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">BadURIError</span>, 
783:           <span class="ruby-value str">&quot;both URI are relative&quot;</span>
784:       <span class="ruby-keyword kw">end</span>
785: 
786:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">absolute?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">absolute?</span>
787:         <span class="ruby-comment cmt">#raise BadURIError, </span>
788:         <span class="ruby-comment cmt">#  &quot;both URI are absolute&quot;</span>
789:         <span class="ruby-comment cmt"># hmm... should return oth for usability?</span>
790:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">oth</span>, <span class="ruby-identifier">oth</span>
791:       <span class="ruby-keyword kw">end</span>
792: 
793:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">absolute?</span>
794:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dup</span>, <span class="ruby-identifier">oth</span>
795:       <span class="ruby-keyword kw">else</span>
796:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">oth</span>, <span class="ruby-identifier">oth</span>
797:       <span class="ruby-keyword kw">end</span>
798:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007276">
                    
                    <a name="M007276"></a><b>merge_path</b>(base, rel)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007276_source')" id="l_M007276_source">show</a>
                        
                    </p>
                    <div id="M007276_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 618</span>
618:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">merge_path</span>(<span class="ruby-identifier">base</span>, <span class="ruby-identifier">rel</span>)
619: 
620:       <span class="ruby-comment cmt"># RFC2396, Section 5.2, 5)</span>
621:       <span class="ruby-comment cmt"># RFC2396, Section 5.2, 6)</span>
622:       <span class="ruby-identifier">base_path</span> = <span class="ruby-identifier">split_path</span>(<span class="ruby-identifier">base</span>)
623:       <span class="ruby-identifier">rel_path</span>  = <span class="ruby-identifier">split_path</span>(<span class="ruby-identifier">rel</span>)
624: 
625:       <span class="ruby-comment cmt"># RFC2396, Section 5.2, 6), a)</span>
626:       <span class="ruby-identifier">base_path</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">''</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'..'</span>
627:       <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">i</span> = <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">index</span>(<span class="ruby-value str">'..'</span>)
628:         <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-identifier">i</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>, <span class="ruby-value">2</span>)
629:       <span class="ruby-keyword kw">end</span>
630: 
631:       <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">first</span> = <span class="ruby-identifier">rel_path</span>.<span class="ruby-identifier">first</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">first</span>.<span class="ruby-identifier">empty?</span>
632:         <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">clear</span>
633:         <span class="ruby-identifier">rel_path</span>.<span class="ruby-identifier">shift</span>
634:       <span class="ruby-keyword kw">end</span>
635: 
636:       <span class="ruby-comment cmt"># RFC2396, Section 5.2, 6), c)</span>
637:       <span class="ruby-comment cmt"># RFC2396, Section 5.2, 6), d)</span>
638:       <span class="ruby-identifier">rel_path</span>.<span class="ruby-identifier">push</span>(<span class="ruby-value str">''</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel_path</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'.'</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rel_path</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'..'</span>
639:       <span class="ruby-identifier">rel_path</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">'.'</span>)
640: 
641:       <span class="ruby-comment cmt"># RFC2396, Section 5.2, 6), e)</span>
642:       <span class="ruby-identifier">tmp</span> = []
643:       <span class="ruby-identifier">rel_path</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
644:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'..'</span> <span class="ruby-operator">&amp;&amp;</span>
645:             <span class="ruby-operator">!</span>(<span class="ruby-identifier">tmp</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">tmp</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'..'</span>)
646:           <span class="ruby-identifier">tmp</span>.<span class="ruby-identifier">pop</span>
647:         <span class="ruby-keyword kw">else</span>
648:           <span class="ruby-identifier">tmp</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">x</span>
649:         <span class="ruby-keyword kw">end</span>
650:       <span class="ruby-keyword kw">end</span>
651: 
652:       <span class="ruby-identifier">add_trailer_slash</span> = <span class="ruby-operator">!</span><span class="ruby-identifier">tmp</span>.<span class="ruby-identifier">empty?</span>
653:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">empty?</span>
654:         <span class="ruby-identifier">base_path</span> = [<span class="ruby-value str">''</span>] <span class="ruby-comment cmt"># keep '/' for root directory</span>
655:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">add_trailer_slash</span>
656:         <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">pop</span>
657:       <span class="ruby-keyword kw">end</span>
658:       <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">x</span> = <span class="ruby-identifier">tmp</span>.<span class="ruby-identifier">shift</span>
659:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'..'</span>
660:           <span class="ruby-comment cmt"># RFC2396, Section 4</span>
661:           <span class="ruby-comment cmt"># a .. or . in an absolute path has no special meaning</span>
662:           <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">pop</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
663:         <span class="ruby-keyword kw">else</span>
664:           <span class="ruby-comment cmt"># if x == '..'</span>
665:           <span class="ruby-comment cmt">#   valid absolute (but abnormal) path &quot;/../...&quot;</span>
666:           <span class="ruby-comment cmt"># else</span>
667:           <span class="ruby-comment cmt">#   valid absolute path</span>
668:           <span class="ruby-comment cmt"># end</span>
669:           <span class="ruby-identifier">base_path</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">x</span>
670:           <span class="ruby-identifier">tmp</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">base_path</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">t</span>}
671:           <span class="ruby-identifier">add_trailer_slash</span> = <span class="ruby-keyword kw">false</span>
672:           <span class="ruby-keyword kw">break</span>
673:         <span class="ruby-keyword kw">end</span>
674:       <span class="ruby-keyword kw">end</span>
675:       <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">push</span>(<span class="ruby-value str">''</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">add_trailer_slash</span>
676: 
677:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">base_path</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">'/'</span>)
678:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007298">
                    
                    <a name="M007298"></a><b>path_query</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007298_source')" id="l_M007298_source">show</a>
                        
                    </p>
                    <div id="M007298_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 984</span>
984:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">path_query</span>
985:       <span class="ruby-identifier">str</span> = <span class="ruby-ivar">@path</span>
986:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@query</span>
987:         <span class="ruby-identifier">str</span> <span class="ruby-operator">+=</span> <span class="ruby-value str">'?'</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@query</span>
988:       <span class="ruby-keyword kw">end</span>
989:       <span class="ruby-identifier">str</span>
990:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007210">
                    
                    <a name="M007210"></a><b>replace!</b>(oth)
                    
                </div>
                
                <div class="description">
                  <p>
replace self by other <a href="../URI.html">URI</a> object
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007210_source')" id="l_M007210_source">show</a>
                        
                    </p>
                    <div id="M007210_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 213</span>
213:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">replace!</span>(<span class="ruby-identifier">oth</span>)
214:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">class</span>
215:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;expected #{self.class} object&quot;</span>
216:       <span class="ruby-keyword kw">end</span>
217: 
218:       <span class="ruby-identifier">component</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
219:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-node">&quot;#{c}=&quot;</span>, <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">c</span>))
220:       <span class="ruby-keyword kw">end</span>
221:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007282">
                    
                    <a name="M007282"></a><b>route_from0</b>(oth)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007282_source')" id="l_M007282_source">show</a>
                        
                    </p>
                    <div id="M007282_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 838</span>
838:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">route_from0</span>(<span class="ruby-identifier">oth</span>)
839:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">oth</span>
840:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Generic</span>
841:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span>
842:         <span class="ruby-identifier">oth</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">oth</span>)
843:       <span class="ruby-keyword kw">else</span>
844:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>,
845:           <span class="ruby-value str">&quot;bad argument(expected URI object or URI string)&quot;</span>
846:       <span class="ruby-keyword kw">end</span>
847: 
848:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">relative?</span>
849:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">BadURIError</span>, 
850:           <span class="ruby-node">&quot;relative URI: #{self}&quot;</span>
851:       <span class="ruby-keyword kw">end</span>
852:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">relative?</span>
853:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">BadURIError</span>, 
854:           <span class="ruby-node">&quot;relative URI: #{oth}&quot;</span>
855:       <span class="ruby-keyword kw">end</span>
856: 
857:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">scheme</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">scheme</span>
858:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dup</span>
859:       <span class="ruby-keyword kw">end</span>
860:       <span class="ruby-identifier">rel</span> = <span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">Generic</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-comment cmt"># it is relative URI</span>
861:                              <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">userinfo</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">host</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">port</span>, 
862:                              <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">registry</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">path</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">opaque</span>,
863:                              <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">query</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">fragment</span>)
864: 
865:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">userinfo</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">userinfo</span> <span class="ruby-operator">||</span>
866:           <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">host</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">host</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">||</span>
867:           <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">port</span>
868:   <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">userinfo</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">host</span>.<span class="ruby-identifier">nil?</span>
869:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dup</span>
870:   <span class="ruby-keyword kw">end</span>
871:         <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-keyword kw">nil</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">default_port</span>
872:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rel</span>, <span class="ruby-identifier">rel</span>
873:       <span class="ruby-keyword kw">end</span>
874:       <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_userinfo</span>(<span class="ruby-keyword kw">nil</span>)
875:       <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_host</span>(<span class="ruby-keyword kw">nil</span>)
876:       <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-keyword kw">nil</span>)
877: 
878:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">path</span>
879:         <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-value str">''</span>)
880:         <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_query</span>(<span class="ruby-keyword kw">nil</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">query</span>
881:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rel</span>, <span class="ruby-identifier">rel</span>
882:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">opaque</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">opaque</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">opaque</span>
883:         <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_opaque</span>(<span class="ruby-value str">''</span>)
884:         <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_query</span>(<span class="ruby-keyword kw">nil</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">query</span>
885:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rel</span>, <span class="ruby-identifier">rel</span>
886:       <span class="ruby-keyword kw">end</span>
887: 
888:       <span class="ruby-comment cmt"># you can modify `rel', but can not `oth'.</span>
889:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">oth</span>, <span class="ruby-identifier">rel</span>
890:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007281">
                    
                    <a name="M007281"></a><b>route_from_path</b>(src, dst)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007281_source')" id="l_M007281_source">show</a>
                        
                    </p>
                    <div id="M007281_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 801</span>
801:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">route_from_path</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">dst</span>)
802:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">dst</span>
803:       <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">src</span>
804:         <span class="ruby-comment cmt"># RFC2396, Section 4.2</span>
805:         <span class="ruby-keyword kw">return</span> <span class="ruby-value str">''</span>
806:       <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">%r{(?:\A|/)\.\.?(?:/|\z)}</span>
807:         <span class="ruby-comment cmt"># dst has abnormal absolute path,</span>
808:         <span class="ruby-comment cmt"># like &quot;/./&quot;, &quot;/../&quot;, &quot;/x/../&quot;, ...</span>
809:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">dst</span>.<span class="ruby-identifier">dup</span>
810:       <span class="ruby-keyword kw">end</span>
811: 
812:       <span class="ruby-identifier">src_path</span> = <span class="ruby-identifier">src</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp re">%r{(?:\A|[^/]+)/}</span>)
813:       <span class="ruby-identifier">dst_path</span> = <span class="ruby-identifier">dst</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp re">%r{(?:\A|[^/]+)/?}</span>)
814: 
815:       <span class="ruby-comment cmt"># discard same parts</span>
816:       <span class="ruby-keyword kw">while</span> <span class="ruby-operator">!</span><span class="ruby-identifier">dst_path</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">dst_path</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">src_path</span>.<span class="ruby-identifier">first</span>
817:         <span class="ruby-identifier">src_path</span>.<span class="ruby-identifier">shift</span>
818:         <span class="ruby-identifier">dst_path</span>.<span class="ruby-identifier">shift</span>
819:       <span class="ruby-keyword kw">end</span>
820: 
821:       <span class="ruby-identifier">tmp</span> = <span class="ruby-identifier">dst_path</span>.<span class="ruby-identifier">join</span>
822: 
823:       <span class="ruby-comment cmt"># calculate</span>
824:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">src_path</span>.<span class="ruby-identifier">empty?</span>
825:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tmp</span>.<span class="ruby-identifier">empty?</span>
826:           <span class="ruby-keyword kw">return</span> <span class="ruby-value str">'./'</span>
827:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">dst_path</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">':'</span>) <span class="ruby-comment cmt"># (see RFC2396 Section 5)</span>
828:           <span class="ruby-keyword kw">return</span> <span class="ruby-value str">'./'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">tmp</span>
829:         <span class="ruby-keyword kw">else</span>
830:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">tmp</span>
831:         <span class="ruby-keyword kw">end</span>
832:       <span class="ruby-keyword kw">end</span>
833: 
834:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">'../'</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">src_path</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">tmp</span>
835:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007275">
                    
                    <a name="M007275"></a><b>split_path</b>(path)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007275_source')" id="l_M007275_source">show</a>
                        
                    </p>
                    <div id="M007275_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 613</span>
613:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">split_path</span>(<span class="ruby-identifier">path</span>)
614:       <span class="ruby-identifier">path</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">%r{/+}</span>, <span class="ruby-value">-1</span>)
615:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007224">
                    
                    <a name="M007224"></a><b>split_userinfo</b>(ui)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007224_source')" id="l_M007224_source">show</a>
                        
                    </p>
                    <div id="M007224_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 345</span>
345:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">split_userinfo</span>(<span class="ruby-identifier">ui</span>)
346:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">ui</span>
347:       <span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span> = <span class="ruby-identifier">ui</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/:/</span>, <span class="ruby-value">2</span>)
348: 
349:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span>
350:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M007205">
                    
                    <a name="M007205"></a><b>build</b>(args)
                    
                </div>
                
                <div class="description">
                  <h2>Synopsis</h2>
<p>
See <a href="Generic.html#M007206">new</a>
</p>
<h2>Description</h2>
<p>
Creates a new <a href="Generic.html">URI::Generic</a> instance from
components of <a href="Generic.html">URI::Generic</a> with check.
Components are: scheme, userinfo, host, port, registry, path, opaque, query
and fragment. You can provide arguments either by an <a
href="../Array.html">Array</a> or a <a href="../Hash.html">Hash</a>. See <a
href="Generic.html#M007206">new</a> for hash keys to use or for order of
array items.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007205_source')" id="l_M007205_source">show</a>
                        
                    </p>
                    <div id="M007205_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 108</span>
108:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">args</span>)
109:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-operator">&amp;&amp;</span>
110:           <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-operator">::</span><span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">Generic</span><span class="ruby-operator">::</span><span class="ruby-constant">COMPONENT</span>.<span class="ruby-identifier">size</span>
111:         <span class="ruby-identifier">tmp</span> = <span class="ruby-identifier">args</span>
112:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Hash</span>)
113:         <span class="ruby-identifier">tmp</span> = <span class="ruby-operator">::</span><span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">Generic</span><span class="ruby-operator">::</span><span class="ruby-constant">COMPONENT</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
114:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">c</span>)
115:             <span class="ruby-identifier">args</span>[<span class="ruby-identifier">c</span>]
116:           <span class="ruby-keyword kw">else</span>
117:             <span class="ruby-keyword kw">nil</span>
118:           <span class="ruby-keyword kw">end</span>
119:         <span class="ruby-keyword kw">end</span>
120:       <span class="ruby-keyword kw">else</span>
121:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, 
122:         <span class="ruby-node">&quot;expected Array of or Hash of components of #{self.class} (#{self.class.component.join(', ')})&quot;</span>
123:       <span class="ruby-keyword kw">end</span>
124: 
125:       <span class="ruby-identifier">tmp</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword kw">true</span>
126:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">tmp</span>)
127:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007204">
                    
                    <a name="M007204"></a><b>build2</b>(args)
                    
                </div>
                
                <div class="description">
                  <h2>Synopsis</h2>
<p>
See <a href="Generic.html#M007206">new</a>
</p>
<h2>Description</h2>
<p>
At first, tries to create a new <a href="Generic.html">URI::Generic</a>
instance using URI::Generic::build. But, if exception <a
href="InvalidComponentError.html">URI::InvalidComponentError</a> is raised,
then it <a href="Escape.html#M007190">URI::Escape.escape</a> all <a
href="../URI.html">URI</a> components and tries again.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007204_source')" id="l_M007204_source">show</a>
                        
                    </p>
                    <div id="M007204_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 70</span>
70:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">build2</span>(<span class="ruby-identifier">args</span>)
71:       <span class="ruby-keyword kw">begin</span>
72:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">args</span>)
73:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">InvalidComponentError</span>
74:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>)
75:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">args</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> 
76:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">x</span>
77:               <span class="ruby-constant">URI</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-identifier">x</span>)
78:             <span class="ruby-keyword kw">else</span>
79:               <span class="ruby-identifier">x</span>
80:             <span class="ruby-keyword kw">end</span>
81:           })
82:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Hash</span>)
83:           <span class="ruby-identifier">tmp</span> = {}
84:           <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
85:             <span class="ruby-identifier">tmp</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>
86:                 <span class="ruby-constant">URI</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-identifier">value</span>)
87:               <span class="ruby-keyword kw">else</span>
88:                 <span class="ruby-identifier">value</span>
89:               <span class="ruby-keyword kw">end</span>
90:           <span class="ruby-keyword kw">end</span>
91:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">tmp</span>)
92:         <span class="ruby-keyword kw">end</span>
93:       <span class="ruby-keyword kw">end</span>
94:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007202">
                    
                    <a name="M007202"></a><b>component</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Components of the <a href="../URI.html">URI</a> in the order.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007202_source')" id="l_M007202_source">show</a>
                        
                    </p>
                    <div id="M007202_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 45</span>
45:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">component</span>
46:       <span class="ruby-keyword kw">self</span><span class="ruby-operator">::</span><span class="ruby-constant">COMPONENT</span>
47:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007198">
                    
                    <a name="M007198"></a><b>default_port</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns default port
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007198_source')" id="l_M007198_source">show</a>
                        
                    </p>
                    <div id="M007198_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 26</span>
26:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">default_port</span>
27:       <span class="ruby-keyword kw">self</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_PORT</span>
28:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007206">
                    
                    <a name="M007206"></a><b>new</b>(scheme, userinfo, host, port, registry, path, opaque, query, fragment, arg_check = false)
                    
                </div>
                
                <div class="description">
                  <h2>Args</h2>
<table>
<tr><td valign="top"><tt>scheme</tt>:</td><td>Protocol scheme, i.e.
&#8216;http&#8217;,&#8217;ftp&#8217;,&#8217;mailto&#8217; and so on.

</td></tr>
<tr><td valign="top"><tt>userinfo</tt>:</td><td>User name and password, i.e. &#8216;sdmitry:bla&#8217;

</td></tr>
<tr><td valign="top"><tt>host</tt>:</td><td>Server host name

</td></tr>
<tr><td valign="top"><tt>port</tt>:</td><td>Server port

</td></tr>
<tr><td valign="top"><tt>registry</tt>:</td><td>DOC: FIXME!

</td></tr>
<tr><td valign="top"><tt>path</tt>:</td><td>Path on server

</td></tr>
<tr><td valign="top"><tt>opaque</tt>:</td><td>DOC: FIXME!

</td></tr>
<tr><td valign="top"><tt>query</tt>:</td><td>Query data

</td></tr>
<tr><td valign="top"><tt>fragment</tt>:</td><td>A part of <a href="../URI.html">URI</a> after &#8217;#&#8217; sign

</td></tr>
<tr><td valign="top"><tt>arg_check</tt>:</td><td>Check arguments [false by default]

</td></tr>
</table>
<h2>Description</h2>
<p>
Creates a new <a href="Generic.html">URI::Generic</a> instance from
``generic&#8217;&#8217; components without check.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007206_source')" id="l_M007206_source">show</a>
                        
                    </p>
                    <div id="M007206_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 156</span>
156:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">scheme</span>, 
157:                    <span class="ruby-identifier">userinfo</span>, <span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span>, <span class="ruby-identifier">registry</span>, 
158:                    <span class="ruby-identifier">path</span>, <span class="ruby-identifier">opaque</span>, 
159:                    <span class="ruby-identifier">query</span>, 
160:                    <span class="ruby-identifier">fragment</span>,
161:                    <span class="ruby-identifier">arg_check</span> = <span class="ruby-keyword kw">false</span>)
162:       <span class="ruby-ivar">@scheme</span> = <span class="ruby-keyword kw">nil</span>
163:       <span class="ruby-ivar">@user</span> = <span class="ruby-keyword kw">nil</span>
164:       <span class="ruby-ivar">@password</span> = <span class="ruby-keyword kw">nil</span>
165:       <span class="ruby-ivar">@host</span> = <span class="ruby-keyword kw">nil</span>
166:       <span class="ruby-ivar">@port</span> = <span class="ruby-keyword kw">nil</span>
167:       <span class="ruby-ivar">@path</span> = <span class="ruby-keyword kw">nil</span>
168:       <span class="ruby-ivar">@query</span> = <span class="ruby-keyword kw">nil</span>
169:       <span class="ruby-ivar">@opaque</span> = <span class="ruby-keyword kw">nil</span>
170:       <span class="ruby-ivar">@registry</span> = <span class="ruby-keyword kw">nil</span>
171:       <span class="ruby-ivar">@fragment</span> = <span class="ruby-keyword kw">nil</span>
172: 
173:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arg_check</span>
174:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">scheme</span> = <span class="ruby-identifier">scheme</span>
175:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">userinfo</span> = <span class="ruby-identifier">userinfo</span>
176:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">host</span> = <span class="ruby-identifier">host</span>
177:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">port</span> = <span class="ruby-identifier">port</span>
178:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">path</span> = <span class="ruby-identifier">path</span>
179:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">query</span> = <span class="ruby-identifier">query</span>
180:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">opaque</span> = <span class="ruby-identifier">opaque</span>
181:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">registry</span> = <span class="ruby-identifier">registry</span>
182:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">fragment</span> = <span class="ruby-identifier">fragment</span>
183:       <span class="ruby-keyword kw">else</span>
184:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_scheme</span>(<span class="ruby-identifier">scheme</span>)
185:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">userinfo</span>)
186:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">host</span>)
187:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">port</span>)
188:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">path</span>)
189:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_query</span>(<span class="ruby-identifier">query</span>)
190:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_opaque</span>(<span class="ruby-identifier">opaque</span>)
191:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_registry</span>(<span class="ruby-identifier">registry</span>)
192:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_fragment</span>(<span class="ruby-identifier">fragment</span>)
193:       <span class="ruby-keyword kw">end</span>
194:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@registry</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">use_registry</span>
195:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>, 
196:           <span class="ruby-node">&quot;the scheme #{@scheme} does not accept registry part: #{@registry} (or bad hostname?)&quot;</span>
197:       <span class="ruby-keyword kw">end</span>
198:       
199:       <span class="ruby-ivar">@scheme</span>.<span class="ruby-identifier">freeze</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@scheme</span>
200:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-value str">''</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@opaque</span> <span class="ruby-comment cmt"># (see RFC2396 Section 5.2)</span>
201:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">default_port</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">default_port</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@port</span>
202:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007203">
                    
                    <a name="M007203"></a><b>use_registry</b>()
                    
                </div>
                
                <div class="description">
                  <p>
DOC: FIXME!
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007203_source')" id="l_M007203_source">show</a>
                        
                    </p>
                    <div id="M007203_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/uri/generic.rb, line 54</span>
54:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">use_registry</span>
55:       <span class="ruby-keyword kw">self</span><span class="ruby-operator">::</span><span class="ruby-constant">USE_REGISTRY</span>
56:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    