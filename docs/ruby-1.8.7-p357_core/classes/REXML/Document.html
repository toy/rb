<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>REXML::Document</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            REXML::Document 
            
                <span class="parent">&lt; 
                    
                    Element
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/rexml/document_rb.html">lib/rexml/document.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Represents a full <a href="../XML.html">XML</a> document, including PIs, a
doctype, etc. A <a href="Document.html">Document</a> has a single child
that can be accessed by root(). Note that if you want to have an <a
href="../XML.html">XML</a> declaration written for a document you create,
you must add one; <a href="../REXML.html">REXML</a> documents do not write
a default declaration for you. See |DECLARATION| and |write|.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M004275"><<</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M004273">add</a>,</li>
                
                <li><a href="#M004276">add_element</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M004288">build</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M004270">clone</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M004278">doctype</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M004281">encoding</a>,</li>
                
                <li><a href="#M004286">entity_expansion_limit</a>,</li>
                
                <li><a href="#M004285">entity_expansion_limit=</a>,</li>
                
                <li><a href="#M004271">expanded_name</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M004272">name</a>,</li>
                
                <li><a href="#M004264">new</a>,</li>
                
                <li><a href="#M004265">node_type</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M004284">parse_stream</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M004287">record_entity_expansion</a>,</li>
                
                <li><a href="#M004277">root</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M004282">stand_alone?</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M004280">version</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M004283">write</a></li>
                
            </ul>
        </dd>
    
        <dt>X</dt>
        <dd>
            <ul>
                
                <li><a href="#M004279">xml_decl</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">DECLARATION</td>
            <td>=</td>
            <td class="attr-value">XMLDecl.default</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
A convenient default <a href="../XML.html">XML</a> declaration. If you want
an <a href="../XML.html">XML</a> declaration, the easiest way to add one is
mydoc << Document::DECLARATION <tt>DEPRECATED</tt> Use: mydoc << <a
href="XMLDecl.html#M004829">XMLDecl.default</a>
</p>
</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>entity_expansion_count</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M004275">
                    
                    <a name="M004275"></a><b>&lt;&lt;</b>( child )
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Document.html#M004273">add</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M004273">
                    
                    <a name="M004273"></a><b>add</b>( child )
                    
                </div>
                
                <div class="description">
                  <p>
We override this, because XMLDecls and DocTypes must go at the start of the
document
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Document.html#M004275">&lt;&lt;</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004273_source')" id="l_M004273_source">show</a>
                        
                    </p>
                    <div id="M004273_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 67</span>
67:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add</span>( <span class="ruby-identifier">child</span> )
68:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">XMLDecl</span>
69:         <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-identifier">child</span>
70:         <span class="ruby-identifier">child</span>.<span class="ruby-identifier">parent</span> = <span class="ruby-keyword kw">self</span>
71:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">DocType</span>
72:         <span class="ruby-comment cmt"># Find first Element or DocType node and insert the decl right </span>
73:         <span class="ruby-comment cmt"># before it.  If there is no such node, just insert the child at the</span>
74:         <span class="ruby-comment cmt"># end.  If there is a child and it is an DocType, then replace it.</span>
75:         <span class="ruby-identifier">insert_before_index</span> = <span class="ruby-value">0</span>
76:         <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> 
77:           <span class="ruby-identifier">insert_before_index</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
78:           <span class="ruby-identifier">x</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Element</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">DocType</span>)
79:         }
80:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@children</span>[ <span class="ruby-identifier">insert_before_index</span> ] <span class="ruby-comment cmt"># Not null = not end of list</span>
81:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@children</span>[ <span class="ruby-identifier">insert_before_index</span> ].<span class="ruby-identifier">kind_of</span> <span class="ruby-constant">DocType</span>
82:             <span class="ruby-ivar">@children</span>[ <span class="ruby-identifier">insert_before_index</span> ] = <span class="ruby-identifier">child</span>
83:           <span class="ruby-keyword kw">else</span>
84:             <span class="ruby-ivar">@children</span>[ <span class="ruby-identifier">index_before_index</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>, <span class="ruby-value">0</span> ] = <span class="ruby-identifier">child</span>
85:           <span class="ruby-keyword kw">end</span>
86:         <span class="ruby-keyword kw">else</span>  <span class="ruby-comment cmt"># Insert at end of list</span>
87:           <span class="ruby-ivar">@children</span>[<span class="ruby-identifier">insert_before_index</span>] = <span class="ruby-identifier">child</span>
88:         <span class="ruby-keyword kw">end</span>
89:         <span class="ruby-identifier">child</span>.<span class="ruby-identifier">parent</span> = <span class="ruby-keyword kw">self</span>
90:       <span class="ruby-keyword kw">else</span>
91:         <span class="ruby-identifier">rv</span> = <span class="ruby-keyword kw">super</span>
92:         <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;attempted adding second root element to document&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
93:         <span class="ruby-identifier">rv</span>
94:       <span class="ruby-keyword kw">end</span>
95:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004276">
                    
                    <a name="M004276"></a><b>add_element</b>(arg=nil, arg2=nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004276_source')" id="l_M004276_source">show</a>
                        
                    </p>
                    <div id="M004276_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 98</span>
 98:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_element</span>(<span class="ruby-identifier">arg</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">arg2</span>=<span class="ruby-keyword kw">nil</span>)
 99:       <span class="ruby-identifier">rv</span> = <span class="ruby-keyword kw">super</span>
100:       <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;attempted adding second root element to document&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
101:       <span class="ruby-identifier">rv</span>
102:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004270">
                    
                    <a name="M004270"></a><b>clone</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Should be obvious
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004270_source')" id="l_M004270_source">show</a>
                        
                    </p>
                    <div id="M004270_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 52</span>
52:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clone</span>
53:       <span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">self</span>
54:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004278">
                    
                    <a name="M004278"></a><b>doctype</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return the <a href="DocType.html">DocType</a> child of the document, if
one exists, and nil otherwise.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004278_source')" id="l_M004278_source">show</a>
                        
                    </p>
                    <div id="M004278_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 114</span>
114:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">doctype</span>
115:       <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">DocType</span> }
116:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004281">
                    
                    <a name="M004281"></a><b>encoding</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return the <a href="XMLDecl.html">XMLDecl</a> encoding of this document as
a <a href="../String.html">String</a>. If no <a
href="XMLDecl.html">XMLDecl</a> has been set, returns the default encoding.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004281_source')" id="l_M004281_source">show</a>
                        
                    </p>
                    <div id="M004281_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 134</span>
134:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">encoding</span>
135:       <span class="ruby-identifier">xml_decl</span>().<span class="ruby-identifier">encoding</span>
136:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004271">
                    
                    <a name="M004271"></a><b>expanded_name</b>()
                    
                </div>
                
                <div class="description">
                  <p>
According to the <a href="../XML.html">XML</a> spec, a root node has no
expanded name
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Document.html#M004272">name</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004271_source')" id="l_M004271_source">show</a>
                        
                    </p>
                    <div id="M004271_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 57</span>
57:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expanded_name</span>
58:       <span class="ruby-value str">''</span>
59:       <span class="ruby-comment cmt">#d = doc_type</span>
60:       <span class="ruby-comment cmt">#d ? d.name : &quot;UNDEFINED&quot;</span>
61:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004272">
                    
                    <a name="M004272"></a><b>name</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Document.html#M004271">expanded_name</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M004265">
                    
                    <a name="M004265"></a><b>node_type</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004265_source')" id="l_M004265_source">show</a>
                        
                    </p>
                    <div id="M004265_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 47</span>
47:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">node_type</span>
48:       <span class="ruby-identifier">:document</span>
49:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004287">
                    
                    <a name="M004287"></a><b>record_entity_expansion</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004287_source')" id="l_M004287_source">show</a>
                        
                    </p>
                    <div id="M004287_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 218</span>
218:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">record_entity_expansion</span>
219:       <span class="ruby-ivar">@entity_expansion_count</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
220:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@entity_expansion_count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@@entity_expansion_limit</span>
221:         <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;number of entity expansions exceeded, processing aborted.&quot;</span>
222:       <span class="ruby-keyword kw">end</span>
223:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004277">
                    
                    <a name="M004277"></a><b>root</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return the root <a href="Element.html">Element</a> of the document, or nil
if this document has no children.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004277_source')" id="l_M004277_source">show</a>
                        
                    </p>
                    <div id="M004277_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 106</span>
106:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">root</span>
107:       <span class="ruby-identifier">elements</span>[<span class="ruby-value">1</span>]
108:       <span class="ruby-comment cmt">#self</span>
109:       <span class="ruby-comment cmt">#@children.find { |item| item.kind_of? Element }</span>
110:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004282">
                    
                    <a name="M004282"></a><b>stand_alone?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return the <a href="XMLDecl.html">XMLDecl</a> standalone value of this
document as a <a href="../String.html">String</a>. If no <a
href="XMLDecl.html">XMLDecl</a> has been set, returns the default setting.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004282_source')" id="l_M004282_source">show</a>
                        
                    </p>
                    <div id="M004282_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 140</span>
140:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stand_alone?</span>
141:       <span class="ruby-identifier">xml_decl</span>().<span class="ruby-identifier">stand_alone?</span>
142:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004280">
                    
                    <a name="M004280"></a><b>version</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return the <a href="XMLDecl.html">XMLDecl</a> version of this document as
a <a href="../String.html">String</a>. If no <a
href="XMLDecl.html">XMLDecl</a> has been set, returns the default version.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004280_source')" id="l_M004280_source">show</a>
                        
                    </p>
                    <div id="M004280_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 128</span>
128:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">version</span>
129:       <span class="ruby-identifier">xml_decl</span>().<span class="ruby-identifier">version</span>
130:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004283">
                    
                    <a name="M004283"></a><b>write</b>( output=$stdout, indent=-1, trans=false, ie_hack=false )
                    
                </div>
                
                <div class="description">
                  <p>
Write the <a href="../XML.html">XML</a> tree out, optionally with indent.
This writes out the entire <a href="../XML.html">XML</a> document,
including <a href="../XML.html">XML</a> declarations, doctype declarations,
and processing instructions (if any are given).
</p>
<p>
A controversial point is whether <a href="Document.html">Document</a>
should always write the <a href="../XML.html">XML</a> declaration (<?xml
version=&#8217;1.0&#8217;?>) whether or not one is given by the user (or
source document). <a href="../REXML.html">REXML</a> does not write one if
one was not specified, because it adds unnecessary bandwidth to
applications such as XML-RPC.
</p>
<p>
See also the classes in the rexml/formatters package for the proper way to
change the default formatting of <a href="../XML.html">XML</a> output
</p>
<p>
<em>Examples</em>
</p>
<pre>
  Document.new(&quot;&lt;a&gt;&lt;b/&gt;&lt;/a&gt;&quot;).serialize

  output_string = &quot;&quot;
  tr = Transitive.new( output_string )
  Document.new(&quot;&lt;a&gt;&lt;b/&gt;&lt;/a&gt;&quot;).serialize( tr )
</pre>
<table>
<tr><td valign="top">output:</td><td>output an object which supports &#8217;<< string&#8217;; this is where the
document will be written.

</td></tr>
<tr><td valign="top">indent:</td><td>An integer. If -1, no indenting will be used; otherwise, the indentation
will be twice this number of spaces, and children will be indented an
additional amount. For a value of 3, every item will be indented 3 more
levels, or 6 more spaces (2 * 3). Defaults to -1

</td></tr>
<tr><td valign="top">trans:</td><td>If transitive is true and indent is >= 0, then the output will be
pretty-printed in such a way that the added whitespace does not affect the
absolute <b>value</b> of the document &#8212; that is, it leaves the value
and number of <a href="Text.html">Text</a> nodes in the document unchanged.

</td></tr>
<tr><td valign="top">ie_hack:</td><td>Internet Explorer is the worst piece of crap to have ever been written,
with the possible exception of Windows itself. Since IE is unable to parse
proper <a href="../XML.html">XML</a>, we have to provide a hack to generate
<a href="../XML.html">XML</a> that IE&#8217;s limited abilities can handle.
This hack inserts a space before the /> on empty tags. Defaults to false

</td></tr>
</table>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004283_source')" id="l_M004283_source">show</a>
                        
                    </p>
                    <div id="M004283_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 183</span>
183:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write</span>( <span class="ruby-identifier">output</span>=<span class="ruby-identifier">$stdout</span>, <span class="ruby-identifier">indent</span>=<span class="ruby-value">-1</span>, <span class="ruby-identifier">trans</span>=<span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">ie_hack</span>=<span class="ruby-keyword kw">false</span> )
184:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">xml_decl</span>.<span class="ruby-identifier">encoding</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;UTF-8&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">output</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Output</span>)
185:         <span class="ruby-identifier">output</span> = <span class="ruby-constant">Output</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">output</span>, <span class="ruby-identifier">xml_decl</span>.<span class="ruby-identifier">encoding</span> )
186:       <span class="ruby-keyword kw">end</span>
187:       <span class="ruby-identifier">formatter</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">indent</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>
188:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">trans</span>
189:             <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Transitive</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">indent</span>, <span class="ruby-identifier">ie_hack</span> )
190:           <span class="ruby-keyword kw">else</span>
191:             <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Pretty</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">indent</span>, <span class="ruby-identifier">ie_hack</span> )
192:           <span class="ruby-keyword kw">end</span>
193:         <span class="ruby-keyword kw">else</span>
194:           <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Default</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">ie_hack</span> )
195:         <span class="ruby-keyword kw">end</span>
196:       <span class="ruby-identifier">formatter</span>.<span class="ruby-identifier">write</span>( <span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">output</span> )
197:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004279">
                    
                    <a name="M004279"></a><b>xml_decl</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return the <a href="XMLDecl.html">XMLDecl</a> of this document; if no <a
href="XMLDecl.html">XMLDecl</a> has been set, the default declaration is
returned.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004279_source')" id="l_M004279_source">show</a>
                        
                    </p>
                    <div id="M004279_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 120</span>
120:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">xml_decl</span>
121:       <span class="ruby-identifier">rv</span> = <span class="ruby-ivar">@children</span>[<span class="ruby-value">0</span>]
122:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rv</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rv</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">XMLDecl</span>
123:       <span class="ruby-identifier">rv</span> = <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-constant">XMLDecl</span>.<span class="ruby-identifier">default</span>)[<span class="ruby-value">0</span>]
124:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M004288">
                    
                    <a name="M004288"></a><b>build</b>( source )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004288_source')" id="l_M004288_source">show</a>
                        
                    </p>
                    <div id="M004288_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 226</span>
226:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build</span>( <span class="ruby-identifier">source</span> )
227:       <span class="ruby-constant">Parsers</span><span class="ruby-operator">::</span><span class="ruby-constant">TreeParser</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">source</span>, <span class="ruby-keyword kw">self</span> ).<span class="ruby-identifier">parse</span>
228:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M004286">
                    
                    <a name="M004286"></a><b>entity_expansion_limit</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Get the entity expansion limit. By default the limit is set to 10000.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004286_source')" id="l_M004286_source">show</a>
                        
                    </p>
                    <div id="M004286_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 212</span>
212:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Document</span><span class="ruby-operator">::</span><span class="ruby-identifier">entity_expansion_limit</span>
213:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@@entity_expansion_limit</span>
214:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004285">
                    
                    <a name="M004285"></a><b>entity_expansion_limit=</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
<a href="../Set.html">Set</a> the entity expansion limit. By default the
limit is set to 10000.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004285_source')" id="l_M004285_source">show</a>
                        
                    </p>
                    <div id="M004285_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 207</span>
207:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Document</span><span class="ruby-operator">::</span><span class="ruby-identifier">entity_expansion_limit=</span>( <span class="ruby-identifier">val</span> )
208:       <span class="ruby-ivar">@@entity_expansion_limit</span> = <span class="ruby-identifier">val</span>
209:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004264">
                    
                    <a name="M004264"></a><b>new</b>( source = nil, context = {} )
                    
                </div>
                
                <div class="description">
                  <p>
Constructor @param source if supplied, must be a <a
href="Document.html">Document</a>, <a href="../String.html">String</a>, or
<a href="../IO.html">IO</a>. Documents have their context and <a
href="Element.html">Element</a> attributes cloned. Strings are expected to
be valid <a href="../XML.html">XML</a> documents. IOs are expected to be
sources of valid <a href="../XML.html">XML</a> documents. @param context if
supplied, contains the context of the document; this should be a <a
href="../Hash.html">Hash</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004264_source')" id="l_M004264_source">show</a>
                        
                    </p>
                    <div id="M004264_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 34</span>
34:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>( <span class="ruby-identifier">source</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">context</span> = {} )
35:       <span class="ruby-ivar">@entity_expansion_count</span> = <span class="ruby-value">0</span>
36:       <span class="ruby-keyword kw">super</span>()
37:       <span class="ruby-ivar">@context</span> = <span class="ruby-identifier">context</span>
38:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">source</span>.<span class="ruby-identifier">nil?</span>
39:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">source</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Document</span>
40:         <span class="ruby-ivar">@context</span> = <span class="ruby-identifier">source</span>.<span class="ruby-identifier">context</span>
41:         <span class="ruby-keyword kw">super</span> <span class="ruby-identifier">source</span>
42:       <span class="ruby-keyword kw">else</span>
43:         <span class="ruby-identifier">build</span>(  <span class="ruby-identifier">source</span> )
44:       <span class="ruby-keyword kw">end</span>
45:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004284">
                    
                    <a name="M004284"></a><b>parse_stream</b>( source, listener )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004284_source')" id="l_M004284_source">show</a>
                        
                    </p>
                    <div id="M004284_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/document.rb, line 200</span>
200:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Document</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_stream</span>( <span class="ruby-identifier">source</span>, <span class="ruby-identifier">listener</span> )
201:       <span class="ruby-constant">Parsers</span><span class="ruby-operator">::</span><span class="ruby-constant">StreamParser</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">source</span>, <span class="ruby-identifier">listener</span> ).<span class="ruby-identifier">parse</span>
202:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    