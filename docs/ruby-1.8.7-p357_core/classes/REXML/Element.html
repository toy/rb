<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>REXML::Element</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            REXML::Element 
            
                <span class="parent">&lt; 
                    
                    Parent
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/rexml/element_rb.html">lib/rexml/element.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Represents a tagged <a href="../XML.html">XML</a> element. <a
href="Elements.html">Elements</a> are characterized by having children,
attributes, and names, and can themselves be children.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M004412">__to_xpath_helper</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M004402">add_attribute</a>,</li>
                
                <li><a href="#M004403">add_attributes</a>,</li>
                
                <li><a href="#M004379">add_element</a>,</li>
                
                <li><a href="#M004376">add_namespace</a>,</li>
                
                <li><a href="#M004393">add_text</a>,</li>
                
                <li><a href="#M004400">attribute</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M004405">cdatas</a>,</li>
                
                <li><a href="#M004364">clone</a>,</li>
                
                <li><a href="#M004406">comments</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M004404">delete_attribute</a>,</li>
                
                <li><a href="#M004380">delete_element</a>,</li>
                
                <li><a href="#M004377">delete_namespace</a>,</li>
                
                <li><a href="#M004368">document</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M004385">each_element</a>,</li>
                
                <li><a href="#M004382">each_element_with_attribute</a>,</li>
                
                <li><a href="#M004383">each_element_with_text</a>,</li>
                
                <li><a href="#M004413">each_with_something</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M004386">get_elements</a>,</li>
                
                <li><a href="#M004391">get_text</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M004401">has_attributes?</a>,</li>
                
                <li><a href="#M004381">has_elements?</a>,</li>
                
                <li><a href="#M004389">has_text?</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M004370">ignore_whitespace_nodes</a>,</li>
                
                <li><a href="#M004360">inspect</a>,</li>
                
                <li><a href="#M004407">instructions</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M004375">namespace</a>,</li>
                
                <li><a href="#M004374">namespaces</a>,</li>
                
                <li><a href="#M004359">new</a>,</li>
                
                <li><a href="#M004387">next_element</a>,</li>
                
                <li><a href="#M004398">node_type</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M004373">prefixes</a>,</li>
                
                <li><a href="#M004388">previous_element</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M004372">raw</a>,</li>
                
                <li><a href="#M004367">root</a>,</li>
                
                <li><a href="#M004366">root_node</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M004390">text</a>,</li>
                
                <li><a href="#M004392">text=</a>,</li>
                
                <li><a href="#M004408">texts</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M004369">whitespace</a>,</li>
                
                <li><a href="#M004409">write</a></li>
                
            </ul>
        </dd>
    
        <dt>X</dt>
        <dd>
            <ul>
                
                <li><a href="#M004399">xpath</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="Light.html">REXML::Light</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">UNDEFINED</td>
            <td>=</td>
            <td class="attr-value">&quot;UNDEFINED&quot;;</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>attributes</td>
            <td class='attr-desc'><p>
Mechanisms for accessing attributes and child elements of this element.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>elements</td>
            <td class='attr-desc'><p>
Mechanisms for accessing attributes and child elements of this element.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>context</td>
            <td class='attr-desc'><p>
The context holds information about the processing environment, such as
whitespace handling.
</p></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M004402">
                    
                    <a name="M004402"></a><b>add_attribute</b>( key, value=nil )
                    
                </div>
                
                <div class="description">
                  <p>
Adds an attribute to this element, overwriting any existing attribute by
the same name.
</p>
<table>
<tr><td valign="top">key:</td><td>can be either an <a href="Attribute.html">Attribute</a> or a <a
href="../String.html">String</a>. If an <a
href="Attribute.html">Attribute</a>, the attribute is added to the list of
<a href="Element.html">Element</a> attributes. If <a
href="../String.html">String</a>, the argument is used as the name of the
new attribute, and the value parameter must be supplied.

</td></tr>
<tr><td valign="top">value:</td><td>Required if <tt>key</tt> is a <a href="../String.html">String</a>, and
ignored if the first argument is an <a href="Attribute.html">Attribute</a>.
This is a <a href="../String.html">String</a>, and is used as the value of
the new <a href="Attribute.html">Attribute</a>. This should be the
unnormalized value of the attribute (without entities).

</td></tr>
<tr><td valign="top">Returns:</td><td>the <a href="Attribute.html">Attribute</a> added

</td></tr>
</table>
<pre>
 e = Element.new 'e'
 e.add_attribute( 'a', 'b' )               #-&gt; &lt;e a='b'/&gt;
 e.add_attribute( 'x:a', 'c' )             #-&gt; &lt;e a='b' x:a='c'/&gt;
 e.add_attribute Attribute.new('b', 'd')   #-&gt; &lt;e a='b' x:a='c' b='d'/&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004402_source')" id="l_M004402_source">show</a>
                        
                    </p>
                    <div id="M004402_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 583</span>
583:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_attribute</span>( <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>=<span class="ruby-keyword kw">nil</span> )
584:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Attribute</span>
585:         <span class="ruby-ivar">@attributes</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">key</span>
586:       <span class="ruby-keyword kw">else</span>
587:         <span class="ruby-ivar">@attributes</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">value</span>
588:       <span class="ruby-keyword kw">end</span>
589:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004403">
                    
                    <a name="M004403"></a><b>add_attributes</b>(hash)
                    
                </div>
                
                <div class="description">
                  <p>
Add multiple attributes to this element.
</p>
<table>
<tr><td valign="top">hash:</td><td>is either a hash, or array of arrays

</td></tr>
</table>
<pre>
 el.add_attributes( {&quot;name1&quot;=&gt;&quot;value1&quot;, &quot;name2&quot;=&gt;&quot;value2&quot;} )
 el.add_attributes( [ [&quot;name1&quot;,&quot;value1&quot;], [&quot;name2&quot;=&gt;&quot;value2&quot;] ] )
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004403_source')" id="l_M004403_source">show</a>
                        
                    </p>
                    <div id="M004403_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 595</span>
595:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_attributes</span> <span class="ruby-identifier">hash</span>
596:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Hash</span>
597:         <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">each_pair</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@attributes</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">value</span> }
598:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Array</span>
599:         <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@attributes</span>[ <span class="ruby-identifier">value</span>[<span class="ruby-value">0</span>] ] = <span class="ruby-identifier">value</span>[<span class="ruby-value">1</span>] }
600:       <span class="ruby-keyword kw">end</span>
601:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004379">
                    
                    <a name="M004379"></a><b>add_element</b>(element, attrs=nil)
                    
                </div>
                
                <div class="description">
                  <p>
Adds a child to this element, optionally setting attributes in the element.
</p>
<table>
<tr><td valign="top">element:</td><td>optional. If <a href="Element.html">Element</a>, the element is added.
Otherwise, a new <a href="Element.html">Element</a> is constructed with the
argument (see Element.initialize).

</td></tr>
<tr><td valign="top">attrs:</td><td>If supplied, must be a <a href="../Hash.html">Hash</a> containing <a
href="../String.html">String</a> name,value pairs, which will be used to
set the attributes of the new <a href="Element.html">Element</a>.

</td></tr>
<tr><td valign="top">Returns:</td><td>the <a href="Element.html">Element</a> that was added

</td></tr>
</table>
<pre>
 el = doc.add_element 'my-tag'
 el = doc.add_element 'my-tag', {'attr1'=&gt;'val1', 'attr2'=&gt;'val2'}
 el = Element.new 'my-tag'
 doc.add_element el
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004379_source')" id="l_M004379_source">show</a>
                        
                    </p>
                    <div id="M004379_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 295</span>
295:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_element</span> <span class="ruby-identifier">element</span>, <span class="ruby-identifier">attrs</span>=<span class="ruby-keyword kw">nil</span>
296:       <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;First argument must be either an element name, or an Element object&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">nil?</span>
297:       <span class="ruby-identifier">el</span> = <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">add</span>(<span class="ruby-identifier">element</span>)
298:       <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
299:         <span class="ruby-identifier">el</span>.<span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">key</span>]=<span class="ruby-constant">Attribute</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">key</span>,<span class="ruby-identifier">value</span>,<span class="ruby-keyword kw">self</span>)
300:       <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Hash</span>
301:       <span class="ruby-identifier">el</span>
302:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004376">
                    
                    <a name="M004376"></a><b>add_namespace</b>( prefix, uri=nil )
                    
                </div>
                
                <div class="description">
                  <p>
Adds a namespace to this element.
</p>
<table>
<tr><td valign="top">prefix:</td><td>the prefix string, or the namespace <a href="../URI.html">URI</a> if
<tt>uri</tt> is not supplied

</td></tr>
<tr><td valign="top">uri:</td><td>the namespace <a href="../URI.html">URI</a>. May be nil, in which
<tt>prefix</tt> is used as the <a href="../URI.html">URI</a>

</td></tr>
</table>
<p>
Evaluates to: this <a href="Element.html">Element</a>
</p>
<pre>
 a = Element.new(&quot;a&quot;)
 a.add_namespace(&quot;xmlns:foo&quot;, &quot;bar&quot; )
 a.add_namespace(&quot;foo&quot;, &quot;bar&quot;)  # shorthand for previous line
 a.add_namespace(&quot;twiddle&quot;)
 puts a   #-&gt; &lt;a xmlns:foo='bar' xmlns='twiddle'/&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004376_source')" id="l_M004376_source">show</a>
                        
                    </p>
                    <div id="M004376_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 250</span>
250:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_namespace</span>( <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">uri</span>=<span class="ruby-keyword kw">nil</span> )
251:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">uri</span>
252:         <span class="ruby-ivar">@attributes</span>[<span class="ruby-value str">&quot;xmlns&quot;</span>] = <span class="ruby-identifier">prefix</span>
253:       <span class="ruby-keyword kw">else</span>
254:         <span class="ruby-identifier">prefix</span> = <span class="ruby-node">&quot;xmlns:#{prefix}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">prefix</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^xmlns:/</span>
255:         <span class="ruby-ivar">@attributes</span>[ <span class="ruby-identifier">prefix</span> ] = <span class="ruby-identifier">uri</span>
256:       <span class="ruby-keyword kw">end</span>
257:       <span class="ruby-keyword kw">self</span>
258:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004393">
                    
                    <a name="M004393"></a><b>add_text</b>( text )
                    
                </div>
                
                <div class="description">
                  <p>
A helper method to add a <a href="Text.html">Text</a> child. Actual <a
href="Text.html">Text</a> instances can be added with regular <a
href="Parent.html">Parent</a> methods, such as add() and <<()
</p>
<table>
<tr><td valign="top">text:</td><td>if a <a href="../String.html">String</a>, a new <a
href="Text.html">Text</a> instance is created and added to the parent. If
<a href="Text.html">Text</a>, the object is added directly.

</td></tr>
<tr><td valign="top">Returns:</td><td>this <a href="Element.html">Element</a>

</td></tr>
</table>
<pre>
 e = Element.new('a')          #-&gt; &lt;e/&gt;
 e.add_text 'foo'              #-&gt; &lt;e&gt;foo&lt;/e&gt;
 e.add_text Text.new(' bar')    #-&gt; &lt;e&gt;foo bar&lt;/e&gt;
</pre>
<p>
Note that at the end of this example, the branch has <b>3</b> nodes; the
&#8216;e&#8217; element and <b>2</b> <a href="Text.html">Text</a> node
children.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004393_source')" id="l_M004393_source">show</a>
                        
                    </p>
                    <div id="M004393_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 522</span>
522:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_text</span>( <span class="ruby-identifier">text</span> )
523:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">String</span> 
524:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@children</span>[<span class="ruby-value">-1</span>].<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Text</span>
525:           <span class="ruby-ivar">@children</span>[<span class="ruby-value">-1</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">text</span>
526:           <span class="ruby-keyword kw">return</span>
527:         <span class="ruby-keyword kw">end</span>
528:         <span class="ruby-identifier">text</span> = <span class="ruby-constant">Text</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">text</span>, <span class="ruby-identifier">whitespace</span>(), <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">raw</span>() )
529:       <span class="ruby-keyword kw">end</span>
530:       <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">text</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">nil?</span>
531:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>
532:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004400">
                    
                    <a name="M004400"></a><b>attribute</b>( name, namespace=nil )
                    
                </div>
                
                <div class="description">
                  <p>
<a href="Attributes.html">Attributes</a> #
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004400_source')" id="l_M004400_source">show</a>
                        
                    </p>
                    <div id="M004400_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 553</span>
553:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attribute</span>( <span class="ruby-identifier">name</span>, <span class="ruby-identifier">namespace</span>=<span class="ruby-keyword kw">nil</span> )
554:       <span class="ruby-identifier">prefix</span> = <span class="ruby-keyword kw">nil</span>
555:       <span class="ruby-identifier">prefix</span> = <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">namespace</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">namespace</span>
556:       <span class="ruby-identifier">prefix</span> = <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">prefix</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'xmlns'</span>
557:       <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">get_attribute</span>( <span class="ruby-node">&quot;#{prefix ? prefix + ':' : ''}#{name}&quot;</span> )
558:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004405">
                    
                    <a name="M004405"></a><b>cdatas</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Get an array of all <a href="CData.html">CData</a> children. IMMUTABLE
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004405_source')" id="l_M004405_source">show</a>
                        
                    </p>
                    <div id="M004405_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 627</span>
627:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cdatas</span>
628:       <span class="ruby-identifier">find_all</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">CData</span> }.<span class="ruby-identifier">freeze</span>
629:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004364">
                    
                    <a name="M004364"></a><b>clone</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Creates a shallow copy of self.
</p>
<pre>
  d = Document.new &quot;&lt;a&gt;&lt;b/&gt;&lt;b/&gt;&lt;c&gt;&lt;d/&gt;&lt;/c&gt;&lt;/a&gt;&quot;
  new_a = d.root.clone
  puts new_a  # =&gt; &quot;&lt;a/&gt;&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004364_source')" id="l_M004364_source">show</a>
                        
                    </p>
                    <div id="M004364_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 96</span>
96:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clone</span>
97:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">self</span>
98:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004406">
                    
                    <a name="M004406"></a><b>comments</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Get an array of all <a href="Comment.html">Comment</a> children. IMMUTABLE
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004406_source')" id="l_M004406_source">show</a>
                        
                    </p>
                    <div id="M004406_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 633</span>
633:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">comments</span>
634:       <span class="ruby-identifier">find_all</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Comment</span> }.<span class="ruby-identifier">freeze</span>
635:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004404">
                    
                    <a name="M004404"></a><b>delete_attribute</b>(key)
                    
                </div>
                
                <div class="description">
                  <p>
Removes an attribute
</p>
<table>
<tr><td valign="top">key:</td><td>either an <a href="Attribute.html">Attribute</a> or a <a
href="../String.html">String</a>. In either case, the attribute is found by
matching the attribute name to the argument, and then removed. If no
attribute is found, no action is taken.

</td></tr>
<tr><td valign="top">Returns:</td><td>the attribute removed, or nil if this <a href="Element.html">Element</a>
did not contain a matching attribute

</td></tr>
</table>
<pre>
 e = Element.new('E')
 e.add_attribute( 'name', 'Sean' )             #-&gt; &lt;E name='Sean'/&gt;
 r = e.add_attribute( 'sur:name', 'Russell' )  #-&gt; &lt;E name='Sean' sur:name='Russell'/&gt;
 e.delete_attribute( 'name' )                  #-&gt; &lt;E sur:name='Russell'/&gt;
 e.delete_attribute( r )                       #-&gt; &lt;E/&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004404_source')" id="l_M004404_source">show</a>
                        
                    </p>
                    <div id="M004404_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 616</span>
616:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_attribute</span>(<span class="ruby-identifier">key</span>)
617:       <span class="ruby-identifier">attr</span> = <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">get_attribute</span>(<span class="ruby-identifier">key</span>)
618:       <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">remove</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">nil?</span>
619:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004380">
                    
                    <a name="M004380"></a><b>delete_element</b>(element)
                    
                </div>
                
                <div class="description">
                  <p>
Deletes a child element.
</p>
<table>
<tr><td valign="top">element:</td><td>Must be an <tt>Element</tt>, <tt>String</tt>, or <tt>Integer</tt>. If <a
href="Element.html">Element</a>, the element is removed. If <a
href="../String.html">String</a>, the element is found (via <a
href="XPath.html">XPath</a>) and removed. <em>This means that any parent
can remove any descendant.<em> If <a href="../Integer.html">Integer</a>,
the <a href="Element.html">Element</a> indexed by that number will be
removed.

</td></tr>
<tr><td valign="top">Returns:</td><td>the element that was removed.

</td></tr>
</table>
<pre>
 doc.delete_element &quot;/a/b/c[@id='4']&quot;
 doc.delete_element doc.elements[&quot;//k&quot;]
 doc.delete_element 1
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004380_source')" id="l_M004380_source">show</a>
                        
                    </p>
                    <div id="M004380_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 315</span>
315:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_element</span> <span class="ruby-identifier">element</span>
316:       <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">element</span>
317:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004377">
                    
                    <a name="M004377"></a><b>delete_namespace</b>(namespace=&quot;xmlns&quot;)
                    
                </div>
                
                <div class="description">
                  <p>
Removes a namespace from this node. This only works if the namespace is
actually declared in this node. If no argument is passed, deletes the
default namespace.
</p>
<p>
Evaluates to: this element
</p>
<pre>
 doc = Document.new &quot;&lt;a xmlns:foo='bar' xmlns='twiddle'/&gt;&quot;
 doc.root.delete_namespace
 puts doc     # -&gt; &lt;a xmlns:foo='bar'/&gt;
 doc.root.delete_namespace 'foo'
 puts doc     # -&gt; &lt;a/&gt;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004377_source')" id="l_M004377_source">show</a>
                        
                    </p>
                    <div id="M004377_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 270</span>
270:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_namespace</span> <span class="ruby-identifier">namespace</span>=<span class="ruby-value str">&quot;xmlns&quot;</span>
271:       <span class="ruby-identifier">namespace</span> = <span class="ruby-node">&quot;xmlns:#{namespace}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">namespace</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'xmlns'</span>
272:       <span class="ruby-identifier">attribute</span> = <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">get_attribute</span>(<span class="ruby-identifier">namespace</span>)
273:       <span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">remove</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">nil?</span>
274:       <span class="ruby-keyword kw">self</span>
275:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004368">
                    
                    <a name="M004368"></a><b>document</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Evaluates to the document to which this element belongs, or nil if this
element doesn&#8217;t belong to a document.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004368_source')" id="l_M004368_source">show</a>
                        
                    </p>
                    <div id="M004368_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 131</span>
131:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">document</span>
132:       <span class="ruby-identifier">rt</span> = <span class="ruby-identifier">root</span>
133:       <span class="ruby-identifier">rt</span>.<span class="ruby-identifier">parent</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rt</span>
134:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004385">
                    
                    <a name="M004385"></a><b>each_element</b>( xpath=nil )
                    
                </div>
                
                <div class="description">
                  <p>
Synonym for <a href="Element.html#elements">Element.elements</a>.each
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004385_source')" id="l_M004385_source">show</a>
                        
                    </p>
                    <div id="M004385_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 392</span>
392:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_element</span>( <span class="ruby-identifier">xpath</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> ) <span class="ruby-comment cmt"># :yields: Element</span>
393:       <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">each</span>( <span class="ruby-identifier">xpath</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> )
394:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004382">
                    
                    <a name="M004382"></a><b>each_element_with_attribute</b>( key, value=nil, max=0, name=nil )
                    
                </div>
                
                <div class="description">
                  <p>
Iterates through the child elements, yielding for each <a
href="Element.html">Element</a> that has a particular attribute set.
</p>
<table>
<tr><td valign="top">key:</td><td>the name of the attribute to search for

</td></tr>
<tr><td valign="top">value:</td><td>the value of the attribute

</td></tr>
<tr><td valign="top">max:</td><td>(optional) causes this method to return after yielding for this number of
matching children

</td></tr>
<tr><td valign="top">name:</td><td>(optional) if supplied, this is an <a href="XPath.html">XPath</a> that
filters the children to check.

</td></tr>
</table>
<pre>
 doc = Document.new &quot;&lt;a&gt;&lt;b @id='1'/&gt;&lt;c @id='2'/&gt;&lt;d @id='1'/&gt;&lt;e/&gt;&lt;/a&gt;&quot;
 # Yields b, c, d
 doc.root.each_element_with_attribute( 'id' ) {|e| p e}
 # Yields b, d
 doc.root.each_element_with_attribute( 'id', '1' ) {|e| p e}
 # Yields b
 doc.root.each_element_with_attribute( 'id', '1', 1 ) {|e| p e}
 # Yields d
 doc.root.each_element_with_attribute( 'id', '1', 0, 'd' ) {|e| p e}
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004382_source')" id="l_M004382_source">show</a>
                        
                    </p>
                    <div id="M004382_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 350</span>
350:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_element_with_attribute</span>( <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">max</span>=<span class="ruby-value">0</span>, <span class="ruby-identifier">name</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> ) <span class="ruby-comment cmt"># :yields: Element</span>
351:       <span class="ruby-identifier">each_with_something</span>( <span class="ruby-identifier">proc</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span> 
352:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">nil?</span>
353:           <span class="ruby-identifier">child</span>.<span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
354:         <span class="ruby-keyword kw">else</span>
355:           <span class="ruby-identifier">child</span>.<span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">key</span>]<span class="ruby-operator">==</span><span class="ruby-identifier">value</span>
356:         <span class="ruby-keyword kw">end</span>
357:       }, <span class="ruby-identifier">max</span>, <span class="ruby-identifier">name</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> )
358:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004383">
                    
                    <a name="M004383"></a><b>each_element_with_text</b>( text=nil, max=0, name=nil )
                    
                </div>
                
                <div class="description">
                  <p>
Iterates through the children, yielding for each <a
href="Element.html">Element</a> that has a particular text set.
</p>
<table>
<tr><td valign="top">text:</td><td>the text to search for. If nil, or not supplied, will iterate over all
<tt>Element</tt> children that contain at least one <tt>Text</tt> node.

</td></tr>
<tr><td valign="top">max:</td><td>(optional) causes this method to return after yielding for this number of
matching children

</td></tr>
<tr><td valign="top">name:</td><td>(optional) if supplied, this is an <a href="XPath.html">XPath</a> that
filters the children to check.

</td></tr>
</table>
<pre>
 doc = Document.new '&lt;a&gt;&lt;b&gt;b&lt;/b&gt;&lt;c&gt;b&lt;/c&gt;&lt;d&gt;d&lt;/d&gt;&lt;e/&gt;&lt;/a&gt;'
 # Yields b, c, d
 doc.each_element_with_text {|e|p e}
 # Yields b, c
 doc.each_element_with_text('b'){|e|p e}
 # Yields b
 doc.each_element_with_text('b', 1){|e|p e}
 # Yields d
 doc.each_element_with_text(nil, 0, 'd'){|e|p e}
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004383_source')" id="l_M004383_source">show</a>
                        
                    </p>
                    <div id="M004383_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 381</span>
381:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_element_with_text</span>( <span class="ruby-identifier">text</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">max</span>=<span class="ruby-value">0</span>, <span class="ruby-identifier">name</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> ) <span class="ruby-comment cmt"># :yields: Element</span>
382:       <span class="ruby-identifier">each_with_something</span>( <span class="ruby-identifier">proc</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span> 
383:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">nil?</span>
384:           <span class="ruby-identifier">child</span>.<span class="ruby-identifier">has_text?</span>
385:         <span class="ruby-keyword kw">else</span>
386:           <span class="ruby-identifier">child</span>.<span class="ruby-identifier">text</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">text</span>
387:         <span class="ruby-keyword kw">end</span>
388:       }, <span class="ruby-identifier">max</span>, <span class="ruby-identifier">name</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> )
389:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004386">
                    
                    <a name="M004386"></a><b>get_elements</b>( xpath )
                    
                </div>
                
                <div class="description">
                  <p>
Synonym for Element.to_a This is a little slower than calling elements.each
directly.
</p>
<table>
<tr><td valign="top">xpath:</td><td>any <a href="XPath.html">XPath</a> by which to search for elements in the
tree

</td></tr>
<tr><td valign="top">Returns:</td><td>an array of <a href="Elements.html">Elements</a> that match the supplied
path

</td></tr>
</table>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004386_source')" id="l_M004386_source">show</a>
                        
                    </p>
                    <div id="M004386_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 400</span>
400:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_elements</span>( <span class="ruby-identifier">xpath</span> )
401:       <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">to_a</span>( <span class="ruby-identifier">xpath</span> )
402:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004391">
                    
                    <a name="M004391"></a><b>get_text</b>(path = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Returns the first child <a href="Text.html">Text</a> node, if any, or
<tt>nil</tt> otherwise. This method returns the actual <tt>Text</tt> node,
rather than the <a href="../String.html">String</a> content.
</p>
<pre>
 doc = Document.new &quot;&lt;p&gt;some text &lt;b&gt;this is bold!&lt;/b&gt; more text&lt;/p&gt;&quot;
 # The element 'p' has two text elements, &quot;some text &quot; and &quot; more text&quot;.
 doc.root.get_text.value            #-&gt; &quot;some text &quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004391_source')" id="l_M004391_source">show</a>
                        
                    </p>
                    <div id="M004391_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 461</span>
461:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_text</span> <span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span>
462:       <span class="ruby-identifier">rv</span> = <span class="ruby-keyword kw">nil</span>
463:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span>
464:         <span class="ruby-identifier">element</span> = <span class="ruby-ivar">@elements</span>[ <span class="ruby-identifier">path</span> ]
465:         <span class="ruby-identifier">rv</span> = <span class="ruby-identifier">element</span>.<span class="ruby-identifier">get_text</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">nil?</span>
466:       <span class="ruby-keyword kw">else</span>
467:         <span class="ruby-identifier">rv</span> = <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Text</span> }
468:       <span class="ruby-keyword kw">end</span>
469:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rv</span>
470:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004401">
                    
                    <a name="M004401"></a><b>has_attributes?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Evaluates to <tt>true</tt> if this element has any attributes set, false
otherwise.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004401_source')" id="l_M004401_source">show</a>
                        
                    </p>
                    <div id="M004401_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 562</span>
562:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_attributes?</span>
563:       <span class="ruby-keyword kw">return</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">empty?</span>
564:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004381">
                    
                    <a name="M004381"></a><b>has_elements?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Evaluates to <tt>true</tt> if this element has at least one child <a
href="Element.html">Element</a>
</p>
<pre>
 doc = Document.new &quot;&lt;a&gt;&lt;b/&gt;&lt;c&gt;Text&lt;/c&gt;&lt;/a&gt;&quot;
 doc.root.has_elements               # -&gt; true
 doc.elements[&quot;/a/b&quot;].has_elements   # -&gt; false
 doc.elements[&quot;/a/c&quot;].has_elements   # -&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004381_source')" id="l_M004381_source">show</a>
                        
                    </p>
                    <div id="M004381_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 324</span>
324:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_elements?</span>
325:       <span class="ruby-operator">!</span><span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">empty?</span>
326:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004389">
                    
                    <a name="M004389"></a><b>has_text?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Evaluates to <tt>true</tt> if this element has at least one <a
href="Text.html">Text</a> child
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004389_source')" id="l_M004389_source">show</a>
                        
                    </p>
                    <div id="M004389_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 432</span>
432:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_text?</span>
433:       <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">text</span>().<span class="ruby-identifier">nil?</span>
434:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004370">
                    
                    <a name="M004370"></a><b>ignore_whitespace_nodes</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004370_source')" id="l_M004370_source">show</a>
                        
                    </p>
                    <div id="M004370_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 161</span>
161:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ignore_whitespace_nodes</span>
162:       <span class="ruby-ivar">@ignore_whitespace_nodes</span> = <span class="ruby-keyword kw">false</span>
163:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@context</span>
164:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:ignore_whitespace_nodes</span>]
165:           <span class="ruby-ivar">@ignore_whitespace_nodes</span> = 
166:             (<span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:ignore_whitespace_nodes</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">:all</span> <span class="ruby-keyword kw">or</span>
167:              <span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:ignore_whitespace_nodes</span>].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">expanded_name</span>)
168:         <span class="ruby-keyword kw">end</span>
169:       <span class="ruby-keyword kw">end</span>
170:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004360">
                    
                    <a name="M004360"></a><b>inspect</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004360_source')" id="l_M004360_source">show</a>
                        
                    </p>
                    <div id="M004360_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 76</span>
76:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
77:       <span class="ruby-identifier">rv</span> = <span class="ruby-value str">&quot;&lt;#@expanded_name&quot;</span>
78: 
79:       <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">each_attribute</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span><span class="ruby-operator">|</span>
80:         <span class="ruby-identifier">rv</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot; &quot;</span>
81:         <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">write</span>( <span class="ruby-identifier">rv</span>, <span class="ruby-value">0</span> )
82:       <span class="ruby-keyword kw">end</span>
83: 
84:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">children</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
85:         <span class="ruby-identifier">rv</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&gt; ... &lt;/&gt;&quot;</span>
86:       <span class="ruby-keyword kw">else</span>
87:         <span class="ruby-identifier">rv</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;/&gt;&quot;</span>
88:       <span class="ruby-keyword kw">end</span>
89:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004407">
                    
                    <a name="M004407"></a><b>instructions</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Get an array of all <a href="Instruction.html">Instruction</a> children.
IMMUTABLE
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004407_source')" id="l_M004407_source">show</a>
                        
                    </p>
                    <div id="M004407_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 639</span>
639:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">instructions</span>
640:       <span class="ruby-identifier">find_all</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Instruction</span> }.<span class="ruby-identifier">freeze</span>
641:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004375">
                    
                    <a name="M004375"></a><b>namespace</b>(prefix=nil)
                    
                </div>
                
                <div class="description">
                  <p>
Evalutas to the <a href="../URI.html">URI</a> for a prefix, or the empty
string if no such namespace is declared for this element. Evaluates
recursively for ancestors. Returns the default namespace, if there is one.
</p>
<table>
<tr><td valign="top">prefix:</td><td>the prefix to search for. If not supplied, returns the default namespace if
one exists

</td></tr>
<tr><td valign="top">Returns:</td><td>the namespace <a href="../URI.html">URI</a> as a <a
href="../String.html">String</a>, or nil if no such namespace exists. If
the namespace is undefined, returns an empty string

</td></tr>
</table>
<pre>
 doc = Document.new(&quot;&lt;a xmlns='1' xmlns:y='2'&gt;&lt;b/&gt;&lt;c xmlns:z='3'/&gt;&lt;/a&gt;&quot;)
 b = doc.elements['//b']
 b.namespace           # -&gt; '1'
 b.namespace(&quot;y&quot;)      # -&gt; '2'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004375_source')" id="l_M004375_source">show</a>
                        
                    </p>
                    <div id="M004375_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 222</span>
222:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">namespace</span>(<span class="ruby-identifier">prefix</span>=<span class="ruby-keyword kw">nil</span>)
223:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">prefix</span>.<span class="ruby-identifier">nil?</span>
224:         <span class="ruby-identifier">prefix</span> = <span class="ruby-identifier">prefix</span>()
225:       <span class="ruby-keyword kw">end</span>
226:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">prefix</span> <span class="ruby-operator">==</span> <span class="ruby-value str">''</span>
227:         <span class="ruby-identifier">prefix</span> = <span class="ruby-value str">&quot;xmlns&quot;</span>
228:       <span class="ruby-keyword kw">else</span>
229:         <span class="ruby-identifier">prefix</span> = <span class="ruby-node">&quot;xmlns:#{prefix}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">prefix</span>[<span class="ruby-value">0</span>,<span class="ruby-value">5</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'xmlns'</span>
230:       <span class="ruby-keyword kw">end</span>
231:       <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">attributes</span>[ <span class="ruby-identifier">prefix</span> ]
232:       <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">namespace</span>(<span class="ruby-identifier">prefix</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">parent</span>
233:       <span class="ruby-identifier">ns</span> = <span class="ruby-value str">''</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">prefix</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'xmlns'</span>
234:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ns</span>
235:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004374">
                    
                    <a name="M004374"></a><b>namespaces</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004374_source')" id="l_M004374_source">show</a>
                        
                    </p>
                    <div id="M004374_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 202</span>
202:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">namespaces</span>
203:       <span class="ruby-identifier">namespaces</span> = {}
204:       <span class="ruby-identifier">namespaces</span> = <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">namespaces</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent</span>
205:       <span class="ruby-identifier">namespaces</span> = <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">merge</span>( <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">namespaces</span> )
206:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">namespaces</span>
207:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004387">
                    
                    <a name="M004387"></a><b>next_element</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the next sibling that is an element, or nil if there is no <a
href="Element.html">Element</a> sibling after this one
</p>
<pre>
 doc = Document.new '&lt;a&gt;&lt;b/&gt;text&lt;c/&gt;&lt;/a&gt;'
 doc.root.elements['b'].next_element          #-&gt; &lt;c/&gt;
 doc.root.elements['c'].next_element          #-&gt; nil
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004387_source')" id="l_M004387_source">show</a>
                        
                    </p>
                    <div id="M004387_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 409</span>
409:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">next_element</span>
410:       <span class="ruby-identifier">element</span> = <span class="ruby-identifier">next_sibling</span>
411:       <span class="ruby-identifier">element</span> = <span class="ruby-identifier">element</span>.<span class="ruby-identifier">next_sibling</span> <span class="ruby-keyword kw">until</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Element</span> 
412:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">element</span>
413:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004398">
                    
                    <a name="M004398"></a><b>node_type</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004398_source')" id="l_M004398_source">show</a>
                        
                    </p>
                    <div id="M004398_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 534</span>
534:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">node_type</span>
535:       <span class="ruby-identifier">:element</span>
536:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004373">
                    
                    <a name="M004373"></a><b>prefixes</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Evaluates to an <tt>Array</tt> containing the prefixes (names) of all
defined namespaces at this context node.
</p>
<pre>
 doc = Document.new(&quot;&lt;a xmlns:x='1' xmlns:y='2'&gt;&lt;b/&gt;&lt;c xmlns:z='3'/&gt;&lt;/a&gt;&quot;)
 doc.elements['//b'].prefixes # -&gt; ['x', 'y']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004373_source')" id="l_M004373_source">show</a>
                        
                    </p>
                    <div id="M004373_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 195</span>
195:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prefixes</span>
196:       <span class="ruby-identifier">prefixes</span> = []
197:       <span class="ruby-identifier">prefixes</span> = <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">prefixes</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent</span>
198:       <span class="ruby-identifier">prefixes</span> <span class="ruby-operator">|=</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">prefixes</span>
199:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">prefixes</span>
200:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004388">
                    
                    <a name="M004388"></a><b>previous_element</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the previous sibling that is an element, or nil if there is no <a
href="Element.html">Element</a> sibling prior to this one
</p>
<pre>
 doc = Document.new '&lt;a&gt;&lt;b/&gt;text&lt;c/&gt;&lt;/a&gt;'
 doc.root.elements['c'].previous_element          #-&gt; &lt;b/&gt;
 doc.root.elements['b'].previous_element          #-&gt; nil
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004388_source')" id="l_M004388_source">show</a>
                        
                    </p>
                    <div id="M004388_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 420</span>
420:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">previous_element</span>
421:       <span class="ruby-identifier">element</span> = <span class="ruby-identifier">previous_sibling</span>
422:       <span class="ruby-identifier">element</span> = <span class="ruby-identifier">element</span>.<span class="ruby-identifier">previous_sibling</span> <span class="ruby-keyword kw">until</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Element</span>
423:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">element</span>
424:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004372">
                    
                    <a name="M004372"></a><b>raw</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Evaluates to <tt>true</tt> if raw mode is set for this element. This is the
case if the context has :<tt>raw</tt> set to :<tt>all</tt> or an array
containing the name of this element.
</p>
<p>
The evaluation is tested against <tt>expanded_name</tt>, and so is
namespace sensitive.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004372_source')" id="l_M004372_source">show</a>
                        
                    </p>
                    <div id="M004372_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 178</span>
178:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">raw</span>
179:       <span class="ruby-ivar">@raw</span> = (<span class="ruby-ivar">@context</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:raw</span>] <span class="ruby-keyword kw">and</span>
180:               (<span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:raw</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">:all</span> <span class="ruby-keyword kw">or</span>
181:                <span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:raw</span>].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">expanded_name</span>))
182:                <span class="ruby-ivar">@raw</span>
183:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004367">
                    
                    <a name="M004367"></a><b>root</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004367_source')" id="l_M004367_source">show</a>
                        
                    </p>
                    <div id="M004367_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 123</span>
123:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">root</span>
124:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">elements</span>[<span class="ruby-value">1</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Document</span>
125:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Document</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">nil?</span>
126:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">root</span>
127:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004366">
                    
                    <a name="M004366"></a><b>root_node</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Evaluates to the root node of the document that this element belongs to. If
this element doesn&#8217;t belong to a document, but does belong to another
<a href="Element.html">Element</a>, the parent&#8217;s root will be
returned, until the earliest ancestor is found.
</p>
<p>
Note that this is not the same as the document element. In the following
example, <a> is the document element, and the root node is the parent node
of the document element. You may ask yourself why the root node is useful:
consider the doctype and <a href="../XML.html">XML</a> declaration, and any
processing instructions before the document element... they are children of
the root node, or siblings of the document element. The only time this
isn&#8217;t true is when an <a href="Element.html">Element</a> is created
that is not part of any <a href="Document.html">Document</a>. In this case,
the ancestor that has no parent acts as the root node.
</p>
<pre>
 d = Document.new '&lt;a&gt;&lt;b&gt;&lt;c/&gt;&lt;/b&gt;&lt;/a&gt;'
 a = d[1] ; c = a[1][1]
 d.root_node == d   # TRUE
 a.root_node        # namely, d
 c.root_node        # again, d
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004366_source')" id="l_M004366_source">show</a>
                        
                    </p>
                    <div id="M004366_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 119</span>
119:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">root_node</span>
120:       <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">self</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">root_node</span>
121:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004390">
                    
                    <a name="M004390"></a><b>text</b>( path = nil )
                    
                </div>
                
                <div class="description">
                  <p>
A convenience method which returns the <a href="../String.html">String</a>
value of the <em>first</em> child text element, if one exists, and
<tt>nil</tt> otherwise.
</p>
<p>
<em>Note that an element may have multiple <a href="Text.html">Text</a>
elements, perhaps separated by other children</em>. Be aware that this
method only returns the first <a href="Text.html">Text</a> node.
</p>
<p>
This method returns the <tt>value</tt> of the first text child node, which
ignores the <tt>raw</tt> setting, so always returns normalized text. See
the Text::value documentation.
</p>
<pre>
 doc = Document.new &quot;&lt;p&gt;some text &lt;b&gt;this is bold!&lt;/b&gt; more text&lt;/p&gt;&quot;
 # The element 'p' has two text elements, &quot;some text &quot; and &quot; more text&quot;.
 doc.root.text              #-&gt; &quot;some text &quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004390_source')" id="l_M004390_source">show</a>
                        
                    </p>
                    <div id="M004390_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 450</span>
450:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">text</span>( <span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span> )
451:       <span class="ruby-identifier">rv</span> = <span class="ruby-identifier">get_text</span>(<span class="ruby-identifier">path</span>)
452:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rv</span>.<span class="ruby-identifier">value</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">rv</span>.<span class="ruby-identifier">nil?</span>
453:       <span class="ruby-keyword kw">nil</span>
454:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004392">
                    
                    <a name="M004392"></a><b>text=</b>( text )
                    
                </div>
                
                <div class="description">
                  <p>
Sets the first <a href="Text.html">Text</a> child of this object. See
text() for a discussion about <a href="Text.html">Text</a> children.
</p>
<p>
If a <a href="Text.html">Text</a> child already exists, the child is
replaced by this content. This means that <a href="Text.html">Text</a>
content can be deleted by calling this method with a nil argument. In this
case, the next <a href="Text.html">Text</a> child becomes the first <a
href="Text.html">Text</a> child. In no case is the order of any siblings
disturbed.
</p>
<table>
<tr><td valign="top">text:</td><td>If a <a href="../String.html">String</a>, a new <a
href="Text.html">Text</a> child is created and added to this <a
href="Element.html">Element</a> as the first <a href="Text.html">Text</a>
child. If <a href="Text.html">Text</a>, the text is set as the first <a
href="Child.html">Child</a> element. If nil, then any existing first <a
href="Text.html">Text</a> child is removed.

</td></tr>
<tr><td valign="top">Returns:</td><td>this <a href="Element.html">Element</a>.

</td></tr>
</table>
<pre>
 doc = Document.new '&lt;a&gt;&lt;b/&gt;&lt;/a&gt;'
 doc.root.text = 'Sean'      #-&gt; '&lt;a&gt;&lt;b/&gt;Sean&lt;/a&gt;'
 doc.root.text = 'Elliott'   #-&gt; '&lt;a&gt;&lt;b/&gt;Elliott&lt;/a&gt;'
 doc.root.add_element 'c'    #-&gt; '&lt;a&gt;&lt;b/&gt;Elliott&lt;c/&gt;&lt;/a&gt;'
 doc.root.text = 'Russell'   #-&gt; '&lt;a&gt;&lt;b/&gt;Russell&lt;c/&gt;&lt;/a&gt;'
 doc.root.text = nil         #-&gt; '&lt;a&gt;&lt;b/&gt;&lt;c/&gt;&lt;/a&gt;'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004392_source')" id="l_M004392_source">show</a>
                        
                    </p>
                    <div id="M004392_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 492</span>
492:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">text=</span>( <span class="ruby-identifier">text</span> )
493:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">String</span>
494:         <span class="ruby-identifier">text</span> = <span class="ruby-constant">Text</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">text</span>, <span class="ruby-identifier">whitespace</span>(), <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">raw</span>() )
495:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">text</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-operator">!</span><span class="ruby-identifier">text</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Text</span>
496:         <span class="ruby-identifier">text</span> = <span class="ruby-constant">Text</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">text</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">whitespace</span>(), <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">raw</span>() )
497:       <span class="ruby-keyword kw">end</span>
498:       <span class="ruby-identifier">old_text</span> = <span class="ruby-identifier">get_text</span>
499:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">nil?</span>
500:         <span class="ruby-identifier">old_text</span>.<span class="ruby-identifier">remove</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">old_text</span>.<span class="ruby-identifier">nil?</span>
501:       <span class="ruby-keyword kw">else</span>
502:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">old_text</span>.<span class="ruby-identifier">nil?</span>
503:           <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">text</span>
504:         <span class="ruby-keyword kw">else</span>
505:           <span class="ruby-identifier">old_text</span>.<span class="ruby-identifier">replace_with</span>( <span class="ruby-identifier">text</span> )
506:         <span class="ruby-keyword kw">end</span>
507:       <span class="ruby-keyword kw">end</span>
508:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>
509:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004408">
                    
                    <a name="M004408"></a><b>texts</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Get an array of all <a href="Text.html">Text</a> children. IMMUTABLE
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004408_source')" id="l_M004408_source">show</a>
                        
                    </p>
                    <div id="M004408_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 645</span>
645:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">texts</span>
646:       <span class="ruby-identifier">find_all</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Text</span> }.<span class="ruby-identifier">freeze</span>
647:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004369">
                    
                    <a name="M004369"></a><b>whitespace</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Evaluates to <tt>true</tt> if whitespace is respected for this element.
This is the case if:
</p>
<ol>
<li>Neither :<tt>respect_whitespace</tt> nor :<tt>compress_whitespace</tt> has
any value

</li>
<li>The context has :<tt>respect_whitespace</tt> set to :<tt>all</tt> or an
array containing the name of this element, and
:<tt>compress_whitespace</tt> isn&#8217;t set to :<tt>all</tt> or an array
containing the name of this element.

</li>
</ol>
<p>
The evaluation is tested against <tt>expanded_name</tt>, and so is
namespace sensitive.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004369_source')" id="l_M004369_source">show</a>
                        
                    </p>
                    <div id="M004369_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 145</span>
145:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">whitespace</span>
146:       <span class="ruby-ivar">@whitespace</span> = <span class="ruby-keyword kw">nil</span>
147:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@context</span>
148:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:respect_whitespace</span>]
149:           <span class="ruby-ivar">@whitespace</span> = (<span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:respect_whitespace</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">:all</span> <span class="ruby-keyword kw">or</span>
150:                          <span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:respect_whitespace</span>].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">expanded_name</span>)
151:         <span class="ruby-keyword kw">end</span>
152:         <span class="ruby-ivar">@whitespace</span> = <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">if</span> (<span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:compress_whitespace</span>] <span class="ruby-keyword kw">and</span>
153:                                 (<span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:compress_whitespace</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">:all</span> <span class="ruby-keyword kw">or</span>
154:                                  <span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:compress_whitespace</span>].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">expanded_name</span>)
155:                                )
156:       <span class="ruby-keyword kw">end</span>
157:       <span class="ruby-ivar">@whitespace</span> = <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@whitespace</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
158:       <span class="ruby-ivar">@whitespace</span>
159:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004409">
                    
                    <a name="M004409"></a><b>write</b>(writer=$stdout, indent=-1, transitive=false, ie_hack=false)
                    
                </div>
                
                <div class="description">
                  <h2>DEPRECATED</h2>
<p>
See <a href="Formatters.html">REXML::Formatters</a>
</p>
<p>
Writes out this element, and recursively, all children.
</p>
<table>
<tr><td valign="top">output:</td><td>output an object which supports &#8217;<< string&#8217;; this is where the
document will be written.

</td></tr>
<tr><td valign="top">indent:</td><td>An integer. If -1, no indenting will be used; otherwise, the indentation
will be this number of spaces, and children will be indented an additional
amount. Defaults to -1

</td></tr>
<tr><td valign="top">transitive:</td><td>If transitive is true and indent is >= 0, then the output will be
pretty-printed in such a way that the added whitespace does not affect the
parse tree of the document

</td></tr>
<tr><td valign="top">ie_hack:</td><td>Internet Explorer is the worst piece of crap to have ever been written,
with the possible exception of Windows itself. Since IE is unable to parse
proper <a href="../XML.html">XML</a>, we have to provide a hack to generate
<a href="../XML.html">XML</a> that IE&#8217;s limited abilities can handle.
This hack inserts a space before the /> on empty tags. Defaults to false

</td></tr>
</table>
<pre>
 out = ''
 doc.write( out )     #-&gt; doc is written to the string 'out'
 doc.write( $stdout ) #-&gt; doc written to the console
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004409_source')" id="l_M004409_source">show</a>
                        
                    </p>
                    <div id="M004409_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 674</span>
674:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write</span>(<span class="ruby-identifier">writer</span>=<span class="ruby-identifier">$stdout</span>, <span class="ruby-identifier">indent</span>=<span class="ruby-value">-1</span>, <span class="ruby-identifier">transitive</span>=<span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">ie_hack</span>=<span class="ruby-keyword kw">false</span>)
675:       <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-node">&quot;#{self.class.name}.write is deprecated.  See REXML::Formatters&quot;</span>)
676:       <span class="ruby-identifier">formatter</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">indent</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>
677:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">transitive</span>
678:             <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Transitive</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">indent</span>, <span class="ruby-identifier">ie_hack</span> )
679:           <span class="ruby-keyword kw">else</span>
680:             <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Pretty</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">indent</span>, <span class="ruby-identifier">ie_hack</span> )
681:           <span class="ruby-keyword kw">end</span>
682:         <span class="ruby-keyword kw">else</span>
683:           <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Default</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">ie_hack</span> )
684:         <span class="ruby-keyword kw">end</span>
685:       <span class="ruby-identifier">formatter</span>.<span class="ruby-identifier">write</span>( <span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">output</span> )
686:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004399">
                    
                    <a name="M004399"></a><b>xpath</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004399_source')" id="l_M004399_source">show</a>
                        
                    </p>
                    <div id="M004399_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 538</span>
538:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">xpath</span>
539:       <span class="ruby-identifier">path_elements</span> = []
540:       <span class="ruby-identifier">cur</span> = <span class="ruby-keyword kw">self</span>
541:       <span class="ruby-identifier">path_elements</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">__to_xpath_helper</span>( <span class="ruby-keyword kw">self</span> )
542:       <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">cur</span>.<span class="ruby-identifier">parent</span>
543:         <span class="ruby-identifier">cur</span> = <span class="ruby-identifier">cur</span>.<span class="ruby-identifier">parent</span>
544:         <span class="ruby-identifier">path_elements</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">__to_xpath_helper</span>( <span class="ruby-identifier">cur</span> )
545:       <span class="ruby-keyword kw">end</span>
546:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">path_elements</span>.<span class="ruby-identifier">reverse</span>.<span class="ruby-identifier">join</span>( <span class="ruby-value str">&quot;/&quot;</span> )
547:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M004412">
                    
                    <a name="M004412"></a><b>__to_xpath_helper</b>(node)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004412_source')" id="l_M004412_source">show</a>
                        
                    </p>
                    <div id="M004412_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 690</span>
690:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">__to_xpath_helper</span> <span class="ruby-identifier">node</span>
691:       <span class="ruby-identifier">rv</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">expanded_name</span>.<span class="ruby-identifier">clone</span>
692:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>
693:         <span class="ruby-identifier">results</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">find_all</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> 
694:           <span class="ruby-identifier">n</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Element</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">expanded_name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">expanded_name</span> 
695:         }
696:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">results</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
697:           <span class="ruby-identifier">idx</span> = <span class="ruby-identifier">results</span>.<span class="ruby-identifier">index</span>( <span class="ruby-identifier">node</span> )
698:           <span class="ruby-identifier">rv</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;[#{idx+1}]&quot;</span>
699:         <span class="ruby-keyword kw">end</span>
700:       <span class="ruby-keyword kw">end</span>
701:       <span class="ruby-identifier">rv</span>
702:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004413">
                    
                    <a name="M004413"></a><b>each_with_something</b>( test, max=0, name=nil )
                    
                </div>
                
                <div class="description">
                  <p>
A private helper method
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004413_source')" id="l_M004413_source">show</a>
                        
                    </p>
                    <div id="M004413_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 705</span>
705:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_with_something</span>( <span class="ruby-identifier">test</span>, <span class="ruby-identifier">max</span>=<span class="ruby-value">0</span>, <span class="ruby-identifier">name</span>=<span class="ruby-keyword kw">nil</span> )
706:       <span class="ruby-identifier">num</span> = <span class="ruby-value">0</span>
707:       <span class="ruby-identifier">child</span>=<span class="ruby-keyword kw">nil</span>
708:       <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">each</span>( <span class="ruby-identifier">name</span> ){ <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span>
709:         <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">child</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">test</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">child</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">num</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
710:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">max</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">num</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">max</span>
711:       }
712:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M004359">
                    
                    <a name="M004359"></a><b>new</b>( arg = UNDEFINED, parent=nil, context=nil )
                    
                </div>
                
                <div class="description">
                  <p>
Constructor
</p>
<table>
<tr><td valign="top">arg:</td><td>if not supplied, will be set to the default value. If a <a
href="../String.html">String</a>, the name of this object will be set to
the argument. If an <a href="Element.html">Element</a>, the object will be
shallowly cloned; name, attributes, and namespaces will be copied. Children
will <tt>not</tt> be copied.

</td></tr>
<tr><td valign="top">parent:</td><td>if supplied, must be a <a href="Parent.html">Parent</a>, and will be used
as the parent of this object.

</td></tr>
<tr><td valign="top">context:</td><td>If supplied, must be a hash containing context items. Context items
include:

</td></tr>
</table>
<ul>
<li><tt>:respect_whitespace</tt> the value of this is :<tt>all</tt> or an array
of strings being the names of the elements to respect whitespace for.
Defaults to :<tt>all</tt>.

</li>
<li><tt>:compress_whitespace</tt> the value can be :<tt>all</tt> or an array of
strings being the names of the elements to ignore whitespace on. Overrides
:<tt>respect_whitespace</tt>.

</li>
<li><tt>:<a href="Element.html#M004370">ignore_whitespace_nodes</a></tt> the
value can be :<tt>all</tt> or an array of strings being the names of the
elements in which to ignore whitespace-only nodes. If this is set, <a
href="Text.html">Text</a> nodes which contain only whitespace will not be
added to the document tree.

</li>
<li><tt>:raw</tt> can be :<tt>all</tt>, or an array of strings being the names
of the elements to process in raw mode. In raw mode, special characters in
text is not converted to or from entities.

</li>
</ul>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004359_source')" id="l_M004359_source">show</a>
                        
                    </p>
                    <div id="M004359_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rexml/element.rb, line 58</span>
58:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>( <span class="ruby-identifier">arg</span> = <span class="ruby-constant">UNDEFINED</span>, <span class="ruby-identifier">parent</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">context</span>=<span class="ruby-keyword kw">nil</span> )
59:       <span class="ruby-keyword kw">super</span>(<span class="ruby-identifier">parent</span>)
60: 
61:       <span class="ruby-ivar">@elements</span> = <span class="ruby-constant">Elements</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
62:       <span class="ruby-ivar">@attributes</span> = <span class="ruby-constant">Attributes</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
63:       <span class="ruby-ivar">@context</span> = <span class="ruby-identifier">context</span>
64: 
65:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">String</span>
66:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">arg</span>
67:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Element</span>
68:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">expanded_name</span>
69:         <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">each_attribute</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">attribute</span><span class="ruby-operator">|</span>
70:           <span class="ruby-ivar">@attributes</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Attribute</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">attribute</span> )
71:         }
72:         <span class="ruby-ivar">@context</span> = <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">context</span>
73:       <span class="ruby-keyword kw">end</span>
74:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    