<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Matrix</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Matrix 
            
                <span class="parent">&lt; 
                    
                    <a href="Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/lib/matrix_rb.html">lib/matrix.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
The <tt>Matrix</tt> class represents a mathematical matrix, and provides
methods for creating special-case matrices (zero, identity, diagonal,
singular, vector), operating on them arithmetically and algebraically, and
determining their mathematical properties (trace, rank, inverse,
determinant).
</p>
<p>
Note that although matrices should theoretically be rectangular, this is
not enforced by the class.
</p>
<p>
Also note that the determinant of integer matrices may be incorrectly
calculated unless you also <tt>require 'mathn'</tt>. This may be fixed in
the future.
</p>
<h2><a href="Method.html">Method</a> Catalogue</h2>
<p>
To create a matrix:
</p>
<ul>
<li><tt> Matrix[*rows] </tt>

</li>
<li><tt> <a href="Matrix.html">Matrix</a>.[](*rows) </tt>

</li>
<li><tt> <a href="Matrix.html#M002433">Matrix.rows</a>(rows, copy = true) </tt>

</li>
<li><tt> <a href="Matrix.html#M002434">Matrix.columns(columns)</a> </tt>

</li>
<li><tt> <a href="Matrix.html#M002435">Matrix.diagonal(*values)</a> </tt>

</li>
<li><tt> <a href="Matrix.html#M002436">Matrix.scalar</a>(n, value) </tt>

</li>
<li><tt> <a href="Matrix.html#M002436">Matrix.scalar</a>(n, value) </tt>

</li>
<li><tt> <a href="Matrix.html#M002437">Matrix.identity(n)</a> </tt>

</li>
<li><tt> Matrix.unit(n) </tt>

</li>
<li><tt> Matrix.I(n) </tt>

</li>
<li><tt> <a href="Matrix.html#M002438">Matrix.zero(n)</a> </tt>

</li>
<li><tt> <a href="Matrix.html#M002439">Matrix.row_vector(row)</a> </tt>

</li>
<li><tt> <a href="Matrix.html#M002440">Matrix.column_vector(column)</a> </tt>

</li>
</ul>
<p>
To access <a href="Matrix.html">Matrix</a>
elements/columns/rows/submatrices/properties:
</p>
<ul>
<li><tt> [](i, j) </tt>

</li>
<li><tt> <a href="Matrix.html#M002444">row_size</a> </tt>

</li>
<li><tt> <a href="Matrix.html#M002445">column_size</a> </tt>

</li>
<li><tt> row(i) </tt>

</li>
<li><tt> column(j) </tt>

</li>
<li><tt> <a href="Matrix.html#M002448">collect</a> </tt>

</li>
<li><tt> <a href="Matrix.html#M002449">map</a> </tt>

</li>
<li><tt> minor(*param) </tt>

</li>
</ul>
<p>
Properties of a matrix:
</p>
<ul>
<li><tt> <a href="Matrix.html#M002451">regular?</a> </tt>

</li>
<li><tt> <a href="Matrix.html#M002452">singular?</a> </tt>

</li>
<li><tt> <a href="Matrix.html#M002453">square?</a> </tt>

</li>
</ul>
<p>
<a href="Matrix.html">Matrix</a> arithmetic:
</p>
<ul>
<li><tt> *(m) </tt>

</li>
<li><tt> +(m) </tt>

</li>
<li><tt> -(m) </tt>

</li>
<li><tt> #/(m) </tt>

</li>
<li><tt> <a href="Matrix.html#M002463">inverse</a> </tt>

</li>
<li><tt> <a href="Matrix.html#M002464">inv</a> </tt>

</li>
<li><tt> ** </tt>

</li>
</ul>
<p>
<a href="Matrix.html">Matrix</a> functions:
</p>
<ul>
<li><tt> <a href="Matrix.html#M002467">determinant</a> </tt>

</li>
<li><tt> <a href="Matrix.html#M002468">det</a> </tt>

</li>
<li><tt> <a href="Matrix.html#M002469">rank</a> </tt>

</li>
<li><tt> <a href="Matrix.html#M002470">trace</a> </tt>

</li>
<li><tt> <a href="Matrix.html#M002471">tr</a> </tt>

</li>
<li><tt> <a href="Matrix.html#M002472">transpose</a> </tt>

</li>
<li><tt> <a href="Matrix.html#M002473">t</a> </tt>

</li>
</ul>
<p>
Conversion to other data types:
</p>
<ul>
<li><tt> coerce(other) </tt>

</li>
<li><tt> <a href="Matrix.html#M002475">row_vectors</a> </tt>

</li>
<li><tt> <a href="Matrix.html#M002476">column_vectors</a> </tt>

</li>
<li><tt> <a href="Matrix.html#M002477">to_a</a> </tt>

</li>
</ul>
<p>
<a href="String.html">String</a> representations:
</p>
<ul>
<li><tt> <a href="Matrix.html#M002478">to_s</a> </tt>

</li>
<li><tt> <a href="Matrix.html#M002479">inspect</a> </tt>

</li>
</ul>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M002459">*</a>,</li>
                
                <li><a href="#M002466">**</a>,</li>
                
                <li><a href="#M002460">+</a>,</li>
                
                <li><a href="#M002461">-</a>,</li>
                
                <li><a href="#M002462">/</a>,</li>
                
                <li><a href="#M002454">==</a>,</li>
                
                <li><a href="#M002432">[]</a>,</li>
                
                <li><a href="#M002443">[]</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M002457">clone</a>,</li>
                
                <li><a href="#M002474">coerce</a>,</li>
                
                <li><a href="#M002448">collect</a>,</li>
                
                <li><a href="#M002447">column</a>,</li>
                
                <li><a href="#M002445">column_size</a>,</li>
                
                <li><a href="#M002440">column_vector</a>,</li>
                
                <li><a href="#M002476">column_vectors</a>,</li>
                
                <li><a href="#M002434">columns</a>,</li>
                
                <li><a href="#M002456">compare_by_row_vectors</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M002468">det</a>,</li>
                
                <li><a href="#M002467">determinant</a>,</li>
                
                <li><a href="#M002435">diagonal</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M002455">eql?</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M002458">hash</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M002437">identity</a>,</li>
                
                <li><a href="#M002442">init_rows</a>,</li>
                
                <li><a href="#M002479">inspect</a>,</li>
                
                <li><a href="#M002464">inv</a>,</li>
                
                <li><a href="#M002463">inverse</a>,</li>
                
                <li><a href="#M002465">inverse_from</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M002449">map</a>,</li>
                
                <li><a href="#M002450">minor</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M002441">new</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M002469">rank</a>,</li>
                
                <li><a href="#M002451">regular?</a>,</li>
                
                <li><a href="#M002446">row</a>,</li>
                
                <li><a href="#M002444">row_size</a>,</li>
                
                <li><a href="#M002439">row_vector</a>,</li>
                
                <li><a href="#M002475">row_vectors</a>,</li>
                
                <li><a href="#M002433">rows</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M002436">scalar</a>,</li>
                
                <li><a href="#M002452">singular?</a>,</li>
                
                <li><a href="#M002453">square?</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M002473">t</a>,</li>
                
                <li><a href="#M002477">to_a</a>,</li>
                
                <li><a href="#M002478">to_s</a>,</li>
                
                <li><a href="#M002471">tr</a>,</li>
                
                <li><a href="#M002470">trace</a>,</li>
                
                <li><a href="#M002472">transpose</a></li>
                
            </ul>
        </dd>
    
        <dt>Z</dt>
        <dd>
            <ul>
                
                <li><a href="#M002438">zero</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="RSS/Utils.html">RSS::Utils</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">CLASS</span> <a href="Matrix/Scalar.html">Matrix::Scalar</a></li>
        
    </ul>
    

    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M002459">
                    
                    <a name="M002459"></a><b>*</b>(m)
                    
                </div>
                
                <div class="description">
                  <p>
<a href="Matrix.html">Matrix</a> multiplication.
</p>
<pre>
  Matrix[[2,4], [6,8]] * Matrix.identity(2)
    =&gt; 2 4
       6 8
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002459_source')" id="l_M002459_source">show</a>
                        
                    </p>
                    <div id="M002459_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 451</span>
451:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">*</span>(<span class="ruby-identifier">m</span>) <span class="ruby-comment cmt"># m is matrix or vector or number</span>
452:     <span class="ruby-keyword kw">case</span>(<span class="ruby-identifier">m</span>)
453:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Numeric</span>
454:       <span class="ruby-identifier">rows</span> = <span class="ruby-ivar">@rows</span>.<span class="ruby-identifier">collect</span> {
455:         <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
456:         <span class="ruby-identifier">row</span>.<span class="ruby-identifier">collect</span> {
457:           <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
458:           <span class="ruby-identifier">e</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">m</span>
459:         }
460:       }
461:       <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">rows</span>(<span class="ruby-identifier">rows</span>, <span class="ruby-keyword kw">false</span>)
462:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Vector</span>
463:       <span class="ruby-identifier">m</span> = <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">column_vector</span>(<span class="ruby-identifier">m</span>)
464:       <span class="ruby-identifier">r</span> = <span class="ruby-keyword kw">self</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">m</span>
465:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">column</span>(<span class="ruby-value">0</span>)
466:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Matrix</span>
467:       <span class="ruby-constant">Matrix</span>.<span class="ruby-constant">Raise</span> <span class="ruby-constant">ErrDimensionMismatch</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">column_size</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">row_size</span>
468:     
469:       <span class="ruby-identifier">rows</span> = (<span class="ruby-value">0</span> <span class="ruby-operator">..</span> <span class="ruby-identifier">row_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">collect</span> {
470:         <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
471:         (<span class="ruby-value">0</span> <span class="ruby-operator">..</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">column_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">collect</span> {
472:           <span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span>
473:           <span class="ruby-identifier">vij</span> = <span class="ruby-value">0</span>
474:           <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">column_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-keyword kw">do</span>
475:             <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span>
476:             <span class="ruby-identifier">vij</span> <span class="ruby-operator">+=</span> <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">i</span>, <span class="ruby-identifier">k</span>] <span class="ruby-operator">*</span> <span class="ruby-identifier">m</span>[<span class="ruby-identifier">k</span>, <span class="ruby-identifier">j</span>]
477:           <span class="ruby-keyword kw">end</span>
478:           <span class="ruby-identifier">vij</span>
479:         }
480:       }
481:       <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">rows</span>(<span class="ruby-identifier">rows</span>, <span class="ruby-keyword kw">false</span>)
482:     <span class="ruby-keyword kw">else</span>
483:       <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span> = <span class="ruby-identifier">m</span>.<span class="ruby-identifier">coerce</span>(<span class="ruby-keyword kw">self</span>)
484:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">y</span>
485:     <span class="ruby-keyword kw">end</span>
486:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002466">
                    
                    <a name="M002466"></a><b>**</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
<a href="Matrix.html">Matrix</a> exponentiation. Defined for integer powers
only. Equivalent to multiplying the matrix by itself N times.
</p>
<pre>
  Matrix[[7,6], [3,9]] ** 2
    =&gt; 67 96
       48 99
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002466_source')" id="l_M002466_source">show</a>
                        
                    </p>
                    <div id="M002466_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 644</span>
644:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">**</span> (<span class="ruby-identifier">other</span>)
645:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Integer</span>)
646:       <span class="ruby-identifier">x</span> = <span class="ruby-keyword kw">self</span>
647:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">0</span>
648:         <span class="ruby-identifier">x</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">inverse</span>
649:         <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">identity</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">column_size</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
650:         <span class="ruby-identifier">other</span> = <span class="ruby-operator">-</span><span class="ruby-identifier">other</span>
651:       <span class="ruby-keyword kw">end</span>
652:       <span class="ruby-identifier">z</span> = <span class="ruby-identifier">x</span>
653:       <span class="ruby-identifier">n</span> = <span class="ruby-identifier">other</span>  <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
654:       <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">n</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
655:         <span class="ruby-keyword kw">while</span> (<span class="ruby-identifier">div</span>, <span class="ruby-identifier">mod</span> = <span class="ruby-identifier">n</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">2</span>)
656:                <span class="ruby-identifier">mod</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>)
657:           <span class="ruby-identifier">x</span> = <span class="ruby-identifier">x</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">x</span>
658:           <span class="ruby-identifier">n</span> = <span class="ruby-identifier">div</span>
659:         <span class="ruby-keyword kw">end</span>
660:         <span class="ruby-identifier">z</span> <span class="ruby-operator">*=</span> <span class="ruby-identifier">x</span>
661:         <span class="ruby-identifier">n</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span>
662:       <span class="ruby-keyword kw">end</span>
663:       <span class="ruby-identifier">z</span>
664:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Float</span>) <span class="ruby-operator">||</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-constant">Rational</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Rational</span>)
665:       <span class="ruby-constant">Matrix</span>.<span class="ruby-constant">Raise</span> <span class="ruby-constant">ErrOperationNotDefined</span>, <span class="ruby-value str">&quot;**&quot;</span>
666:     <span class="ruby-keyword kw">else</span>
667:       <span class="ruby-constant">Matrix</span>.<span class="ruby-constant">Raise</span> <span class="ruby-constant">ErrOperationNotDefined</span>, <span class="ruby-value str">&quot;**&quot;</span>
668:     <span class="ruby-keyword kw">end</span>
669:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002460">
                    
                    <a name="M002460"></a><b>+</b>(m)
                    
                </div>
                
                <div class="description">
                  <p>
<a href="Matrix.html">Matrix</a> addition.
</p>
<pre>
  Matrix.scalar(2,5) + Matrix[[1,0], [-4,7]]
    =&gt;  6  0
       -4 12
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002460_source')" id="l_M002460_source">show</a>
                        
                    </p>
                    <div id="M002460_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 494</span>
494:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">+</span>(<span class="ruby-identifier">m</span>)
495:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">m</span>
496:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Numeric</span>
497:       <span class="ruby-constant">Matrix</span>.<span class="ruby-constant">Raise</span> <span class="ruby-constant">ErrOperationNotDefined</span>, <span class="ruby-value str">&quot;+&quot;</span>
498:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Vector</span>
499:       <span class="ruby-identifier">m</span> = <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">column_vector</span>(<span class="ruby-identifier">m</span>)
500:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Matrix</span>
501:     <span class="ruby-keyword kw">else</span>
502:       <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span> = <span class="ruby-identifier">m</span>.<span class="ruby-identifier">coerce</span>(<span class="ruby-keyword kw">self</span>)
503:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">y</span>
504:     <span class="ruby-keyword kw">end</span>
505:     
506:     <span class="ruby-constant">Matrix</span>.<span class="ruby-constant">Raise</span> <span class="ruby-constant">ErrDimensionMismatch</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">row_size</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">row_size</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">column_size</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">column_size</span>
507:     
508:     <span class="ruby-identifier">rows</span> = (<span class="ruby-value">0</span> <span class="ruby-operator">..</span> <span class="ruby-identifier">row_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">collect</span> {
509:       <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
510:       (<span class="ruby-value">0</span> <span class="ruby-operator">..</span> <span class="ruby-identifier">column_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">collect</span> {
511:         <span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span>
512:         <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">i</span>, <span class="ruby-identifier">j</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">m</span>[<span class="ruby-identifier">i</span>, <span class="ruby-identifier">j</span>]
513:       }
514:     }
515:     <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">rows</span>(<span class="ruby-identifier">rows</span>, <span class="ruby-keyword kw">false</span>)
516:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002461">
                    
                    <a name="M002461"></a><b>-</b>(m)
                    
                </div>
                
                <div class="description">
                  <p>
<a href="Matrix.html">Matrix</a> subtraction.
</p>
<pre>
  Matrix[[1,5], [4,2]] - Matrix[[9,3], [-4,1]]
    =&gt; -8  2
        8  1
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002461_source')" id="l_M002461_source">show</a>
                        
                    </p>
                    <div id="M002461_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 524</span>
524:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">-</span>(<span class="ruby-identifier">m</span>)
525:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">m</span>
526:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Numeric</span>
527:       <span class="ruby-constant">Matrix</span>.<span class="ruby-constant">Raise</span> <span class="ruby-constant">ErrOperationNotDefined</span>, <span class="ruby-value str">&quot;-&quot;</span>
528:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Vector</span>
529:       <span class="ruby-identifier">m</span> = <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">column_vector</span>(<span class="ruby-identifier">m</span>)
530:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Matrix</span>
531:     <span class="ruby-keyword kw">else</span>
532:       <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span> = <span class="ruby-identifier">m</span>.<span class="ruby-identifier">coerce</span>(<span class="ruby-keyword kw">self</span>)
533:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">y</span>
534:     <span class="ruby-keyword kw">end</span>
535:     
536:     <span class="ruby-constant">Matrix</span>.<span class="ruby-constant">Raise</span> <span class="ruby-constant">ErrDimensionMismatch</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">row_size</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">row_size</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">column_size</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">m</span>.<span class="ruby-identifier">column_size</span>
537:     
538:     <span class="ruby-identifier">rows</span> = (<span class="ruby-value">0</span> <span class="ruby-operator">..</span> <span class="ruby-identifier">row_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">collect</span> {
539:       <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
540:       (<span class="ruby-value">0</span> <span class="ruby-operator">..</span> <span class="ruby-identifier">column_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">collect</span> {
541:         <span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span>
542:         <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">i</span>, <span class="ruby-identifier">j</span>] <span class="ruby-operator">-</span> <span class="ruby-identifier">m</span>[<span class="ruby-identifier">i</span>, <span class="ruby-identifier">j</span>]
543:       }
544:     }
545:     <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">rows</span>(<span class="ruby-identifier">rows</span>, <span class="ruby-keyword kw">false</span>)
546:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002462">
                    
                    <a name="M002462"></a><b>/</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
<a href="Matrix.html">Matrix</a> division (multiplication by the inverse).
</p>
<pre>
  Matrix[[7,6], [3,9]] / Matrix[[2,9], [3,1]]
    =&gt; -7  1
       -3 -6
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002462_source')" id="l_M002462_source">show</a>
                        
                    </p>
                    <div id="M002462_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 554</span>
554:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">/</span>(<span class="ruby-identifier">other</span>)
555:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">other</span>
556:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Numeric</span>
557:       <span class="ruby-identifier">rows</span> = <span class="ruby-ivar">@rows</span>.<span class="ruby-identifier">collect</span> {
558:         <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
559:         <span class="ruby-identifier">row</span>.<span class="ruby-identifier">collect</span> {
560:           <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
561:           <span class="ruby-identifier">e</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">other</span>
562:         }
563:       }
564:       <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">rows</span>(<span class="ruby-identifier">rows</span>, <span class="ruby-keyword kw">false</span>)
565:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Matrix</span>
566:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">inverse</span>
567:     <span class="ruby-keyword kw">else</span>
568:       <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span> = <span class="ruby-identifier">other</span>.<span class="ruby-identifier">coerce</span>(<span class="ruby-keyword kw">self</span>)
569:       <span class="ruby-identifier">rerurn</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">y</span>
570:     <span class="ruby-keyword kw">end</span>
571:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002454">
                    
                    <a name="M002454"></a><b>==</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if and only if the two matrices contain equal
elements.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Matrix.html#M002455">eql?</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002454_source')" id="l_M002454_source">show</a>
                        
                    </p>
                    <div id="M002454_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 400</span>
400:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">other</span>)
401:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">Matrix</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">other</span>
402:     
403:     <span class="ruby-identifier">other</span>.<span class="ruby-identifier">compare_by_row_vectors</span>(<span class="ruby-ivar">@rows</span>)
404:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002443">
                    
                    <a name="M002443"></a><b>[]</b>(i, j)
                    
                </div>
                
                <div class="description">
                  <p>
Returns element (<tt>i</tt>,<tt>j</tt>) of the matrix. That is: row
<tt>i</tt>, column <tt>j</tt>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002443_source')" id="l_M002443_source">show</a>
                        
                    </p>
                    <div id="M002443_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 265</span>
265:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">i</span>, <span class="ruby-identifier">j</span>)
266:     <span class="ruby-ivar">@rows</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">j</span>]
267:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002457">
                    
                    <a name="M002457"></a><b>clone</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a clone of the matrix, so that the contents of each do not
reference identical objects.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002457_source')" id="l_M002457_source">show</a>
                        
                    </p>
                    <div id="M002457_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 424</span>
424:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clone</span>
425:     <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">rows</span>(<span class="ruby-ivar">@rows</span>)
426:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002474">
                    
                    <a name="M002474"></a><b>coerce</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
FIXME: describe <a href="Matrix.html#M002474">coerce</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002474_source')" id="l_M002474_source">show</a>
                        
                    </p>
                    <div id="M002474_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 815</span>
815:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">coerce</span>(<span class="ruby-identifier">other</span>)
816:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">other</span>
817:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Numeric</span>
818:       <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Scalar</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">other</span>), <span class="ruby-keyword kw">self</span>
819:     <span class="ruby-keyword kw">else</span>
820:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-node">&quot;#{self.class} can't be coerced into #{other.class}&quot;</span>
821:     <span class="ruby-keyword kw">end</span>
822:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002448">
                    
                    <a name="M002448"></a><b>collect</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a matrix that is the result of iteration of the given block over
all elements of the matrix.
</p>
<pre>
  Matrix[ [1,2], [3,4] ].collect { |i| i**2 }
    =&gt; 1  4
       9 16
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Matrix.html#M002449">map</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002448_source')" id="l_M002448_source">show</a>
                        
                    </p>
                    <div id="M002448_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 327</span>
327:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">collect</span> <span class="ruby-comment cmt"># :yield: e</span>
328:     <span class="ruby-identifier">rows</span> = <span class="ruby-ivar">@rows</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">e</span>}}
329:     <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">rows</span>(<span class="ruby-identifier">rows</span>, <span class="ruby-keyword kw">false</span>)
330:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002447">
                    
                    <a name="M002447"></a><b>column</b>(j)
                    
                </div>
                
                <div class="description">
                  <p>
Returns column vector number <tt>j</tt> of the matrix as a <a
href="Vector.html">Vector</a> (starting at 0 like an array). When a block
is given, the elements of that vector are iterated.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002447_source')" id="l_M002447_source">show</a>
                        
                    </p>
                    <div id="M002447_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 305</span>
305:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">column</span>(<span class="ruby-identifier">j</span>) <span class="ruby-comment cmt"># :yield: e</span>
306:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
307:       <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">row_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-keyword kw">do</span>
308:         <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
309:         <span class="ruby-keyword kw">yield</span> <span class="ruby-ivar">@rows</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">j</span>]
310:       <span class="ruby-keyword kw">end</span>
311:     <span class="ruby-keyword kw">else</span>
312:       <span class="ruby-identifier">col</span> = (<span class="ruby-value">0</span> <span class="ruby-operator">..</span> <span class="ruby-identifier">row_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">collect</span> {
313:         <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
314:         <span class="ruby-ivar">@rows</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">j</span>]
315:       }
316:       <span class="ruby-constant">Vector</span>.<span class="ruby-identifier">elements</span>(<span class="ruby-identifier">col</span>, <span class="ruby-keyword kw">false</span>)
317:     <span class="ruby-keyword kw">end</span>
318:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002445">
                    
                    <a name="M002445"></a><b>column_size</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the number of columns. Note that it is possible to construct a
matrix with uneven columns (e.g. Matrix[ [1,2,3], [4,5] ]), but this is
mathematically unsound. This method uses the first row to determine the
result.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002445_source')" id="l_M002445_source">show</a>
                        
                    </p>
                    <div id="M002445_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 282</span>
282:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">column_size</span>
283:     <span class="ruby-ivar">@rows</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">size</span>
284:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002476">
                    
                    <a name="M002476"></a><b>column_vectors</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns an array of the column vectors of the matrix. See <a
href="Vector.html">Vector</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002476_source')" id="l_M002476_source">show</a>
                        
                    </p>
                    <div id="M002476_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 838</span>
838:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">column_vectors</span>
839:     <span class="ruby-identifier">columns</span> = (<span class="ruby-value">0</span> <span class="ruby-operator">..</span> <span class="ruby-identifier">column_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">collect</span> {
840:       <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
841:       <span class="ruby-identifier">column</span>(<span class="ruby-identifier">i</span>)
842:     }
843:     <span class="ruby-identifier">columns</span>
844:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002456">
                    
                    <a name="M002456"></a><b>compare_by_row_vectors</b>(rows)
                    
                </div>
                
                <div class="description">
                  <p>
Not really intended for general consumption.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002456_source')" id="l_M002456_source">show</a>
                        
                    </p>
                    <div id="M002456_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 410</span>
410:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">compare_by_row_vectors</span>(<span class="ruby-identifier">rows</span>)
411:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@rows</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">rows</span>.<span class="ruby-identifier">size</span>
412:     
413:     <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-ivar">@rows</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-keyword kw">do</span>
414:       <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
415:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@rows</span>[<span class="ruby-identifier">i</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">rows</span>[<span class="ruby-identifier">i</span>]
416:     <span class="ruby-keyword kw">end</span>
417:     <span class="ruby-keyword kw">true</span>
418:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002468">
                    
                    <a name="M002468"></a><b>det</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Matrix.html#M002467">determinant</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M002467">
                    
                    <a name="M002467"></a><b>determinant</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the determinant of the matrix. If the matrix is not square, the
result is 0.
</p>
<pre>
  Matrix[[7,6], [3,9]].determinant
    =&gt; 63
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Matrix.html#M002468">det</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002467_source')" id="l_M002467_source">show</a>
                        
                    </p>
                    <div id="M002467_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 681</span>
681:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">determinant</span>
682:     <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">square?</span>
683:     
684:     <span class="ruby-identifier">size</span> = <span class="ruby-identifier">row_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
685:     <span class="ruby-identifier">a</span> = <span class="ruby-identifier">to_a</span>
686:     
687:     <span class="ruby-identifier">det</span> = <span class="ruby-value">1</span>
688:     <span class="ruby-identifier">k</span> = <span class="ruby-value">0</span>
689:     <span class="ruby-keyword kw">begin</span> 
690:       <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">akk</span> = <span class="ruby-identifier">a</span>[<span class="ruby-identifier">k</span>][<span class="ruby-identifier">k</span>]) <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
691:         <span class="ruby-identifier">i</span> = <span class="ruby-identifier">k</span>
692:         <span class="ruby-keyword kw">begin</span>
693:           <span class="ruby-keyword kw">return</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>) <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">size</span>
694:         <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">a</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">k</span>] <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
695:         <span class="ruby-identifier">a</span>[<span class="ruby-identifier">i</span>], <span class="ruby-identifier">a</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">a</span>[<span class="ruby-identifier">k</span>], <span class="ruby-identifier">a</span>[<span class="ruby-identifier">i</span>]
696:         <span class="ruby-identifier">akk</span> = <span class="ruby-identifier">a</span>[<span class="ruby-identifier">k</span>][<span class="ruby-identifier">k</span>]
697:         <span class="ruby-identifier">det</span> <span class="ruby-operator">*=</span> <span class="ruby-value">-1</span>
698:       <span class="ruby-keyword kw">end</span>
699:       (<span class="ruby-identifier">k</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">size</span>) <span class="ruby-keyword kw">do</span>
700:         <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
701:         <span class="ruby-identifier">q</span> = <span class="ruby-identifier">a</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">k</span>] <span class="ruby-operator">/</span> <span class="ruby-identifier">akk</span>
702:         (<span class="ruby-identifier">k</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">size</span>) <span class="ruby-keyword kw">do</span>
703:           <span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span>
704:           <span class="ruby-identifier">a</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">j</span>] <span class="ruby-operator">-=</span> <span class="ruby-identifier">a</span>[<span class="ruby-identifier">k</span>][<span class="ruby-identifier">j</span>] <span class="ruby-operator">*</span> <span class="ruby-identifier">q</span>
705:         <span class="ruby-keyword kw">end</span>
706:       <span class="ruby-keyword kw">end</span>
707:       <span class="ruby-identifier">det</span> <span class="ruby-operator">*=</span> <span class="ruby-identifier">akk</span>
708:     <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">while</span> (<span class="ruby-identifier">k</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>) <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">size</span>
709:     <span class="ruby-identifier">det</span>
710:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002455">
                    
                    <a name="M002455"></a><b>eql?</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for #==
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M002458">
                    
                    <a name="M002458"></a><b>hash</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a hash-code for the matrix.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002458_source')" id="l_M002458_source">show</a>
                        
                    </p>
                    <div id="M002458_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 431</span>
431:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hash</span>
432:     <span class="ruby-identifier">value</span> = <span class="ruby-value">0</span>
433:     <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">row</span> <span class="ruby-keyword kw">in</span> <span class="ruby-ivar">@rows</span>
434:       <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">e</span> <span class="ruby-keyword kw">in</span> <span class="ruby-identifier">row</span>
435:         <span class="ruby-identifier">value</span> <span class="ruby-operator">^=</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">hash</span>
436:       <span class="ruby-keyword kw">end</span>
437:     <span class="ruby-keyword kw">end</span>
438:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">value</span>
439:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002479">
                    
                    <a name="M002479"></a><b>inspect</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Overrides <a href="Object.html#M000745">Object#inspect</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002479_source')" id="l_M002479_source">show</a>
                        
                    </p>
                    <div id="M002479_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 870</span>
870:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
871:     <span class="ruby-value str">&quot;Matrix&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@rows</span>.<span class="ruby-identifier">inspect</span>
872:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002464">
                    
                    <a name="M002464"></a><b>inv</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Matrix.html#M002463">inverse</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M002463">
                    
                    <a name="M002463"></a><b>inverse</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the inverse of the matrix.
</p>
<pre>
  Matrix[[1, 2], [2, 1]].inverse
    =&gt; -1  1
        0 -1
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Matrix.html#M002464">inv</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002463_source')" id="l_M002463_source">show</a>
                        
                    </p>
                    <div id="M002463_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 579</span>
579:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inverse</span>
580:     <span class="ruby-constant">Matrix</span>.<span class="ruby-constant">Raise</span> <span class="ruby-constant">ErrDimensionMismatch</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">square?</span>
581:     <span class="ruby-constant">Matrix</span>.<span class="ruby-constant">I</span>(<span class="ruby-identifier">row_size</span>).<span class="ruby-identifier">inverse_from</span>(<span class="ruby-keyword kw">self</span>)
582:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002465">
                    
                    <a name="M002465"></a><b>inverse_from</b>(src)
                    
                </div>
                
                <div class="description">
                  <p>
Not for public consumption?
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002465_source')" id="l_M002465_source">show</a>
                        
                    </p>
                    <div id="M002465_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 588</span>
588:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inverse_from</span>(<span class="ruby-identifier">src</span>)
589:     <span class="ruby-identifier">size</span> = <span class="ruby-identifier">row_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
590:     <span class="ruby-identifier">a</span> = <span class="ruby-identifier">src</span>.<span class="ruby-identifier">to_a</span>
591:     
592:     <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">k</span> <span class="ruby-keyword kw">in</span> <span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-identifier">size</span>
593:       <span class="ruby-identifier">i</span> = <span class="ruby-identifier">k</span>
594:       <span class="ruby-identifier">akk</span> = <span class="ruby-identifier">a</span>[<span class="ruby-identifier">k</span>][<span class="ruby-identifier">k</span>].<span class="ruby-identifier">abs</span>
595:       <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">j</span> <span class="ruby-keyword kw">in</span> (<span class="ruby-identifier">k</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>)<span class="ruby-operator">..</span><span class="ruby-identifier">size</span>
596:         <span class="ruby-identifier">v</span> = <span class="ruby-identifier">a</span>[<span class="ruby-identifier">j</span>][<span class="ruby-identifier">k</span>].<span class="ruby-identifier">abs</span>
597:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">akk</span>
598:           <span class="ruby-identifier">i</span> = <span class="ruby-identifier">j</span>
599:           <span class="ruby-identifier">akk</span> = <span class="ruby-identifier">v</span>
600:         <span class="ruby-keyword kw">end</span>
601:       <span class="ruby-keyword kw">end</span>
602:       <span class="ruby-constant">Matrix</span>.<span class="ruby-constant">Raise</span> <span class="ruby-constant">ErrNotRegular</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">akk</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
603:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">k</span>
604:         <span class="ruby-identifier">a</span>[<span class="ruby-identifier">i</span>], <span class="ruby-identifier">a</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">a</span>[<span class="ruby-identifier">k</span>], <span class="ruby-identifier">a</span>[<span class="ruby-identifier">i</span>]
605:         <span class="ruby-ivar">@rows</span>[<span class="ruby-identifier">i</span>], <span class="ruby-ivar">@rows</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-ivar">@rows</span>[<span class="ruby-identifier">k</span>], <span class="ruby-ivar">@rows</span>[<span class="ruby-identifier">i</span>]
606:       <span class="ruby-keyword kw">end</span>
607:       <span class="ruby-identifier">akk</span> = <span class="ruby-identifier">a</span>[<span class="ruby-identifier">k</span>][<span class="ruby-identifier">k</span>]
608:       
609:       <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">i</span> <span class="ruby-keyword kw">in</span> <span class="ruby-value">0</span> <span class="ruby-operator">..</span> <span class="ruby-identifier">size</span>
610:         <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">k</span>
611:         <span class="ruby-identifier">q</span> = <span class="ruby-identifier">a</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">k</span>] <span class="ruby-operator">/</span> <span class="ruby-identifier">akk</span>
612:         <span class="ruby-identifier">a</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">k</span>] = <span class="ruby-value">0</span>
613:         
614:         (<span class="ruby-identifier">k</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">size</span>) <span class="ruby-keyword kw">do</span>   
615:           <span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span>
616:           <span class="ruby-identifier">a</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">j</span>] <span class="ruby-operator">-=</span> <span class="ruby-identifier">a</span>[<span class="ruby-identifier">k</span>][<span class="ruby-identifier">j</span>] <span class="ruby-operator">*</span> <span class="ruby-identifier">q</span>
617:         <span class="ruby-keyword kw">end</span>
618:         <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">size</span>) <span class="ruby-keyword kw">do</span>
619:           <span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span>
620:           <span class="ruby-ivar">@rows</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">j</span>] <span class="ruby-operator">-=</span> <span class="ruby-ivar">@rows</span>[<span class="ruby-identifier">k</span>][<span class="ruby-identifier">j</span>] <span class="ruby-operator">*</span> <span class="ruby-identifier">q</span>
621:         <span class="ruby-keyword kw">end</span>
622:       <span class="ruby-keyword kw">end</span>
623:       
624:       (<span class="ruby-identifier">k</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">size</span>) <span class="ruby-keyword kw">do</span>
625:         <span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span>
626:         <span class="ruby-identifier">a</span>[<span class="ruby-identifier">k</span>][<span class="ruby-identifier">j</span>] <span class="ruby-operator">/=</span> <span class="ruby-identifier">akk</span>
627:       <span class="ruby-keyword kw">end</span>
628:       <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">size</span>) <span class="ruby-keyword kw">do</span>
629:         <span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span>
630:         <span class="ruby-ivar">@rows</span>[<span class="ruby-identifier">k</span>][<span class="ruby-identifier">j</span>] <span class="ruby-operator">/=</span> <span class="ruby-identifier">akk</span>
631:       <span class="ruby-keyword kw">end</span>
632:     <span class="ruby-keyword kw">end</span>
633:     <span class="ruby-keyword kw">self</span>
634:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002449">
                    
                    <a name="M002449"></a><b>map</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Matrix.html#M002448">collect</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M002450">
                    
                    <a name="M002450"></a><b>minor</b>(*param)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a section of the matrix. The parameters are either:
</p>
<ul>
<li>start_row, nrows, start_col, ncols; OR

</li>
<li>col_range, row_range

</li>
</ul>
<pre>
  Matrix.diagonal(9, 5, -3).minor(0..1, 0..2)
    =&gt; 9 0 0
       0 5 0
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002450_source')" id="l_M002450_source">show</a>
                        
                    </p>
                    <div id="M002450_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 342</span>
342:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">minor</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">param</span>)
343:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">param</span>.<span class="ruby-identifier">size</span>
344:     <span class="ruby-keyword kw">when</span> <span class="ruby-value">2</span>
345:       <span class="ruby-identifier">from_row</span> = <span class="ruby-identifier">param</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">first</span>
346:       <span class="ruby-identifier">size_row</span> = <span class="ruby-identifier">param</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">end</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">from_row</span>
347:       <span class="ruby-identifier">size_row</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">param</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">exclude_end?</span>
348:       <span class="ruby-identifier">from_col</span> = <span class="ruby-identifier">param</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">first</span>
349:       <span class="ruby-identifier">size_col</span> = <span class="ruby-identifier">param</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">end</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">from_col</span>
350:       <span class="ruby-identifier">size_col</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">param</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">exclude_end?</span>
351:     <span class="ruby-keyword kw">when</span> <span class="ruby-value">4</span>
352:       <span class="ruby-identifier">from_row</span> = <span class="ruby-identifier">param</span>[<span class="ruby-value">0</span>]
353:       <span class="ruby-identifier">size_row</span> = <span class="ruby-identifier">param</span>[<span class="ruby-value">1</span>]
354:       <span class="ruby-identifier">from_col</span> = <span class="ruby-identifier">param</span>[<span class="ruby-value">2</span>]
355:       <span class="ruby-identifier">size_col</span> = <span class="ruby-identifier">param</span>[<span class="ruby-value">3</span>]
356:     <span class="ruby-keyword kw">else</span>
357:       <span class="ruby-constant">Matrix</span>.<span class="ruby-constant">Raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-identifier">param</span>.<span class="ruby-identifier">inspect</span>
358:     <span class="ruby-keyword kw">end</span>
359:     
360:     <span class="ruby-identifier">rows</span> = <span class="ruby-ivar">@rows</span>[<span class="ruby-identifier">from_row</span>, <span class="ruby-identifier">size_row</span>].<span class="ruby-identifier">collect</span>{
361:       <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
362:       <span class="ruby-identifier">row</span>[<span class="ruby-identifier">from_col</span>, <span class="ruby-identifier">size_col</span>]
363:     }
364:     <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">rows</span>(<span class="ruby-identifier">rows</span>, <span class="ruby-keyword kw">false</span>)
365:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002469">
                    
                    <a name="M002469"></a><b>rank</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the rank of the matrix. Beware that using <a
href="Float.html">Float</a> values, with their usual lack of precision, can
affect the value returned by this method. Use <a
href="Rational.html">Rational</a> values instead if this is important to
you.
</p>
<pre>
  Matrix[[7,6], [3,9]].rank
    =&gt; 2
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002469_source')" id="l_M002469_source">show</a>
                        
                    </p>
                    <div id="M002469_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 720</span>
720:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rank</span>
721:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">column_size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">row_size</span>
722:       <span class="ruby-identifier">a</span> = <span class="ruby-identifier">transpose</span>.<span class="ruby-identifier">to_a</span>
723:       <span class="ruby-identifier">a_column_size</span> = <span class="ruby-identifier">row_size</span>
724:       <span class="ruby-identifier">a_row_size</span> = <span class="ruby-identifier">column_size</span>
725:     <span class="ruby-keyword kw">else</span>
726:       <span class="ruby-identifier">a</span> = <span class="ruby-identifier">to_a</span>
727:       <span class="ruby-identifier">a_column_size</span> = <span class="ruby-identifier">column_size</span>
728:       <span class="ruby-identifier">a_row_size</span> = <span class="ruby-identifier">row_size</span>
729:     <span class="ruby-keyword kw">end</span>
730:     <span class="ruby-identifier">rank</span> = <span class="ruby-value">0</span>
731:     <span class="ruby-identifier">k</span> = <span class="ruby-value">0</span>
732:     <span class="ruby-keyword kw">begin</span>
733:       <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">akk</span> = <span class="ruby-identifier">a</span>[<span class="ruby-identifier">k</span>][<span class="ruby-identifier">k</span>]) <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
734:         <span class="ruby-identifier">i</span> = <span class="ruby-identifier">k</span>
735:         <span class="ruby-identifier">exists</span> = <span class="ruby-keyword kw">true</span>
736:         <span class="ruby-keyword kw">begin</span>
737:           <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>) <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">a_column_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
738:             <span class="ruby-identifier">exists</span> = <span class="ruby-keyword kw">false</span>
739:             <span class="ruby-keyword kw">break</span>
740:           <span class="ruby-keyword kw">end</span>
741:         <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">a</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">k</span>] <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
742:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">exists</span>
743:           <span class="ruby-identifier">a</span>[<span class="ruby-identifier">i</span>], <span class="ruby-identifier">a</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">a</span>[<span class="ruby-identifier">k</span>], <span class="ruby-identifier">a</span>[<span class="ruby-identifier">i</span>]
744:           <span class="ruby-identifier">akk</span> = <span class="ruby-identifier">a</span>[<span class="ruby-identifier">k</span>][<span class="ruby-identifier">k</span>]
745:         <span class="ruby-keyword kw">else</span>
746:           <span class="ruby-identifier">i</span> = <span class="ruby-identifier">k</span>
747:           <span class="ruby-identifier">exists</span> = <span class="ruby-keyword kw">true</span>
748:           <span class="ruby-keyword kw">begin</span>
749:             <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>) <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">a_row_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
750:               <span class="ruby-identifier">exists</span> = <span class="ruby-keyword kw">false</span>
751:               <span class="ruby-keyword kw">break</span>
752:             <span class="ruby-keyword kw">end</span>
753:           <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">a</span>[<span class="ruby-identifier">k</span>][<span class="ruby-identifier">i</span>] <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
754:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">exists</span>
755:             <span class="ruby-identifier">k</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">a_column_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-keyword kw">do</span>
756:               <span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span>
757:               <span class="ruby-identifier">a</span>[<span class="ruby-identifier">j</span>][<span class="ruby-identifier">k</span>], <span class="ruby-identifier">a</span>[<span class="ruby-identifier">j</span>][<span class="ruby-identifier">i</span>] = <span class="ruby-identifier">a</span>[<span class="ruby-identifier">j</span>][<span class="ruby-identifier">i</span>], <span class="ruby-identifier">a</span>[<span class="ruby-identifier">j</span>][<span class="ruby-identifier">k</span>]
758:             <span class="ruby-keyword kw">end</span>
759:             <span class="ruby-identifier">akk</span> = <span class="ruby-identifier">a</span>[<span class="ruby-identifier">k</span>][<span class="ruby-identifier">k</span>]
760:           <span class="ruby-keyword kw">else</span>
761:             <span class="ruby-keyword kw">next</span>
762:           <span class="ruby-keyword kw">end</span>
763:         <span class="ruby-keyword kw">end</span>
764:       <span class="ruby-keyword kw">end</span>
765:       (<span class="ruby-identifier">k</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">a_row_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-keyword kw">do</span>
766:         <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
767:         <span class="ruby-identifier">q</span> = <span class="ruby-identifier">a</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">k</span>] <span class="ruby-operator">/</span> <span class="ruby-identifier">akk</span>
768:         (<span class="ruby-identifier">k</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">a_column_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-keyword kw">do</span>
769:           <span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span>
770:           <span class="ruby-identifier">a</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">j</span>] <span class="ruby-operator">-=</span> <span class="ruby-identifier">a</span>[<span class="ruby-identifier">k</span>][<span class="ruby-identifier">j</span>] <span class="ruby-operator">*</span> <span class="ruby-identifier">q</span>
771:         <span class="ruby-keyword kw">end</span>
772:       <span class="ruby-keyword kw">end</span>
773:       <span class="ruby-identifier">rank</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
774:     <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">while</span> (<span class="ruby-identifier">k</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>) <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">a_column_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
775:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rank</span>
776:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002451">
                    
                    <a name="M002451"></a><b>regular?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if this is a regular matrix.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002451_source')" id="l_M002451_source">show</a>
                        
                    </p>
                    <div id="M002451_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 374</span>
374:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">regular?</span>
375:     <span class="ruby-identifier">square?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">rank</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">column_size</span>
376:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002446">
                    
                    <a name="M002446"></a><b>row</b>(i)
                    
                </div>
                
                <div class="description">
                  <p>
Returns row vector number <tt>i</tt> of the matrix as a <a
href="Vector.html">Vector</a> (starting at 0 like an array). When a block
is given, the elements of that vector are iterated.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002446_source')" id="l_M002446_source">show</a>
                        
                    </p>
                    <div id="M002446_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 290</span>
290:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">row</span>(<span class="ruby-identifier">i</span>) <span class="ruby-comment cmt"># :yield: e</span>
291:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
292:       <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">e</span> <span class="ruby-keyword kw">in</span> <span class="ruby-ivar">@rows</span>[<span class="ruby-identifier">i</span>]
293:         <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">e</span>
294:       <span class="ruby-keyword kw">end</span>
295:     <span class="ruby-keyword kw">else</span>
296:       <span class="ruby-constant">Vector</span>.<span class="ruby-identifier">elements</span>(<span class="ruby-ivar">@rows</span>[<span class="ruby-identifier">i</span>])
297:     <span class="ruby-keyword kw">end</span>
298:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002444">
                    
                    <a name="M002444"></a><b>row_size</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the number of rows.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002444_source')" id="l_M002444_source">show</a>
                        
                    </p>
                    <div id="M002444_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 272</span>
272:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">row_size</span>
273:     <span class="ruby-ivar">@rows</span>.<span class="ruby-identifier">size</span>
274:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002475">
                    
                    <a name="M002475"></a><b>row_vectors</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns an array of the row vectors of the matrix. See <a
href="Vector.html">Vector</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002475_source')" id="l_M002475_source">show</a>
                        
                    </p>
                    <div id="M002475_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 827</span>
827:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">row_vectors</span>
828:     <span class="ruby-identifier">rows</span> = (<span class="ruby-value">0</span> <span class="ruby-operator">..</span> <span class="ruby-identifier">row_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">collect</span> {
829:       <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
830:       <span class="ruby-identifier">row</span>(<span class="ruby-identifier">i</span>)
831:     }
832:     <span class="ruby-identifier">rows</span>
833:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002452">
                    
                    <a name="M002452"></a><b>singular?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> is this is a singular (i.e. non-regular) matrix.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002452_source')" id="l_M002452_source">show</a>
                        
                    </p>
                    <div id="M002452_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 381</span>
381:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">singular?</span>
382:     <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">regular?</span>
383:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002453">
                    
                    <a name="M002453"></a><b>square?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> is this is a square matrix. See note in <a
href="Matrix.html#M002445">column_size</a> about this being unreliable,
though.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002453_source')" id="l_M002453_source">show</a>
                        
                    </p>
                    <div id="M002453_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 389</span>
389:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">square?</span>
390:     <span class="ruby-identifier">column_size</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">row_size</span>
391:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002473">
                    
                    <a name="M002473"></a><b>t</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Matrix.html#M002472">transpose</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M002477">
                    
                    <a name="M002477"></a><b>to_a</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns an array of arrays that describe the rows of the matrix.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002477_source')" id="l_M002477_source">show</a>
                        
                    </p>
                    <div id="M002477_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 849</span>
849:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_a</span>
850:     <span class="ruby-ivar">@rows</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>}}
851:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002478">
                    
                    <a name="M002478"></a><b>to_s</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Overrides <a href="Object.html#M000744">Object#to_s</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002478_source')" id="l_M002478_source">show</a>
                        
                    </p>
                    <div id="M002478_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 860</span>
860:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_s</span>
861:     <span class="ruby-value str">&quot;Matrix[&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@rows</span>.<span class="ruby-identifier">collect</span>{
862:       <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
863:       <span class="ruby-value str">&quot;[&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">to_s</span>}.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;, &quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;]&quot;</span>
864:     }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;, &quot;</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot;]&quot;</span>
865:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002471">
                    
                    <a name="M002471"></a><b>tr</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Matrix.html#M002470">trace</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M002470">
                    
                    <a name="M002470"></a><b>trace</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the trace (sum of diagonal elements) of the matrix.
</p>
<pre>
  Matrix[[7,6], [3,9]].trace
    =&gt; 16
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Matrix.html#M002471">tr</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002470_source')" id="l_M002470_source">show</a>
                        
                    </p>
                    <div id="M002470_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 783</span>
783:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">trace</span>
784:     <span class="ruby-identifier">tr</span> = <span class="ruby-value">0</span>
785:     <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">column_size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-keyword kw">do</span>
786:       <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
787:       <span class="ruby-identifier">tr</span> <span class="ruby-operator">+=</span> <span class="ruby-ivar">@rows</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">i</span>]
788:     <span class="ruby-keyword kw">end</span>
789:     <span class="ruby-identifier">tr</span>
790:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002472">
                    
                    <a name="M002472"></a><b>transpose</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the transpose of the matrix.
</p>
<pre>
  Matrix[[1,2], [3,4], [5,6]]
    =&gt; 1 2
       3 4
       5 6
  Matrix[[1,2], [3,4], [5,6]].transpose
    =&gt; 1 3 5
       2 4 6
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Matrix.html#M002473">t</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002472_source')" id="l_M002472_source">show</a>
                        
                    </p>
                    <div id="M002472_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 803</span>
803:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">transpose</span>
804:     <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">columns</span>(<span class="ruby-ivar">@rows</span>)
805:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M002442">
                    
                    <a name="M002442"></a><b>init_rows</b>(rows, copy)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002442_source')" id="l_M002442_source">show</a>
                        
                    </p>
                    <div id="M002442_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 252</span>
252:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">init_rows</span>(<span class="ruby-identifier">rows</span>, <span class="ruby-identifier">copy</span>)
253:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">copy</span>
254:       <span class="ruby-ivar">@rows</span> = <span class="ruby-identifier">rows</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">dup</span>}
255:     <span class="ruby-keyword kw">else</span>
256:       <span class="ruby-ivar">@rows</span> = <span class="ruby-identifier">rows</span>
257:     <span class="ruby-keyword kw">end</span>
258:     <span class="ruby-keyword kw">self</span>
259:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M002432">
                    
                    <a name="M002432"></a><b>[]</b>(*rows)
                    
                </div>
                
                <div class="description">
                  <p>
Creates a matrix where each argument is a row.
</p>
<pre>
  Matrix[ [25, 93], [-1, 66] ]
     =&gt;  25 93
         -1 66
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002432_source')" id="l_M002432_source">show</a>
                        
                    </p>
                    <div id="M002432_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 122</span>
122:   <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Matrix</span>.<span class="ruby-operator">[]</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">rows</span>)
123:     <span class="ruby-identifier">new</span>(<span class="ruby-identifier">:init_rows</span>, <span class="ruby-identifier">rows</span>, <span class="ruby-keyword kw">false</span>)
124:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002440">
                    
                    <a name="M002440"></a><b>column_vector</b>(column)
                    
                </div>
                
                <div class="description">
                  <p>
Creates a single-column matrix where the values of that column are as given
in <tt>column</tt>.
</p>
<pre>
  Matrix.column_vector([4,5,6])
    =&gt; 4
       5
       6
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002440_source')" id="l_M002440_source">show</a>
                        
                    </p>
                    <div id="M002440_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 233</span>
233:   <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">column_vector</span>(<span class="ruby-identifier">column</span>)
234:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">column</span>
235:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Vector</span>
236:       <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">columns</span>([<span class="ruby-identifier">column</span>.<span class="ruby-identifier">to_a</span>])
237:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Array</span>
238:       <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">columns</span>([<span class="ruby-identifier">column</span>])
239:     <span class="ruby-keyword kw">else</span>
240:       <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">columns</span>([[<span class="ruby-identifier">column</span>]])
241:     <span class="ruby-keyword kw">end</span>
242:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002434">
                    
                    <a name="M002434"></a><b>columns</b>(columns)
                    
                </div>
                
                <div class="description">
                  <p>
Creates a matrix using <tt>columns</tt> as an array of column vectors.
</p>
<pre>
  Matrix.columns([[25, 93], [-1, 66]])
     =&gt;  25 -1
         93 66
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002434_source')" id="l_M002434_source">show</a>
                        
                    </p>
                    <div id="M002434_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 144</span>
144:   <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">columns</span>(<span class="ruby-identifier">columns</span>)
145:     <span class="ruby-identifier">rows</span> = (<span class="ruby-value">0</span> <span class="ruby-operator">..</span> <span class="ruby-identifier">columns</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">collect</span> {
146:       <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
147:       (<span class="ruby-value">0</span> <span class="ruby-operator">..</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">collect</span> {
148:         <span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span>
149:         <span class="ruby-identifier">columns</span>[<span class="ruby-identifier">j</span>][<span class="ruby-identifier">i</span>]
150:       }
151:     }
152:     <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">rows</span>(<span class="ruby-identifier">rows</span>, <span class="ruby-keyword kw">false</span>)
153:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002435">
                    
                    <a name="M002435"></a><b>diagonal</b>(*values)
                    
                </div>
                
                <div class="description">
                  <p>
Creates a matrix where the diagonal elements are composed of
<tt>values</tt>.
</p>
<pre>
  Matrix.diagonal(9, 5, -3)
    =&gt;  9  0  0
        0  5  0
        0  0 -3
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002435_source')" id="l_M002435_source">show</a>
                        
                    </p>
                    <div id="M002435_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 162</span>
162:   <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">diagonal</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">values</span>)
163:     <span class="ruby-identifier">size</span> = <span class="ruby-identifier">values</span>.<span class="ruby-identifier">size</span>
164:     <span class="ruby-identifier">rows</span> = (<span class="ruby-value">0</span> <span class="ruby-operator">..</span> <span class="ruby-identifier">size</span>  <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">collect</span> {
165:       <span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span>
166:       <span class="ruby-identifier">row</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">size</span>).<span class="ruby-identifier">fill</span>(<span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-identifier">size</span>)
167:       <span class="ruby-identifier">row</span>[<span class="ruby-identifier">j</span>] = <span class="ruby-identifier">values</span>[<span class="ruby-identifier">j</span>]
168:       <span class="ruby-identifier">row</span>
169:     }
170:     <span class="ruby-identifier">rows</span>(<span class="ruby-identifier">rows</span>, <span class="ruby-keyword kw">false</span>)
171:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002437">
                    
                    <a name="M002437"></a><b>identity</b>(n)
                    
                </div>
                
                <div class="description">
                  <p>
Creates an <tt>n</tt> by <tt>n</tt> identity matrix.
</p>
<pre>
  Matrix.identity(2)
    =&gt; 1 0
       0 1
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002437_source')" id="l_M002437_source">show</a>
                        
                    </p>
                    <div id="M002437_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 190</span>
190:   <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">identity</span>(<span class="ruby-identifier">n</span>)
191:     <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">scalar</span>(<span class="ruby-identifier">n</span>, <span class="ruby-value">1</span>)
192:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002441">
                    
                    <a name="M002441"></a><b>new</b>(init_method, *argv)
                    
                </div>
                
                <div class="description">
                  <p>
This method is used by the other methods that create matrices, and is of no
use to general users.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002441_source')" id="l_M002441_source">show</a>
                        
                    </p>
                    <div id="M002441_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 248</span>
248:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">init_method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">argv</span>)
249:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">init_method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">argv</span>)
250:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002439">
                    
                    <a name="M002439"></a><b>row_vector</b>(row)
                    
                </div>
                
                <div class="description">
                  <p>
Creates a single-row matrix where the values of that row are as given in
<tt>row</tt>.
</p>
<pre>
  Matrix.row_vector([4,5,6])
    =&gt; 4 5 6
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002439_source')" id="l_M002439_source">show</a>
                        
                    </p>
                    <div id="M002439_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 214</span>
214:   <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">row_vector</span>(<span class="ruby-identifier">row</span>)
215:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">row</span>
216:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Vector</span>
217:       <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">rows</span>([<span class="ruby-identifier">row</span>.<span class="ruby-identifier">to_a</span>], <span class="ruby-keyword kw">false</span>)
218:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Array</span>
219:       <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">rows</span>([<span class="ruby-identifier">row</span>.<span class="ruby-identifier">dup</span>], <span class="ruby-keyword kw">false</span>)
220:     <span class="ruby-keyword kw">else</span>
221:       <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">rows</span>([[<span class="ruby-identifier">row</span>]], <span class="ruby-keyword kw">false</span>)
222:     <span class="ruby-keyword kw">end</span>
223:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002433">
                    
                    <a name="M002433"></a><b>rows</b>(rows, copy = true)
                    
                </div>
                
                <div class="description">
                  <p>
Creates a matrix where <tt>rows</tt> is an array of arrays, each of which
is a row to the matrix. If the optional argument <tt>copy</tt> is false,
use the given arrays as the internal structure of the matrix without
copying.
</p>
<pre>
  Matrix.rows([[25, 93], [-1, 66]])
     =&gt;  25 93
         -1 66
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002433_source')" id="l_M002433_source">show</a>
                        
                    </p>
                    <div id="M002433_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 133</span>
133:   <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">rows</span>(<span class="ruby-identifier">rows</span>, <span class="ruby-identifier">copy</span> = <span class="ruby-keyword kw">true</span>)
134:     <span class="ruby-identifier">new</span>(<span class="ruby-identifier">:init_rows</span>, <span class="ruby-identifier">rows</span>, <span class="ruby-identifier">copy</span>)
135:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002436">
                    
                    <a name="M002436"></a><b>scalar</b>(n, value)
                    
                </div>
                
                <div class="description">
                  <p>
Creates an <tt>n</tt> by <tt>n</tt> diagonal matrix where each diagonal
element is <tt>value</tt>.
</p>
<pre>
  Matrix.scalar(2, 5)
    =&gt; 5 0
       0 5
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002436_source')" id="l_M002436_source">show</a>
                        
                    </p>
                    <div id="M002436_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 180</span>
180:   <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">scalar</span>(<span class="ruby-identifier">n</span>, <span class="ruby-identifier">value</span>)
181:     <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">diagonal</span>(<span class="ruby-operator">*</span><span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">n</span>).<span class="ruby-identifier">fill</span>(<span class="ruby-identifier">value</span>, <span class="ruby-value">0</span>, <span class="ruby-identifier">n</span>))
182:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002438">
                    
                    <a name="M002438"></a><b>zero</b>(n)
                    
                </div>
                
                <div class="description">
                  <p>
Creates an <tt>n</tt> by <tt>n</tt> zero matrix.
</p>
<pre>
  Matrix.zero(2)
    =&gt; 0 0
       0 0
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002438_source')" id="l_M002438_source">show</a>
                        
                    </p>
                    <div id="M002438_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/matrix.rb, line 204</span>
204:   <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">zero</span>(<span class="ruby-identifier">n</span>)
205:     <span class="ruby-constant">Matrix</span>.<span class="ruby-identifier">scalar</span>(<span class="ruby-identifier">n</span>, <span class="ruby-value">0</span>)
206:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    