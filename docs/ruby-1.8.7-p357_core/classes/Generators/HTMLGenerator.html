<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Generators::HTMLGenerator</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Generators::HTMLGenerator 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/rdoc/generators/html_generator_rb.html">lib/rdoc/generators/html_generator.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M003625">build_class_list</a>,</li>
                
                <li><a href="#M003624">build_indices</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M003618">for</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M003631">gen_an_index</a>,</li>
                
                <li><a href="#M003629">gen_class_index</a>,</li>
                
                <li><a href="#M003628">gen_file_index</a>,</li>
                
                <li><a href="#M003627">gen_into</a>,</li>
                
                <li><a href="#M003632">gen_main_index</a>,</li>
                
                <li><a href="#M003630">gen_method_index</a>,</li>
                
                <li><a href="#M003623">gen_sub_directories</a>,</li>
                
                <li><a href="#M003616">gen_url</a>,</li>
                
                <li><a href="#M003620">generate</a>,</li>
                
                <li><a href="#M003626">generate_html</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M003621">load_html_template</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M003633">main_url</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M003619">new</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M003622">write_style_sheet</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="../Generators.html">Generators</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    

    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M003620">
                    
                    <a name="M003620"></a><b>generate</b>(toplevels)
                    
                </div>
                
                <div class="description">
                  <p>
Build the initial indices and output objects based on an array of TopLevel
objects containing the extracted information.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003620_source')" id="l_M003620_source">show</a>
                        
                    </p>
                    <div id="M003620_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/generators/html_generator.rb, line 1189</span>
1189:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generate</span>(<span class="ruby-identifier">toplevels</span>)
1190:       <span class="ruby-ivar">@toplevels</span>  = <span class="ruby-identifier">toplevels</span>
1191:       <span class="ruby-ivar">@files</span>      = []
1192:       <span class="ruby-ivar">@classes</span>    = []
1193: 
1194:       <span class="ruby-identifier">write_style_sheet</span>
1195:       <span class="ruby-identifier">gen_sub_directories</span>()
1196:       <span class="ruby-identifier">build_indices</span>
1197:       <span class="ruby-identifier">generate_html</span>
1198:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M003625">
                    
                    <a name="M003625"></a><b>build_class_list</b>(from, html_file, class_dir)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003625_source')" id="l_M003625_source">show</a>
                        
                    </p>
                    <div id="M003625_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/generators/html_generator.rb, line 1264</span>
1264:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build_class_list</span>(<span class="ruby-identifier">from</span>, <span class="ruby-identifier">html_file</span>, <span class="ruby-identifier">class_dir</span>)
1265:       <span class="ruby-ivar">@classes</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">HtmlClass</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">from</span>, <span class="ruby-identifier">html_file</span>, <span class="ruby-identifier">class_dir</span>, <span class="ruby-ivar">@options</span>)
1266:       <span class="ruby-identifier">from</span>.<span class="ruby-identifier">each_classmodule</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mod</span><span class="ruby-operator">|</span>
1267:         <span class="ruby-identifier">build_class_list</span>(<span class="ruby-identifier">mod</span>, <span class="ruby-identifier">html_file</span>, <span class="ruby-identifier">class_dir</span>)
1268:       <span class="ruby-keyword kw">end</span>
1269:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003624">
                    
                    <a name="M003624"></a><b>build_indices</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Generate:
</p>
<ul>
<li>a list of <a href="HtmlFile.html">HtmlFile</a> objects for each TopLevel
object.

</li>
<li>a list of <a href="HtmlClass.html">HtmlClass</a> objects for each first
level class or module in the TopLevel objects

</li>
<li>a complete list of all hyperlinkable terms (file, class, module, and method
names)

</li>
</ul>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003624_source')" id="l_M003624_source">show</a>
                        
                    </p>
                    <div id="M003624_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/generators/html_generator.rb, line 1253</span>
1253:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build_indices</span>
1254: 
1255:       <span class="ruby-ivar">@toplevels</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">toplevel</span><span class="ruby-operator">|</span>
1256:         <span class="ruby-ivar">@files</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">HtmlFile</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">toplevel</span>, <span class="ruby-ivar">@options</span>, <span class="ruby-constant">FILE_DIR</span>)
1257:       <span class="ruby-keyword kw">end</span>
1258: 
1259:       <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">TopLevel</span>.<span class="ruby-identifier">all_classes_and_modules</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cls</span><span class="ruby-operator">|</span>
1260:         <span class="ruby-identifier">build_class_list</span>(<span class="ruby-identifier">cls</span>, <span class="ruby-ivar">@files</span>[<span class="ruby-value">0</span>], <span class="ruby-constant">CLASS_DIR</span>)
1261:       <span class="ruby-keyword kw">end</span>
1262:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003631">
                    
                    <a name="M003631"></a><b>gen_an_index</b>(collection, title, template, filename)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003631_source')" id="l_M003631_source">show</a>
                        
                    </p>
                    <div id="M003631_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/generators/html_generator.rb, line 1318</span>
1318:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gen_an_index</span>(<span class="ruby-identifier">collection</span>, <span class="ruby-identifier">title</span>, <span class="ruby-identifier">template</span>, <span class="ruby-identifier">filename</span>)
1319:       <span class="ruby-identifier">template</span> = <span class="ruby-constant">TemplatePage</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Page</span><span class="ruby-operator">::</span><span class="ruby-constant">FR_INDEX_BODY</span>, <span class="ruby-identifier">template</span>)
1320:       <span class="ruby-identifier">res</span> = []
1321:       <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
1322:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">document_self</span>
1323:           <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> { <span class="ruby-value str">&quot;href&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">path</span>, <span class="ruby-value str">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">index_name</span> }
1324:         <span class="ruby-keyword kw">end</span>
1325:       <span class="ruby-keyword kw">end</span>
1326: 
1327:       <span class="ruby-identifier">values</span> = {
1328:         <span class="ruby-value str">&quot;entries&quot;</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">res</span>,
1329:         <span class="ruby-value str">'list_title'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">CGI</span>.<span class="ruby-identifier">escapeHTML</span>(<span class="ruby-identifier">title</span>),
1330:         <span class="ruby-value str">'index_url'</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">main_url</span>,
1331:         <span class="ruby-value str">'charset'</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">charset</span>,
1332:         <span class="ruby-value str">'style_url'</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">style_url</span>(<span class="ruby-value str">''</span>, <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">css</span>),
1333:       }
1334: 
1335:       <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-value str">&quot;w&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
1336:         <span class="ruby-identifier">template</span>.<span class="ruby-identifier">write_html_on</span>(<span class="ruby-identifier">f</span>, <span class="ruby-identifier">values</span>)
1337:       <span class="ruby-keyword kw">end</span>
1338:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003629">
                    
                    <a name="M003629"></a><b>gen_class_index</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003629_source')" id="l_M003629_source">show</a>
                        
                    </p>
                    <div id="M003629_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/generators/html_generator.rb, line 1305</span>
1305:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gen_class_index</span>
1306:       <span class="ruby-identifier">gen_an_index</span>(<span class="ruby-ivar">@classes</span>, <span class="ruby-value str">'Classes'</span>,
1307:                    <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Page</span><span class="ruby-operator">::</span><span class="ruby-constant">CLASS_INDEX</span>,
1308:                    <span class="ruby-value str">&quot;fr_class_index.html&quot;</span>)
1309:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003628">
                    
                    <a name="M003628"></a><b>gen_file_index</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003628_source')" id="l_M003628_source">show</a>
                        
                    </p>
                    <div id="M003628_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/generators/html_generator.rb, line 1299</span>
1299:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gen_file_index</span>
1300:       <span class="ruby-identifier">gen_an_index</span>(<span class="ruby-ivar">@files</span>, <span class="ruby-value str">'Files'</span>, 
1301:                    <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Page</span><span class="ruby-operator">::</span><span class="ruby-constant">FILE_INDEX</span>, 
1302:                    <span class="ruby-value str">&quot;fr_file_index.html&quot;</span>)
1303:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003627">
                    
                    <a name="M003627"></a><b>gen_into</b>(list)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003627_source')" id="l_M003627_source">show</a>
                        
                    </p>
                    <div id="M003627_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/generators/html_generator.rb, line 1288</span>
1288:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gen_into</span>(<span class="ruby-identifier">list</span>)
1289:       <span class="ruby-identifier">list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
1290:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">document_self</span>
1291:           <span class="ruby-identifier">op_file</span> = <span class="ruby-identifier">item</span>.<span class="ruby-identifier">path</span>
1292:           <span class="ruby-constant">File</span>.<span class="ruby-identifier">makedirs</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">op_file</span>))
1293:           <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">op_file</span>, <span class="ruby-value str">&quot;w&quot;</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">write_on</span>(<span class="ruby-identifier">file</span>) }
1294:         <span class="ruby-keyword kw">end</span>
1295:       <span class="ruby-keyword kw">end</span>
1296: 
1297:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003632">
                    
                    <a name="M003632"></a><b>gen_main_index</b>()
                    
                </div>
                
                <div class="description">
                  <p>
The main index page is mostly a template frameset, but includes the initial
page. If the <tt>--main</tt> option was given, we use this as our main
page, otherwise we use the first file specified on the command line.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003632_source')" id="l_M003632_source">show</a>
                        
                    </p>
                    <div id="M003632_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/generators/html_generator.rb, line 1345</span>
1345:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gen_main_index</span>
1346:       <span class="ruby-identifier">template</span> = <span class="ruby-constant">TemplatePage</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Page</span><span class="ruby-operator">::</span><span class="ruby-constant">INDEX</span>)
1347:       <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-value str">&quot;index.html&quot;</span>, <span class="ruby-value str">&quot;w&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
1348:         <span class="ruby-identifier">values</span> = {
1349:           <span class="ruby-value str">&quot;initial_page&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">main_url</span>,
1350:           <span class="ruby-value str">'title'</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">CGI</span>.<span class="ruby-identifier">escapeHTML</span>(<span class="ruby-ivar">@options</span>.<span class="ruby-identifier">title</span>),
1351:           <span class="ruby-value str">'charset'</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">charset</span>
1352:         }
1353:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">inline_source</span>
1354:           <span class="ruby-identifier">values</span>[<span class="ruby-value str">'inline_source'</span>] = <span class="ruby-keyword kw">true</span>
1355:         <span class="ruby-keyword kw">end</span>
1356:         <span class="ruby-identifier">template</span>.<span class="ruby-identifier">write_html_on</span>(<span class="ruby-identifier">f</span>, <span class="ruby-identifier">values</span>)
1357:       <span class="ruby-keyword kw">end</span>
1358:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003630">
                    
                    <a name="M003630"></a><b>gen_method_index</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003630_source')" id="l_M003630_source">show</a>
                        
                    </p>
                    <div id="M003630_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/generators/html_generator.rb, line 1311</span>
1311:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gen_method_index</span>
1312:       <span class="ruby-identifier">gen_an_index</span>(<span class="ruby-constant">HtmlMethod</span>.<span class="ruby-identifier">all_methods</span>, <span class="ruby-value str">'Methods'</span>, 
1313:                    <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Page</span><span class="ruby-operator">::</span><span class="ruby-constant">METHOD_INDEX</span>,
1314:                    <span class="ruby-value str">&quot;fr_method_index.html&quot;</span>)
1315:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003623">
                    
                    <a name="M003623"></a><b>gen_sub_directories</b>()
                    
                </div>
                
                <div class="description">
                  <p>
See the comments at the top for a description of the directory structure
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003623_source')" id="l_M003623_source">show</a>
                        
                    </p>
                    <div id="M003623_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/generators/html_generator.rb, line 1237</span>
1237:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gen_sub_directories</span>
1238:       <span class="ruby-constant">File</span>.<span class="ruby-identifier">makedirs</span>(<span class="ruby-constant">FILE_DIR</span>, <span class="ruby-constant">CLASS_DIR</span>)
1239:     <span class="ruby-keyword kw">rescue</span> 
1240:       <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">message</span>
1241:       <span class="ruby-identifier">exit</span> <span class="ruby-value">1</span>
1242:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003626">
                    
                    <a name="M003626"></a><b>generate_html</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Generate all the HTML
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003626_source')" id="l_M003626_source">show</a>
                        
                    </p>
                    <div id="M003626_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/generators/html_generator.rb, line 1274</span>
1274:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generate_html</span>
1275:       <span class="ruby-comment cmt"># the individual descriptions for files and classes</span>
1276:       <span class="ruby-identifier">gen_into</span>(<span class="ruby-ivar">@files</span>)
1277:       <span class="ruby-identifier">gen_into</span>(<span class="ruby-ivar">@classes</span>)
1278:       <span class="ruby-comment cmt"># and the index files</span>
1279:       <span class="ruby-identifier">gen_file_index</span>
1280:       <span class="ruby-identifier">gen_class_index</span>
1281:       <span class="ruby-identifier">gen_method_index</span>
1282:       <span class="ruby-identifier">gen_main_index</span>
1283:       
1284:       <span class="ruby-comment cmt"># this method is defined in the template file</span>
1285:       <span class="ruby-identifier">write_extra_pages</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-identifier">write_extra_pages</span>
1286:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003621">
                    
                    <a name="M003621"></a><b>load_html_template</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Load up the HTML template specified in the options. If the template name
contains a slash, use it literally
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003621_source')" id="l_M003621_source">show</a>
                        
                    </p>
                    <div id="M003621_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/generators/html_generator.rb, line 1206</span>
1206:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_html_template</span>
1207:       <span class="ruby-identifier">template</span> = <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">template</span>
1208:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">template</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">%r{/|\\}</span>
1209:         <span class="ruby-identifier">template</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;rdoc/generators/template&quot;</span>,
1210:                              <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">generator</span>.<span class="ruby-identifier">key</span>, <span class="ruby-identifier">template</span>)
1211:       <span class="ruby-keyword kw">end</span>
1212:       <span class="ruby-identifier">require</span> <span class="ruby-identifier">template</span>
1213:       <span class="ruby-identifier">extend</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Page</span>
1214:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span>
1215:       <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Could not find HTML template '#{template}'&quot;</span>
1216:       <span class="ruby-identifier">exit</span> <span class="ruby-value">99</span>
1217:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003633">
                    
                    <a name="M003633"></a><b>main_url</b>()
                    
                </div>
                
                <div class="description">
                  <p>
return the url of the main page
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003633_source')" id="l_M003633_source">show</a>
                        
                    </p>
                    <div id="M003633_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/generators/html_generator.rb, line 1361</span>
1361:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">main_url</span>
1362:       <span class="ruby-identifier">main_page</span> = <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">main_page</span>
1363:       <span class="ruby-identifier">ref</span> = <span class="ruby-keyword kw">nil</span>
1364:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">main_page</span>
1365:         <span class="ruby-identifier">ref</span> = <span class="ruby-constant">AllReferences</span>[<span class="ruby-identifier">main_page</span>]
1366:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ref</span>
1367:           <span class="ruby-identifier">ref</span> = <span class="ruby-identifier">ref</span>.<span class="ruby-identifier">path</span>
1368:         <span class="ruby-keyword kw">else</span>
1369:           <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Could not find main page #{main_page}&quot;</span>
1370:         <span class="ruby-keyword kw">end</span>
1371:       <span class="ruby-keyword kw">end</span>
1372: 
1373:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">ref</span>
1374:         <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">file</span> <span class="ruby-keyword kw">in</span> <span class="ruby-ivar">@files</span>
1375:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">file</span>.<span class="ruby-identifier">document_self</span>
1376:             <span class="ruby-identifier">ref</span> = <span class="ruby-identifier">file</span>.<span class="ruby-identifier">path</span> 
1377:             <span class="ruby-keyword kw">break</span>
1378:           <span class="ruby-keyword kw">end</span>
1379:         <span class="ruby-keyword kw">end</span>
1380:       <span class="ruby-keyword kw">end</span>
1381: 
1382:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">ref</span>
1383:         <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Couldn't find anything to document&quot;</span>
1384:         <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Perhaps you've used :stopdoc: in all classes&quot;</span>
1385:         <span class="ruby-identifier">exit</span>(<span class="ruby-value">1</span>)
1386:       <span class="ruby-keyword kw">end</span>
1387: 
1388:       <span class="ruby-identifier">ref</span>
1389:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003622">
                    
                    <a name="M003622"></a><b>write_style_sheet</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Write out the style sheet used by the main frames
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003622_source')" id="l_M003622_source">show</a>
                        
                    </p>
                    <div id="M003622_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/generators/html_generator.rb, line 1223</span>
1223:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write_style_sheet</span>
1224:       <span class="ruby-identifier">template</span> = <span class="ruby-constant">TemplatePage</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Page</span><span class="ruby-operator">::</span><span class="ruby-constant">STYLE</span>)
1225:       <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">css</span>
1226:         <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-constant">CSS_NAME</span>, <span class="ruby-value str">&quot;w&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
1227:           <span class="ruby-identifier">values</span> = { <span class="ruby-value str">&quot;fonts&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Page</span><span class="ruby-operator">::</span><span class="ruby-constant">FONTS</span> }
1228:           <span class="ruby-identifier">template</span>.<span class="ruby-identifier">write_html_on</span>(<span class="ruby-identifier">f</span>, <span class="ruby-identifier">values</span>)
1229:         <span class="ruby-keyword kw">end</span>
1230:       <span class="ruby-keyword kw">end</span>
1231:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M003618">
                    
                    <a name="M003618"></a><b>for</b>(options)
                    
                </div>
                
                <div class="description">
                  <p>
<a href="../Generators.html">Generators</a> may need to return specific
subclasses depending on the options they are passed. Because of this we
create them using a factory
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003618_source')" id="l_M003618_source">show</a>
                        
                    </p>
                    <div id="M003618_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/generators/html_generator.rb, line 1160</span>
1160:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTMLGenerator</span>.<span class="ruby-keyword kw">for</span>(<span class="ruby-identifier">options</span>)
1161:       <span class="ruby-constant">AllReferences</span><span class="ruby-operator">::</span><span class="ruby-identifier">reset</span>
1162:       <span class="ruby-constant">HtmlMethod</span><span class="ruby-operator">::</span><span class="ruby-identifier">reset</span>
1163: 
1164:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">all_one_file</span>
1165:         <span class="ruby-constant">HTMLGeneratorInOne</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">options</span>)
1166:       <span class="ruby-keyword kw">else</span>
1167:         <span class="ruby-constant">HTMLGenerator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">options</span>)
1168:       <span class="ruby-keyword kw">end</span>
1169:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003616">
                    
                    <a name="M003616"></a><b>gen_url</b>(path, target)
                    
                </div>
                
                <div class="description">
                  <p>
convert a target url to one that is relative to a given path
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003616_source')" id="l_M003616_source">show</a>
                        
                    </p>
                    <div id="M003616_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/generators/html_generator.rb, line 1138</span>
1138:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">HTMLGenerator</span>.<span class="ruby-identifier">gen_url</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">target</span>)
1139:       <span class="ruby-identifier">from</span>          = <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">path</span>)
1140:       <span class="ruby-identifier">to</span>, <span class="ruby-identifier">to_file</span>   = <span class="ruby-constant">File</span>.<span class="ruby-identifier">split</span>(<span class="ruby-identifier">target</span>)
1141:       
1142:       <span class="ruby-identifier">from</span> = <span class="ruby-identifier">from</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;/&quot;</span>)
1143:       <span class="ruby-identifier">to</span>   = <span class="ruby-identifier">to</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;/&quot;</span>)
1144:       
1145:       <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">from</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">to</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">from</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">to</span>[<span class="ruby-value">0</span>]
1146:         <span class="ruby-identifier">from</span>.<span class="ruby-identifier">shift</span>
1147:         <span class="ruby-identifier">to</span>.<span class="ruby-identifier">shift</span>
1148:       <span class="ruby-keyword kw">end</span>
1149:       
1150:       <span class="ruby-identifier">from</span>.<span class="ruby-identifier">fill</span>(<span class="ruby-value str">&quot;..&quot;</span>)
1151:       <span class="ruby-identifier">from</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">to</span>)
1152:       <span class="ruby-identifier">from</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">to_file</span>
1153:       <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">from</span>)
1154:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M003619">
                    
                    <a name="M003619"></a><b>new</b>(options)
                    
                </div>
                
                <div class="description">
                  <p>
<a href="../Set.html">Set</a> up a new HTML generator. Basically all we do
here is load up the correct output temlate
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M003619_source')" id="l_M003619_source">show</a>
                        
                    </p>
                    <div id="M003619_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/rdoc/generators/html_generator.rb, line 1178</span>
1178:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">options</span>) <span class="ruby-comment cmt">#:not-new:</span>
1179:       <span class="ruby-ivar">@options</span>    = <span class="ruby-identifier">options</span>
1180:       <span class="ruby-identifier">load_html_template</span>
1181:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    