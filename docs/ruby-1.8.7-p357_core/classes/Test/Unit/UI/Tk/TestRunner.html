<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Test::Unit::UI::Tk::TestRunner</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Test::Unit::UI::Tk::TestRunner 
            
                <span class="parent">&lt; 
                    
                    <a href="../../../../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../../../files/lib/test/unit/ui/tk/testrunner_rb.html">lib/test/unit/ui/tk/testrunner.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Runs a <a href="../../TestSuite.html">Test::Unit::TestSuite</a> in a <a
href="../Tk.html">Tk</a> <a href="../../UI.html">UI</a>. Obviously, this
one requires you to have <a href="../Tk.html">Tk</a> and the Ruby <a
href="../Tk.html">Tk</a> extension installed.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M007066">add_fault</a>,</li>
                
                <li><a href="#M007060">attach_to_mediator</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M007069">clear_fault</a>,</li>
                
                <li><a href="#M007080">create_count_label</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M007073">finished</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M007057">new</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M007074">output_status</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M007068">raw_show_fault</a>,</li>
                
                <li><a href="#M007064">reset_ui</a>,</li>
                
                <li><a href="#M007070">result_changed</a>,</li>
                
                <li><a href="#M007061">run_test</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M007059">setup_mediator</a>,</li>
                
                <li><a href="#M007075">setup_ui</a>,</li>
                
                <li><a href="#M007067">show_fault</a>,</li>
                
                <li><a href="#M007058">start</a>,</li>
                
                <li><a href="#M007062">start_ui</a>,</li>
                
                <li><a href="#M007071">started</a>,</li>
                
                <li><a href="#M007063">stop</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M007072">test_started</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M007058">
                    
                    <a name="M007058"></a><b>start</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Begins the test run.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007058_source')" id="l_M007058_source">show</a>
                        
                    </p>
                    <div id="M007058_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 46</span>
46:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">start</span>
47:             <span class="ruby-identifier">setup_ui</span>
48:             <span class="ruby-identifier">setup_mediator</span>
49:             <span class="ruby-identifier">attach_to_mediator</span>
50:             <span class="ruby-identifier">start_ui</span>
51:             <span class="ruby-ivar">@result</span>
52:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M007066">
                    
                    <a name="M007066"></a><b>add_fault</b>(fault)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007066_source')" id="l_M007066_source">show</a>
                        
                    </p>
                    <div id="M007066_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 124</span>
124:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_fault</span>(<span class="ruby-identifier">fault</span>)
125:             <span class="ruby-keyword kw">if</span> ( <span class="ruby-operator">!</span> <span class="ruby-ivar">@red</span> )
126:               <span class="ruby-ivar">@test_progress_bar</span>.<span class="ruby-identifier">configure</span>(<span class="ruby-value str">'background'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'red'</span>)
127:               <span class="ruby-ivar">@red</span> = <span class="ruby-keyword kw">true</span>
128:             <span class="ruby-keyword kw">end</span>
129:             <span class="ruby-ivar">@fault_detail_list</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">fault</span>
130:             <span class="ruby-ivar">@fault_list</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-value str">'end'</span>, <span class="ruby-identifier">fault</span>.<span class="ruby-identifier">short_display</span>)
131:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007060">
                    
                    <a name="M007060"></a><b>attach_to_mediator</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007060_source')" id="l_M007060_source">show</a>
                        
                    </p>
                    <div id="M007060_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 64</span>
64:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attach_to_mediator</span>
65:             <span class="ruby-ivar">@run_button</span>.<span class="ruby-identifier">command</span>(<span class="ruby-identifier">method</span>(<span class="ruby-identifier">:run_test</span>))
66:             <span class="ruby-ivar">@fault_list</span>.<span class="ruby-identifier">bind</span>(<span class="ruby-value str">'ButtonPress-1'</span>, <span class="ruby-identifier">proc</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">y</span><span class="ruby-operator">|</span>
67:               <span class="ruby-identifier">fault</span> = <span class="ruby-ivar">@fault_detail_list</span>[<span class="ruby-ivar">@fault_list</span>.<span class="ruby-identifier">nearest</span>(<span class="ruby-identifier">y</span>)]
68:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">fault</span>
69:                 <span class="ruby-identifier">show_fault</span>(<span class="ruby-identifier">fault</span>)
70:               <span class="ruby-keyword kw">end</span>
71:             }, <span class="ruby-value str">'%y'</span>)
72:             <span class="ruby-ivar">@mediator</span>.<span class="ruby-identifier">add_listener</span>(<span class="ruby-constant">TestRunnerMediator</span><span class="ruby-operator">::</span><span class="ruby-constant">RESET</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">method</span>(<span class="ruby-identifier">:reset_ui</span>))
73:             <span class="ruby-ivar">@mediator</span>.<span class="ruby-identifier">add_listener</span>(<span class="ruby-constant">TestResult</span><span class="ruby-operator">::</span><span class="ruby-constant">FAULT</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">method</span>(<span class="ruby-identifier">:add_fault</span>))
74:             <span class="ruby-ivar">@mediator</span>.<span class="ruby-identifier">add_listener</span>(<span class="ruby-constant">TestResult</span><span class="ruby-operator">::</span><span class="ruby-constant">CHANGED</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">method</span>(<span class="ruby-identifier">:result_changed</span>))
75:             <span class="ruby-ivar">@mediator</span>.<span class="ruby-identifier">add_listener</span>(<span class="ruby-constant">TestRunnerMediator</span><span class="ruby-operator">::</span><span class="ruby-constant">STARTED</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">method</span>(<span class="ruby-identifier">:started</span>))
76:             <span class="ruby-ivar">@mediator</span>.<span class="ruby-identifier">add_listener</span>(<span class="ruby-constant">TestCase</span><span class="ruby-operator">::</span><span class="ruby-constant">STARTED</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">method</span>(<span class="ruby-identifier">:test_started</span>))
77:             <span class="ruby-ivar">@mediator</span>.<span class="ruby-identifier">add_listener</span>(<span class="ruby-constant">TestRunnerMediator</span><span class="ruby-operator">::</span><span class="ruby-constant">FINISHED</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">method</span>(<span class="ruby-identifier">:finished</span>))
78:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007069">
                    
                    <a name="M007069"></a><b>clear_fault</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007069_source')" id="l_M007069_source">show</a>
                        
                    </p>
                    <div id="M007069_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 141</span>
141:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clear_fault</span>
142:             <span class="ruby-identifier">raw_show_fault</span>(<span class="ruby-value str">&quot;&quot;</span>)
143:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007080">
                    
                    <a name="M007080"></a><b>create_count_label</b>(parent, label)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007080_source')" id="l_M007080_source">show</a>
                        
                    </p>
                    <div id="M007080_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 246</span>
246:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_count_label</span>(<span class="ruby-identifier">parent</span>, <span class="ruby-identifier">label</span>)
247:             <span class="ruby-constant">TkLabel</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">parent</span>, <span class="ruby-value str">'text'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-identifier">label</span>).<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'side'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'left'</span>, <span class="ruby-value str">'expand'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">true</span>)
248:             <span class="ruby-identifier">v</span> = <span class="ruby-constant">TkVariable</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">0</span>)
249:             <span class="ruby-constant">TkLabel</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">parent</span>, <span class="ruby-value str">'textvariable'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-identifier">v</span>).<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'side'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'left'</span>, <span class="ruby-value str">'expand'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">true</span>)
250:             <span class="ruby-identifier">v</span>
251:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007073">
                    
                    <a name="M007073"></a><b>finished</b>(elapsed_time)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007073_source')" id="l_M007073_source">show</a>
                        
                    </p>
                    <div id="M007073_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 162</span>
162:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">finished</span>(<span class="ruby-identifier">elapsed_time</span>)
163:             <span class="ruby-identifier">output_status</span>(<span class="ruby-node">&quot;Finished in #{elapsed_time} seconds&quot;</span>)
164:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007074">
                    
                    <a name="M007074"></a><b>output_status</b>(string)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007074_source')" id="l_M007074_source">show</a>
                        
                    </p>
                    <div id="M007074_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 166</span>
166:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">output_status</span>(<span class="ruby-identifier">string</span>)
167:             <span class="ruby-ivar">@status_entry</span>.<span class="ruby-identifier">value</span> = <span class="ruby-identifier">string</span>
168:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007068">
                    
                    <a name="M007068"></a><b>raw_show_fault</b>(string)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007068_source')" id="l_M007068_source">show</a>
                        
                    </p>
                    <div id="M007068_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 137</span>
137:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">raw_show_fault</span>(<span class="ruby-identifier">string</span>)
138:             <span class="ruby-ivar">@detail_text</span>.<span class="ruby-identifier">value</span> = <span class="ruby-identifier">string</span>
139:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007064">
                    
                    <a name="M007064"></a><b>reset_ui</b>(count)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007064_source')" id="l_M007064_source">show</a>
                        
                    </p>
                    <div id="M007064_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 108</span>
108:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reset_ui</span>(<span class="ruby-identifier">count</span>)
109:             <span class="ruby-ivar">@test_total_count</span> = <span class="ruby-identifier">count</span>.<span class="ruby-identifier">to_f</span>
110:             <span class="ruby-ivar">@test_progress_bar</span>.<span class="ruby-identifier">configure</span>(<span class="ruby-value str">'background'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'green'</span>)
111:             <span class="ruby-ivar">@test_progress_bar</span>.<span class="ruby-identifier">place</span>(<span class="ruby-value str">'relwidth'</span>=<span class="ruby-operator">&gt;</span>(<span class="ruby-identifier">count</span>.<span class="ruby-identifier">zero?</span> <span class="ruby-value">? </span><span class="ruby-value">0</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span><span class="ruby-operator">/</span><span class="ruby-identifier">count</span>))
112:             <span class="ruby-ivar">@red</span> = <span class="ruby-keyword kw">false</span>
113: 
114:             <span class="ruby-ivar">@test_count_label</span>.<span class="ruby-identifier">value</span> = <span class="ruby-value">0</span>
115:             <span class="ruby-ivar">@assertion_count_label</span>.<span class="ruby-identifier">value</span> = <span class="ruby-value">0</span>
116:             <span class="ruby-ivar">@failure_count_label</span>.<span class="ruby-identifier">value</span> = <span class="ruby-value">0</span>
117:             <span class="ruby-ivar">@error_count_label</span>.<span class="ruby-identifier">value</span> = <span class="ruby-value">0</span>
118: 
119:             <span class="ruby-ivar">@fault_list</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">0</span>, <span class="ruby-value str">'end'</span>)
120:             <span class="ruby-ivar">@fault_detail_list</span> = []
121:             <span class="ruby-identifier">clear_fault</span>
122:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007070">
                    
                    <a name="M007070"></a><b>result_changed</b>(result)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007070_source')" id="l_M007070_source">show</a>
                        
                    </p>
                    <div id="M007070_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 145</span>
145:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">result_changed</span>(<span class="ruby-identifier">result</span>)
146:             <span class="ruby-ivar">@test_count_label</span>.<span class="ruby-identifier">value</span> = <span class="ruby-identifier">result</span>.<span class="ruby-identifier">run_count</span>
147:             <span class="ruby-ivar">@test_progress_bar</span>.<span class="ruby-identifier">place</span>(<span class="ruby-value str">'relwidth'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-identifier">result</span>.<span class="ruby-identifier">run_count</span><span class="ruby-operator">/</span><span class="ruby-ivar">@test_total_count</span>)
148:             <span class="ruby-ivar">@assertion_count_label</span>.<span class="ruby-identifier">value</span> = <span class="ruby-identifier">result</span>.<span class="ruby-identifier">assertion_count</span>
149:             <span class="ruby-ivar">@failure_count_label</span>.<span class="ruby-identifier">value</span> = <span class="ruby-identifier">result</span>.<span class="ruby-identifier">failure_count</span>
150:             <span class="ruby-ivar">@error_count_label</span>.<span class="ruby-identifier">value</span> = <span class="ruby-identifier">result</span>.<span class="ruby-identifier">error_count</span>
151:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007061">
                    
                    <a name="M007061"></a><b>run_test</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007061_source')" id="l_M007061_source">show</a>
                        
                    </p>
                    <div id="M007061_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 80</span>
80:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run_test</span>
81:             <span class="ruby-ivar">@runner</span>.<span class="ruby-identifier">raise</span>(<span class="ruby-ivar">@restart_signal</span>)
82:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007059">
                    
                    <a name="M007059"></a><b>setup_mediator</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007059_source')" id="l_M007059_source">show</a>
                        
                    </p>
                    <div id="M007059_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 55</span>
55:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup_mediator</span>
56:             <span class="ruby-ivar">@mediator</span> = <span class="ruby-constant">TestRunnerMediator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@suite</span>)
57:             <span class="ruby-identifier">suite_name</span> = <span class="ruby-ivar">@suite</span>.<span class="ruby-identifier">to_s</span>
58:             <span class="ruby-keyword kw">if</span> ( <span class="ruby-ivar">@suite</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Module</span>) )
59:               <span class="ruby-identifier">suite_name</span> = <span class="ruby-ivar">@suite</span>.<span class="ruby-identifier">name</span>
60:             <span class="ruby-keyword kw">end</span>
61:             <span class="ruby-ivar">@suite_name_entry</span>.<span class="ruby-identifier">value</span> = <span class="ruby-identifier">suite_name</span>
62:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007075">
                    
                    <a name="M007075"></a><b>setup_ui</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007075_source')" id="l_M007075_source">show</a>
                        
                    </p>
                    <div id="M007075_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 170</span>
170:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup_ui</span>
171:             <span class="ruby-ivar">@status_entry</span> = <span class="ruby-constant">TkVariable</span>.<span class="ruby-identifier">new</span>
172:             <span class="ruby-identifier">l</span> = <span class="ruby-constant">TkLabel</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'textvariable'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-ivar">@status_entry</span>, <span class="ruby-value str">'relief'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'sunken'</span>)
173:             <span class="ruby-identifier">l</span>.<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'side'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'bottom'</span>, <span class="ruby-value str">'fill'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'x'</span>)
174: 
175:             <span class="ruby-identifier">suite_frame</span> = <span class="ruby-constant">TkFrame</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'fill'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'x'</span>)
176: 
177:             <span class="ruby-ivar">@run_button</span> = <span class="ruby-constant">TkButton</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">suite_frame</span>, <span class="ruby-value str">'text'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'Run'</span>)
178:             <span class="ruby-ivar">@run_button</span>.<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'side'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'right'</span>)
179: 
180:             <span class="ruby-constant">TkLabel</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">suite_frame</span>, <span class="ruby-value str">'text'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'Suite:'</span>).<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'side'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'left'</span>)
181:             <span class="ruby-ivar">@suite_name_entry</span> = <span class="ruby-constant">TkVariable</span>.<span class="ruby-identifier">new</span>
182:             <span class="ruby-identifier">l</span> = <span class="ruby-constant">TkLabel</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">suite_frame</span>, <span class="ruby-value str">'textvariable'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-ivar">@suite_name_entry</span>, <span class="ruby-value str">'relief'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'sunken'</span>)
183:             <span class="ruby-identifier">l</span>.<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'side'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'left'</span>, <span class="ruby-value str">'fill'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'x'</span>, <span class="ruby-value str">'expand'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">true</span>)
184: 
185:             <span class="ruby-identifier">f</span> = <span class="ruby-constant">TkFrame</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">'relief'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'sunken'</span>, <span class="ruby-value str">'borderwidth'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value">3</span>, <span class="ruby-value str">'height'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value">20</span>).<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'fill'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'x'</span>, <span class="ruby-value str">'padx'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>)
186:             <span class="ruby-ivar">@test_progress_bar</span> = <span class="ruby-constant">TkFrame</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">f</span>, <span class="ruby-value str">'background'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'green'</span>).<span class="ruby-identifier">place</span>(<span class="ruby-value str">'anchor'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'nw'</span>, <span class="ruby-value str">'relwidth'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value">0</span><span class="ruby-value">.0</span>, <span class="ruby-value str">'relheight'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value">1.0</span>)
187: 
188:             <span class="ruby-identifier">info_frame</span> = <span class="ruby-constant">TkFrame</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'fill'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'x'</span>)
189:             <span class="ruby-ivar">@test_count_label</span> = <span class="ruby-identifier">create_count_label</span>(<span class="ruby-identifier">info_frame</span>, <span class="ruby-value str">'Tests:'</span>)
190:             <span class="ruby-ivar">@assertion_count_label</span> = <span class="ruby-identifier">create_count_label</span>(<span class="ruby-identifier">info_frame</span>, <span class="ruby-value str">'Assertions:'</span>)
191:             <span class="ruby-ivar">@failure_count_label</span> = <span class="ruby-identifier">create_count_label</span>(<span class="ruby-identifier">info_frame</span>, <span class="ruby-value str">'Failures:'</span>)
192:             <span class="ruby-ivar">@error_count_label</span> = <span class="ruby-identifier">create_count_label</span>(<span class="ruby-identifier">info_frame</span>, <span class="ruby-value str">'Errors:'</span>)
193: 
194:       <span class="ruby-keyword kw">if</span> (<span class="ruby-operator">::</span><span class="ruby-constant">Tk</span>.<span class="ruby-identifier">info</span>(<span class="ruby-value str">'command'</span>, <span class="ruby-constant">TkPanedWindow</span><span class="ruby-operator">::</span><span class="ruby-constant">TkCommandNames</span>[<span class="ruby-value">0</span>]) <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;&quot;</span>)
195:         <span class="ruby-comment cmt"># use panedwindow</span>
196:         <span class="ruby-identifier">paned_frame</span> = <span class="ruby-constant">TkPanedWindow</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;orient&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;vertical&quot;</span>).<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'fill'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'both'</span>, <span class="ruby-value str">'expand'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">true</span>)
197: 
198:         <span class="ruby-identifier">fault_list_frame</span> = <span class="ruby-constant">TkFrame</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">paned_frame</span>)
199:         <span class="ruby-identifier">detail_frame</span> = <span class="ruby-constant">TkFrame</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">paned_frame</span>)
200: 
201:         <span class="ruby-identifier">paned_frame</span>.<span class="ruby-identifier">add</span>(<span class="ruby-identifier">fault_list_frame</span>, <span class="ruby-identifier">detail_frame</span>)
202:       <span class="ruby-keyword kw">else</span>
203:         <span class="ruby-comment cmt"># no panedwindow</span>
204:         <span class="ruby-identifier">paned_frame</span> = <span class="ruby-keyword kw">nil</span>
205:         <span class="ruby-identifier">fault_list_frame</span> = <span class="ruby-constant">TkFrame</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'fill'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'both'</span>, <span class="ruby-value str">'expand'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">true</span>)
206:         <span class="ruby-identifier">detail_frame</span> = <span class="ruby-constant">TkFrame</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'fill'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'both'</span>, <span class="ruby-value str">'expand'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">true</span>)
207:       <span class="ruby-keyword kw">end</span>
208: 
209:       <span class="ruby-constant">TkGrid</span>.<span class="ruby-identifier">rowconfigure</span>(<span class="ruby-identifier">fault_list_frame</span>, <span class="ruby-value">0</span>, <span class="ruby-value str">'weight'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>, <span class="ruby-value str">'minsize'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value">0</span>)
210:       <span class="ruby-constant">TkGrid</span>.<span class="ruby-identifier">columnconfigure</span>(<span class="ruby-identifier">fault_list_frame</span>, <span class="ruby-value">0</span>, <span class="ruby-value str">'weight'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>, <span class="ruby-value str">'minsize'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value">0</span>)
211: 
212:             <span class="ruby-identifier">fault_scrollbar_y</span> = <span class="ruby-constant">TkScrollbar</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">fault_list_frame</span>)
213:             <span class="ruby-identifier">fault_scrollbar_x</span> = <span class="ruby-constant">TkScrollbar</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">fault_list_frame</span>)
214:             <span class="ruby-ivar">@fault_list</span> = <span class="ruby-constant">TkListbox</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">fault_list_frame</span>)
215:             <span class="ruby-ivar">@fault_list</span>.<span class="ruby-identifier">yscrollbar</span>(<span class="ruby-identifier">fault_scrollbar_y</span>)
216:             <span class="ruby-ivar">@fault_list</span>.<span class="ruby-identifier">xscrollbar</span>(<span class="ruby-identifier">fault_scrollbar_x</span>)
217: 
218:       <span class="ruby-constant">TkGrid</span>.<span class="ruby-identifier">rowconfigure</span>(<span class="ruby-identifier">detail_frame</span>, <span class="ruby-value">0</span>, <span class="ruby-value str">'weight'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>, <span class="ruby-value str">'minsize'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value">0</span>)
219:       <span class="ruby-constant">TkGrid</span>.<span class="ruby-identifier">columnconfigure</span>(<span class="ruby-identifier">detail_frame</span>, <span class="ruby-value">0</span>, <span class="ruby-value str">'weight'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>, <span class="ruby-value str">'minsize'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value">0</span>)
220: 
221:       <span class="ruby-operator">::</span><span class="ruby-constant">Tk</span>.<span class="ruby-identifier">grid</span>(<span class="ruby-ivar">@fault_list</span>, <span class="ruby-identifier">fault_scrollbar_y</span>, <span class="ruby-value str">'sticky'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'news'</span>)
222:       <span class="ruby-operator">::</span><span class="ruby-constant">Tk</span>.<span class="ruby-identifier">grid</span>(<span class="ruby-identifier">fault_scrollbar_x</span>, <span class="ruby-value str">'sticky'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'news'</span>)
223: 
224:             <span class="ruby-identifier">detail_scrollbar_y</span> = <span class="ruby-constant">TkScrollbar</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">detail_frame</span>)
225:             <span class="ruby-identifier">detail_scrollbar_x</span> = <span class="ruby-constant">TkScrollbar</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">detail_frame</span>)
226:             <span class="ruby-ivar">@detail_text</span> = <span class="ruby-constant">TkText</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">detail_frame</span>, <span class="ruby-value str">'height'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value">10</span>, <span class="ruby-value str">'wrap'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'none'</span>) {
227:               <span class="ruby-identifier">bindtags</span>(<span class="ruby-identifier">bindtags</span> <span class="ruby-operator">-</span> [<span class="ruby-constant">TkText</span>])
228:       }
229:       <span class="ruby-ivar">@detail_text</span>.<span class="ruby-identifier">yscrollbar</span>(<span class="ruby-identifier">detail_scrollbar_y</span>)
230:       <span class="ruby-ivar">@detail_text</span>.<span class="ruby-identifier">xscrollbar</span>(<span class="ruby-identifier">detail_scrollbar_x</span>)
231: 
232:       <span class="ruby-operator">::</span><span class="ruby-constant">Tk</span>.<span class="ruby-identifier">grid</span>(<span class="ruby-ivar">@detail_text</span>, <span class="ruby-identifier">detail_scrollbar_y</span>, <span class="ruby-value str">'sticky'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'news'</span>)
233:       <span class="ruby-operator">::</span><span class="ruby-constant">Tk</span>.<span class="ruby-identifier">grid</span>(<span class="ruby-identifier">detail_scrollbar_x</span>, <span class="ruby-value str">'sticky'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'news'</span>)
234: 
235:       <span class="ruby-comment cmt"># rubber-style pane</span>
236:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">paned_frame</span>
237:         <span class="ruby-operator">::</span><span class="ruby-constant">Tk</span>.<span class="ruby-identifier">update</span>
238:         <span class="ruby-ivar">@height</span> = <span class="ruby-identifier">paned_frame</span>.<span class="ruby-identifier">winfo_height</span>
239:         <span class="ruby-identifier">paned_frame</span>.<span class="ruby-identifier">bind</span>(<span class="ruby-value str">'Configure'</span>, <span class="ruby-identifier">proc</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">h</span><span class="ruby-operator">|</span>
240:     <span class="ruby-identifier">paned_frame</span>.<span class="ruby-identifier">sash_place</span>(<span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-identifier">paned_frame</span>.<span class="ruby-identifier">sash_coord</span>(<span class="ruby-value">0</span>)[<span class="ruby-value">1</span>] <span class="ruby-operator">*</span> <span class="ruby-identifier">h</span> <span class="ruby-operator">/</span> <span class="ruby-ivar">@height</span>)
241:     <span class="ruby-ivar">@height</span> = <span class="ruby-identifier">h</span>
242:         }, <span class="ruby-value str">'%h'</span>)
243:       <span class="ruby-keyword kw">end</span>
244:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007067">
                    
                    <a name="M007067"></a><b>show_fault</b>(fault)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007067_source')" id="l_M007067_source">show</a>
                        
                    </p>
                    <div id="M007067_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 133</span>
133:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">show_fault</span>(<span class="ruby-identifier">fault</span>)
134:             <span class="ruby-identifier">raw_show_fault</span>(<span class="ruby-identifier">fault</span>.<span class="ruby-identifier">long_display</span>)
135:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007062">
                    
                    <a name="M007062"></a><b>start_ui</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007062_source')" id="l_M007062_source">show</a>
                        
                    </p>
                    <div id="M007062_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 84</span>
 84:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">start_ui</span>
 85:             <span class="ruby-ivar">@viewer</span>.<span class="ruby-identifier">run</span>
 86:             <span class="ruby-identifier">running</span> = <span class="ruby-keyword kw">false</span>
 87:             <span class="ruby-keyword kw">begin</span>
 88:               <span class="ruby-identifier">loop</span> <span class="ruby-keyword kw">do</span>
 89:                 <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">running</span> <span class="ruby-operator">^=</span> <span class="ruby-keyword kw">true</span>)
 90:                   <span class="ruby-ivar">@run_button</span>.<span class="ruby-identifier">configure</span>(<span class="ruby-value str">'text'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'Stop'</span>)
 91:                   <span class="ruby-ivar">@mediator</span>.<span class="ruby-identifier">run_suite</span>
 92:                 <span class="ruby-keyword kw">else</span>
 93:                   <span class="ruby-ivar">@run_button</span>.<span class="ruby-identifier">configure</span>(<span class="ruby-value str">'text'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-value str">'Run'</span>)
 94:                   <span class="ruby-ivar">@viewer</span>.<span class="ruby-identifier">join</span>
 95:                   <span class="ruby-keyword kw">break</span>
 96:                 <span class="ruby-keyword kw">end</span>
 97:               <span class="ruby-keyword kw">end</span>
 98:             <span class="ruby-keyword kw">rescue</span> <span class="ruby-ivar">@restart_signal</span>
 99:               <span class="ruby-keyword kw">retry</span>
100:             <span class="ruby-keyword kw">rescue</span>
101:             <span class="ruby-keyword kw">end</span>
102:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007071">
                    
                    <a name="M007071"></a><b>started</b>(result)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007071_source')" id="l_M007071_source">show</a>
                        
                    </p>
                    <div id="M007071_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 153</span>
153:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">started</span>(<span class="ruby-identifier">result</span>)
154:             <span class="ruby-ivar">@result</span> = <span class="ruby-identifier">result</span>
155:             <span class="ruby-identifier">output_status</span>(<span class="ruby-value str">&quot;Started...&quot;</span>)
156:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007063">
                    
                    <a name="M007063"></a><b>stop</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007063_source')" id="l_M007063_source">show</a>
                        
                    </p>
                    <div id="M007063_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 104</span>
104:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stop</span>
105:             <span class="ruby-operator">::</span><span class="ruby-constant">Tk</span>.<span class="ruby-identifier">exit</span>
106:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M007072">
                    
                    <a name="M007072"></a><b>test_started</b>(test_name)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007072_source')" id="l_M007072_source">show</a>
                        
                    </p>
                    <div id="M007072_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 158</span>
158:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_started</span>(<span class="ruby-identifier">test_name</span>)
159:             <span class="ruby-identifier">output_status</span>(<span class="ruby-node">&quot;Running #{test_name}...&quot;</span>)
160:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M007057">
                    
                    <a name="M007057"></a><b>new</b>(suite, output_level = NORMAL)
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new <a href="TestRunner.html">TestRunner</a> for running the
passed suite.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M007057_source')" id="l_M007057_source">show</a>
                        
                    </p>
                    <div id="M007057_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/test/unit/ui/tk/testrunner.rb, line 26</span>
26:           <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">suite</span>, <span class="ruby-identifier">output_level</span> = <span class="ruby-constant">NORMAL</span>)
27:             <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">suite</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:suite</span>))
28:               <span class="ruby-ivar">@suite</span> = <span class="ruby-identifier">suite</span>.<span class="ruby-identifier">suite</span>
29:             <span class="ruby-keyword kw">else</span>
30:               <span class="ruby-ivar">@suite</span> = <span class="ruby-identifier">suite</span>
31:             <span class="ruby-keyword kw">end</span>
32:             <span class="ruby-ivar">@result</span> = <span class="ruby-keyword kw">nil</span>
33: 
34:             <span class="ruby-ivar">@red</span> = <span class="ruby-keyword kw">false</span>
35:             <span class="ruby-ivar">@fault_detail_list</span> = []
36:             <span class="ruby-ivar">@runner</span> = <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>
37:             <span class="ruby-ivar">@restart_signal</span> = <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Exception</span>)
38:             <span class="ruby-ivar">@viewer</span> = <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">start</span> <span class="ruby-keyword kw">do</span>
39:               <span class="ruby-ivar">@runner</span>.<span class="ruby-identifier">join</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-ivar">@runner</span>.<span class="ruby-identifier">run</span>
40:               <span class="ruby-operator">::</span><span class="ruby-constant">Tk</span>.<span class="ruby-identifier">mainloop</span>
41:             <span class="ruby-keyword kw">end</span>
42:             <span class="ruby-ivar">@viewer</span>.<span class="ruby-identifier">join</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-comment cmt"># wait deadlock to handshake</span>
43:           <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    