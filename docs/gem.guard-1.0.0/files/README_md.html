<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>README.md</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            README.md
        </h1>
        <ul class="files">
            <li>README.md</li>
            <li>Last modified: Sat Jan 21 23:54:42 +0100 2012</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
<a href="../classes/Guard.html">Guard</a> [![Build Status](<a
href="https://secure.travis-ci.org/guard/guard.png?branch=master)](http://travis-ci.org/guard/guard">secure.travis-ci.org/guard/guard.png?branch=master)](http://travis-ci.org/guard/guard</a>)
</p>
<h5></h5>
<p>
<a href="../classes/Guard.html">Guard</a> is a command line tool to easily
handle events on file system modifications.
</p>
<p>
If you have any questions please join us in our [Google group](<a
href="http://groups.google.com/group/guard-dev">groups.google.com/group/guard-dev</a>)
or on `guard` (irc.freenode.net).
</p>
<p>
Features
</p>
<hr size="6"></hr><ul>
<li>[FSEvent](<a
href="http://en.wikipedia.org/wiki/FSEvents">en.wikipedia.org/wiki/FSEvents</a>)
support on Mac OS X.

</li>
<li>[Inotify](<a
href="http://en.wikipedia.org/wiki/Inotify">en.wikipedia.org/wiki/Inotify</a>)
support on Linux.

</li>
<li>[Directory Change Notification](<a
href="http://msdn.microsoft.com/en-us/library/aa365261\(VS.85\).aspx">msdn.microsoft.com/en-us/library/aa365261\(VS.85\).aspx</a>)
support on Windows.

</li>
<li>Polling on the other operating systems.

</li>
<li>Automatic and super fast file modification detection when polling is not
used. Even new and deleted files are detected.

</li>
<li>Support for visual system notifications.

</li>
<li>Tested against Ruby 1.8.7, 1.9.2, 1.9.3, REE and the latest versions of
JRuby &amp; Rubinius.

</li>
</ul>
<p>
Screencast
</p>
<hr size="8"></hr><p>
Ryan Bates made an excellent [RailsCast about Guard](<a
href="http://railscasts.com/episodes/264-guard">railscasts.com/episodes/264-guard</a>)
and you should definitely watch it for a nice introduction to <a
href="../classes/Guard.html">Guard</a>.
</p>
<p>
Installation
</p>
<hr size="10"></hr><p>
The simplest way to install <a href="../classes/Guard.html">Guard</a> is to
use [Bundler](<a href="http://gembundler.com/">gembundler.com/</a>).
</p>
<p>
Add <a href="../classes/Guard.html">Guard</a> to your `Gemfile`:
</p>
<p>
```ruby group :development do
</p>
<pre>
  gem 'guard'
</pre>
<p>
end ```
</p>
<p>
and install it by running Bundler:
</p>
<p>
```bash $ bundle ```
</p>
<p>
Generate an empty `Guardfile` with:
</p>
<p>
```bash $ guard init ```
</p>
<p>
If you are using Windows and want colors in your terminal, you&#8217;ll
have to add the [win32console](<a
href="https://rubygems.org/gems/win32console">rubygems.org/gems/win32console</a>)
gem to your `Gemfile` and install it with Bundler:
</p>
<p>
```ruby group :development do
</p>
<pre>
  gem 'win32console'
</pre>
<p>
end ```
</p>
<p>
**It&#8217;s important that you always run <a
href="../classes/Guard.html">Guard</a> through Bundler to avoid errors.**
If you&#8217;re getting sick of typing `bundle exec` all the time, try the
[Rubygems Bundler](<a
href="https://github.com/mpapis/rubygems-bundler">github.com/mpapis/rubygems-bundler</a>).
</p>
<p>
### System notifications
</p>
<p>
You can configure <a href="../classes/Guard.html">Guard</a> to make use of
the following system notification libraries, but it&#8217;s strongly
recommended to use either Ruby GNTP, Libnotify or Notifu:
</p>
<p>
#### Ruby GNTP
</p>
<ul>
<li>Runs on Mac OS X, Linux and Windows

</li>
<li>Supports [Growl](<a href="http://growl.info/">growl.info/</a>) version >=
1.3, [Growl for Linux](<a
href="http://mattn.github.com/growl-for-linux">mattn.github.com/growl-for-linux</a>/),
[Growl for Windows](<a
href="http://www.growlforwindows.com/gfw/default.aspx">www.growlforwindows.com/gfw/default.aspx</a>)
and [Snarl](<a
href="https://sites.google.com/site/snarlapp/home">sites.google.com/site/snarlapp/home</a>)

</li>
</ul>
<p>
The [ruby_gntp](<a
href="https://rubygems.org/gems/ruby_gntp">rubygems.org/gems/ruby_gntp</a>)
gem sends system notifications over the network with the [Growl
Notification Transport Protocol](<a
href="http://www.growlforwindows.com/gfw/help/gntp.aspx">www.growlforwindows.com/gfw/help/gntp.aspx</a>)
and supports local and remote notifications.
</p>
<p>
<a href="../classes/Guard.html">Guard</a> supports multiple notification
channels for customizing each notification type. For Growl on Mac OS X you
need to have at least version 1.3 installed.
</p>
<p>
To use `ruby_gntp` you have to add it to your `Gemfile` and run bundler:
</p>
<p>
```ruby group :development do
</p>
<pre>
  gem 'ruby_gntp'
</pre>
<p>
end ```
</p>
<p>
#### Libnotify
</p>
<ul>
<li>Runs on Linux, FreeBSD, OpenBSD and Solaris

</li>
<li>Supports [Libnotify](<a
href="http://developer.gnome.org/libnotify/">developer.gnome.org/libnotify/</a>)

</li>
</ul>
<p>
The [libnotify](<a
href="https://rubygems.org/gems/libnotify">rubygems.org/gems/libnotify</a>)
gem supports the Gnome libnotify notification daemon, but it can be used on
other window managers as well. You have to install the `libnotify-bin`
package with your favorite package manager.
</p>
<p>
To use `libnotify` you have to add it to your `Gemfile` and run bundler:
</p>
<p>
```ruby group :development do
</p>
<pre>
  gem 'libnotify'
</pre>
<p>
end ```
</p>
<p>
#### Notifu
</p>
<ul>
<li>Runs on Windows

</li>
<li>Supports [Notifu](<a
href="http://www.paralint.com/projects/notifu/">www.paralint.com/projects/notifu/</a>)

</li>
</ul>
<p>
The [rb-notifu](<a
href="https://rubygems.org/gems/rb-notifu">rubygems.org/gems/rb-notifu</a>)
gem supports Windows system tray notifications.
</p>
<p>
To use `rb-notifu` you have to add it to your `Gemfile` and run bundler:
</p>
<p>
```ruby group :development do
</p>
<pre>
  gem 'rb-notifu'
</pre>
<p>
end ```
</p>
<p>
#### Growl
</p>
<ul>
<li>Runs on Mac OS X

</li>
<li>Supports all [Growl](<a href="http://growl.info/">growl.info/</a>) versions

</li>
</ul>
<p>
The [growl](<a
href="https://rubygems.org/gems/growl">rubygems.org/gems/growl</a>) gem is
compatible with all versions of Growl and uses a command line tool
[growlnotify](<a
href="http://growl.info/extras.php#growlnotify">growl.info/extras.php#growlnotify</a>)
that must be separately downloaded and installed. The version of the
command line tool must match your Growl version. The `growl` gem does
*<b>not</b>* support multiple notification channels.
</p>
<p>
You have to download the installer for `growlnotify` from the [Growl
download section](<a
href="http://growl.info/downloads">growl.info/downloads</a>).
</p>
<p>
To use `growl` you have to add it to your `Gemfile` and run bundler:
</p>
<p>
```ruby group :development do
</p>
<pre>
  gem 'growl'
</pre>
<p>
end ```
</p>
<p>
#### GrowlNotify
</p>
<ul>
<li>Runs on Mac OS X

</li>
<li>Supports [Growl](<a href="http://growl.info/">growl.info/</a>) version >=
1.3

</li>
<li>Doesn&#8217;t support JRuby and MacRuby.

</li>
<li>Doesn&#8217;t work when forking, e.g. with [Spork](<a
href="https://github.com/sporkrb/spork">github.com/sporkrb/spork</a>).

</li>
</ul>
<p>
The [growl_notify](<a
href="https://rubygems.org/gems/growl_notify">rubygems.org/gems/growl_notify</a>)
gem uses AppleScript to send Growl notifications. The gem needs a native C
extension to make use of AppleScript and does not run on JRuby and MacRuby.
</p>
<p>
<a href="../classes/Guard.html">Guard</a> supports multiple notification
channels for customizing each notification type and you need to have at
least Growl version 1.3 installed.
</p>
<p>
To use `growl_notify` you have to add it to your `Gemfile` and run bundler:
</p>
<p>
```ruby group :development do
</p>
<pre>
  gem 'growl_notify'
</pre>
<p>
end ```
</p>
<p>
Add more Guards
</p>
<hr size="10"></hr><p>
<a href="../classes/Guard.html">Guard</a> is now ready to use and you
should add some Guards for your specific use. Start exploring the many
Guards available by browsing the [<a href="../classes/Guard.html">Guard</a>
organization](<a href="https://github.com/guard">github.com/guard</a>) on
GitHub or by searching for `guard-` on [RubyGems](<a
href="https://rubygems.org/search?utf8=%E2%9C%93&query=guard">rubygems.org/search?utf8=%E2%9C%93&query=guard</a>-).
</p>
<p>
When you have found a <a href="../classes/Guard.html">Guard</a> of your
interest, add it to your `Gemfile`:
</p>
<p>
```ruby group :development do
</p>
<pre>
  gem '&lt;guard-name&gt;'
</pre>
<p>
end ```
</p>
<p>
See the init section of the <a href="../classes/Guard.html">Guard</a> usage
below to see how to install the supplied <a
href="../classes/Guard.html">Guard</a> template that you can install and to
suit your needs.
</p>
<p>
Usage
</p>
<hr size="3"></hr><p>
<a href="../classes/Guard.html">Guard</a> is run from the command line.
Please open your terminal and go to your project work directory.
</p>
<p>
### Help
</p>
<p>
You can always get help on the available tasks with the `help` task:
</p>
<p>
```bash $ guard help ```
</p>
<p>
To request more detailed help on a specific task is simple: just appending
the task name to the help task. For example, to get help for the `start`
task, simply run:
</p>
<p>
```bash $ guard help start ```
</p>
<p>
### Init
</p>
<p>
You can generate an empty `Guardfile` by running the `init` task:
</p>
<p>
```bash $ guard init ```
</p>
<p>
In addition, the `init` task can be used to append a supplied <a
href="../classes/Guard.html">Guard</a> template from an installed <a
href="../classes/Guard.html">Guard</a> to your existing `Guardfile`:
</p>
<p>
```bash $ guard init <guard-name> ```
</p>
<p>
You can also define your own templates in `~/.guard/templates/` which can
be appended in the same way to your existing `Guardfile`:
</p>
<p>
```bash $ guard init <template-name> ```
</p>
<p>
### Start
</p>
<p>
Just launch <a href="../classes/Guard.html">Guard</a> inside your Ruby or
Rails project with:
</p>
<p>
```bash $ guard ```
</p>
<p>
<a href="../classes/Guard.html">Guard</a> will look for a `Guardfile` in
your current directory. If it does not find one, it will look in your
`$HOME` directory for a `.Guardfile`.
</p>
<p>
#### `-c`/`&#8212;clear` option
</p>
<p>
The shell can be cleared after each change:
</p>
<p>
```bash $ guard &#8212;clear $ guard -c # shortcut ```
</p>
<p>
#### `-n`/`&#8212;notify` option
</p>
<p>
System notifications can be disabled:
</p>
<p>
```bash $ guard &#8212;notify false $ guard -n f # shortcut ```
</p>
<p>
Notifications can also be disabled globally by setting a `GUARD_NOTIFY`
environment variable to `false`.
</p>
<p>
#### `-g`/`&#8212;group` option
</p>
<p>
Only certain <a href="../classes/Guard.html">Guard</a> groups can be run:
</p>
<p>
```bash $ guard &#8212;group group_name another_group_name $ guard -g
group_name another_group_name # shortcut ```
</p>
<p>
See the Guardfile DSL below for creating groups.
</p>
<p>
#### `-v`/`&#8212;verbose` option
</p>
<p>
<a href="../classes/Guard.html">Guard</a> can be run in verbose mode:
</p>
<p>
```bash $ guard &#8212;verbose $ guard -v # shortcut ```
</p>
<p>
#### `-w`/`&#8212;watchdir` option
</p>
<p>
<a href="../classes/Guard.html">Guard</a> can watch in any directory
instead of the current directory:
</p>
<p>
```bash $ guard &#8212;watchdir ~/your/fancy/project $ guard -w
~/your/fancy/project # shortcut ```
</p>
<p>
#### `-G`/`&#8212;guardfile` option
</p>
<p>
<a href="../classes/Guard.html">Guard</a> can use a `Guardfile` not located
in the current directory:
</p>
<p>
```bash $ guard &#8212;guardfile ~/.your_global_guardfile $ guard -G
~/.your_global_guardfile # shortcut ```
</p>
<p>
#### `-A`/`&#8212;watch-all-modifications` option
</p>
<p>
<a href="../classes/Guard.html">Guard</a> can optionally watch all file
modifications like moves or deletions with:
</p>
<p>
```bash $ guard start -A $ guard start &#8212;watch-all-modifications ```
</p>
<p>
#### `-i`/`&#8212;no-interactions` option
</p>
<p>
Turn off completely any <a href="../classes/Guard.html">Guard</a> terminal
interactions with:
</p>
<p>
```bash $ guard start -i $ guard start &#8212;no-interactions ```
</p>
<p>
### `-I`/`&#8212;no-vendor` option
</p>
<p>
Ignore the use of vendored gems with:
</p>
<p>
```bash $ guard start -I $ guard start &#8212;no-vendor ```
</p>
<p>
### List
</p>
<p>
You can list the available Guards with the `list` task:
</p>
<p>
```bash $ guard list
</p>
<p>
Available guards:
</p>
<pre>
   coffeescript
   compass
   cucumber
   jammit
   ronn
   rspec *
   spork
   yard
</pre>
<p>
See also <a
href="https://github.com/guard/guard/wiki/List-of-available-Guards">github.com/guard/guard/wiki/List-of-available-Guards</a>
</p>
<ul>
<li>denotes ones already in your Guardfile

</li>
</ul>
<p>
```
</p>
<p>
### Show
</p>
<p>
You can show the structure of the groups and their Guards with the `show`
task:
</p>
<p>
```bash $ guard show
</p>
<p>
(global):
</p>
<pre>
  shell
</pre>
<p>
Group backend:
</p>
<pre>
  bundler
  rspec: cli =&gt; &quot;--color --format doc&quot;
</pre>
<p>
Group frontend:
</p>
<pre>
  coffeescript: output =&gt; &quot;public/javascripts/compiled&quot;
  livereload
</pre>
<p>
```
</p>
<p>
This shows the internal structure of the evaluated `Guardfile` or
`.Guardfile`, with the `.guard.rb` file. You can read more about these
files in the shared configuration section below.
</p>
<p>
Interactions
</p>
<hr size="10"></hr><p>
You can interact with <a href="../classes/Guard.html">Guard</a> and enter
commands when <a href="../classes/Guard.html">Guard</a> has nothing to do.
<a href="../classes/Guard.html">Guard</a> understands the following
commands:
</p>
<ul>
<li>`↩`: Run all Guards.

</li>
<li>`h`, `help`: Show a help of the available interactor commands.

</li>
<li>`r`, `reload`: Reload all Guards.

</li>
<li>`n`, `notification`: Toggle system notifications on and off.

</li>
<li>`p`, `pause`: Toggles the file modification listener. The prompt will
change to `p>` when paused.

<pre>
                     This is useful when switching Git branches.
</pre>
</li>
<li>`e`, `exit`: Stop all Guards and quit <a
href="../classes/Guard.html">Guard</a>.

</li>
</ul>
<p>
Instead of running all Guards with the `↩` key, you can also run a single
<a href="../classes/Guard.html">Guard</a> by entering its name:
</p>
<p>
```bash > rspec ```
</p>
<p>
It&#8217;s also possible to run all Guards within a group by entering the
group name:
</p>
<p>
```bash > frontend ```
</p>
<p>
The same applies to <a href="../classes/Guard.html">Guard</a> reloading.
You can reload a <a href="../classes/Guard.html">Guard</a> with the
following command:
</p>
<p>
```bash > ronn reload ```
</p>
<p>
This will reload only the Ronn <a href="../classes/Guard.html">Guard</a>.
You can also reload all Guards within a group:
</p>
<p>
```bash > backend reload ```
</p>
<p>
### Readline support
</p>
<p>
With Readline enabled, you&#8217;ll see a command prompt `>` when <a
href="../classes/Guard.html">Guard</a> is ready to accept a command. The
command line supports history navigation with the `↑` and `↓` arrow
keys, and command auto-completion with the `⇥` key.
</p>
<p>
Unfortunately Readline [does not work on MRI](<a
href="http://bugs.ruby-lang.org/issues/5539">bugs.ruby-lang.org/issues/5539</a>)
on Mac OS X by default. You can work around the issue by installing a pure
Ruby implementation:
</p>
<p>
```ruby platforms :ruby do
</p>
<pre>
  gem 'rb-readline'
</pre>
<p>
end ```
</p>
<p>
<a href="../classes/Guard.html">Guard</a> will automatically enable
Readline support if your environment supports it, but you can disable
Readline with the `interactor` DSL method or turn off completely with the
`&#8212;no-interactions` option.
</p>
<p>
Guardfile DSL
</p>
<hr size="10"></hr><p>
The Guardfile DSL is evaluated as plain Ruby, so you can use normal Ruby
code in your `Guardfile`. <a href="../classes/Guard.html">Guard</a> itself
provides the following DSL methods that can be used for configuration:
</p>
<p>
### guard
</p>
<p>
The `guard` method allows you to add a <a
href="../classes/Guard.html">Guard</a> to your toolchain and configure it
by passing the options after the name of the Guard:
</p>
<p>
```ruby guard :coffeescript, :input => &#8216;coffeescripts&#8217;, :output
=> &#8216;javascripts&#8217; ```
</p>
<p>
You can define the same <a href="../classes/Guard.html">Guard</a> more than
once:
</p>
<p>
```ruby guard :coffeescript, :input => &#8216;coffeescripts&#8217;, :output
=> &#8216;javascripts&#8217; guard :coffeescript, :input =>
&#8216;specs&#8217;, :output => &#8216;specs&#8217; ```
</p>
<p>
### watch
</p>
<p>
The `watch` method allows you to define which files are watched by a Guard:
</p>
<p>
```ruby guard :bundler do
</p>
<pre>
  watch('Gemfile')
</pre>
<p>
end ```
</p>
<p>
String watch patterns are matched with [String#==](<a
href="http://www.ruby-doc.org/core-1.9.2/String.html#method-i-3D-3D">www.ruby-doc.org/core-1.9.2/String.html#method-i-3D-3D</a>).
You can also pass a regular expression to the watch method:
</p>
<p>
```ruby guard :jessie do
</p>
<pre>
  watch(%r{^spec/.+(_spec|Spec)\.(js|coffee)})
</pre>
<p>
end ```
</p>
<p>
This instructs the jessie <a href="../classes/Guard.html">Guard</a> to
watch for file changes in the `spec` folder, but only for file names that
ends with `_spec` or `Spec` and have a file type of `js` or `coffee`.
</p>
<p>
You can easily test your watcher regular expressions with [Rubular](<a
href="http://rubular.com/">rubular.com/</a>).
</p>
<p>
When you add a block to the watch expression, you can modify the file name
that has been detected before sending it to the <a
href="../classes/Guard.html">Guard</a> for processing:
</p>
<p>
```ruby guard :rspec do
</p>
<pre>
  watch(%r{^lib/(.+)\.rb$})     { |m| &quot;spec/lib/#{m[1]}_spec.rb&quot; }
</pre>
<p>
end ```
</p>
<p>
In this example the regular expression capture group `(.+)` is used to
transform a file change in the `lib` folder to its test case in the `spec`
folder. Regular expression watch patterns are matched with
[Regexp#match](<a
href="http://www.ruby-doc.org/core-1.9.2/Regexp.html#method-i-match">www.ruby-doc.org/core-1.9.2/Regexp.html#method-i-match</a>).
</p>
<p>
You can also launch any arbitrary command in the supplied block:
</p>
<p>
```ruby guard :shell do
</p>
<pre>
  watch('.*') { `git status` }
</pre>
<p>
end ```
</p>
<p>
### group
</p>
<p>
The `group` method allows you to group several Guards together. This comes
in handy especially when you have a huge `Guardfile` and want to focus your
development on a certain part.
</p>
<p>
```ruby group :specs do
</p>
<pre>
  guard :rspec do
    watch(%r{^spec/.+_spec\.rb$})
  end
</pre>
<p>
end
</p>
<p>
group :docs do
</p>
<pre>
  guard :ronn do
    watch(%r{^man/.+\.ronn?$})
  end
</pre>
<p>
end ```
</p>
<p>
Groups to be run can be specified with the <a
href="../classes/Guard.html">Guard</a> DSL option `&#8212;group` (or `-g`):
</p>
<p>
```bash $ guard -g specs ```
</p>
<p>
Guards that don&#8217;t belong to a group are considered global and are
always run.
</p>
<p>
### notification
</p>
<p>
If you don&#8217;t specify any notification configuration in your
`Guardfile`, <a href="../classes/Guard.html">Guard</a> goes through the
list of available notifiers and takes the first that is available. If you
specify your preferred library, auto detection will not take place:
</p>
<p>
```ruby notification :growl ```
</p>
<p>
will select the `growl` gem for notifications. You can also set options for
a notifier:
</p>
<p>
```ruby notification :growl, :sticky => true ```
</p>
<p>
Each notifier has a slightly different set of supported options:
</p>
<p>
```ruby notification :growl, :sticky => true, :host =>
&#8216;192.168.1.5&#8217;, :password => &#8216;secret&#8217; notification
:gntp, :sticky => true, :host => &#8216;192.168.1.5&#8217;, :password =>
&#8216;secret&#8217; notification :growl_notify, :sticky => true, :priority
=> 0 notification :libnotify, :timeout => 5, :transient => true, :append =>
false notification :notifu, :time => 5, :nosound => true, :xp => true ```
</p>
<p>
It&#8217;s possible to use more than one notifier. This allows you to
configure different notifiers for different OS if your project is developed
cross-platform or if you like to have local and remote notifications.
</p>
<p>
Notifications can also be turned off in the `Guardfile`, in addition to
setting the environment variable `GUARD_NOTIFY` or using the cli switch
`-n`:
</p>
<p>
```ruby notification :off ```
</p>
<p>
### interactor
</p>
<p>
You can disable the interactor auto detection and for a specific
implementation:
</p>
<p>
```ruby interactor :readline ```
</p>
<p>
will select Readline interactor. You can also force the simple interactor
without Readline support with:
</p>
<p>
```ruby interactor :simple ```
</p>
<p>
If you do not need the keyboard interactions with <a
href="../classes/Guard.html">Guard</a> at all, you can turn them off:
</p>
<p>
```ruby interactor :off ```
</p>
<p>
### callback
</p>
<p>
The `callback` method allows you to execute arbitrary code before or after
any of the `start`, `stop`, `reload`, `run_all` and `run_on_change`
Guards&#8217; method. You can even insert more hooks inside these methods.
</p>
<p>
```ruby guard :rspec do
</p>
<pre>
  watch(%r{^spec/.+_spec\.rb$})

  callback(:start_begin) { `mate .` }
</pre>
<p>
end ```
</p>
<p>
Please see the [hooks and callbacks](<a
href="https://github.com/guard/guard/wiki/Hooks-and-callbacks">github.com/guard/guard/wiki/Hooks-and-callbacks</a>)
page in the <a href="../classes/Guard.html">Guard</a> wiki for more
details.
</p>
<p>
### ignore_paths
</p>
<p>
The `ignore_paths` method allows you to ignore top level directories
altogether. This comes is handy when you have large amounts of non-source
data in you project. By default `.bundle`, `.git`, `log`, `tmp`, and
`vendor` are ignored. Currently it is only possible to ignore the immediate
descendants of the watched directory.
</p>
<p>
```ruby ignore_paths &#8216;public&#8217; ```
</p>
<p>
### Example
</p>
<p>
```ruby ignore_paths &#8216;foo&#8217;, &#8216;bar&#8217;
</p>
<p>
notification :growl_notify notification :gntp, :host =>
&#8216;192.168.1.5&#8216;
</p>
<p>
group :backend do
</p>
<pre>
  guard :bundler do
    watch('Gemfile')
  end

  guard :rspec, :cli =&gt; '--color --format doc' do
    watch(%r{^spec/.+_spec\.rb$})
    watch(%r{^lib/(.+)\.rb$})         { |m| &quot;spec/lib/#{m[1]}_spec.rb&quot; }
    watch(%r{^spec/models/.+\.rb$})   { [&quot;spec/models&quot;, &quot;spec/acceptance&quot;] }
    watch(%r{^spec/.+\.rb$})          { `say hello` }
    watch('spec/spec_helper.rb')      { &quot;spec&quot; }
  end
</pre>
<p>
end
</p>
<p>
group :frontend do
</p>
<pre>
  guard :coffeescript, :output =&gt; 'public/javascripts/compiled' do
    watch(%r{^app/coffeescripts/.+\.coffee$})
  end

  guard :livereload do
    watch(%r{^app/.+\.(erb|haml)$})
  end
</pre>
<p>
end ```
</p>
<p>
Shared configurations
</p>
<hr size="10"></hr><p>
You may optionally place a `.Guardfile` in your home directory to use it
across multiple projects. It&#8217;s evaluated when you have no `Guardfile`
in your current directory.
</p>
<p>
If a `.guard.rb` is found in your home directory, it will be appended to
the `Guardfile` in your current directory. This can be used for tasks you
want guard to handle but other users probably don&#8217;t.
</p>
<p>
For example, indexing your source tree with [Ctags](<a
href="http://ctags.sourceforge.net">ctags.sourceforge.net</a>):
</p>
<p>
```ruby guard :shell do
</p>
<pre>
  watch(%r{^(?:app|lib)/.+\.rb$}) { `ctags -R` }
</pre>
<p>
end ```
</p>
<p>
Advanced Linux system configuration
</p>
<hr size="10"></hr><p>
It&#8217;s not uncommon to encounter a system limit on the number of files
you can monitor. For example, Ubuntu Lucid&#8217;s (64bit) inotify limit is
set to 8192.
</p>
<p>
You can get your current inotify file watch limit by executing:
</p>
<p>
```bash $ cat /proc/sys/fs/inotify/max_user_watches ```
</p>
<p>
And set a new limit temporary with:
</p>
<p>
```bash sudo sysctl fs.inotify.max_user_watches=524288 sudo sysctl -p ```
</p>
<p>
If you like to make your limit permanent, use:
</p>
<p>
```bash echo fs.inotify.max_user_watches=524288 | sudo tee -a
/etc/sysctl.conf sudo sysctl -p ```
</p>
<p>
You may also need to pay attention to the values of `max_queued_events` and
`max_user_instances`.
</p>
<p>
Create a <a href="../classes/Guard.html">Guard</a>
</p>
<hr size="10"></hr><p>
Creating a new <a href="../classes/Guard.html">Guard</a> is very easy, just
create a new gem by running `bundle gem guard-name`, where `name` is the
name of your <a href="../classes/Guard.html">Guard</a>. Please make your <a
href="../classes/Guard.html">Guard</a> start with `guard-`, so that it can
easily be found on RubyGems.
</p>
<p>
```bash $ mkdir guard-name $ cd guard-name $ bundle gem guard-name ```
</p>
<p>
Now extend the project structure to have an initial Guard:
</p>
<p>
```bash .travis.yml # bonus point! <a
href="CHANGELOG_md.html">CHANGELOG.md</a> # bonus point! Gemfile
guard-name.gemspec Guardfile lib/
</p>
<pre>
  guard/
    guard-name/
      templates/
        Guardfile # needed for `guard init &lt;guard-name&gt;`
      version.rb
    guard-name.rb
</pre>
<p>
test/ # or spec/ <a href="README_md.html">README.md</a> ```
</p>
<p>
Your <a href="../classes/Guard.html">Guard</a> main class
`Guard::GuardName` in `lib/guard/guard-name.rb` must inherit from
[Guard::Guard](<a
href="http://rubydoc.info/github/guard/guard/master/Guard/Guard">rubydoc.info/github/guard/guard/master/Guard/Guard</a>)
and should overwrite at least the `run_on_change` task methods.
</p>
<p>
Here is an example scaffold for `lib/guard/guard-name.rb`:
</p>
<p>
```ruby require &#8216;guard&#8217; require &#8216;guard/guard&#8216;
</p>
<p>
module <a href="../classes/Guard.html">Guard</a>
</p>
<pre>
  class GuardName &lt; Guard

    # Initialize a Guard.
    # @param [Array&lt;Guard::Watcher&gt;] watchers the Guard file watchers
    # @param [Hash] options the custom Guard options
    def initialize(watchers = [], options = {})
      super
    end

    # Call once when Guard starts. Please override initialize method to init stuff.
    # @raise [:task_has_failed] when start has failed
    def start
    end

    # Called when `stop|quit|exit|s|q|e + enter` is pressed (when Guard quits).
    # @raise [:task_has_failed] when stop has failed
    def stop
    end

    # Called when `reload|r|z + enter` is pressed.
    # This method should be mainly used for &quot;reload&quot; (really!) actions like reloading passenger/spork/bundler/...
    # @raise [:task_has_failed] when reload has failed
    def reload
    end

    # Called when just `enter` is pressed
    # This method should be principally used for long action like running all specs/tests/...
    # @raise [:task_has_failed] when run_all has failed
    def run_all
    end

    # Called on file(s) modifications that the Guard watches.
    # @param [Array&lt;String&gt;] paths the changes files or paths
    # @raise [:task_has_failed] when run_on_change has failed
    def run_on_change(paths)
    end

    # Called on file(s) deletions that the Guard watches.
    # @param [Array&lt;String&gt;] paths the deleted files or paths
    # @raise [:task_has_failed] when run_on_change has failed
    def run_on_deletion(paths)
    end

  end
</pre>
<p>
end ```
</p>
<p>
Please take a look at the source code of some of the [existing Guards](<a
href="https://github.com/guard">github.com/guard</a>) for more concrete
example and inspiration.
</p>
<p>
Alternatively, a new <a href="../classes/Guard.html">Guard</a> can be added
inline to a `Guardfile` with this basic structure:
</p>
<p>
```ruby require &#8216;guard/guard&#8216;
</p>
<p>
module <a href="../classes/Guard.html">::Guard</a>
</p>
<pre>
  class InlineGuard &lt; ::Guard::Guard
    def run_all
    end

    def run_on_change(paths)
    end
  end
</pre>
<p>
end ```
</p>
<p>
[@avdi](<a href="https://github.com/avdi">github.com/avdi</a>) has a very
cool inline <a href="../classes/Guard.html">Guard</a> example in his blog
post [A Guardfile for Redis](<a
href="http://avdi.org/devblog/2011/06/15/a-guardfile-for-redis">avdi.org/devblog/2011/06/15/a-guardfile-for-redis</a>).
</p>
<p>
Programmatic use of <a href="../classes/Guard.html">Guard</a>
</p>
<hr size="10"></hr><p>
The Guardfile DSL can also be used in a programmatic fashion by calling [<a
href="../classes/Guard/Dsl.html#M000006">Guard::Dsl.evaluate_guardfile</a>](<a
href="http://rubydoc.info/github/guard/guard/master/Guard/Dsl#evaluate_guardfile-class_method">rubydoc.info/github/guard/guard/master/Guard/Dsl#evaluate_guardfile-class_method</a>).
</p>
<p>
Available options are as follow:
</p>
<ul>
<li>`:guardfile` - The path to a valid `Guardfile`.

</li>
<li>`:guardfile_contents` - A string representing the content of a valid
`Guardfile`.

</li>
</ul>
<p>
Remember, without any options given, <a
href="../classes/Guard.html">Guard</a> will look for a `Guardfile` in your
current directory and if it does not find one, it will look for it in your
`$HOME` directory.
</p>
<p>
Evaluate a `Guardfile`:
</p>
<p>
```ruby require &#8216;guard&#8217;
</p>
<p>
<a href="../classes/Guard.html#M000171">Guard.setup</a> <a
href="../classes/Guard/Dsl.html#M000006">Guard::Dsl.evaluate_guardfile</a>(:guardfile
=> &#8216;/path/to/Guardfile&#8217;) <a
href="../classes/Guard.html#M000175">Guard.start</a> ```
</p>
<p>
Evaluate a string as `Guardfile`:
</p>
<p>
```ruby require &#8216;guard&#8217;
</p>
<p>
<a href="../classes/Guard.html#M000171">Guard.setup</a>
</p>
<p>
guardfile = <<-EOF
</p>
<pre>
  guard 'rspec' do
    watch(%r{^spec/.+_spec\.rb$})
  end
</pre>
<p>
EOF
</p>
<p>
<a
href="../classes/Guard/Dsl.html#M000006">Guard::Dsl.evaluate_guardfile</a>(:guardfile_contents
=> guardfile) <a href="../classes/Guard.html#M000175">Guard.start</a> ```
</p>
<p>
Issues
</p>
<hr size="4"></hr><p>
You can report issues and feature requests to [GitHub Issues](<a
href="https://github.com/guard/guard/issues">github.com/guard/guard/issues</a>).
Try to figure out where the issue belongs to: Is it an issue with <a
href="../classes/Guard.html">Guard</a> itself or with a <a
href="../classes/Guard.html">Guard</a> implementation you&#8217;re using?
Please don&#8217;t ask question in the issue tracker, instead join us in
our [Google group](<a
href="http://groups.google.com/group/guard-dev">groups.google.com/group/guard-dev</a>)
or on `guard` (irc.freenode.net).
</p>
<p>
When you file an issue, please try to follow to these simple rules if
applicable:
</p>
<ul>
<li>Make sure you run <a href="../classes/Guard.html">Guard</a> with `bundle
exec` first.

</li>
<li>Add verbose information to the issue by running <a
href="../classes/Guard.html">Guard</a> with the `&#8212;verbose` option.

</li>
<li>Add your `Guardfile` and `Gemfile` to the issue.

</li>
<li>Make sure that the issue is reproducible with your description.

</li>
</ul>
<p>
Development [![Dependency Status](<a
href="https://gemnasium.com/guard/guard.png?branch=master)](https://gemnasium.com/guard/guard">gemnasium.com/guard/guard.png?branch=master)](https://gemnasium.com/guard/guard</a>)
</p>
<hr size="9"></hr><ul>
<li>Documentation hosted at [RubyDoc](<a
href="http://rubydoc.info/github/guard/guard/master/frames">rubydoc.info/github/guard/guard/master/frames</a>).

</li>
<li>Source hosted at [GitHub](<a
href="https://github.com/guard/guard">github.com/guard/guard</a>).

</li>
</ul>
<p>
Pull requests are very welcome! Please try to follow these simple rules if
applicable:
</p>
<ul>
<li>Please create a topic branch for every separate change you make.

</li>
<li>Make sure your patches are well tested. All specs run with `rake
spec:portability` must pass.

<ul>
<li>On OS X you need to compile once rb-fsevent executable with `rake
build_mac_exec`.

</li>
</ul>
</li>
<li>Update the [Yard](<a href="http://yardoc.org/">yardoc.org/</a>)
documentation.

</li>
<li>Update the README.

</li>
<li>Update the CHANGELOG for noteworthy changes.

</li>
<li>Please **do not change** the version number.

</li>
</ul>
<p>
For questions please join us in our [Google group](<a
href="http://groups.google.com/group/guard-dev">groups.google.com/group/guard-dev</a>)
or on `guard` (irc.freenode.net).
</p>
<p>
Core Team
</p>
<hr size="7"></hr><ul>
<li>[Michael Kessler](<a
href="https://github.com/netzpirat">github.com/netzpirat</a>)
([@netzpirat](<a
href="http://twitter.com/netzpirat">twitter.com/netzpirat</a>))

</li>
<li>[Rémy Coutable](<a href="https://github.com/rymai">github.com/rymai</a>)
([@rymai](<a href="http://twitter.com/rymai">twitter.com/rymai</a>))

</li>
<li>[Thibaud Guillaume-Gentil](<a
href="https://github.com/thibaudgg">github.com/thibaudgg</a>)
([@thibaudgg](<a
href="http://twitter.com/thibaudgg">twitter.com/thibaudgg</a>))

</li>
</ul>
<p>
Author
</p>
<hr size="4"></hr><p>
[Thibaud Guillaume-Gentil](<a
href="https://github.com/thibaudgg">github.com/thibaudgg</a>)
([@thibaudgg](<a
href="http://twitter.com/thibaudgg">twitter.com/thibaudgg</a>))
</p>
<p>
Contributors
</p>
<hr size="10"></hr><p>
[<a
href="https://github.com/guard/guard/contributors](https://github.com/guard/guard/contributors">github.com/guard/guard/contributors](https://github.com/guard/guard/contributors</a>)
</p>

    </div>
    

    

    
    

    
    

    

    

    

    

    

    
</div>
    </div>
  </body>
</html>