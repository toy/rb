<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>README.markdown</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            README.markdown
        </h1>
        <ul class="files">
            <li>README.markdown</li>
            <li>Last modified: Wed Jan 25 21:43:59 +0100 2012</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
# Jeweler: Craft the perfect RubyGem
</p>
<p>
<a href="../classes/Jeweler.html">Jeweler</a> provides the noble ruby
developer with two primary features:
</p>
<pre>
 * a library for managing and releasing RubyGem projects
 * a scaffold generator for starting new RubyGem projects
</pre>
<p>
[![Build Status](<a
href="https://secure.travis-ci.org/technicalpickles/jeweler.png)](http://travis-ci.org/technicalpickles/jeweler">secure.travis-ci.org/technicalpickles/jeweler.png)](http://travis-ci.org/technicalpickles/jeweler</a>])
</p>
<p>
## Hello, world
</p>
<p>
Use RubyGems to install the heck out of jeweler to get started:
</p>
<pre>
    $ gem install jeweler
</pre>
<p>
With jeweler installed, you can use the `jeweler` command to generate a new
project. For the most basic use, just give it a name:
</p>
<pre>
    $ jeweler hello-gem
</pre>
<p>
This requires some Git configuration (like name, email, GitHub account,
etc), but `jeweler` will prompt along the way.
</p>
<p>
Your new `hello-gem` gem is ready in the `hello-gem` directory. Take a
peek, and you&#8217;ll see several files and directories
</p>
<pre>
 * `Rakefile` setup for jeweler, running tests, generating documentation, and releasing to [rubygems.org](http://rubygems.org/)
 * `README.rdoc` with contribution guidelines and copyright info crediting you
 * `LICENSE` with the MIT licensed crediting you
 * `Gemfile` with development dependencies filled in
 * `lib/hello-gem.rb` waiting for you to code
 * `test/` containing a (failing) shoulda test suite [shoulda](http://github.com/thoughtbot/shoulda)
</pre>
<p>
### More `jeweler` options
</p>
<p>
The `jeweler` command supports a lot of options. Mostly, they are for
generating baked in support for this test framework, or that.
</p>
<p>
Check out `jeweler &#8212;help` for the most up to date options.
</p>
<p>
## Hello, rake tasks
</p>
<p>
Beyond just editing source code, you&#8217;ll be interacting with your gem
using `rake` a lot. To see all the tasks available with a brief
description, you can run:
</p>
<pre>
    $ rake -T
</pre>
<p>
You&#8217;ll need a version before you can start installing your gem
locally. The easiest way is with the `version:write` <a
href="../classes/Rake.html">Rake</a> task. Let&#8217;s imagine you start
with 0.1.0
</p>
<pre>
    $ rake version:write MAJOR=0 MINOR=1 PATCH=0
</pre>
<p>
You can now go forth and develop, now that there&#8217;s an initial version
defined. Eventually, you should install and test the gem:
</p>
<pre>
    $ rake install
</pre>
<p>
The `install` rake task builds the gem and `gem install`s it. You&#8217;re
all set if you&#8217;re using [RVM](<a
href="http://rvm.beginrescueend.com/">rvm.beginrescueend.com/</a>), but you
may need to run it with sudo if you have a system-installed ruby:
</p>
<pre>
    $ sudo rake install
</pre>
<p>
### Releasing
</p>
<p>
At last, it&#8217;s time to [ship it](<img
src="http://img.skitch.com/20100310-nrgxbwqm58tibiq2un6mujqmm5.png" />)!
Make sure you have everything committed and pushed, then go wild:
</p>
<pre>
    $ rake release
</pre>
<p>
This will automatically:
</p>
<pre>
 * Generate `hello-gem.gemspec` and commit it
 * Use `git` to tag `v0.1.0` and push it
 * Build `hello-gem-0.1.0.gem` and push it to [rubygems.org](http://rubygems.org/gems/)
</pre>
<p>
### Version bumping
</p>
<p>
It feels good to release code. Do it, do it often. But before that, bump
the version. Then release it. There&#8217;s a few ways to update the
version:
</p>
<pre>
    # version:write like before
    $ rake version:write MAJOR=0 MINOR=3 PATCH=0

    # bump just major, ie 0.1.0 -&gt; 1.0.0
    $ rake version:bump:major

    # bump just minor, ie 0.1.0 -&gt; 0.2.0
    $ rake version:bump:minor

    # bump just patch, ie 0.1.0 -&gt; 0.1.1
    $ rake version:bump:patch
</pre>
<p>
Then it&#8217;s the same `release` we used before:
</p>
<pre>
    $ rake release
</pre>
<p>
## Customizing your gem
</p>
<p>
If you&#8217;ve been following along so far, your gem is just a blank
slate. You&#8217;re going to need to make it colorful and full of metadata.
</p>
<p>
You can customize your gem by updating your `Rakefile`. With a newly
generated project, it will look something like this:
</p>
<pre>
    require 'jeweler'
    Jeweler::Tasks.new do |gem|
      # gem is a Gem::Specification... see http://docs.rubygems.org/read/chapter/20 for more options
      gem.name = &quot;whatwhatwhat&quot;
      gem.summary = %Q{TODO: one-line summary of your gem}
      gem.description = %Q{TODO: longer description of your gem}
      gem.email = &quot;josh@technicalpickles.com&quot;
      gem.homepage = &quot;http://github.com/technicalpickles/whatwhatwhat&quot;
      gem.authors = [&quot;Joshua Nichols&quot;]
    end
    Jeweler::RubygemsDotOrgTasks.new
</pre>
<p>
It&#8217;s crucial to understand the `gem` object is just a
Gem::Specification. You can read up about it at
[docs.rubygems.org/read/chapter/20](<a
href="http://docs.rubygems.org/read/chapter/20">docs.rubygems.org/read/chapter/20</a>).
This is the most basic way of specifying a gem, Jeweler-managed or not. <a
href="../classes/Jeweler.html">Jeweler</a> just exposes this to you, in
addition to providing some reasonable defaults, which we&#8217;ll explore
now.
</p>
<p>
### Project information
</p>
<pre>
    gem.name = &quot;whatwhatwhat&quot;
</pre>
<p>
Every gem has a name. Among other things, the gem name is how you are able
to `gem install` it. [Reference](<a
href="http://docs.rubygems.org/read/chapter/20#name">docs.rubygems.org/read/chapter/20#name</a>)
</p>
<pre>
    gem.summary = %Q{TODO: one-line summary of your gem}
</pre>
<p>
This is a one line summary of your gem. This is displayed, for example,
when you use `gem list &#8212;details` or view it on [rubygems.org](<a
href="http://rubygems.org/gems/">rubygems.org/gems/</a>).
</p>
<pre>
    gem.description = %Q{TODO: longer description of your gem}
</pre>
<p>
Description is a longer description. Scholars ascertain that knowledge of
where the description is used was lost centuries ago.
</p>
<pre>
    gem.email = &quot;josh@technicalpickles.com&quot;
</pre>
<p>
This should be a way to get a hold of you regarding the gem.
</p>
<pre>
    gem.homepage = &quot;http://github.com/technicalpickles/whatwhatwhat&quot;
</pre>
<p>
The homepage should have more information about your gem. The jeweler
generator guesses this based on the assumption your code lives on
[GitHub](<a href="http://github.com/">github.com/</a>), using your Git
configuration to find your GitHub username. This is displayed by `gem list
&#8212;details` and on rubygems.org.
</p>
<pre>
    gem.authors = [&quot;Joshua Nichols&quot;]
</pre>
<p>
Hey, this is you, the author (or me in this case). The `jeweler` generator
also guesses this from your Git configuration. This is displayed by `gem
list &#8212;details` and on rubygems.org.
</p>
<p>
### Files
</p>
<p>
The quickest way to add more files is to `git add` them. <a
href="../classes/Jeweler.html">Jeweler</a> uses your Git repository to
populate your gem&#8217;s files by including added and committed and
excluding `.gitignore`d. In most cases, this is reasonable enough.
</p>
<p>
If you need to tweak the files, that&#8217;s cool. <a
href="../classes/Jeweler.html">Jeweler</a> populates `gem.files` as a
`Rake::FileList`. It&#8217;s like a normal array, except you can `include`
and `exclude` file globs:
</p>
<pre>
    gem.files.exclude 'tmp' # exclude temporary directory
    gem.files.include 'lib/foo/bar.rb' # explicitly include lib/foo/bar.rb
</pre>
<p>
If that&#8217;s not enough, you can just set `gem.files` outright
</p>
<pre>
    gem.files = Dir.glob('lib/**/*.rb')
</pre>
<p>
### Dependencies
</p>
<p>
Dependencies let you define other gems that your gem needs to function.
`gem install your-gem` will install your-gem&#8217;s dependencies along
with it, and when you use your-gem in an application, the dependencies will
be made available. Use `gem.add_dependency` to register them.
[Reference](<a
href="http://docs.rubygems.org/read/chapter/20#dependencies">docs.rubygems.org/read/chapter/20#dependencies</a>)
</p>
<pre>
    gem.add_dependency 'nokogiri'
</pre>
<p>
This will ensure a version of `nokogiri` is installed, but it doesn&#8217;t
require anything more than that. You can provide extra args to be more
specific:
</p>
<pre>
    gem.add_dependency 'nokogiri', '= 1.2.1' # exactly version 1.2.1
    gem.add_dependency 'nokogiri', '&gt;= 1.2.1' # greater than or equal to 1.2.1, ie, 1.2.1, 1.2.2, 1.3.0, 2.0.0, etc
    gem.add_dependency 'nokogiri', '&gt;= 1.2.1', '&lt; 1.3.0' # greater than or equal to 1.2.1, but less than 1.3.0
    gem.add_dependency 'nokogiri', '~&gt; 1.2.1' # same thing, but more concise
</pre>
<p>
When specifying which version is required, there&#8217;s a bit of the
condunrum. You want to allow the most versions possible, but you want to be
sure they are compatible. Using `>= 1.2.1` is fine most of the time, except
until the point that 2.0.0 comes out and totally breaks backwards the API.
That&#8217;s when it&#8217;s good to use `~> 1.2.1`, which requires any
version in the `1.2` family, starting with `1.2.1`.
</p>
<p>
### Executables
</p>
<p>
Executables let your gem install shell commands. Just put any executable
scripts in the `bin/` directory, make sure they are added using `git`, and
<a href="../classes/Jeweler.html">Jeweler</a> will take care of the rest.
</p>
<p>
When you need more finely grained control over it, you can set it yourself:
</p>
<pre>
    gem.executables = ['foo'] # note, it's the file name relative to `bin/`, not the project root
</pre>
<p>
### Versioning
</p>
<p>
We discussed earlier how to bump the version. The rake tasks are really
just convience methods for manipulating the `VERSION` file. It just
contains a version string, like `1.2.3`.
</p>
<p>
`VERSION` is a convention used by <a
href="../classes/Jeweler.html">Jeweler</a>, and is used to populate
`gem.version`. You can actually set this yourself, and <a
href="../classes/Jeweler.html">Jeweler</a> won&#8217;t try to override it:
</p>
<pre>
    gem.version = '1.2.3'
</pre>
<p>
A common pattern is to have this in a version constant in your library.
This is convenient, because users of the library can query the version they
are using at runtime.
</p>
<pre>
    # in lib/foo/version.rb
    class Foo
      module Version
        MAJOR = 1
        MINOR = 2
        PATCH = 3
        BUILD = 'pre3'

        STRING = [MAJOR, MINOR, PATCH, BUILD].compact.join('.')
      end
    end

    # in Rakefile
    require 'jeweler'
    require './lib/foo/version.rb'
    Jeweler::Tasks.new do |gem|
      # snip
      gem.version = Foo::Version::STRING
    end
</pre>
<p>
### <a href="../classes/Rake.html">Rake</a> tasks
</p>
<p>
<a href="../classes/Jeweler.html">Jeweler</a> lives inside of <a
href="../classes/Rake.html">Rake</a>. As a result, they are dear friends.
But, that friendship doesn&#8217;t interfere with typical <a
href="../classes/Rake.html">Rake</a> operations.
</p>
<p>
That means you can define your own namespaces, tasks, or use third party <a
href="../classes/Rake.html">Rake</a> libraries without cause for concern.
</p>
<p>
## Contributing to <a href="../classes/Jeweler.html">Jeweler</a>
</p>
<ul>
<li>Check out the latest master to make sure the feature hasn&#8217;t been
implemented or the bug hasn&#8217;t been fixed yet

</li>
<li>Ask on the [mailing list](<a
href="http://groups.google.com/group/jeweler-rb">groups.google.com/group/jeweler-rb</a>)
for feedback on your proposal, to see if somebody else has done it.

</li>
<li>Check out the [issue tracker](<a
href="http://github.com/technicalpickles/jeweler/issues">github.com/technicalpickles/jeweler/issues</a>)
to make sure someone already hasn&#8217;t requested it and/or contributed
it

</li>
<li>Fork the project

</li>
<li>Start a feature/bugfix branch

</li>
<li>Commit and push until you are happy with your contribution

</li>
<li>Make sure to add tests for the feature/bugfix. This is important so I
don&#8217;t break it in a future version unintentionally.

</li>
<li>Please try not to mess with the Rakefile, version, or history. If you want
to have your own version, or is otherwise necessary, that is fine, but
please isolate it to its own commit so I can cherry-pick around it.

</li>
</ul>
<p>
## Copyright
</p>
<p>
Copyright &#169; 2008-2010 Josh Nichols. See LICENSE for details.
</p>

    </div>
    

    

    
    

    
    

    

    

    

    

    

    
</div>
    </div>
  </body>
</html>