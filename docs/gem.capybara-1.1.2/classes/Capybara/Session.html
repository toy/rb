<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Capybara::Session</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Capybara::Session 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/capybara/session_rb.html">lib/capybara/session.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
The <a href="Session.html">Session</a> class represents a single
user&#8217;s interaction with the system. The <a
href="Session.html">Session</a> can use any of the underlying drivers. A
session can be initialized manually like this:
</p>
<pre>
    session = Capybara::Session.new(:culerity, MyRackApp)
</pre>
<p>
The application given as the second argument is optional. When running <a
href="../Capybara.html">Capybara</a> against an external page, you might
want to leave it out:
</p>
<pre>
    session = Capybara::Session.new(:culerity)
    session.visit('http://www.google.com')
</pre>
<p>
<a href="Session.html">Session</a> provides a number of methods for
controlling the navigation of the page, such as <tt>visit</tt>, +<a
href="Session.html#M000293">current_path</a>, and so on. It also delegate a
number of methods to a Capybara::Document, representing the current HTML
document. This allows interaction:
</p>
<pre>
    session.fill_in('q', :with =&gt; 'Capybara')
    session.click_button('Search')
    session.should have_content('Capybara')
</pre>
<p>
When using capybara/dsl, the <a href="Session.html">Session</a> is
initialized automatically for you.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M000290">body</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000286">cleanup!</a>,</li>
                
                <li><a href="#M000294">current_host</a>,</li>
                
                <li><a href="#M000309">current_node</a>,</li>
                
                <li><a href="#M000293">current_path</a>,</li>
                
                <li><a href="#M000295">current_url</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000307">document</a>,</li>
                
                <li><a href="#M000284">driver</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000304">evaluate_script</a>,</li>
                
                <li><a href="#M000303">execute_script</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M000291">html</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000308">inspect</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000283">new</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000285">reset!</a>,</li>
                
                <li><a href="#M000287">reset_session!</a>,</li>
                
                <li><a href="#M000288">response_headers</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000306">save_and_open_page</a>,</li>
                
                <li><a href="#M000305">save_page</a>,</li>
                
                <li><a href="#M000310">scopes</a>,</li>
                
                <li><a href="#M000292">source</a>,</li>
                
                <li><a href="#M000289">status_code</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M000296">visit</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M000302">wait_until</a>,</li>
                
                <li><a href="#M000297">within</a>,</li>
                
                <li><a href="#M000298">within_fieldset</a>,</li>
                
                <li><a href="#M000300">within_frame</a>,</li>
                
                <li><a href="#M000299">within_table</a>,</li>
                
                <li><a href="#M000301">within_window</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">NODE_METHODS</td>
            <td>=</td>
            <td class="attr-value">[       :all, :first, :attach_file, :text, :check, :choose,       :click_link_or_button, :click_button, :click_link, :field_labeled,       :fill_in, :find, :find_button, :find_by_id, :find_field, :find_link,       :has_content?, :has_css?, :has_no_content?, :has_no_css?, :has_no_xpath?,       :has_xpath?, :select, :uncheck, :has_link?, :has_no_link?, :has_button?,       :has_no_button?, :has_field?, :has_no_field?, :has_checked_field?,       :has_unchecked_field?, :has_no_table?, :has_table?, :unselect,       :has_select?, :has_no_select?, :has_selector?, :has_no_selector?,       :click_on, :has_no_checked_field?, :has_no_unchecked_field?     ]</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">SESSION_METHODS</td>
            <td>=</td>
            <td class="attr-value">[       :body, :html, :current_url, :current_host, :evaluate_script, :source,       :visit, :wait_until, :within, :within_fieldset, :within_table,       :within_frame, :within_window, :current_path, :save_page,       :save_and_open_page, :reset_session!     ]</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">DSL_METHODS</td>
            <td>=</td>
            <td class="attr-value">NODE_METHODS + SESSION_METHODS</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>mode</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>app</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000283">
                    
                    <a name="M000283"></a><b>new</b>(mode, app=nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000283_source')" id="l_M000283_source">show</a>
                        
                    </p>
                    <div id="M000283_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 50</span>
50:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">mode</span>, <span class="ruby-identifier">app</span>=<span class="ruby-keyword kw">nil</span>)
51:       <span class="ruby-ivar">@mode</span> = <span class="ruby-identifier">mode</span>
52:       <span class="ruby-ivar">@app</span> = <span class="ruby-identifier">app</span>
53:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000290">
                    
                    <a name="M000290"></a><b>body</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return [String] A snapshot of the HTML of the current document, as it
looks right now (potentially modified by JavaScript).
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Session.html#M000291">html</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000290_source')" id="l_M000290_source">show</a>
                        
                    </p>
                    <div id="M000290_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 99</span>
 99:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">body</span>
100:       <span class="ruby-identifier">driver</span>.<span class="ruby-identifier">body</span>
101:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000286">
                    
                    <a name="M000286"></a><b>cleanup!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Session.html#M000285">reset!</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000294">
                    
                    <a name="M000294"></a><b>current_host</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return [String] Host of the current page
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000294_source')" id="l_M000294_source">show</a>
                        
                    </p>
                    <div id="M000294_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 125</span>
125:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">current_host</span>
126:       <span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">current_url</span>)
127:       <span class="ruby-node">&quot;#{uri.scheme}://#{uri.host}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">host</span>
128:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000293">
                    
                    <a name="M000293"></a><b>current_path</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return [String] Path of the current page, without any domain information
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000293_source')" id="l_M000293_source">show</a>
                        
                    </p>
                    <div id="M000293_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 116</span>
116:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">current_path</span>
117:       <span class="ruby-identifier">path</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">current_url</span>).<span class="ruby-identifier">path</span>
118:       <span class="ruby-identifier">path</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">empty?</span>
119:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000295">
                    
                    <a name="M000295"></a><b>current_url</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return [String] Fully qualified URL of the current page
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000295_source')" id="l_M000295_source">show</a>
                        
                    </p>
                    <div id="M000295_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 134</span>
134:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">current_url</span>
135:       <span class="ruby-identifier">driver</span>.<span class="ruby-identifier">current_url</span>
136:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000307">
                    
                    <a name="M000307"></a><b>document</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000307_source')" id="l_M000307_source">show</a>
                        
                    </p>
                    <div id="M000307_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 295</span>
295:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">document</span>
296:       <span class="ruby-ivar">@document</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Capybara</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">driver</span>)
297:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000284">
                    
                    <a name="M000284"></a><b>driver</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000284_source')" id="l_M000284_source">show</a>
                        
                    </p>
                    <div id="M000284_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 55</span>
55:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">driver</span>
56:       <span class="ruby-ivar">@driver</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">begin</span>
57:         <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">Capybara</span>.<span class="ruby-identifier">drivers</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">mode</span>)
58:           <span class="ruby-identifier">other_drivers</span> = <span class="ruby-constant">Capybara</span>.<span class="ruby-identifier">drivers</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">inspect</span> }
59:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">Capybara</span><span class="ruby-operator">::</span><span class="ruby-constant">DriverNotFoundError</span>, <span class="ruby-node">&quot;no driver called #{mode.inspect} was found, available drivers: #{other_drivers.join(', ')}&quot;</span>
60:         <span class="ruby-keyword kw">end</span>
61:         <span class="ruby-constant">Capybara</span>.<span class="ruby-identifier">drivers</span>[<span class="ruby-identifier">mode</span>].<span class="ruby-identifier">call</span>(<span class="ruby-identifier">app</span>)
62:       <span class="ruby-keyword kw">end</span>
63:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000304">
                    
                    <a name="M000304"></a><b>evaluate_script</b>(script)
                    
                </div>
                
                <div class="description">
                  <p>
Evaluate the given JavaScript and return the result. Be careful when using
this with scripts that return complex objects, such as jQuery statements.
<tt><a href="Session.html#M000303">execute_script</a></tt> might be a
better alternative.
</p>
<p>
@param [String] script A string of JavaScript to evaluate @return [Object]
The result of the evaluated JavaScript (may be driver specific)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000304_source')" id="l_M000304_source">show</a>
                        
                    </p>
                    <div id="M000304_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 277</span>
277:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">evaluate_script</span>(<span class="ruby-identifier">script</span>)
278:       <span class="ruby-identifier">driver</span>.<span class="ruby-identifier">evaluate_script</span>(<span class="ruby-identifier">script</span>)
279:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000303">
                    
                    <a name="M000303"></a><b>execute_script</b>(script)
                    
                </div>
                
                <div class="description">
                  <p>
Execute the given script, not returning a result. This is useful for
scripts that return complex objects, such as jQuery statements. <tt><a
href="Session.html#M000303">execute_script</a></tt> should always be used
over <tt><a href="Session.html#M000304">evaluate_script</a></tt> whenever
possible.
</p>
<p>
@param [String] script A string of JavaScript to execute
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000303_source')" id="l_M000303_source">show</a>
                        
                    </p>
                    <div id="M000303_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 264</span>
264:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">execute_script</span>(<span class="ruby-identifier">script</span>)
265:       <span class="ruby-identifier">driver</span>.<span class="ruby-identifier">execute_script</span>(<span class="ruby-identifier">script</span>)
266:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000291">
                    
                    <a name="M000291"></a><b>html</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Session.html#M000290">body</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000308">
                    
                    <a name="M000308"></a><b>inspect</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000308_source')" id="l_M000308_source">show</a>
                        
                    </p>
                    <div id="M000308_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 308</span>
308:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
309:       <span class="ruby-value str">%(#&lt;Capybara::Session&gt;)</span>
310:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000285">
                    
                    <a name="M000285"></a><b>reset!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Reset the session, removing all cookies.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Session.html#M000286">cleanup!</a>
                    
                    <a href="Session.html#M000287">reset_session!</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000285_source')" id="l_M000285_source">show</a>
                        
                    </p>
                    <div id="M000285_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 69</span>
69:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reset!</span>
70:       <span class="ruby-identifier">driver</span>.<span class="ruby-identifier">reset!</span>
71:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000287">
                    
                    <a name="M000287"></a><b>reset_session!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Session.html#M000285">reset!</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000288">
                    
                    <a name="M000288"></a><b>response_headers</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a hash of response headers. Not supported by all drivers (e.g. <a
href="Selenium.html">Selenium</a>)
</p>
<p>
@return [Hash{String => String}] A hash of response headers.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000288_source')" id="l_M000288_source">show</a>
                        
                    </p>
                    <div id="M000288_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 81</span>
81:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">response_headers</span>
82:       <span class="ruby-identifier">driver</span>.<span class="ruby-identifier">response_headers</span>
83:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000306">
                    
                    <a name="M000306"></a><b>save_and_open_page</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000306_source')" id="l_M000306_source">show</a>
                        
                    </p>
                    <div id="M000306_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 290</span>
290:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">save_and_open_page</span>
291:       <span class="ruby-identifier">require</span> <span class="ruby-value str">'capybara/util/save_and_open_page'</span>
292:       <span class="ruby-constant">Capybara</span>.<span class="ruby-identifier">save_and_open_page</span>(<span class="ruby-identifier">body</span>)
293:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000305">
                    
                    <a name="M000305"></a><b>save_page</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Save a snapshot of the page and open it in a browser for inspection
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000305_source')" id="l_M000305_source">show</a>
                        
                    </p>
                    <div id="M000305_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 285</span>
285:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">save_page</span>
286:       <span class="ruby-identifier">require</span> <span class="ruby-value str">'capybara/util/save_and_open_page'</span>
287:       <span class="ruby-constant">Capybara</span>.<span class="ruby-identifier">save_page</span>(<span class="ruby-identifier">body</span>)
288:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000292">
                    
                    <a name="M000292"></a><b>source</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@return [String] HTML source of the document, before being modified by
JavaScript.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000292_source')" id="l_M000292_source">show</a>
                        
                    </p>
                    <div id="M000292_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 108</span>
108:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">source</span>
109:       <span class="ruby-identifier">driver</span>.<span class="ruby-identifier">source</span>
110:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000289">
                    
                    <a name="M000289"></a><b>status_code</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the current HTTP status code as an Integer. Not supported by all
drivers (e.g. <a href="Selenium.html">Selenium</a>)
</p>
<p>
@return [Integer] Current HTTP status code
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000289_source')" id="l_M000289_source">show</a>
                        
                    </p>
                    <div id="M000289_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 91</span>
91:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">status_code</span>
92:       <span class="ruby-identifier">driver</span>.<span class="ruby-identifier">status_code</span>
93:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000296">
                    
                    <a name="M000296"></a><b>visit</b>(url)
                    
                </div>
                
                <div class="description">
                  <p>
Navigate to the given URL. The URL can either be a relative URL or an
absolute URL The behaviour of either depends on the driver.
</p>
<pre>
    session.visit('/foo')
    session.visit('http://google.com')
</pre>
<p>
For drivers which can run against an external application, such as culerity
and selenium giving an absolute URL will navigate to that page. This allows
testing applications running on remote servers. For these drivers, setting
<a href="../Capybara.html#app_host">Capybara.app_host</a> will make the
remote server the default. For example:
</p>
<pre>
    Capybara.app_host = 'http://google.com'
    session.visit('/') # visits the google homepage
</pre>
<p>
@param [String] url The URL to navigate to
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000296_source')" id="l_M000296_source">show</a>
                        
                    </p>
                    <div id="M000296_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 156</span>
156:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">url</span>)
157:       <span class="ruby-identifier">driver</span>.<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">url</span>)
158:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000302">
                    
                    <a name="M000302"></a><b>wait_until</b>(timeout = Capybara.default_wait_time)
                    
                </div>
                
                <div class="description">
                  <p>
Retry executing the block until a truthy result is returned or the timeout
time is exceeded
</p>
<p>
@param [Integer] timeout The amount of seconds to retry executing the given
block
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000302_source')" id="l_M000302_source">show</a>
                        
                    </p>
                    <div id="M000302_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 252</span>
252:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">wait_until</span>(<span class="ruby-identifier">timeout</span> = <span class="ruby-constant">Capybara</span>.<span class="ruby-identifier">default_wait_time</span>)
253:       <span class="ruby-constant">Capybara</span>.<span class="ruby-identifier">timeout</span>(<span class="ruby-identifier">timeout</span>,<span class="ruby-identifier">driver</span>) { <span class="ruby-keyword kw">yield</span> }
254:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000297">
                    
                    <a name="M000297"></a><b>within</b>(*args)
                    
                </div>
                
                <div class="description">
                  <p>
Execute the given block for a particular scope on the page. Within will
find the first element matching the given selector and execute the block
scoped to that element:
</p>
<pre>
    within(:xpath, '//div[@id=&quot;delivery-address&quot;]') do
      fill_in('Street', :with =&gt; '12 Main Street')
    end
</pre>
<p>
It is possible to omit the first parameter, in that case, the selector is
assumed to be of the type set in <a
href="../Capybara.html#default_selector">Capybara.default_selector</a>.
</p>
<pre>
    within('div#delivery-address') do
      fill_in('Street', :with =&gt; '12 Main Street')
    end
</pre>
<p>
@overload within(*find_args)
</p>
<pre>
  @param (see Capybara::Node::Finders#all)
</pre>
<p>
@overload within(a_node)
</p>
<pre>
  @param [Capybara::Node::Base] a_node   The node in whose scope the block should be evaluated
</pre>
<p>
@raise [Capybara::ElementNotFound] If the scope can&#8217;t be found before
time expires
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000297_source')" id="l_M000297_source">show</a>
                        
                    </p>
                    <div id="M000297_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 184</span>
184:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">within</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
185:       <span class="ruby-identifier">new_scope</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">Capybara</span><span class="ruby-operator">::</span><span class="ruby-constant">Node</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>
186:                     <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>
187:                   <span class="ruby-keyword kw">else</span>
188:                     <span class="ruby-identifier">find</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
189:                   <span class="ruby-keyword kw">end</span>
190:       <span class="ruby-keyword kw">begin</span>
191:         <span class="ruby-identifier">scopes</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">new_scope</span>)
192:         <span class="ruby-keyword kw">yield</span>
193:       <span class="ruby-keyword kw">ensure</span>
194:         <span class="ruby-identifier">scopes</span>.<span class="ruby-identifier">pop</span>
195:       <span class="ruby-keyword kw">end</span>
196:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000298">
                    
                    <a name="M000298"></a><b>within_fieldset</b>(locator)
                    
                </div>
                
                <div class="description">
                  <p>
Execute the given block within the a specific fieldset given the id or
legend of that fieldset.
</p>
<p>
@param [String] locator Id or legend of the fieldset
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000298_source')" id="l_M000298_source">show</a>
                        
                    </p>
                    <div id="M000298_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 204</span>
204:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">within_fieldset</span>(<span class="ruby-identifier">locator</span>)
205:       <span class="ruby-identifier">within</span> <span class="ruby-identifier">:xpath</span>, <span class="ruby-constant">XPath</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>.<span class="ruby-identifier">fieldset</span>(<span class="ruby-identifier">locator</span>) <span class="ruby-keyword kw">do</span>
206:         <span class="ruby-keyword kw">yield</span>
207:       <span class="ruby-keyword kw">end</span>
208:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000300">
                    
                    <a name="M000300"></a><b>within_frame</b>(frame_id)
                    
                </div>
                
                <div class="description">
                  <p>
Execute the given block within the given iframe given the id of that
iframe. Only works on some drivers (e.g. <a
href="Selenium.html">Selenium</a>)
</p>
<p>
@param [String] locator Id of the frame
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000300_source')" id="l_M000300_source">show</a>
                        
                    </p>
                    <div id="M000300_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 229</span>
229:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">within_frame</span>(<span class="ruby-identifier">frame_id</span>)
230:       <span class="ruby-identifier">driver</span>.<span class="ruby-identifier">within_frame</span>(<span class="ruby-identifier">frame_id</span>) <span class="ruby-keyword kw">do</span>
231:         <span class="ruby-keyword kw">yield</span>
232:       <span class="ruby-keyword kw">end</span>
233:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000299">
                    
                    <a name="M000299"></a><b>within_table</b>(locator)
                    
                </div>
                
                <div class="description">
                  <p>
Execute the given block within the a specific table given the id or caption
of that table.
</p>
<p>
@param [String] locator Id or caption of the table
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000299_source')" id="l_M000299_source">show</a>
                        
                    </p>
                    <div id="M000299_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 216</span>
216:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">within_table</span>(<span class="ruby-identifier">locator</span>)
217:       <span class="ruby-identifier">within</span> <span class="ruby-identifier">:xpath</span>, <span class="ruby-constant">XPath</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML</span>.<span class="ruby-identifier">table</span>(<span class="ruby-identifier">locator</span>) <span class="ruby-keyword kw">do</span>
218:         <span class="ruby-keyword kw">yield</span>
219:       <span class="ruby-keyword kw">end</span>
220:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000301">
                    
                    <a name="M000301"></a><b>within_window</b>(handle, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Execute the given block within the given window. Only works on some drivers
(e.g. <a href="Selenium.html">Selenium</a>)
</p>
<p>
@param [String] locator of the window
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000301_source')" id="l_M000301_source">show</a>
                        
                    </p>
                    <div id="M000301_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 242</span>
242:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">within_window</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
243:       <span class="ruby-identifier">driver</span>.<span class="ruby-identifier">within_window</span>(<span class="ruby-identifier">handle</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
244:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M000309">
                    
                    <a name="M000309"></a><b>current_node</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000309_source')" id="l_M000309_source">show</a>
                        
                    </p>
                    <div id="M000309_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 314</span>
314:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">current_node</span>
315:       <span class="ruby-identifier">scopes</span>.<span class="ruby-identifier">last</span>
316:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000310">
                    
                    <a name="M000310"></a><b>scopes</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000310_source')" id="l_M000310_source">show</a>
                        
                    </p>
                    <div id="M000310_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/capybara/session.rb, line 318</span>
318:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">scopes</span>
319:       <span class="ruby-ivar">@scopes</span> <span class="ruby-operator">||=</span> [<span class="ruby-identifier">document</span>]
320:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    