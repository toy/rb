<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Bcat</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Bcat 
            
                <span class="parent">&lt; 
                    
                    Object
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/lib/bcat/browser_rb.html">lib/bcat/browser.rb</a></li>
            
            <li><a href="../files/lib/bcat/ansi_rb.html">lib/bcat/ansi.rb</a></li>
            
            <li><a href="../files/lib/bcat/html_rb.html">lib/bcat/html.rb</a></li>
            
            <li><a href="../files/lib/bcat/reader_rb.html">lib/bcat/reader.rb</a></li>
            
            <li><a href="../files/lib/bcat/server_rb.html">lib/bcat/server.rb</a></li>
            
            <li><a href="../files/lib/bcat_rb.html">lib/bcat.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M000037">[]</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000041">assemble</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M000003">browser_command</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000040">call</a>,</li>
                
                <li><a href="#M000046">close</a>,</li>
                
                <li><a href="#M000002">command</a>,</li>
                
                <li><a href="#M000043">content_for_head</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000042">each</a>,</li>
                
                <li><a href="#M000045">escape_js</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000044">foot</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000036">new</a>,</li>
                
                <li><a href="#M000000">new</a>,</li>
                
                <li><a href="#M000047">notice</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M000001">open</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000039">serve!</a>,</li>
                
                <li><a href="#M000004">shell_quote</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000038">to_app</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <span>Rack::Utils</span>
            
            START:includes
        </li>
        
    </ul>
    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">CLASS</span> <a href="Bcat/ANSI.html">Bcat::ANSI</a></li>
        
        <li><span class="type">CLASS</span> <a href="Bcat/Browser.html">Bcat::Browser</a></li>
        
        <li><span class="type">CLASS</span> <a href="Bcat/HeadParser.html">Bcat::HeadParser</a></li>
        
        <li><span class="type">CLASS</span> <a href="Bcat/Reader.html">Bcat::Reader</a></li>
        
        <li><span class="type">CLASS</span> <a href="Bcat/Server.html">Bcat::Server</a></li>
        
        <li><span class="type">CLASS</span> <a href="Bcat/TeeFilter.html">Bcat::TeeFilter</a></li>
        
        <li><span class="type">CLASS</span> <a href="Bcat/TextFilter.html">Bcat::TextFilter</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">COMMANDS</td>
            <td>=</td>
            <td class="attr-value">{       'Darwin' =&gt; {         'default'     =&gt; &quot;open&quot;,         'safari'      =&gt; &quot;open -a Safari&quot;,         'firefox'     =&gt; &quot;open -a Firefox&quot;,         'chrome'      =&gt; &quot;open -a Google\\ Chrome&quot;,         'chromium'    =&gt; &quot;open -a Chromium&quot;,         'opera'       =&gt; &quot;open -a Opera&quot;,         'curl'        =&gt; &quot;curl -s&quot;       },        'X11'  =&gt; {         'default'     =&gt; &quot;xdg-open&quot;,         'firefox'     =&gt; &quot;firefox&quot;,         'chrome'      =&gt; &quot;google-chrome&quot;,         'chromium'    =&gt; &quot;chromium&quot;,         'mozilla'     =&gt; &quot;mozilla&quot;,         'epiphany'    =&gt; &quot;epiphany&quot;,         'curl'        =&gt; &quot;curl -s&quot;       }     }</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
browser name -> command mappings
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">ALIASES</td>
            <td>=</td>
            <td class="attr-value">{       'google-chrome' =&gt; 'chrome',       'google chrome' =&gt; 'chrome',       'gnome'         =&gt; 'epiphany'     }</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
alternative names for browsers
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">VERSION</td>
            <td>=</td>
            <td class="attr-value">'0.6.2'</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>format</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000037">
                    
                    <a name="M000037"></a><b>[]</b>(key)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000037_source')" id="l_M000037_source">show</a>
                        
                    </p>
                    <div id="M000037_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/bcat.rb, line 20</span>
20:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">key</span>)
21:     <span class="ruby-ivar">@config</span>[<span class="ruby-identifier">key</span>]
22:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000041">
                    
                    <a name="M000041"></a><b>assemble</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000041_source')" id="l_M000041_source">show</a>
                        
                    </p>
                    <div id="M000041_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/bcat.rb, line 41</span>
41:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assemble</span>
42:     <span class="ruby-ivar">@reader</span>.<span class="ruby-identifier">open</span>
43: 
44:     <span class="ruby-ivar">@format</span> = <span class="ruby-ivar">@reader</span>.<span class="ruby-identifier">sniff</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@format</span>.<span class="ruby-identifier">nil?</span>
45: 
46:     <span class="ruby-ivar">@filter</span> = <span class="ruby-ivar">@reader</span>
47:     <span class="ruby-ivar">@filter</span> = <span class="ruby-constant">TeeFilter</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@filter</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@config</span>[<span class="ruby-identifier">:tee</span>]
48:     <span class="ruby-ivar">@filter</span> = <span class="ruby-constant">TextFilter</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@filter</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@format</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'text'</span>
49:     <span class="ruby-ivar">@filter</span> = <span class="ruby-constant">ANSI</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@filter</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@format</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'text'</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@config</span>[<span class="ruby-identifier">:ansi</span>]
50:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000003">
                    
                    <a name="M000003"></a><b>browser_command</b>(browser=@browser)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000003_source')" id="l_M000003_source">show</a>
                        
                    </p>
                    <div id="M000003_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/bcat/browser.rb, line 57</span>
57:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">browser_command</span>(<span class="ruby-identifier">browser</span>=<span class="ruby-ivar">@browser</span>)
58:       <span class="ruby-identifier">browser</span> <span class="ruby-operator">||=</span> <span class="ruby-value str">'default'</span>
59:       <span class="ruby-identifier">browser</span> = <span class="ruby-identifier">browser</span>.<span class="ruby-identifier">downcase</span>
60:       <span class="ruby-identifier">browser</span> = <span class="ruby-constant">ALIASES</span>[<span class="ruby-identifier">browser</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">browser</span>
61:       <span class="ruby-constant">COMMANDS</span>[<span class="ruby-constant">ENVIRONMENT</span>][<span class="ruby-identifier">browser</span>]
62:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000040">
                    
                    <a name="M000040"></a><b>call</b>(env)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000040_source')" id="l_M000040_source">show</a>
                        
                    </p>
                    <div id="M000040_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/bcat.rb, line 36</span>
36:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">call</span>(<span class="ruby-identifier">env</span>)
37:     <span class="ruby-identifier">notice</span> <span class="ruby-node">&quot;#{env['REQUEST_METHOD']} #{env['PATH_INFO'].inspect}&quot;</span>
38:     [<span class="ruby-value">200</span>, {<span class="ruby-value str">&quot;Content-Type&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;text/html;charset=utf-8&quot;</span>}, <span class="ruby-keyword kw">self</span>]
39:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000046">
                    
                    <a name="M000046"></a><b>close</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000046_source')" id="l_M000046_source">show</a>
                        
                    </p>
                    <div id="M000046_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/bcat.rb, line 107</span>
107:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">close</span>
108:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@config</span>[<span class="ruby-identifier">:persist</span>]
109:       <span class="ruby-identifier">notice</span> <span class="ruby-value str">&quot;closing with interrupt&quot;</span>
110:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">Interrupt</span>, <span class="ruby-value str">&quot;connection closed&quot;</span>
111:     <span class="ruby-keyword kw">end</span>
112:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000002">
                    
                    <a name="M000002"></a><b>command</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000002_source')" id="l_M000002_source">show</a>
                        
                    </p>
                    <div id="M000002_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/bcat/browser.rb, line 53</span>
53:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">command</span>
54:       <span class="ruby-ivar">@command</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">browser_command</span>
55:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000043">
                    
                    <a name="M000043"></a><b>content_for_head</b>(inject='')
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000043_source')" id="l_M000043_source">show</a>
                        
                    </p>
                    <div id="M000043_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/bcat.rb, line 83</span>
83:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_for_head</span>(<span class="ruby-identifier">inject</span>=<span class="ruby-value str">''</span>)
84:     [
85:       <span class="ruby-value str">&quot;\n&quot;</span> <span class="ruby-operator">*</span> <span class="ruby-value">1000</span>,
86:       <span class="ruby-value str">&quot;&lt;!DOCTYPE html&gt;&quot;</span>,
87:       <span class="ruby-value str">&quot;&lt;html&gt;&quot;</span>,
88:       <span class="ruby-value str">&quot;&lt;head&gt;&quot;</span>,
89:       <span class="ruby-value str">&quot;&lt;!-- bcat was here --&gt;&quot;</span>,
90:       <span class="ruby-identifier">inject</span>.<span class="ruby-identifier">to_s</span>,
91:       <span class="ruby-value str">&quot;&lt;link href=\&quot;data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAAF0lEQVRIx2NgGAWjYBSMglEwCkbBSAcACBAAAeaR9cIAAAAASUVORK5CYII=\&quot; rel=\&quot;icon\&quot; type=\&quot;image/x-icon\&quot; /&gt;&quot;</span>,
92:       <span class="ruby-node">&quot;&lt;title&gt;#{self[:title] || 'bcat'}&lt;/title&gt;&quot;</span>,
93:       <span class="ruby-value str">&quot;&lt;/head&gt;&quot;</span>
94:     ].<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
95:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000042">
                    
                    <a name="M000042"></a><b>each</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000042_source')" id="l_M000042_source">show</a>
                        
                    </p>
                    <div id="M000042_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/bcat.rb, line 52</span>
52:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each</span>
53:     <span class="ruby-identifier">assemble</span>
54: 
55:     <span class="ruby-identifier">head_parser</span> = <span class="ruby-constant">Bcat</span><span class="ruby-operator">::</span><span class="ruby-constant">HeadParser</span>.<span class="ruby-identifier">new</span>
56: 
57:     <span class="ruby-ivar">@filter</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">buf</span><span class="ruby-operator">|</span>
58:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">head_parser</span>.<span class="ruby-identifier">nil?</span>
59:         <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">buf</span>
60:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">head_parser</span>.<span class="ruby-identifier">feed</span>(<span class="ruby-identifier">buf</span>)
61:         <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">content_for_head</span>(<span class="ruby-identifier">inject</span>=<span class="ruby-identifier">head_parser</span>.<span class="ruby-identifier">head</span>)
62:         <span class="ruby-keyword kw">yield</span> <span class="ruby-value str">&quot;\n&quot;</span>
63:         <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">head_parser</span>.<span class="ruby-identifier">body</span>
64:         <span class="ruby-identifier">head_parser</span> = <span class="ruby-keyword kw">nil</span>
65:       <span class="ruby-keyword kw">end</span>
66:     <span class="ruby-keyword kw">end</span>
67: 
68:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">head_parser</span>
69:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">content_for_head</span>(<span class="ruby-identifier">inject</span>=<span class="ruby-identifier">head_parser</span>.<span class="ruby-identifier">head</span>) <span class="ruby-operator">+</span>
70:             <span class="ruby-value str">&quot;\n&quot;</span> <span class="ruby-operator">+</span>
71:             <span class="ruby-identifier">head_parser</span>.<span class="ruby-identifier">body</span>
72:     <span class="ruby-keyword kw">end</span>
73: 
74:     <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">foot</span>
75:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EINVAL</span>
76:     <span class="ruby-comment cmt"># socket was closed</span>
77:     <span class="ruby-identifier">notice</span> <span class="ruby-value str">&quot;browser client went away&quot;</span>
78:   <span class="ruby-keyword kw">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">boom</span>
79:     <span class="ruby-identifier">notice</span> <span class="ruby-node">&quot;boom: #{boom.class}: #{boom.to_s}&quot;</span>
80:     <span class="ruby-identifier">raise</span>
81:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000045">
                    
                    <a name="M000045"></a><b>escape_js</b>(string)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000045_source')" id="l_M000045_source">show</a>
                        
                    </p>
                    <div id="M000045_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/bcat.rb, line 101</span>
101:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">escape_js</span>(<span class="ruby-identifier">string</span>)
102:     <span class="ruby-identifier">string</span> = <span class="ruby-identifier">string</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/['\\]/</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">char</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;\\#{char}&quot;</span> }
103:     <span class="ruby-identifier">string</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp re">/\n/</span>, <span class="ruby-value str">'\n'</span>)
104:     <span class="ruby-identifier">string</span>
105:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000044">
                    
                    <a name="M000044"></a><b>foot</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000044_source')" id="l_M000044_source">show</a>
                        
                    </p>
                    <div id="M000044_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/bcat.rb, line 97</span>
97:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">foot</span>
98:     <span class="ruby-value str">&quot;&lt;/body&gt;\n&lt;/html&gt;\n&quot;</span>
99:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000047">
                    
                    <a name="M000047"></a><b>notice</b>(message)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000047_source')" id="l_M000047_source">show</a>
                        
                    </p>
                    <div id="M000047_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/bcat.rb, line 114</span>
114:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">notice</span>(<span class="ruby-identifier">message</span>)
115:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@config</span>[<span class="ruby-identifier">:debug</span>]
116:     <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{File.basename($0)}: #{message}&quot;</span>
117:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000001">
                    
                    <a name="M000001"></a><b>open</b>(url)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000001_source')" id="l_M000001_source">show</a>
                        
                    </p>
                    <div id="M000001_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/bcat/browser.rb, line 45</span>
45:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">open</span>(<span class="ruby-identifier">url</span>)
46:       <span class="ruby-identifier">fork</span> <span class="ruby-keyword kw">do</span>
47:         <span class="ruby-identifier">$stdin</span>.<span class="ruby-identifier">close</span>
48:         <span class="ruby-identifier">exec</span> <span class="ruby-node">&quot;#{command} #{shell_quote(url)}&quot;</span>
49:         <span class="ruby-identifier">exit!</span> <span class="ruby-value">128</span>
50:       <span class="ruby-keyword kw">end</span>
51:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000039">
                    
                    <a name="M000039"></a><b>serve!</b>(&amp;bk)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000039_source')" id="l_M000039_source">show</a>
                        
                    </p>
                    <div id="M000039_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/bcat.rb, line 32</span>
32:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">serve!</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">bk</span>)
33:     <span class="ruby-constant">Bcat</span><span class="ruby-operator">::</span><span class="ruby-constant">Server</span>.<span class="ruby-identifier">run</span> <span class="ruby-identifier">to_app</span>, <span class="ruby-ivar">@config</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">bk</span>
34:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000004">
                    
                    <a name="M000004"></a><b>shell_quote</b>(argument)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000004_source')" id="l_M000004_source">show</a>
                        
                    </p>
                    <div id="M000004_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/bcat/browser.rb, line 64</span>
64:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">shell_quote</span>(<span class="ruby-identifier">argument</span>)
65:       <span class="ruby-value str">'&quot;'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">argument</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/([\\&quot;`$])/</span>) { <span class="ruby-value str">&quot;\\&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">$1</span> } <span class="ruby-operator">+</span> <span class="ruby-value str">'&quot;'</span>
66:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000038">
                    
                    <a name="M000038"></a><b>to_app</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000038_source')" id="l_M000038_source">show</a>
                        
                    </p>
                    <div id="M000038_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/bcat.rb, line 24</span>
24:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_app</span>
25:     <span class="ruby-identifier">app</span> = <span class="ruby-keyword kw">self</span>
26:     <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Builder</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span>
27:       <span class="ruby-identifier">use</span> <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Chunked</span>
28:       <span class="ruby-identifier">run</span> <span class="ruby-identifier">app</span>
29:     <span class="ruby-keyword kw">end</span>
30:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000000">
                    
                    <a name="M000000"></a><b>new</b>(browser, command=ENV['BCAT_COMMAND'])
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000000_source')" id="l_M000000_source">show</a>
                        
                    </p>
                    <div id="M000000_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/bcat/browser.rb, line 40</span>
40:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">browser</span>, <span class="ruby-identifier">command</span>=<span class="ruby-constant">ENV</span>[<span class="ruby-value str">'BCAT_COMMAND'</span>])
41:       <span class="ruby-ivar">@browser</span> = <span class="ruby-identifier">browser</span>
42:       <span class="ruby-ivar">@command</span> = <span class="ruby-identifier">command</span>
43:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000036">
                    
                    <a name="M000036"></a><b>new</b>(args=[], config={})
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000036_source')" id="l_M000036_source">show</a>
                        
                    </p>
                    <div id="M000036_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/bcat.rb, line 14</span>
14:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">args</span>=[], <span class="ruby-identifier">config</span>={})
15:     <span class="ruby-ivar">@config</span> = {<span class="ruby-identifier">:Host</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'127.0.0.1'</span>, <span class="ruby-identifier">:Port</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">8091</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">config</span>)
16:     <span class="ruby-ivar">@reader</span> = <span class="ruby-constant">Bcat</span><span class="ruby-operator">::</span><span class="ruby-constant">Reader</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@config</span>[<span class="ruby-identifier">:command</span>], <span class="ruby-identifier">args</span>)
17:     <span class="ruby-ivar">@format</span> = <span class="ruby-ivar">@config</span>[<span class="ruby-identifier">:format</span>]
18:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    