<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Object</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Object 
            
                <span class="parent">&lt; 
                    
                    <a href="Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000346">check_multiple_imagemagick_versions</a>,</li>
                
                <li><a href="#M000347">check_partial_imagemagick_versions</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000345">exit_failure</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M000343">have_enum_value</a>,</li>
                
                <li><a href="#M000344">have_enum_values</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000346">
                    
                    <a name="M000346"></a><b>check_multiple_imagemagick_versions</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Seems like lots of people have multiple versions of ImageMagick installed.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000346_source')" id="l_M000346_source">show</a>
                        
                    </p>
                    <div id="M000346_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/RMagick/extconf.rb, line 53</span>
53: <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_multiple_imagemagick_versions</span>()
54:    <span class="ruby-identifier">versions</span> = []
55:    <span class="ruby-identifier">path</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'PATH'</span>].<span class="ruby-identifier">split</span>(<span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">PATH_SEPARATOR</span>)
56:    <span class="ruby-identifier">path</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span>
57:       <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-value str">&quot;Magick-config&quot;</span>)
58:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">executable?</span> <span class="ruby-identifier">file</span>
59:          <span class="ruby-identifier">vers</span> = <span class="ruby-node">`#{file} --version`</span>.<span class="ruby-identifier">chomp</span>.<span class="ruby-identifier">strip</span>
60:          <span class="ruby-identifier">prefix</span> = <span class="ruby-node">`#{file} --prefix`</span>.<span class="ruby-identifier">chomp</span>.<span class="ruby-identifier">strip</span>
61:          <span class="ruby-identifier">versions</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">vers</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">dir</span>]
62:       <span class="ruby-keyword kw">end</span>
63:    <span class="ruby-keyword kw">end</span>
64:    <span class="ruby-identifier">versions</span>.<span class="ruby-identifier">uniq!</span>
65:    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">versions</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
66:       <span class="ruby-identifier">msg</span> = <span class="ruby-value str">&quot;\nWarning: Found more than one ImageMagick installation. This could cause problems at runtime.\n&quot;</span>
67:       <span class="ruby-identifier">versions</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">vers</span>, <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">dir</span><span class="ruby-operator">|</span>
68:          <span class="ruby-identifier">msg</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;         #{dir}/Magick-config reports version #{vers} is installed in #{prefix}\n&quot;</span>
69:       <span class="ruby-keyword kw">end</span>
70:       <span class="ruby-identifier">msg</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;Using #{versions[0][0]} from #{versions[0][1]}.\n\n&quot;</span>
71:       <span class="ruby-constant">Logging</span><span class="ruby-operator">::</span><span class="ruby-identifier">message</span> <span class="ruby-identifier">msg</span>
72:       <span class="ruby-identifier">message</span> <span class="ruby-identifier">msg</span>
73:    <span class="ruby-keyword kw">end</span>
74: <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000347">
                    
                    <a name="M000347"></a><b>check_partial_imagemagick_versions</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Ubuntu (maybe other systems) comes with a partial installation of
ImageMagick in the prefix /usr (some libraries, no includes, and no
binaries). This causes problems when /usr/lib is in the path (e.g., using
the default Ruby installation).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000347_source')" id="l_M000347_source">show</a>
                        
                    </p>
                    <div id="M000347_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/RMagick/extconf.rb, line 81</span>
81: <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_partial_imagemagick_versions</span>()
82:    <span class="ruby-identifier">prefix</span> = <span class="ruby-identifier">config_string</span>(<span class="ruby-value str">&quot;prefix&quot;</span>)
83:    <span class="ruby-identifier">matches</span> = [
84:      <span class="ruby-identifier">prefix</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;/lib/lib?agick*&quot;</span>,
85:      <span class="ruby-identifier">prefix</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;/include/ImageMagick&quot;</span>,
86:      <span class="ruby-identifier">prefix</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;/bin/Magick-config&quot;</span>,
87:    ].<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file_glob</span><span class="ruby-operator">|</span>
88:      <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-identifier">file_glob</span>)
89:    <span class="ruby-keyword kw">end</span>
90:    <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">arr</span><span class="ruby-operator">|</span> <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">empty?</span> }
91:    <span class="ruby-keyword kw">if</span> <span class="ruby-value">0</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">length</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">3</span>
92:       <span class="ruby-identifier">msg</span> = <span class="ruby-value str">&quot;\nWarning: Found a partial ImageMagick installation. Your operating system likely has some built-in ImageMagick libraries but not all of ImageMagick. This will most likely cause problems at both compile and runtime.\nFound partial installation at: &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">prefix</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;\n&quot;</span>
93:       <span class="ruby-constant">Logging</span><span class="ruby-operator">::</span><span class="ruby-identifier">message</span> <span class="ruby-identifier">msg</span>
94:       <span class="ruby-identifier">message</span> <span class="ruby-identifier">msg</span>
95:    <span class="ruby-keyword kw">end</span>
96: <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000345">
                    
                    <a name="M000345"></a><b>exit_failure</b>(msg)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000345_source')" id="l_M000345_source">show</a>
                        
                    </p>
                    <div id="M000345_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/RMagick/extconf.rb, line 43</span>
43: <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">exit_failure</span>(<span class="ruby-identifier">msg</span>)
44:   <span class="ruby-constant">Logging</span><span class="ruby-operator">::</span><span class="ruby-identifier">message</span> <span class="ruby-identifier">msg</span>
45:   <span class="ruby-identifier">message</span> <span class="ruby-identifier">msg</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;\n&quot;</span>
46:   <span class="ruby-identifier">exit</span>(<span class="ruby-value">1</span>)
47: <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000343">
                    
                    <a name="M000343"></a><b>have_enum_value</b>(enum, value, headers=nil, &amp;b)
                    
                </div>
                
                <div class="description">
                  <p>
Test for a specific value in an enum type
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000343_source')" id="l_M000343_source">show</a>
                        
                    </p>
                    <div id="M000343_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/RMagick/extconf.rb, line 13</span>
13: <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">have_enum_value</span>(<span class="ruby-identifier">enum</span>, <span class="ruby-identifier">value</span>, <span class="ruby-identifier">headers</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>)
14:   <span class="ruby-identifier">checking_for</span> <span class="ruby-node">&quot;#{enum}.#{value}&quot;</span> <span class="ruby-keyword kw">do</span>
15:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">try_compile</span>(<span class="ruby-value str">&quot;\#{COMMON_HEADERS}\n\#{cpp_include(headers)}\n/*top*/\nint main() { \#{enum} t = \#{value}; t = t; return 0; }\n&quot;</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>)
16:       <span class="ruby-identifier">$defs</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">format</span>(<span class="ruby-value str">&quot;-DHAVE_ENUM_%s&quot;</span>, <span class="ruby-identifier">value</span>.<span class="ruby-identifier">upcase</span>))
17:       <span class="ruby-keyword kw">true</span>
18:     <span class="ruby-keyword kw">else</span>
19:       <span class="ruby-keyword kw">false</span>
20:     <span class="ruby-keyword kw">end</span>
21:   <span class="ruby-keyword kw">end</span>
22: <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000344">
                    
                    <a name="M000344"></a><b>have_enum_values</b>(enum, values, headers=nil, &amp;b)
                    
                </div>
                
                <div class="description">
                  <p>
Test for multiple values of the same enum type
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000344_source')" id="l_M000344_source">show</a>
                        
                    </p>
                    <div id="M000344_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File ext/RMagick/extconf.rb, line 34</span>
34: <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">have_enum_values</span>(<span class="ruby-identifier">enum</span>, <span class="ruby-identifier">values</span>, <span class="ruby-identifier">headers</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>)
35:   <span class="ruby-identifier">values</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
36:     <span class="ruby-identifier">have_enum_value</span>(<span class="ruby-identifier">enum</span>, <span class="ruby-identifier">value</span>, <span class="ruby-identifier">headers</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>)
37:   <span class="ruby-keyword kw">end</span>
38: <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    