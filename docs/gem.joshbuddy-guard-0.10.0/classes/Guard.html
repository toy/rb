<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Guard</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            Guard 
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/lib/guard/cli_rb.html">lib/guard/cli.rb</a></li>
            
            <li><a href="../files/lib/guard/dsl_rb.html">lib/guard/dsl.rb</a></li>
            
            <li><a href="../files/lib/guard/dsl_describer_rb.html">lib/guard/dsl_describer.rb</a></li>
            
            <li><a href="../files/lib/guard/group_rb.html">lib/guard/group.rb</a></li>
            
            <li><a href="../files/lib/guard/guard_rb.html">lib/guard/guard.rb</a></li>
            
            <li><a href="../files/lib/guard/hook_rb.html">lib/guard/hook.rb</a></li>
            
            <li><a href="../files/lib/guard/interactor_rb.html">lib/guard/interactor.rb</a></li>
            
            <li><a href="../files/lib/guard/listener_rb.html">lib/guard/listener.rb</a></li>
            
            <li><a href="../files/lib/guard/listeners/darwin_rb.html">lib/guard/listeners/darwin.rb</a></li>
            
            <li><a href="../files/lib/guard/listeners/linux_rb.html">lib/guard/listeners/linux.rb</a></li>
            
            <li><a href="../files/lib/guard/listeners/polling_rb.html">lib/guard/listeners/polling.rb</a></li>
            
            <li><a href="../files/lib/guard/listeners/windows_rb.html">lib/guard/listeners/windows.rb</a></li>
            
            <li><a href="../files/lib/guard/notifier_rb.html">lib/guard/notifier.rb</a></li>
            
            <li><a href="../files/lib/guard/ui_rb.html">lib/guard/ui.rb</a></li>
            
            <li><a href="../files/lib/guard/version_rb.html">lib/guard/version.rb</a></li>
            
            <li><a href="../files/lib/guard/watcher_rb.html">lib/guard/watcher.rb</a></li>
            
            <li><a href="../files/lib/guard_rb.html">lib/guard.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
<a href="Guard/Guard.html">Guard</a> is the main module for all <a
href="Guard/Guard.html">Guard</a> related modules and classes. Also other
<a href="Guard/Guard.html">Guard</a> implementation should use this
namespace.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000153">add_group</a>,</li>
                
                <li><a href="#M000152">add_guard</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000148">changed_paths</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000157">debug_command_execution</a>,</li>
                
                <li><a href="#M000149">deleted_paths</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M000154">get_guard_class</a>,</li>
                
                <li><a href="#M000137">groups</a>,</li>
                
                <li><a href="#M000156">guard_gem_names</a>,</li>
                
                <li><a href="#M000151">guard_symbol</a>,</li>
                
                <li><a href="#M000136">guards</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000134">initialize_template</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M000155">locate_guard</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000143">pause</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000141">reload</a>,</li>
                
                <li><a href="#M000138">reset_groups</a>,</li>
                
                <li><a href="#M000145">run</a>,</li>
                
                <li><a href="#M000142">run_all</a>,</li>
                
                <li><a href="#M000144">run_on_change</a>,</li>
                
                <li><a href="#M000147">run_on_change_task</a>,</li>
                
                <li><a href="#M000146">run_on_guards</a>,</li>
                
                <li><a href="#M000150">run_supervised_task</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000135">setup</a>,</li>
                
                <li><a href="#M000139">start</a>,</li>
                
                <li><a href="#M000140">stop</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">MODULE</span> <a href="Guard/Hook.html">Guard::Hook</a></li>
        
        <li><span class="type">MODULE</span> <a href="Guard/Notifier.html">Guard::Notifier</a></li>
        
        <li><span class="type">MODULE</span> <a href="Guard/UI.html">Guard::UI</a></li>
        
        <li><span class="type">CLASS</span> <a href="Guard/CLI.html">Guard::CLI</a></li>
        
        <li><span class="type">CLASS</span> <a href="Guard/Darwin.html">Guard::Darwin</a></li>
        
        <li><span class="type">CLASS</span> <a href="Guard/Dsl.html">Guard::Dsl</a></li>
        
        <li><span class="type">CLASS</span> <a href="Guard/DslDescriber.html">Guard::DslDescriber</a></li>
        
        <li><span class="type">CLASS</span> <a href="Guard/Group.html">Guard::Group</a></li>
        
        <li><span class="type">CLASS</span> <a href="Guard/Guard.html">Guard::Guard</a></li>
        
        <li><span class="type">CLASS</span> <a href="Guard/Interactor.html">Guard::Interactor</a></li>
        
        <li><span class="type">CLASS</span> <a href="Guard/Linux.html">Guard::Linux</a></li>
        
        <li><span class="type">CLASS</span> <a href="Guard/Listener.html">Guard::Listener</a></li>
        
        <li><span class="type">CLASS</span> <a href="Guard/Polling.html">Guard::Polling</a></li>
        
        <li><span class="type">CLASS</span> <a href="Guard/Watcher.html">Guard::Watcher</a></li>
        
        <li><span class="type">CLASS</span> <a href="Guard/Windows.html">Guard::Windows</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">VERSION</td>
            <td>=</td>
            <td class="attr-value">'0.10.0'</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
The current gem version of <a href="Guard/Guard.html">Guard</a>
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">GUARDFILE_TEMPLATE</td>
            <td>=</td>
            <td class="attr-value">File.expand_path('../guard/templates/Guardfile', __FILE__)</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
The Guardfile template for `guard init`
</p>
</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>options</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>interactor</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>listener</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>lock</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000153">
                    
                    <a name="M000153"></a><b>add_group</b>(name, options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Add a <a href="Guard/Guard.html">Guard</a> group.
</p>
<p>
@param [String] name the group name @option options [Boolean] halt_on_fail
if a task execution
</p>
<pre>
  should be halted for all Guards in this group if one Guard throws `:task_has_failed`
</pre>
<p>
@return [Guard::Group] the group added (or retrieved from the `@groups`
variable if already present)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000153_source')" id="l_M000153_source">show</a>
                        
                    </p>
                    <div id="M000153_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 384</span>
384:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_group</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {})
385:       <span class="ruby-identifier">group</span> = <span class="ruby-identifier">groups</span>(<span class="ruby-identifier">name</span>)
386:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">group</span>.<span class="ruby-identifier">nil?</span>
387:         <span class="ruby-identifier">group</span> = <span class="ruby-constant">Group</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>)
388:         <span class="ruby-ivar">@groups</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">group</span>
389:       <span class="ruby-keyword kw">end</span>
390:       <span class="ruby-identifier">group</span>
391:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000152">
                    
                    <a name="M000152"></a><b>add_guard</b>(name, watchers = [], callbacks = [], options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Add a <a href="Guard/Guard.html">Guard</a> to use.
</p>
<p>
@param [String] name the <a href="Guard/Guard.html">Guard</a> name @param
[Array<Watcher>] watchers the list of declared watchers @param
[Array<Hash>] callbacks the list of callbacks @param [Hash] options the <a
href="Guard/Guard.html">Guard</a> options (see the given <a
href="Guard/Guard.html">Guard</a> documentation) @return [Guard::Guard] the
guard added
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000152_source')" id="l_M000152_source">show</a>
                        
                    </p>
                    <div id="M000152_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 365</span>
365:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_guard</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">watchers</span> = [], <span class="ruby-identifier">callbacks</span> = [], <span class="ruby-identifier">options</span> = {})
366:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:ego</span>
367:         <span class="ruby-constant">UI</span>.<span class="ruby-identifier">deprecation</span>(<span class="ruby-value str">'Guard::Ego is now part of Guard. You can remove it from your Guardfile.'</span>)
368:       <span class="ruby-keyword kw">else</span>
369:         <span class="ruby-identifier">guard_class</span> = <span class="ruby-identifier">get_guard_class</span>(<span class="ruby-identifier">name</span>)
370:         <span class="ruby-identifier">callbacks</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">callback</span><span class="ruby-operator">|</span> <span class="ruby-constant">Hook</span>.<span class="ruby-identifier">add_callback</span>(<span class="ruby-identifier">callback</span>[<span class="ruby-identifier">:listener</span>], <span class="ruby-identifier">guard_class</span>, <span class="ruby-identifier">callback</span>[<span class="ruby-identifier">:events</span>]) }
371:         <span class="ruby-identifier">guard</span> = <span class="ruby-identifier">guard_class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">watchers</span>, <span class="ruby-identifier">options</span>)
372:         <span class="ruby-ivar">@guards</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">guard</span>
373:         <span class="ruby-identifier">guard</span>
374:       <span class="ruby-keyword kw">end</span>
375:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000148">
                    
                    <a name="M000148"></a><b>changed_paths</b>(paths)
                    
                </div>
                
                <div class="description">
                  <p>
Detects the paths that have changed.
</p>
<p>
Deleted paths are prefixed by an exclamation point. @see <a
href="Guard/Listener.html#M000062">Guard::Listener#modified_files</a>
</p>
<p>
@param [Array<String>] paths the watched paths @return [Array<String>] the
changed paths
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000148_source')" id="l_M000148_source">show</a>
                        
                    </p>
                    <div id="M000148_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 293</span>
293:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">changed_paths</span>(<span class="ruby-identifier">paths</span>)
294:       <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span><span class="ruby-identifier">f</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:start_with?</span>) <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">f</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-value str">'!'</span>) }
295:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000157">
                    
                    <a name="M000157"></a><b>debug_command_execution</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Adds a command logger in debug mode. This wraps common command execution
functions and logs the executed command before execution.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000157_source')" id="l_M000157_source">show</a>
                        
                    </p>
                    <div id="M000157_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 448</span>
448:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">debug_command_execution</span>
449:       <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:alias_method</span>, <span class="ruby-identifier">:original_system</span>, <span class="ruby-identifier">:system</span>)
450:       <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:define_method</span>, <span class="ruby-identifier">:system</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">command</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span><span class="ruby-operator">|</span>
451:         <span class="ruby-operator">::</span><span class="ruby-constant">Guard</span><span class="ruby-operator">::</span><span class="ruby-constant">UI</span>.<span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;Command execution: #{ command } #{ args.join(' ') }&quot;</span>
452:         <span class="ruby-identifier">original_system</span> <span class="ruby-identifier">command</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>
453:       <span class="ruby-keyword kw">end</span>
454: 
455:       <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:alias_method</span>, <span class="ruby-identifier">:original_backtick</span>, <span class="ruby-identifier">:'`'</span>)
456:       <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:define_method</span>, <span class="ruby-identifier">:'`'</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">command</span><span class="ruby-operator">|</span>
457:         <span class="ruby-operator">::</span><span class="ruby-constant">Guard</span><span class="ruby-operator">::</span><span class="ruby-constant">UI</span>.<span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;Command execution: #{ command }&quot;</span>
458:         <span class="ruby-identifier">original_backtick</span> <span class="ruby-identifier">command</span>
459:       <span class="ruby-keyword kw">end</span>
460:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000149">
                    
                    <a name="M000149"></a><b>deleted_paths</b>(paths)
                    
                </div>
                
                <div class="description">
                  <p>
Detects the paths that have been deleted.
</p>
<p>
Deleted paths are prefixed by an exclamation point. @see <a
href="Guard/Listener.html#M000062">Guard::Listener#modified_files</a>
</p>
<p>
@param [Array<String>] paths the watched paths @return [Array<String>] the
deleted paths
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000149_source')" id="l_M000149_source">show</a>
                        
                    </p>
                    <div id="M000149_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 305</span>
305:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">deleted_paths</span>(<span class="ruby-identifier">paths</span>)
306:       <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:start_with?</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-value str">'!'</span>) }.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>) }
307:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000154">
                    
                    <a name="M000154"></a><b>get_guard_class</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Tries to load the <a href="Guard/Guard.html">Guard</a> main class.
</p>
<p>
@param [String] name the name of the <a href="Guard/Guard.html">Guard</a>
@return [Class, nil] the loaded class
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000154_source')" id="l_M000154_source">show</a>
                        
                    </p>
                    <div id="M000154_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 398</span>
398:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_guard_class</span>(<span class="ruby-identifier">name</span>)
399:       <span class="ruby-identifier">name</span>        = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>
400:       <span class="ruby-identifier">try_require</span> = <span class="ruby-keyword kw">false</span>
401:       <span class="ruby-identifier">const_name</span>  = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">'-'</span>, <span class="ruby-value str">''</span>)
402:       <span class="ruby-keyword kw">begin</span>
403:         <span class="ruby-identifier">require</span> <span class="ruby-node">&quot;guard/#{ name.downcase }&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">try_require</span>
404:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">const_name</span> })
405:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">TypeError</span>
406:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">try_require</span>
407:           <span class="ruby-identifier">try_require</span> = <span class="ruby-keyword kw">true</span>
408:           <span class="ruby-keyword kw">retry</span>
409:         <span class="ruby-keyword kw">else</span>
410:           <span class="ruby-constant">UI</span>.<span class="ruby-identifier">error</span> <span class="ruby-node">&quot;Could not find class Guard::#{ const_name.capitalize }&quot;</span>
411:         <span class="ruby-keyword kw">end</span>
412:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">loadError</span>
413:         <span class="ruby-constant">UI</span>.<span class="ruby-identifier">error</span> <span class="ruby-node">&quot;Could not load 'guard/#{ name.downcase }' or find class Guard::#{ const_name.capitalize }&quot;</span>
414:         <span class="ruby-constant">UI</span>.<span class="ruby-identifier">error</span> <span class="ruby-identifier">loadError</span>.<span class="ruby-identifier">to_s</span>
415:       <span class="ruby-keyword kw">end</span>
416:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000137">
                    
                    <a name="M000137"></a><b>groups</b>(filter = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Smart accessor for retrieving a specific group or several groups at once.
</p>
<p>
@param [NilClass] filter returns all groups @param [String, Symbol] filter
return the group with the given name, or nil if not found @param [Regexp]
filter returns all groups matching the Regexp, or [] if no group found
</p>
<p>
@see Guard.guards
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000137_source')" id="l_M000137_source">show</a>
                        
                    </p>
                    <div id="M000137_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 111</span>
111:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">groups</span>(<span class="ruby-identifier">filter</span> = <span class="ruby-keyword kw">nil</span>)
112:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">filter</span>
113:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span>, <span class="ruby-constant">Symbol</span>
114:         <span class="ruby-ivar">@groups</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">group</span><span class="ruby-operator">|</span> <span class="ruby-identifier">group</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">filter</span>.<span class="ruby-identifier">to_sym</span> }
115:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Regexp</span>
116:         <span class="ruby-ivar">@groups</span>.<span class="ruby-identifier">find_all</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">group</span><span class="ruby-operator">|</span> <span class="ruby-identifier">group</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">filter</span> }
117:       <span class="ruby-keyword kw">else</span>
118:         <span class="ruby-ivar">@groups</span>
119:       <span class="ruby-keyword kw">end</span>
120:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000156">
                    
                    <a name="M000156"></a><b>guard_gem_names</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a list of guard Gem names installed locally.
</p>
<p>
@return [Array<String>] a list of guard gem names
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000156_source')" id="l_M000156_source">show</a>
                        
                    </p>
                    <div id="M000156_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 437</span>
437:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">guard_gem_names</span>
438:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Version</span>.<span class="ruby-identifier">create</span>(<span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span>) <span class="ruby-operator">&gt;=</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Version</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value str">'1.8.0'</span>)
439:         <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">find_all</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^guard-/</span> }
440:       <span class="ruby-keyword kw">else</span>
441:         <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">source_index</span>.<span class="ruby-identifier">find_name</span>(<span class="ruby-regexp re">/^guard-/</span>)
442:       <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">sub</span> <span class="ruby-regexp re">/^guard-/</span>, <span class="ruby-value str">''</span> }
443:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000151">
                    
                    <a name="M000151"></a><b>guard_symbol</b>(guard)
                    
                </div>
                
                <div class="description">
                  <p>
Get the symbol we have to catch when running a supervised task. If we are
within a <a href="Guard/Guard.html">Guard</a> group that has the
`:halt_on_fail` option set, we do NOT catch it here, it will be catched at
the group level.
</p>
<p>
@see .<a href="Guard.html#M000146">run_on_guards</a>
</p>
<p>
@param [Guard::Guard] guard the <a href="Guard/Guard.html">Guard</a> to
execute @return [Symbol] the symbol to catch
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000151_source')" id="l_M000151_source">show</a>
                        
                    </p>
                    <div id="M000151_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 348</span>
348:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">guard_symbol</span>(<span class="ruby-identifier">guard</span>)
349:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">guard</span>.<span class="ruby-identifier">group</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Symbol</span>
350:         <span class="ruby-identifier">group</span> = <span class="ruby-identifier">groups</span>(<span class="ruby-identifier">guard</span>.<span class="ruby-identifier">group</span>)
351:         <span class="ruby-identifier">group</span>.<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:halt_on_fail</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">:no_catch</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">:task_has_failed</span>
352:       <span class="ruby-keyword kw">else</span>
353:         <span class="ruby-identifier">:task_has_failed</span>
354:       <span class="ruby-keyword kw">end</span>
355:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000136">
                    
                    <a name="M000136"></a><b>guards</b>(filter = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Smart accessor for retrieving a specific guard or several guards at once.
</p>
<p>
@param [String, Symbol] filter return the guard with the given name, or nil
if not found @param [Regexp] filter returns all guards matching the Regexp,
or [] if no guard found @param [Hash] filter returns all guards matching
the given Hash.
</p>
<pre>
  Example: `{ :name =&gt; 'rspec', :group =&gt; 'backend' }`, or [] if no guard found
</pre>
<p>
@param [NilClass] filter returns all guards
</p>
<p>
@see Guard.groups
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000136_source')" id="l_M000136_source">show</a>
                        
                    </p>
                    <div id="M000136_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 84</span>
 84:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">guards</span>(<span class="ruby-identifier">filter</span> = <span class="ruby-keyword kw">nil</span>)
 85:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">filter</span>
 86:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span>, <span class="ruby-constant">Symbol</span>
 87:         <span class="ruby-ivar">@guards</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">guard</span><span class="ruby-operator">|</span> <span class="ruby-identifier">guard</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-value str">'guard::'</span>, <span class="ruby-value str">''</span>) <span class="ruby-operator">==</span> <span class="ruby-identifier">filter</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">'-'</span>, <span class="ruby-value str">''</span>) }
 88:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Regexp</span>
 89:         <span class="ruby-ivar">@guards</span>.<span class="ruby-identifier">find_all</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">guard</span><span class="ruby-operator">|</span> <span class="ruby-identifier">guard</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-value str">'guard::'</span>, <span class="ruby-value str">''</span>) <span class="ruby-operator">=~</span> <span class="ruby-identifier">filter</span> }
 90:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Hash</span>
 91:         <span class="ruby-identifier">filter</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-ivar">@guards</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">matches</span>, (<span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span>)<span class="ruby-operator">|</span>
 92:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">to_sym</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:name</span>
 93:             <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">find_all</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">guard</span><span class="ruby-operator">|</span> <span class="ruby-identifier">guard</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-value str">'guard::'</span>, <span class="ruby-value str">''</span>) <span class="ruby-operator">==</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">'-'</span>, <span class="ruby-value str">''</span>) }
 94:           <span class="ruby-keyword kw">else</span>
 95:             <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">find_all</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">guard</span><span class="ruby-operator">|</span> <span class="ruby-identifier">guard</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">k</span>).<span class="ruby-identifier">to_sym</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_sym</span> }
 96:           <span class="ruby-keyword kw">end</span>
 97:         <span class="ruby-keyword kw">end</span>
 98:       <span class="ruby-keyword kw">else</span>
 99:         <span class="ruby-ivar">@guards</span>
100:       <span class="ruby-keyword kw">end</span>
101:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000134">
                    
                    <a name="M000134"></a><b>initialize_template</b>(guard_name = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Creates the initial Guardfile template or add a <a
href="Guard/Guard.html">Guard</a> implementation Guardfile template to an
existing Guardfile.
</p>
<p>
@see <a href="Guard/Guard.html#M000036">Guard::Guard.init</a>
</p>
<p>
@param [String] guard_name the name of the <a
href="Guard/Guard.html">Guard</a> to initialize
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000134_source')" id="l_M000134_source">show</a>
                        
                    </p>
                    <div id="M000134_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/guard.rb, line 31</span>
31:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_template</span>(<span class="ruby-identifier">guard_name</span> = <span class="ruby-keyword kw">nil</span>)
32:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-value str">'Guardfile'</span>)
33:         <span class="ruby-operator">::</span><span class="ruby-constant">Guard</span><span class="ruby-operator">::</span><span class="ruby-constant">UI</span>.<span class="ruby-identifier">info</span> <span class="ruby-node">&quot;Writing new Guardfile to #{ Dir.pwd }/Guardfile&quot;</span>
34:         <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">cp</span>(<span class="ruby-constant">GUARDFILE_TEMPLATE</span>, <span class="ruby-value str">'Guardfile'</span>)
35:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">guard_name</span>.<span class="ruby-identifier">nil?</span>
36:         <span class="ruby-operator">::</span><span class="ruby-constant">Guard</span><span class="ruby-operator">::</span><span class="ruby-constant">UI</span>.<span class="ruby-identifier">error</span> <span class="ruby-node">&quot;Guardfile already exists at #{ Dir.pwd }/Guardfile&quot;</span>
37:         <span class="ruby-identifier">exit</span> <span class="ruby-value">1</span>
38:       <span class="ruby-keyword kw">end</span>
39: 
40:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">guard_name</span>
41:         <span class="ruby-identifier">guard_class</span> = <span class="ruby-operator">::</span><span class="ruby-constant">Guard</span>.<span class="ruby-identifier">get_guard_class</span>(<span class="ruby-identifier">guard_name</span>)
42:         <span class="ruby-identifier">guard_class</span>.<span class="ruby-identifier">init</span>(<span class="ruby-identifier">guard_name</span>)
43:       <span class="ruby-keyword kw">end</span>
44:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000155">
                    
                    <a name="M000155"></a><b>locate_guard</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Locate a path to a <a href="Guard/Guard.html">Guard</a> gem.
</p>
<p>
@param [String] name the name of the <a href="Guard/Guard.html">Guard</a>
without the prefix `guard-` @return [String] the full path to the <a
href="Guard/Guard.html">Guard</a> gem
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000155_source')" id="l_M000155_source">show</a>
                        
                    </p>
                    <div id="M000155_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 423</span>
423:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">locate_guard</span>(<span class="ruby-identifier">name</span>)
424:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Version</span>.<span class="ruby-identifier">create</span>(<span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">VERSION</span>) <span class="ruby-operator">&gt;=</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Version</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value str">'1.8.0'</span>)
425:         <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">find_by_name</span>(<span class="ruby-node">&quot;guard-#{ name }&quot;</span>).<span class="ruby-identifier">full_gem_path</span>
426:       <span class="ruby-keyword kw">else</span>
427:         <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">source_index</span>.<span class="ruby-identifier">find_name</span>(<span class="ruby-node">&quot;guard-#{ name }&quot;</span>).<span class="ruby-identifier">last</span>.<span class="ruby-identifier">full_gem_path</span>
428:       <span class="ruby-keyword kw">end</span>
429:     <span class="ruby-keyword kw">rescue</span>
430:       <span class="ruby-constant">UI</span>.<span class="ruby-identifier">error</span> <span class="ruby-node">&quot;Could not find 'guard-#{ name }' gem path.&quot;</span>
431:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000143">
                    
                    <a name="M000143"></a><b>pause</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Pause <a href="Guard/Guard.html">Guard</a> listening to file changes.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000143_source')" id="l_M000143_source">show</a>
                        
                    </p>
                    <div id="M000143_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 199</span>
199:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pause</span>
200:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">listener</span>.<span class="ruby-identifier">paused?</span>
201:         <span class="ruby-constant">UI</span>.<span class="ruby-identifier">info</span> <span class="ruby-value str">'Un-paused files modification listening'</span>, <span class="ruby-identifier">:reset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
202:         <span class="ruby-identifier">listener</span>.<span class="ruby-identifier">clear_changed_files</span>
203:         <span class="ruby-identifier">listener</span>.<span class="ruby-identifier">run</span>
204:       <span class="ruby-keyword kw">else</span>
205:         <span class="ruby-constant">UI</span>.<span class="ruby-identifier">info</span> <span class="ruby-value str">'Paused files modification listening'</span>, <span class="ruby-identifier">:reset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
206:         <span class="ruby-identifier">listener</span>.<span class="ruby-identifier">pause</span>
207:       <span class="ruby-keyword kw">end</span>
208:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000141">
                    
                    <a name="M000141"></a><b>reload</b>(scopes)
                    
                </div>
                
                <div class="description">
                  <p>
Reload all Guards currently enabled.
</p>
<p>
@param [Hash] An hash with a guard or a group scope
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000141_source')" id="l_M000141_source">show</a>
                        
                    </p>
                    <div id="M000141_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 177</span>
177:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reload</span>(<span class="ruby-identifier">scopes</span>)
178:       <span class="ruby-identifier">run</span> <span class="ruby-keyword kw">do</span>
179:         <span class="ruby-identifier">run_on_guards</span>(<span class="ruby-identifier">scopes</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">guard</span><span class="ruby-operator">|</span>
180:           <span class="ruby-identifier">run_supervised_task</span>(<span class="ruby-identifier">guard</span>, <span class="ruby-identifier">:reload</span>)
181:         <span class="ruby-keyword kw">end</span>
182:       <span class="ruby-keyword kw">end</span>
183:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000138">
                    
                    <a name="M000138"></a><b>reset_groups</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Initialize the groups array with the `:default` group.
</p>
<p>
@see Guard.groups
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000138_source')" id="l_M000138_source">show</a>
                        
                    </p>
                    <div id="M000138_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 126</span>
126:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reset_groups</span>
127:       <span class="ruby-ivar">@groups</span> = [<span class="ruby-constant">Group</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:default</span>)]
128:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000145">
                    
                    <a name="M000145"></a><b>run</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Run a block where the listener and the interactor is blocked.
</p>
<p>
@yield the block to run
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000145_source')" id="l_M000145_source">show</a>
                        
                    </p>
                    <div id="M000145_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 225</span>
225:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run</span>
226:       <span class="ruby-constant">UI</span>.<span class="ruby-identifier">clear</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:clear</span>]
227: 
228:       <span class="ruby-identifier">lock</span>.<span class="ruby-identifier">synchronize</span> <span class="ruby-keyword kw">do</span>
229:         <span class="ruby-keyword kw">begin</span>
230:           <span class="ruby-identifier">interactor</span>.<span class="ruby-identifier">stop</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">interactor</span>
231:           <span class="ruby-keyword kw">yield</span>
232:         <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Interrupt</span>
233:         <span class="ruby-keyword kw">end</span>
234: 
235:         <span class="ruby-identifier">interactor</span>.<span class="ruby-identifier">start</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">interactor</span>
236:       <span class="ruby-keyword kw">end</span>
237:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000142">
                    
                    <a name="M000142"></a><b>run_all</b>(scopes)
                    
                </div>
                
                <div class="description">
                  <p>
Trigger `<a href="Guard.html#M000142">run_all</a>` on all Guards currently
enabled.
</p>
<p>
@param [Hash] An hash with a guard or a group scope
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000142_source')" id="l_M000142_source">show</a>
                        
                    </p>
                    <div id="M000142_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 189</span>
189:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run_all</span>(<span class="ruby-identifier">scopes</span>)
190:       <span class="ruby-identifier">run</span> <span class="ruby-keyword kw">do</span>
191:         <span class="ruby-identifier">run_on_guards</span>(<span class="ruby-identifier">scopes</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">guard</span><span class="ruby-operator">|</span>
192:           <span class="ruby-identifier">run_supervised_task</span>(<span class="ruby-identifier">guard</span>, <span class="ruby-identifier">:run_all</span>)
193:         <span class="ruby-keyword kw">end</span>
194:       <span class="ruby-keyword kw">end</span>
195:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000144">
                    
                    <a name="M000144"></a><b>run_on_change</b>(files)
                    
                </div>
                
                <div class="description">
                  <p>
Trigger `<a href="Guard.html#M000144">run_on_change</a>` on all Guards
currently enabled.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000144_source')" id="l_M000144_source">show</a>
                        
                    </p>
                    <div id="M000144_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 212</span>
212:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run_on_change</span>(<span class="ruby-identifier">files</span>)
213:       <span class="ruby-identifier">run</span> <span class="ruby-keyword kw">do</span>
214:         <span class="ruby-identifier">run_on_guards</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">guard</span><span class="ruby-operator">|</span>
215:           <span class="ruby-identifier">run_on_change_task</span>(<span class="ruby-identifier">files</span>, <span class="ruby-identifier">guard</span>)
216:         <span class="ruby-keyword kw">end</span>
217:       <span class="ruby-keyword kw">end</span>
218:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000147">
                    
                    <a name="M000147"></a><b>run_on_change_task</b>(files, guard)
                    
                </div>
                
                <div class="description">
                  <p>
Run the `:<a href="Guard.html#M000144">run_on_change</a>` task. When the
option `:watch_all_modifications` is set, the task is split to run changed
paths on {<a
href="Guard/Guard.html#M000044">Guard::Guard#run_on_change</a>}, whereas
deleted paths run on {<a
href="Guard/Guard.html#M000045">Guard::Guard#run_on_deletion</a>}.
</p>
<p>
@param [Array<String>] files the list of files to pass to the task @param
[Guard::Guard] guard the guard to run @raise [:task_has_failed] when task
has failed
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000147_source')" id="l_M000147_source">show</a>
                        
                    </p>
                    <div id="M000147_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 269</span>
269:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run_on_change_task</span>(<span class="ruby-identifier">files</span>, <span class="ruby-identifier">guard</span>)
270:       <span class="ruby-identifier">paths</span> = <span class="ruby-constant">Watcher</span>.<span class="ruby-identifier">match_files</span>(<span class="ruby-identifier">guard</span>, <span class="ruby-identifier">files</span>)
271:       <span class="ruby-identifier">changes</span> = <span class="ruby-identifier">changed_paths</span>(<span class="ruby-identifier">paths</span>)
272:       <span class="ruby-identifier">deletions</span> = <span class="ruby-identifier">deleted_paths</span>(<span class="ruby-identifier">paths</span>)
273: 
274:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">changes</span>.<span class="ruby-identifier">empty?</span>
275:         <span class="ruby-constant">UI</span>.<span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;#{ guard.class.name }#run_on_change with #{ changes.inspect }&quot;</span>
276:         <span class="ruby-identifier">run_supervised_task</span>(<span class="ruby-identifier">guard</span>, <span class="ruby-identifier">:run_on_change</span>, <span class="ruby-identifier">changes</span>)
277:       <span class="ruby-keyword kw">end</span>
278: 
279:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">deletions</span>.<span class="ruby-identifier">empty?</span>
280:         <span class="ruby-constant">UI</span>.<span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;#{ guard.class.name }#run_on_deletion with #{ deletions.inspect }&quot;</span>
281:         <span class="ruby-identifier">run_supervised_task</span>(<span class="ruby-identifier">guard</span>, <span class="ruby-identifier">:run_on_deletion</span>, <span class="ruby-identifier">deletions</span>)
282:       <span class="ruby-keyword kw">end</span>
283:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000146">
                    
                    <a name="M000146"></a><b>run_on_guards</b>(scopes = {})
                    
                </div>
                
                <div class="description">
                  <p>
Loop through all groups and run the given task (as block) for each <a
href="Guard/Guard.html">Guard</a>.
</p>
<p>
Stop the task run for the all Guards within a group if one <a
href="Guard/Guard.html">Guard</a> throws `:task_has_failed`.
</p>
<p>
@param [Hash] An hash with a guard or a group scope
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000146_source')" id="l_M000146_source">show</a>
                        
                    </p>
                    <div id="M000146_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 246</span>
246:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run_on_guards</span>(<span class="ruby-identifier">scopes</span> = {})
247:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">guard</span> = <span class="ruby-identifier">scopes</span>[<span class="ruby-identifier">:guard</span>]
248:         <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">guard</span>)
249:       <span class="ruby-keyword kw">else</span>
250:         <span class="ruby-identifier">groups</span> = <span class="ruby-identifier">scopes</span>[<span class="ruby-identifier">:group</span>] <span class="ruby-operator">?</span> [<span class="ruby-identifier">scopes</span>[<span class="ruby-identifier">:group</span>]] <span class="ruby-operator">:</span> <span class="ruby-ivar">@groups</span>
251:         <span class="ruby-identifier">groups</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">group</span><span class="ruby-operator">|</span>
252:           <span class="ruby-identifier">catch</span> <span class="ruby-identifier">:task_has_failed</span> <span class="ruby-keyword kw">do</span>
253:             <span class="ruby-identifier">guards</span>(<span class="ruby-identifier">:group</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">group</span>.<span class="ruby-identifier">name</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">guard</span><span class="ruby-operator">|</span>
254:               <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">guard</span>)
255:             <span class="ruby-keyword kw">end</span>
256:           <span class="ruby-keyword kw">end</span>
257:         <span class="ruby-keyword kw">end</span>
258:       <span class="ruby-keyword kw">end</span>
259:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000150">
                    
                    <a name="M000150"></a><b>run_supervised_task</b>(guard, task, *args)
                    
                </div>
                
                <div class="description">
                  <p>
Run a <a href="Guard/Guard.html">Guard</a> task, but remove the <a
href="Guard/Guard.html">Guard</a> when his work leads to a system failure.
</p>
<p>
When the <a href="Guard/Group.html">Group</a> has `:halt_on_fail` disabled,
we&#8217;ve to catch `:task_has_failed` here in order to avoid an uncaught
throw error.
</p>
<p>
@param [Guard::Guard] guard the <a href="Guard/Guard.html">Guard</a> to
execute @param [Symbol] task the task to run @param [Array] args the
arguments for the task @raise [:task_has_failed] when task has failed
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000150_source')" id="l_M000150_source">show</a>
                        
                    </p>
                    <div id="M000150_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 319</span>
319:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run_supervised_task</span>(<span class="ruby-identifier">guard</span>, <span class="ruby-identifier">task</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
320:       <span class="ruby-identifier">catch</span> <span class="ruby-identifier">guard_symbol</span>(<span class="ruby-identifier">guard</span>) <span class="ruby-keyword kw">do</span>
321:         <span class="ruby-identifier">guard</span>.<span class="ruby-identifier">hook</span>(<span class="ruby-node">&quot;#{ task }_begin&quot;</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
322:         <span class="ruby-identifier">result</span> = <span class="ruby-identifier">guard</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">task</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
323:         <span class="ruby-identifier">guard</span>.<span class="ruby-identifier">hook</span>(<span class="ruby-node">&quot;#{ task }_end&quot;</span>, <span class="ruby-identifier">result</span>)
324: 
325:         <span class="ruby-identifier">result</span>
326:       <span class="ruby-keyword kw">end</span>
327: 
328:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ex</span>
329:       <span class="ruby-constant">UI</span>.<span class="ruby-identifier">error</span>(<span class="ruby-node">&quot;#{ guard.class.name } failed to achieve its &lt;#{ task.to_s }&gt;, exception was:&quot;</span> <span class="ruby-operator">+</span>
330:                <span class="ruby-node">&quot;\n#{ ex.class }: #{ ex.message }\n#{ ex.backtrace.join(&quot;\n&quot;) }&quot;</span>)
331: 
332:       <span class="ruby-identifier">guards</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">guard</span>
333:       <span class="ruby-constant">UI</span>.<span class="ruby-identifier">info</span>(<span class="ruby-node">&quot;\n#{ guard.class.name } has just been fired&quot;</span>)
334: 
335:       <span class="ruby-identifier">ex</span>
336:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000135">
                    
                    <a name="M000135"></a><b>setup</b>(options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Initialize the <a href="Guard/Guard.html">Guard</a> singleton.
</p>
<p>
@option options [Boolean] clear if auto clear the <a
href="Guard/UI.html">UI</a> should be done @option options [Boolean] notify
if system notifications should be shown @option options [Boolean] debug if
debug output should be shown @option options [Array<String>] group the list
of groups to start @option options [String] watchdir the director to watch
@option options [String] guardfile the path to the Guardfile @option
options [Boolean] watch_all_modifications watches all file modifications if
true
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000135_source')" id="l_M000135_source">show</a>
                        
                    </p>
                    <div id="M000135_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/guard.rb, line 56</span>
56:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>(<span class="ruby-identifier">options</span> = {})
57:       <span class="ruby-ivar">@lock</span> = <span class="ruby-constant">Mutex</span>.<span class="ruby-identifier">new</span>
58: 
59:       <span class="ruby-ivar">@options</span>    = <span class="ruby-identifier">options</span>
60:       <span class="ruby-ivar">@guards</span>     = []
61:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">reset_groups</span>
62:       <span class="ruby-ivar">@interactor</span> = <span class="ruby-constant">Interactor</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:no_interactions</span>]
63:       <span class="ruby-ivar">@listener</span>   = <span class="ruby-constant">Listener</span>.<span class="ruby-identifier">select_and_init</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:watchdir</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:watchdir</span>]), <span class="ruby-identifier">options</span>)
64: 
65:       <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:notify</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'GUARD_NOTIFY'</span>] <span class="ruby-operator">!=</span> <span class="ruby-value str">'false'</span> <span class="ruby-operator">?</span> <span class="ruby-constant">Notifier</span>.<span class="ruby-identifier">turn_on</span> <span class="ruby-operator">:</span> <span class="ruby-constant">Notifier</span>.<span class="ruby-identifier">turn_off</span>
66: 
67:       <span class="ruby-constant">UI</span>.<span class="ruby-identifier">clear</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:clear</span>]
68: 
69:       <span class="ruby-identifier">debug_command_execution</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-identifier">:debug</span>]
70: 
71:       <span class="ruby-keyword kw">self</span>
72:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000139">
                    
                    <a name="M000139"></a><b>start</b>(options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Start <a href="Guard/Guard.html">Guard</a> by evaluate the `Guardfile`,
initialize the declared Guards and start the available file change
listener.
</p>
<p>
@option options [Boolean] clear if auto clear the <a
href="Guard/UI.html">UI</a> should be done @option options [Boolean] notify
if system notifications should be shown @option options [Boolean] debug if
debug output should be shown @option options [Array<String>] group the list
of groups to start @option options [String] watchdir the director to watch
@option options [String] guardfile the path to the Guardfile
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000139_source')" id="l_M000139_source">show</a>
                        
                    </p>
                    <div id="M000139_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 140</span>
140:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">start</span>(<span class="ruby-identifier">options</span> = {})
141:       <span class="ruby-identifier">setup</span>(<span class="ruby-identifier">options</span>)
142: 
143:       <span class="ruby-constant">Dsl</span>.<span class="ruby-identifier">evaluate_guardfile</span>(<span class="ruby-identifier">options</span>)
144: 
145:       <span class="ruby-identifier">listener</span>.<span class="ruby-identifier">on_change</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">files</span><span class="ruby-operator">|</span>
146:         <span class="ruby-constant">Dsl</span>.<span class="ruby-identifier">reevaluate_guardfile</span>        <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Watcher</span>.<span class="ruby-identifier">match_guardfile?</span>(<span class="ruby-identifier">files</span>)
147:         <span class="ruby-identifier">listener</span>.<span class="ruby-identifier">changed_files</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">files</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Watcher</span>.<span class="ruby-identifier">match_files?</span>(<span class="ruby-identifier">guards</span>, <span class="ruby-identifier">files</span>)
148:       <span class="ruby-keyword kw">end</span>
149: 
150:       <span class="ruby-constant">UI</span>.<span class="ruby-identifier">info</span> <span class="ruby-node">&quot;Guard is now watching at '#{ listener.directory }'&quot;</span>
151: 
152:       <span class="ruby-identifier">run_on_guards</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">guard</span><span class="ruby-operator">|</span>
153:         <span class="ruby-identifier">run_supervised_task</span>(<span class="ruby-identifier">guard</span>, <span class="ruby-identifier">:start</span>)
154:       <span class="ruby-keyword kw">end</span>
155: 
156:       <span class="ruby-identifier">interactor</span>.<span class="ruby-identifier">start</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">interactor</span>
157:       <span class="ruby-identifier">listener</span>.<span class="ruby-identifier">start</span>
158:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000140">
                    
                    <a name="M000140"></a><b>stop</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Stop <a href="Guard/Guard.html">Guard</a> listening to file changes
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000140_source')" id="l_M000140_source">show</a>
                        
                    </p>
                    <div id="M000140_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/guard.rb, line 162</span>
162:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stop</span>
163:       <span class="ruby-constant">UI</span>.<span class="ruby-identifier">info</span> <span class="ruby-value str">'Bye bye...'</span>, <span class="ruby-identifier">:reset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
164: 
165:       <span class="ruby-identifier">run_on_guards</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">guard</span><span class="ruby-operator">|</span>
166:         <span class="ruby-identifier">run_supervised_task</span>(<span class="ruby-identifier">guard</span>, <span class="ruby-identifier">:stop</span>)
167:       <span class="ruby-keyword kw">end</span>
168: 
169:       <span class="ruby-identifier">listener</span>.<span class="ruby-identifier">stop</span>
170:       <span class="ruby-identifier">abort</span>
171:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    