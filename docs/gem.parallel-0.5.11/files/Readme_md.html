<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Readme.md</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            Readme.md
        </h1>
        <ul class="files">
            <li>Readme.md</li>
            <li>Last modified: Tue Dec 13 07:39:52 +0100 2011</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Run any code in parallel Processes(> use all CPUs) or Threads(> speedup
blocking operations).<br/> Best suited for map-reduce or e.g. parallel
downloads/uploads.
</p>
<p>
Install
</p>
<h6>=</h6>
<pre>
    sudo gem install parallel
</pre>
<p>
Usage
</p>
<h5></h5>
<pre>
    # 2 CPUs -&gt; work in 2 processes (a,b + c)
    results = Parallel.map(['a','b','c']) do |one_letter|
      expensive_calculation(letter)
    end

    # 3 Processes -&gt; finished after 1 run
    results = Parallel.map(['a','b','c'], :in_processes=&gt;3){|one_letter| ... }

    # 3 Threads -&gt; finished after 1 run
    results = Parallel.map(['a','b','c'], :in_threads=&gt;3){|one_letter| ... }
</pre>
<p>
Same can be done with `each`
</p>
<pre>
    Parallel.each(['a','b','c']){|one_letter| ... }
</pre>
<p>
or `each_with_index` or `map_with_index`
</p>
<p>
### Processes
</p>
<pre>
 - Speedup through multiple CPUs
 - Speedup for blocking operations
 - Protects global data
 - Extra memory used ( very low on [REE](http://www.rubyenterpriseedition.com/faq.html) through `copy_on_write_friendly` )
 - Child processes are killed when your main process is killed through Ctrl+c or kill -2
</pre>
<p>
### Threads
</p>
<pre>
 - Speedup for blocking operations
 - Global data can be modified
 - No extra memory used
</pre>
<p>
Processes/Threads are workers, they grab the next piece of work when they
finish
</p>
<p>
Tips
</p>
<h4></h4>
<pre>
 - [ActiveRecord] `ActiveRecord::Base.connection.reconnect!` inside the parallel block prevents errors
 - [Benchmark/Test] Disable threading/forking with `:in_threads =&gt; 0` or `:in_processes =&gt; 0`, great to test performance or to debug parallel issues
</pre>
<p>
TODO
</p>
<h4></h4>
<pre>
 - JRuby / Windows support &lt;-&gt; possible ?
</pre>
<p>
Authors
</p>
<h6>=</h6>
<p>
### [Contributors](<a
href="http://github.com/grosser/parallel/contributors">github.com/grosser/parallel/contributors</a>)
</p>
<pre>
 - [Przemyslaw Wroblewski](http://github.com/lowang)
 - [TJ Holowaychuk](http://vision-media.ca/)
 - [Masatomo Nakano](http://twitter.com/masatomo2)
 - [Fred Wu](http://fredwu.me)
 - [mikezter](http://github.com/mikezter)
 - [Jeremy Durham](http://www.jeremydurham.com)
 - [Nick Gauthier](http://www.ngauthier.com)
 - [Andrew Bowerman](http://andrewbowerman.com)
 - [Byron Bowerman](http://me.bm5k.com/)
 - [Mikko Kokkonen](https://github.com/mikian)
 - [brian p o'rourke](https://github.com/bpo)
 - [Norio Sato]
</pre>
<p>
[Michael Grosser](<a href="http://grosser.it)<br">grosser.it)<br</a>/>
michael@grosser.it<br/> License: MIT<br/> [![Flattr](<a
href="http://api.flattr.com/button/flattr-badge-large.png)](https://flattr.com/submit/auto?user_id=grosser&url=https://github.com/grosser/parallel&title=parallel&language=en_GB&tags=github&category=software">api.flattr.com/button/flattr-badge-large.png)](https://flattr.com/submit/auto?user_id=grosser&url=https://github.com/grosser/parallel&title=parallel&language=en_GB&tags=github&category=software</a>)
</p>

    </div>
    

    

    
    

    
    

    

    

    

    

    

    
</div>
    </div>
  </body>
</html>