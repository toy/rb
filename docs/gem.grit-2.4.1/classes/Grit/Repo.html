<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Grit::Repo</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Grit::Repo 
            
                <span class="parent">&lt; 
                    
                    Object
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/grit/repo_rb.html">lib/grit/repo.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000311">add</a>,</li>
                
                <li><a href="#M000360">alternates</a>,</li>
                
                <li><a href="#M000361">alternates=</a>,</li>
                
                <li><a href="#M000352">archive_tar</a>,</li>
                
                <li><a href="#M000354">archive_tar_gz</a>,</li>
                
                <li><a href="#M000355">archive_to_file</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M000292">batch</a>,</li>
                
                <li><a href="#M000301">blame</a>,</li>
                
                <li><a href="#M000314">blame_tree</a>,</li>
                
                <li><a href="#M000347">blob</a>,</li>
                
                <li><a href="#M000303">branches</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000334">commit</a>,</li>
                
                <li><a href="#M000310">commit_all</a>,</li>
                
                <li><a href="#M000333">commit_count</a>,</li>
                
                <li><a href="#M000335">commit_deltas_from</a>,</li>
                
                <li><a href="#M000351">commit_diff</a>,</li>
                
                <li><a href="#M000309">commit_index</a>,</li>
                
                <li><a href="#M000337">commit_objects</a>,</li>
                
                <li><a href="#M000327">commit_stats</a>,</li>
                
                <li><a href="#M000328">commits</a>,</li>
                
                <li><a href="#M000330">commits_between</a>,</li>
                
                <li><a href="#M000332">commits_since</a>,</li>
                
                <li><a href="#M000362">config</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000300">description</a>,</li>
                
                <li><a href="#M000349">diff</a>,</li>
                
                <li><a href="#M000342">diff_objects</a>,</li>
                
                <li><a href="#M000358">disable_daemon_serve</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000357">enable_daemon_serve</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000290">fork_bare</a>,</li>
                
                <li><a href="#M000291">fork_bare_from</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M000359">gc_auto</a>,</li>
                
                <li><a href="#M000304">get_head</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M000306">head</a>,</li>
                
                <li><a href="#M000302">heads</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000363">index</a>,</li>
                
                <li><a href="#M000286">init</a>,</li>
                
                <li><a href="#M000287">init_bare</a>,</li>
                
                <li><a href="#M000288">init_bare_or_open</a>,</li>
                
                <li><a href="#M000366">inspect</a>,</li>
                
                <li><a href="#M000305">is_head?</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M000348">log</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000284">new</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M000336">objects</a>,</li>
                
                <li><a href="#M000340">objects_between</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000296">parse_batch</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000319">recent_tag_name</a>,</li>
                
                <li><a href="#M000325">refs</a>,</li>
                
                <li><a href="#M000322">remote_add</a>,</li>
                
                <li><a href="#M000323">remote_fetch</a>,</li>
                
                <li><a href="#M000321">remote_list</a>,</li>
                
                <li><a href="#M000320">remotes</a>,</li>
                
                <li><a href="#M000324">remotes_fetch_needed</a>,</li>
                
                <li><a href="#M000312">remove</a>,</li>
                
                <li><a href="#M000365">rename</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000315">status</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000318">tags</a>,</li>
                
                <li><a href="#M000344">tree</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M000364">update_ref</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">DAEMON_EXPORT_FILE</td>
            <td>=</td>
            <td class="attr-value">'git-daemon-export-ok'</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">BATCH_PARSERS</td>
            <td>=</td>
            <td class="attr-value">{       'commit' =&gt; ::Grit::Commit     }</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>path</td>
            <td class='attr-desc'><p>
Public: The <a href="../String.html">String</a> path of the <a
href="Git.html">Git</a> repo.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>working_dir</td>
            <td class='attr-desc'><p>
Public: The <a href="../String.html">String</a> path to the working
directory of the repo, or nil if there is no working directory.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>bare</td>
            <td class='attr-desc'><p>
Public: The Boolean of whether or not the repo is bare.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>git</td>
            <td class='attr-desc'><p>
Public: The <a href="Git.html">Grit::Git</a> command line interface object.
</p></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000311">
                    
                    <a name="M000311"></a><b>add</b>(*files)
                    
                </div>
                
                <div class="description">
                  <p>
Adds files to the index
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000311_source')" id="l_M000311_source">show</a>
                        
                    </p>
                    <div id="M000311_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 248</span>
248:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">files</span>)
249:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">add</span>({}, <span class="ruby-operator">*</span><span class="ruby-identifier">files</span>.<span class="ruby-identifier">flatten</span>)
250:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000360">
                    
                    <a name="M000360"></a><b>alternates</b>()
                    
                </div>
                
                <div class="description">
                  <p>
The list of alternates for this repo
</p>
<p>
Returns Array[String] (pathnames of alternates)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000360_source')" id="l_M000360_source">show</a>
                        
                    </p>
                    <div id="M000360_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 598</span>
598:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">alternates</span>
599:       <span class="ruby-identifier">alternates_path</span> = <span class="ruby-value str">&quot;objects/info/alternates&quot;</span>
600:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">fs_read</span>(<span class="ruby-identifier">alternates_path</span>).<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
601:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>
602:       []
603:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000361">
                    
                    <a name="M000361"></a><b>alternates=</b>(alts)
                    
                </div>
                
                <div class="description">
                  <p>
Sets the alternates
</p>
<pre>
  +alts+ is the Array of String paths representing the alternates
</pre>
<p>
Returns nothing
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000361_source')" id="l_M000361_source">show</a>
                        
                    </p>
                    <div id="M000361_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 609</span>
609:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">alternates=</span>(<span class="ruby-identifier">alts</span>)
610:       <span class="ruby-identifier">alts</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">alt</span><span class="ruby-operator">|</span>
611:         <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">alt</span>)
612:           <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Could not set alternates. Alternate path #{alt} must exist&quot;</span>
613:         <span class="ruby-keyword kw">end</span>
614:       <span class="ruby-keyword kw">end</span>
615: 
616:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">alts</span>.<span class="ruby-identifier">empty?</span>
617:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">fs_write</span>(<span class="ruby-value str">'objects/info/alternates'</span>, <span class="ruby-value str">''</span>)
618:       <span class="ruby-keyword kw">else</span>
619:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">fs_write</span>(<span class="ruby-value str">'objects/info/alternates'</span>, <span class="ruby-identifier">alts</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>))
620:       <span class="ruby-keyword kw">end</span>
621:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000352">
                    
                    <a name="M000352"></a><b>archive_tar</b>(treeish = 'master', prefix = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Archive the given treeish
</p>
<pre>
  +treeish+ is the treeish name/id (default 'master')
  +prefix+ is the optional prefix
</pre>
<p>
Examples
</p>
<pre>
  repo.archive_tar
  # =&gt; &lt;String containing tar archive&gt;

  repo.archive_tar('a87ff14')
  # =&gt; &lt;String containing tar archive for commit a87ff14&gt;

  repo.archive_tar('master', 'myproject/')
  # =&gt; &lt;String containing tar archive and prefixed with 'myproject/'&gt;
</pre>
<p>
Returns <a href="../String.html">String</a> (containing tar archive)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000352_source')" id="l_M000352_source">show</a>
                        
                    </p>
                    <div id="M000352_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 533</span>
533:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">archive_tar</span>(<span class="ruby-identifier">treeish</span> = <span class="ruby-value str">'master'</span>, <span class="ruby-identifier">prefix</span> = <span class="ruby-keyword kw">nil</span>)
534:       <span class="ruby-identifier">options</span> = {}
535:       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:prefix</span>] = <span class="ruby-identifier">prefix</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">prefix</span>
536:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">archive</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">treeish</span>)
537:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000354">
                    
                    <a name="M000354"></a><b>archive_tar_gz</b>(treeish = 'master', prefix = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Archive and gzip the given treeish
</p>
<pre>
  +treeish+ is the treeish name/id (default 'master')
  +prefix+ is the optional prefix
</pre>
<p>
Examples
</p>
<pre>
  repo.archive_tar_gz
  # =&gt; &lt;String containing tar.gz archive&gt;

  repo.archive_tar_gz('a87ff14')
  # =&gt; &lt;String containing tar.gz archive for commit a87ff14&gt;

  repo.archive_tar_gz('master', 'myproject/')
  # =&gt; &lt;String containing tar.gz archive and prefixed with 'myproject/'&gt;
</pre>
<p>
Returns <a href="../String.html">String</a> (containing tar.gz archive)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000354_source')" id="l_M000354_source">show</a>
                        
                    </p>
                    <div id="M000354_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 554</span>
554:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">archive_tar_gz</span>(<span class="ruby-identifier">treeish</span> = <span class="ruby-value str">'master'</span>, <span class="ruby-identifier">prefix</span> = <span class="ruby-keyword kw">nil</span>)
555:       <span class="ruby-identifier">options</span> = {}
556:       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:prefix</span>] = <span class="ruby-identifier">prefix</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">prefix</span>
557:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">archive</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">treeish</span>, <span class="ruby-value str">&quot;| gzip -n&quot;</span>)
558:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000355">
                    
                    <a name="M000355"></a><b>archive_to_file</b>(treeish = 'master', prefix = nil, filename = 'archive.tar.gz', format = nil, pipe = &quot;gzip&quot;)
                    
                </div>
                
                <div class="description">
                  <p>
Write an archive directly to a file
</p>
<pre>
  +treeish+ is the treeish name/id (default 'master')
  +prefix+ is the optional prefix (default nil)
  +filename+ is the name of the file (default 'archive.tar.gz')
  +format+ is the optional format (default nil)
  +pipe+ is the command to run the output through (default 'gzip')
</pre>
<p>
Returns nothing
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000355_source')" id="l_M000355_source">show</a>
                        
                    </p>
                    <div id="M000355_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 568</span>
568:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">archive_to_file</span>(<span class="ruby-identifier">treeish</span> = <span class="ruby-value str">'master'</span>, <span class="ruby-identifier">prefix</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">filename</span> = <span class="ruby-value str">'archive.tar.gz'</span>, <span class="ruby-identifier">format</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">pipe</span> = <span class="ruby-value str">&quot;gzip&quot;</span>)
569:       <span class="ruby-identifier">options</span> = {}
570:       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:prefix</span>] = <span class="ruby-identifier">prefix</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">prefix</span>
571:       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:format</span>] = <span class="ruby-identifier">format</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">format</span>
572:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">archive</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">treeish</span>, <span class="ruby-node">&quot;| #{pipe} &gt; #{filename}&quot;</span>)
573:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000292">
                    
                    <a name="M000292"></a><b>batch</b>(*shas)
                    
                </div>
                
                <div class="description">
                  <p>
Public: Return the full <a href="Git.html">Git</a> objects from the given
SHAs. Only <a href="Commit.html">Commit</a> objects are parsed for now.
</p>
<p>
*shas - Array of <a href="../String.html">String</a> SHAs.
</p>
<p>
Returns an Array of <a href="../Grit.html">Grit</a> objects (<a
href="Commit.html">Grit::Commit</a>).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000292_source')" id="l_M000292_source">show</a>
                        
                    </p>
                    <div id="M000292_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 168</span>
168:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">batch</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">shas</span>)
169:       <span class="ruby-identifier">shas</span>.<span class="ruby-identifier">flatten!</span>
170:       <span class="ruby-identifier">text</span> = <span class="ruby-identifier">git</span>.<span class="ruby-identifier">native</span>(<span class="ruby-identifier">:cat_file</span>, {<span class="ruby-identifier">:batch</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">:input</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-identifier">shas</span> <span class="ruby-operator">*</span> <span class="ruby-value str">&quot;\n&quot;</span>)})
171:       <span class="ruby-identifier">parse_batch</span>(<span class="ruby-identifier">text</span>)
172:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000301">
                    
                    <a name="M000301"></a><b>blame</b>(file, commit = nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000301_source')" id="l_M000301_source">show</a>
                        
                    </p>
                    <div id="M000301_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 203</span>
203:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">blame</span>(<span class="ruby-identifier">file</span>, <span class="ruby-identifier">commit</span> = <span class="ruby-keyword kw">nil</span>)
204:       <span class="ruby-constant">Blame</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">file</span>, <span class="ruby-identifier">commit</span>)
205:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000314">
                    
                    <a name="M000314"></a><b>blame_tree</b>(commit, path = nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000314_source')" id="l_M000314_source">show</a>
                        
                    </p>
                    <div id="M000314_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 258</span>
258:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">blame_tree</span>(<span class="ruby-identifier">commit</span>, <span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span>)
259:       <span class="ruby-identifier">commit_array</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">blame_tree</span>(<span class="ruby-identifier">commit</span>, <span class="ruby-identifier">path</span>)
260: 
261:       <span class="ruby-identifier">final_array</span> = {}
262:       <span class="ruby-identifier">commit_array</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span>, <span class="ruby-identifier">sha</span><span class="ruby-operator">|</span>
263:         <span class="ruby-identifier">final_array</span>[<span class="ruby-identifier">file</span>] = <span class="ruby-identifier">commit</span>(<span class="ruby-identifier">sha</span>)
264:       <span class="ruby-keyword kw">end</span>
265:       <span class="ruby-identifier">final_array</span>
266:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000347">
                    
                    <a name="M000347"></a><b>blob</b>(id)
                    
                </div>
                
                <div class="description">
                  <p>
The <a href="Blob.html">Blob</a> object for the given id
</p>
<pre>
  +id+ is the SHA1 id of the blob
</pre>
<p>
Returns <a href="Blob.html">Grit::Blob</a> (unbaked)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000347_source')" id="l_M000347_source">show</a>
                        
                    </p>
                    <div id="M000347_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 480</span>
480:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">blob</span>(<span class="ruby-identifier">id</span>)
481:       <span class="ruby-constant">Blob</span>.<span class="ruby-identifier">create</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">id</span>)
482:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000303">
                    
                    <a name="M000303"></a><b>branches</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Repo.html#M000302">heads</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000334">
                    
                    <a name="M000334"></a><b>commit</b>(id)
                    
                </div>
                
                <div class="description">
                  <p>
The <a href="Commit.html">Commit</a> object for the specified id
</p>
<pre>
  +id+ is the SHA1 identifier of the commit
</pre>
<p>
Returns <a href="Commit.html">Grit::Commit</a> (baked)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000334_source')" id="l_M000334_source">show</a>
                        
                    </p>
                    <div id="M000334_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 403</span>
403:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">commit</span>(<span class="ruby-identifier">id</span>)
404:       <span class="ruby-identifier">options</span> = {<span class="ruby-identifier">:max_count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}
405: 
406:       <span class="ruby-constant">Commit</span>.<span class="ruby-identifier">find_all</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">id</span>, <span class="ruby-identifier">options</span>).<span class="ruby-identifier">first</span>
407:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000310">
                    
                    <a name="M000310"></a><b>commit_all</b>(message)
                    
                </div>
                
                <div class="description">
                  <p>
Commits all tracked and modified files
</p>
<p>
Returns true/false if commit worked
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000310_source')" id="l_M000310_source">show</a>
                        
                    </p>
                    <div id="M000310_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 243</span>
243:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">commit_all</span>(<span class="ruby-identifier">message</span>)
244:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">commit</span>({}, <span class="ruby-value str">'-a'</span>, <span class="ruby-value str">'-m'</span>, <span class="ruby-identifier">message</span>)
245:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000333">
                    
                    <a name="M000333"></a><b>commit_count</b>(start = 'master')
                    
                </div>
                
                <div class="description">
                  <p>
The number of commits reachable by the given branch/commit
</p>
<pre>
  +start+ is the branch/commit name (default 'master')
</pre>
<p>
Returns Integer
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000333_source')" id="l_M000333_source">show</a>
                        
                    </p>
                    <div id="M000333_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 395</span>
395:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">commit_count</span>(<span class="ruby-identifier">start</span> = <span class="ruby-value str">'master'</span>)
396:       <span class="ruby-constant">Commit</span>.<span class="ruby-identifier">count</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">start</span>)
397:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000335">
                    
                    <a name="M000335"></a><b>commit_deltas_from</b>(other_repo, ref = &quot;master&quot;, other_ref = &quot;master&quot;)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a list of commits that is in <tt>other_repo</tt> but not in self
</p>
<p>
Returns Grit::Commit[]
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000335_source')" id="l_M000335_source">show</a>
                        
                    </p>
                    <div id="M000335_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 412</span>
412:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">commit_deltas_from</span>(<span class="ruby-identifier">other_repo</span>, <span class="ruby-identifier">ref</span> = <span class="ruby-value str">&quot;master&quot;</span>, <span class="ruby-identifier">other_ref</span> = <span class="ruby-value str">&quot;master&quot;</span>)
413:       <span class="ruby-comment cmt"># TODO: we should be able to figure out the branch point, rather than</span>
414:       <span class="ruby-comment cmt"># rev-list'ing the whole thing</span>
415:       <span class="ruby-identifier">repo_refs</span>       = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">rev_list</span>({}, <span class="ruby-identifier">ref</span>).<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
416:       <span class="ruby-identifier">other_repo_refs</span> = <span class="ruby-identifier">other_repo</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">rev_list</span>({}, <span class="ruby-identifier">other_ref</span>).<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
417: 
418:       (<span class="ruby-identifier">other_repo_refs</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">repo_refs</span>).<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ref</span><span class="ruby-operator">|</span>
419:         <span class="ruby-constant">Commit</span>.<span class="ruby-identifier">find_all</span>(<span class="ruby-identifier">other_repo</span>, <span class="ruby-identifier">ref</span>, {<span class="ruby-identifier">:max_count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}).<span class="ruby-identifier">first</span>
420:       <span class="ruby-keyword kw">end</span>
421:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000351">
                    
                    <a name="M000351"></a><b>commit_diff</b>(commit)
                    
                </div>
                
                <div class="description">
                  <p>
The commit diff for the given commit
</p>
<pre>
  +commit+ is the commit name/id
</pre>
<p>
Returns Grit::Diff[]
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000351_source')" id="l_M000351_source">show</a>
                        
                    </p>
                    <div id="M000351_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 514</span>
514:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">commit_diff</span>(<span class="ruby-identifier">commit</span>)
515:       <span class="ruby-constant">Commit</span>.<span class="ruby-identifier">diff</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">commit</span>)
516:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000309">
                    
                    <a name="M000309"></a><b>commit_index</b>(message)
                    
                </div>
                
                <div class="description">
                  <p>
Commits current index
</p>
<p>
Returns true/false if commit worked
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000309_source')" id="l_M000309_source">show</a>
                        
                    </p>
                    <div id="M000309_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 236</span>
236:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">commit_index</span>(<span class="ruby-identifier">message</span>)
237:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">commit</span>({}, <span class="ruby-value str">'-m'</span>, <span class="ruby-identifier">message</span>)
238:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000337">
                    
                    <a name="M000337"></a><b>commit_objects</b>(refs)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000337_source')" id="l_M000337_source">show</a>
                        
                    </p>
                    <div id="M000337_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 430</span>
430:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">commit_objects</span>(<span class="ruby-identifier">refs</span>)
431:       <span class="ruby-constant">Grit</span>.<span class="ruby-identifier">no_quote</span> = <span class="ruby-keyword kw">true</span>
432:       <span class="ruby-identifier">obj</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">rev_list</span>({<span class="ruby-identifier">:timeout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>}, <span class="ruby-identifier">refs</span>).<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;\n&quot;</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>, <span class="ruby-value">40</span>] }
433:       <span class="ruby-constant">Grit</span>.<span class="ruby-identifier">no_quote</span> = <span class="ruby-keyword kw">false</span>
434:       <span class="ruby-identifier">obj</span>
435:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000327">
                    
                    <a name="M000327"></a><b>commit_stats</b>(start = 'master', max_count = 10, skip = 0)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000327_source')" id="l_M000327_source">show</a>
                        
                    </p>
                    <div id="M000327_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 348</span>
348:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">commit_stats</span>(<span class="ruby-identifier">start</span> = <span class="ruby-value str">'master'</span>, <span class="ruby-identifier">max_count</span> = <span class="ruby-value">10</span>, <span class="ruby-identifier">skip</span> = <span class="ruby-value">0</span>)
349:       <span class="ruby-identifier">options</span> = {<span class="ruby-identifier">:max_count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">max_count</span>,
350:                  <span class="ruby-identifier">:skip</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">skip</span>}
351: 
352:       <span class="ruby-constant">CommitStats</span>.<span class="ruby-identifier">find_all</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">start</span>, <span class="ruby-identifier">options</span>)
353:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000328">
                    
                    <a name="M000328"></a><b>commits</b>(start = 'master', max_count = 10, skip = 0)
                    
                </div>
                
                <div class="description">
                  <p>
An array of <a href="Commit.html">Commit</a> objects representing the
history of a given ref/commit
</p>
<pre>
  +start+ is the branch/commit name (default 'master')
  +max_count+ is the maximum number of commits to return (default 10, use +false+ for all)
  +skip+ is the number of commits to skip (default 0)
</pre>
<p>
Returns Grit::Commit[] (baked)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000328_source')" id="l_M000328_source">show</a>
                        
                    </p>
                    <div id="M000328_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 361</span>
361:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">commits</span>(<span class="ruby-identifier">start</span> = <span class="ruby-value str">'master'</span>, <span class="ruby-identifier">max_count</span> = <span class="ruby-value">10</span>, <span class="ruby-identifier">skip</span> = <span class="ruby-value">0</span>)
362:       <span class="ruby-identifier">options</span> = {<span class="ruby-identifier">:max_count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">max_count</span>,
363:                  <span class="ruby-identifier">:skip</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">skip</span>}
364: 
365:       <span class="ruby-constant">Commit</span>.<span class="ruby-identifier">find_all</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">start</span>, <span class="ruby-identifier">options</span>)
366:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000330">
                    
                    <a name="M000330"></a><b>commits_between</b>(from, to)
                    
                </div>
                
                <div class="description">
                  <p>
The Commits objects that are reachable via <tt>to</tt> but not via
<tt>from</tt> Commits are returned in chronological order.
</p>
<pre>
  +from+ is the branch/commit name of the younger item
  +to+ is the branch/commit name of the older item
</pre>
<p>
Returns Grit::Commit[] (baked)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000330_source')" id="l_M000330_source">show</a>
                        
                    </p>
                    <div id="M000330_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 374</span>
374:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">commits_between</span>(<span class="ruby-identifier">from</span>, <span class="ruby-identifier">to</span>)
375:       <span class="ruby-constant">Commit</span>.<span class="ruby-identifier">find_all</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-node">&quot;#{from}..#{to}&quot;</span>).<span class="ruby-identifier">reverse</span>
376:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000332">
                    
                    <a name="M000332"></a><b>commits_since</b>(start = 'master', since = '1970-01-01', extra_options = {})
                    
                </div>
                
                <div class="description">
                  <p>
The Commits objects that are newer than the specified date. Commits are
returned in chronological order.
</p>
<pre>
  +start+ is the branch/commit name (default 'master')
  +since+ is a string represeting a date/time
  +extra_options+ is a hash of extra options
</pre>
<p>
Returns Grit::Commit[] (baked)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000332_source')" id="l_M000332_source">show</a>
                        
                    </p>
                    <div id="M000332_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 385</span>
385:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">commits_since</span>(<span class="ruby-identifier">start</span> = <span class="ruby-value str">'master'</span>, <span class="ruby-identifier">since</span> = <span class="ruby-value str">'1970-01-01'</span>, <span class="ruby-identifier">extra_options</span> = {})
386:       <span class="ruby-identifier">options</span> = {<span class="ruby-identifier">:since</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">since</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">extra_options</span>)
387: 
388:       <span class="ruby-constant">Commit</span>.<span class="ruby-identifier">find_all</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">start</span>, <span class="ruby-identifier">options</span>)
389:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000362">
                    
                    <a name="M000362"></a><b>config</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000362_source')" id="l_M000362_source">show</a>
                        
                    </p>
                    <div id="M000362_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 623</span>
623:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">config</span>
624:       <span class="ruby-ivar">@config</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Config</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
625:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000300">
                    
                    <a name="M000300"></a><b>description</b>()
                    
                </div>
                
                <div class="description">
                  <p>
The project&#8217;s description. Taken verbatim from GIT_REPO/description
</p>
<p>
Returns <a href="../String.html">String</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000300_source')" id="l_M000300_source">show</a>
                        
                    </p>
                    <div id="M000300_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 199</span>
199:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">description</span>
200:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">fs_read</span>(<span class="ruby-value str">'description'</span>).<span class="ruby-identifier">chomp</span>
201:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000349">
                    
                    <a name="M000349"></a><b>diff</b>(a, b, *paths)
                    
                </div>
                
                <div class="description">
                  <p>
The diff from commit <tt>a</tt> to commit <tt>b</tt>, optionally restricted
to the given file(s)
</p>
<pre>
  +a+ is the base commit
  +b+ is the other commit
  +paths+ is an optional list of file paths on which to restrict the diff
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000349_source')" id="l_M000349_source">show</a>
                        
                    </p>
                    <div id="M000349_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 499</span>
499:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">diff</span>(<span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">paths</span>)
500:       <span class="ruby-identifier">diff</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">native</span>(<span class="ruby-value str">'diff'</span>, {}, <span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>, <span class="ruby-value str">'--'</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">paths</span>)
501: 
502:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">diff</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/diff --git a/</span>
503:         <span class="ruby-identifier">diff</span> = <span class="ruby-identifier">diff</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/.*?(diff --git a)/</span><span class="ruby-identifier">m</span>, <span class="ruby-value str">'\1'</span>)
504:       <span class="ruby-keyword kw">else</span>
505:         <span class="ruby-identifier">diff</span> = <span class="ruby-value str">''</span>
506:       <span class="ruby-keyword kw">end</span>
507:       <span class="ruby-constant">Diff</span>.<span class="ruby-identifier">list_from_string</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">diff</span>)
508:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000342">
                    
                    <a name="M000342"></a><b>diff_objects</b>(commit_sha, parents = true)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000342_source')" id="l_M000342_source">show</a>
                        
                    </p>
                    <div id="M000342_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 446</span>
446:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">diff_objects</span>(<span class="ruby-identifier">commit_sha</span>, <span class="ruby-identifier">parents</span> = <span class="ruby-keyword kw">true</span>)
447:       <span class="ruby-identifier">revs</span> = []
448:       <span class="ruby-constant">Grit</span>.<span class="ruby-identifier">no_quote</span> = <span class="ruby-keyword kw">true</span>
449:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parents</span>
450:         <span class="ruby-comment cmt"># PARENTS:</span>
451:         <span class="ruby-identifier">cmd</span> = <span class="ruby-node">&quot;-r -t -m #{commit_sha}&quot;</span>
452:         <span class="ruby-identifier">revs</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">diff_tree</span>({<span class="ruby-identifier">:timeout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>}, <span class="ruby-identifier">cmd</span>).<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;\n&quot;</span>).<span class="ruby-identifier">map</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">r</span> = <span class="ruby-identifier">a</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">' '</span>); <span class="ruby-identifier">r</span>[<span class="ruby-value">3</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">r</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">!=</span> <span class="ruby-value str">'160000'</span> }
453:       <span class="ruby-keyword kw">else</span>
454:         <span class="ruby-comment cmt"># NO PARENTS:</span>
455:         <span class="ruby-identifier">cmd</span> = <span class="ruby-node">&quot;-r -t #{commit_sha}&quot;</span>
456:         <span class="ruby-identifier">revs</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">native</span>(<span class="ruby-identifier">:ls_tree</span>, {<span class="ruby-identifier">:timeout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">:r</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">:t</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>}, <span class="ruby-identifier">commit_sha</span>).
457:           <span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;\n&quot;</span>).<span class="ruby-identifier">map</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;\t&quot;</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">' '</span>)[<span class="ruby-value">2</span>] }
458:       <span class="ruby-keyword kw">end</span>
459:       <span class="ruby-identifier">revs</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">commit</span>(<span class="ruby-identifier">commit_sha</span>).<span class="ruby-identifier">tree</span>.<span class="ruby-identifier">id</span>
460:       <span class="ruby-constant">Grit</span>.<span class="ruby-identifier">no_quote</span> = <span class="ruby-keyword kw">false</span>
461:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">revs</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">compact</span>
462:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000358">
                    
                    <a name="M000358"></a><b>disable_daemon_serve</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Disable git-daemon serving of this repository by ensuring there is no
git-daemon-export-ok file in its git directory
</p>
<p>
Returns nothing
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000358_source')" id="l_M000358_source">show</a>
                        
                    </p>
                    <div id="M000358_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 587</span>
587:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">disable_daemon_serve</span>
588:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">fs_delete</span>(<span class="ruby-constant">DAEMON_EXPORT_FILE</span>)
589:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000357">
                    
                    <a name="M000357"></a><b>enable_daemon_serve</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Enable git-daemon serving of this repository by writing the
git-daemon-export-ok file to its git directory
</p>
<p>
Returns nothing
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000357_source')" id="l_M000357_source">show</a>
                        
                    </p>
                    <div id="M000357_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 579</span>
579:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">enable_daemon_serve</span>
580:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">fs_write</span>(<span class="ruby-constant">DAEMON_EXPORT_FILE</span>, <span class="ruby-value str">''</span>)
581:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000290">
                    
                    <a name="M000290"></a><b>fork_bare</b>(path, options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Public: Create a bare fork of this repository.
</p>
<p>
path - The <a href="../String.html">String</a> full path of where to create
the new fork.
</p>
<pre>
          Traditionally ends with &quot;/&lt;name&gt;.git&quot;.
</pre>
<p>
options - The Hash of additional options to the git clone command.
</p>
<pre>
          These options will be merged on top of the default Hash:
          {:bare =&gt; true, :shared =&gt; true}.
</pre>
<p>
Returns the newly forked <a href="Repo.html">Grit::Repo</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000290_source')" id="l_M000290_source">show</a>
                        
                    </p>
                    <div id="M000290_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 137</span>
137:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fork_bare</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span> = {})
138:       <span class="ruby-identifier">default_options</span> = {<span class="ruby-identifier">:bare</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">:shared</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>}
139:       <span class="ruby-identifier">real_options</span> = <span class="ruby-identifier">default_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)
140:       <span class="ruby-constant">Git</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>).<span class="ruby-identifier">fs_mkdir</span>(<span class="ruby-value str">'..'</span>)
141:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">clone</span>(<span class="ruby-identifier">real_options</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">path</span>, <span class="ruby-identifier">path</span>)
142:       <span class="ruby-constant">Repo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>)
143:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000291">
                    
                    <a name="M000291"></a><b>fork_bare_from</b>(path, options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Public: Fork a bare git repository from another repo.
</p>
<p>
path - The <a href="../String.html">String</a> full path of the repo from
which to fork..
</p>
<pre>
          Traditionally ends with &quot;/&lt;name&gt;.git&quot;.
</pre>
<p>
options - The Hash of additional options to the git clone command.
</p>
<pre>
          These options will be merged on top of the default Hash:
          {:bare =&gt; true, :shared =&gt; true}.
</pre>
<p>
Returns the newly forked <a href="Repo.html">Grit::Repo</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000291_source')" id="l_M000291_source">show</a>
                        
                    </p>
                    <div id="M000291_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 154</span>
154:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fork_bare_from</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span> = {})
155:       <span class="ruby-identifier">default_options</span> = {<span class="ruby-identifier">:bare</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">:shared</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>}
156:       <span class="ruby-identifier">real_options</span> = <span class="ruby-identifier">default_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)
157:       <span class="ruby-constant">Git</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">path</span>).<span class="ruby-identifier">fs_mkdir</span>(<span class="ruby-value str">'..'</span>)
158:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">clone</span>(<span class="ruby-identifier">real_options</span>, <span class="ruby-identifier">path</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">path</span>)
159:       <span class="ruby-constant">Repo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">path</span>)
160:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000359">
                    
                    <a name="M000359"></a><b>gc_auto</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000359_source')" id="l_M000359_source">show</a>
                        
                    </p>
                    <div id="M000359_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 591</span>
591:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gc_auto</span>
592:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">gc</span>({<span class="ruby-identifier">:auto</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>})
593:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000304">
                    
                    <a name="M000304"></a><b>get_head</b>(head_name)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000304_source')" id="l_M000304_source">show</a>
                        
                    </p>
                    <div id="M000304_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 217</span>
217:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_head</span>(<span class="ruby-identifier">head_name</span>)
218:       <span class="ruby-identifier">heads</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">head_name</span> }
219:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000306">
                    
                    <a name="M000306"></a><b>head</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Object reprsenting the current repo head.
</p>
<p>
Returns <a href="Head.html">Grit::Head</a> (baked)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000306_source')" id="l_M000306_source">show</a>
                        
                    </p>
                    <div id="M000306_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 228</span>
228:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">head</span>
229:       <span class="ruby-constant">Head</span>.<span class="ruby-identifier">current</span>(<span class="ruby-keyword kw">self</span>)
230:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000302">
                    
                    <a name="M000302"></a><b>heads</b>()
                    
                </div>
                
                <div class="description">
                  <p>
An array of <a href="Head.html">Head</a> objects representing the branch
heads in this repo
</p>
<p>
Returns Grit::Head[] (baked)
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Repo.html#M000303">branches</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000302_source')" id="l_M000302_source">show</a>
                        
                    </p>
                    <div id="M000302_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 211</span>
211:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">heads</span>
212:       <span class="ruby-constant">Head</span>.<span class="ruby-identifier">find_all</span>(<span class="ruby-keyword kw">self</span>)
213:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000363">
                    
                    <a name="M000363"></a><b>index</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000363_source')" id="l_M000363_source">show</a>
                        
                    </p>
                    <div id="M000363_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 627</span>
627:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">index</span>
628:       <span class="ruby-constant">Index</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
629:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000366">
                    
                    <a name="M000366"></a><b>inspect</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Pretty object inspection
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000366_source')" id="l_M000366_source">show</a>
                        
                    </p>
                    <div id="M000366_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 650</span>
650:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
651:       <span class="ruby-node">%Q{#&lt;Grit::Repo &quot;#{@path}&quot;&gt;}</span>
652:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000305">
                    
                    <a name="M000305"></a><b>is_head?</b>(head_name)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000305_source')" id="l_M000305_source">show</a>
                        
                    </p>
                    <div id="M000305_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 221</span>
221:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">is_head?</span>(<span class="ruby-identifier">head_name</span>)
222:       <span class="ruby-identifier">get_head</span>(<span class="ruby-identifier">head_name</span>)
223:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000348">
                    
                    <a name="M000348"></a><b>log</b>(commit = 'master', path = nil, options = {})
                    
                </div>
                
                <div class="description">
                  <p>
The commit log for a treeish
</p>
<p>
Returns Grit::Commit[]
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000348_source')" id="l_M000348_source">show</a>
                        
                    </p>
                    <div id="M000348_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 487</span>
487:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">log</span>(<span class="ruby-identifier">commit</span> = <span class="ruby-value str">'master'</span>, <span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">options</span> = {})
488:       <span class="ruby-identifier">default_options</span> = {<span class="ruby-identifier">:pretty</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;raw&quot;</span>}
489:       <span class="ruby-identifier">actual_options</span>  = <span class="ruby-identifier">default_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)
490:       <span class="ruby-identifier">arg</span> = <span class="ruby-identifier">path</span> <span class="ruby-value">? </span>[<span class="ruby-identifier">commit</span>, <span class="ruby-value str">'--'</span>, <span class="ruby-identifier">path</span>] <span class="ruby-operator">:</span> [<span class="ruby-identifier">commit</span>]
491:       <span class="ruby-identifier">commits</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">log</span>(<span class="ruby-identifier">actual_options</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>)
492:       <span class="ruby-constant">Commit</span>.<span class="ruby-identifier">list_from_string</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">commits</span>)
493:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000336">
                    
                    <a name="M000336"></a><b>objects</b>(refs)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000336_source')" id="l_M000336_source">show</a>
                        
                    </p>
                    <div id="M000336_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 423</span>
423:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">objects</span>(<span class="ruby-identifier">refs</span>)
424:       <span class="ruby-constant">Grit</span>.<span class="ruby-identifier">no_quote</span> = <span class="ruby-keyword kw">true</span>
425:       <span class="ruby-identifier">obj</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">rev_list</span>({<span class="ruby-identifier">:objects</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">:timeout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>}, <span class="ruby-identifier">refs</span>).<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;\n&quot;</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>, <span class="ruby-value">40</span>] }
426:       <span class="ruby-constant">Grit</span>.<span class="ruby-identifier">no_quote</span> = <span class="ruby-keyword kw">false</span>
427:       <span class="ruby-identifier">obj</span>
428:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000340">
                    
                    <a name="M000340"></a><b>objects_between</b>(ref1, ref2 = nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000340_source')" id="l_M000340_source">show</a>
                        
                    </p>
                    <div id="M000340_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 437</span>
437:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">objects_between</span>(<span class="ruby-identifier">ref1</span>, <span class="ruby-identifier">ref2</span> = <span class="ruby-keyword kw">nil</span>)
438:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ref2</span>
439:         <span class="ruby-identifier">refs</span> = <span class="ruby-node">&quot;#{ref2}..#{ref1}&quot;</span>
440:       <span class="ruby-keyword kw">else</span>
441:         <span class="ruby-identifier">refs</span> = <span class="ruby-identifier">ref1</span>
442:       <span class="ruby-keyword kw">end</span>
443:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">objects</span>(<span class="ruby-identifier">refs</span>)
444:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000296">
                    
                    <a name="M000296"></a><b>parse_batch</b>(text)
                    
                </div>
                
                <div class="description">
                  <p>
Parses `git cat-file &#8212;batch` output, returning an array of <a
href="../Grit.html">Grit</a> objects.
</p>
<p>
text - Raw <a href="../String.html">String</a> output.
</p>
<p>
Returns an Array of <a href="../Grit.html">Grit</a> objects (<a
href="Commit.html">Grit::Commit</a>).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000296_source')" id="l_M000296_source">show</a>
                        
                    </p>
                    <div id="M000296_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 179</span>
179:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse_batch</span>(<span class="ruby-identifier">text</span>)
180:       <span class="ruby-identifier">io</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">text</span>)
181:       <span class="ruby-identifier">objects</span> = []
182:       <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">line</span> = <span class="ruby-identifier">io</span>.<span class="ruby-identifier">gets</span>
183:         <span class="ruby-identifier">sha</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">size</span> = <span class="ruby-identifier">line</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot; &quot;</span>, <span class="ruby-value">3</span>)
184:         <span class="ruby-identifier">parser</span> = <span class="ruby-constant">BATCH_PARSERS</span>[<span class="ruby-identifier">type</span>]
185:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'missing'</span> <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">parser</span>
186:           <span class="ruby-identifier">objects</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword kw">nil</span>
187:           <span class="ruby-keyword kw">next</span>
188:         <span class="ruby-keyword kw">end</span>
189: 
190:         <span class="ruby-identifier">object</span>   = <span class="ruby-identifier">io</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">size</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
191:         <span class="ruby-identifier">objects</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">parse_batch</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">sha</span>, <span class="ruby-identifier">size</span>, <span class="ruby-identifier">object</span>)
192:       <span class="ruby-keyword kw">end</span>
193:       <span class="ruby-identifier">objects</span>
194:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000319">
                    
                    <a name="M000319"></a><b>recent_tag_name</b>(committish = nil, options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Finds the most recent annotated tag name that is reachable from a commit.
</p>
<pre>
  @repo.recent_tag_name('master')
  # =&gt; &quot;v1.0-0-abcdef&quot;
</pre>
<p>
committish - optional commit SHA, branch, or tag name. options - optional
hash of options to pass to git.
</p>
<pre>
             Default: {:always =&gt; true}
             :tags =&gt; true      # use lightweight tags too.
             :abbrev =&gt; Integer # number of hex digits to form the unique
               name.  Defaults to 7.
             :long =&gt; true      # always output tag + commit sha
             # see `git describe` docs for more options.
</pre>
<p>
Returns the <a href="../String.html">String</a> tag name, or just the
commit if no tag is found. If there have been updates since the tag was
made, a suffix is added with the number of commits since the tag, and the
abbreviated object name of the most recent commit. Returns nil if the
committish value is not found.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000319_source')" id="l_M000319_source">show</a>
                        
                    </p>
                    <div id="M000319_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 299</span>
299:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">recent_tag_name</span>(<span class="ruby-identifier">committish</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">options</span> = {})
300:       <span class="ruby-identifier">value</span> = <span class="ruby-identifier">git</span>.<span class="ruby-identifier">describe</span>({<span class="ruby-identifier">:always</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>}.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">options</span>), <span class="ruby-identifier">committish</span>.<span class="ruby-identifier">to_s</span>).<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">strip</span>
301:       <span class="ruby-identifier">value</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">zero?</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">value</span>
302:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000325">
                    
                    <a name="M000325"></a><b>refs</b>()
                    
                </div>
                
                <div class="description">
                  <p>
An array of <a href="Ref.html">Ref</a> objects representing the refs in
this repo
</p>
<p>
Returns Grit::Ref[] (baked)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000325_source')" id="l_M000325_source">show</a>
                        
                    </p>
                    <div id="M000325_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 344</span>
344:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">refs</span>
345:       [ <span class="ruby-constant">Head</span>.<span class="ruby-identifier">find_all</span>(<span class="ruby-keyword kw">self</span>), <span class="ruby-constant">Tag</span>.<span class="ruby-identifier">find_all</span>(<span class="ruby-keyword kw">self</span>), <span class="ruby-constant">Remote</span>.<span class="ruby-identifier">find_all</span>(<span class="ruby-keyword kw">self</span>) ].<span class="ruby-identifier">flatten</span>
346:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000322">
                    
                    <a name="M000322"></a><b>remote_add</b>(name, url)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000322_source')" id="l_M000322_source">show</a>
                        
                    </p>
                    <div id="M000322_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 316</span>
316:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remote_add</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">url</span>)
317:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">remote</span>({}, <span class="ruby-value str">'add'</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">url</span>)
318:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000323">
                    
                    <a name="M000323"></a><b>remote_fetch</b>(name)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000323_source')" id="l_M000323_source">show</a>
                        
                    </p>
                    <div id="M000323_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 320</span>
320:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remote_fetch</span>(<span class="ruby-identifier">name</span>)
321:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">fetch</span>({}, <span class="ruby-identifier">name</span>)
322:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000321">
                    
                    <a name="M000321"></a><b>remote_list</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000321_source')" id="l_M000321_source">show</a>
                        
                    </p>
                    <div id="M000321_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 312</span>
312:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remote_list</span>
313:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">list_remotes</span>
314:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000320">
                    
                    <a name="M000320"></a><b>remotes</b>()
                    
                </div>
                
                <div class="description">
                  <p>
An array of <a href="Remote.html">Remote</a> objects representing the
remote branches in this repo
</p>
<p>
Returns Grit::Remote[] (baked)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000320_source')" id="l_M000320_source">show</a>
                        
                    </p>
                    <div id="M000320_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 308</span>
308:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remotes</span>
309:       <span class="ruby-constant">Remote</span>.<span class="ruby-identifier">find_all</span>(<span class="ruby-keyword kw">self</span>)
310:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000324">
                    
                    <a name="M000324"></a><b>remotes_fetch_needed</b>(remotes)
                    
                </div>
                
                <div class="description">
                  <p>
takes an array of remote names and last pushed dates fetches from all of
the remotes where the local fetch date is earlier than the passed date,
then records the last fetched date
</p>
<p>
{ &#8216;origin&#8217; => date,
</p>
<pre>
  'peter =&gt; date,
</pre>
<p>
}
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000324_source')" id="l_M000324_source">show</a>
                        
                    </p>
                    <div id="M000324_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 332</span>
332:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remotes_fetch_needed</span>(<span class="ruby-identifier">remotes</span>)
333:       <span class="ruby-identifier">remotes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">remote</span>, <span class="ruby-identifier">date</span><span class="ruby-operator">|</span>
334:         <span class="ruby-comment cmt"># TODO: check against date</span>
335:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">remote_fetch</span>(<span class="ruby-identifier">remote</span>)
336:       <span class="ruby-keyword kw">end</span>
337:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000312">
                    
                    <a name="M000312"></a><b>remove</b>(*files)
                    
                </div>
                
                <div class="description">
                  <p>
Remove files from the index
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000312_source')" id="l_M000312_source">show</a>
                        
                    </p>
                    <div id="M000312_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 253</span>
253:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">files</span>)
254:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">rm</span>({}, <span class="ruby-operator">*</span><span class="ruby-identifier">files</span>.<span class="ruby-identifier">flatten</span>)
255:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000365">
                    
                    <a name="M000365"></a><b>rename</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Rename the current repository directory.
</p>
<pre>
  +name+ is the new name
</pre>
<p>
Returns nothing
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000365_source')" id="l_M000365_source">show</a>
                        
                    </p>
                    <div id="M000365_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 641</span>
641:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rename</span>(<span class="ruby-identifier">name</span>)
642:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@bare</span>
643:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">fs_move</span>(<span class="ruby-value str">'/'</span>, <span class="ruby-node">&quot;../#{name}&quot;</span>)
644:       <span class="ruby-keyword kw">else</span>
645:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">fs_move</span>(<span class="ruby-value str">'/'</span>, <span class="ruby-node">&quot;../../#{name}&quot;</span>)
646:       <span class="ruby-keyword kw">end</span>
647:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000315">
                    
                    <a name="M000315"></a><b>status</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000315_source')" id="l_M000315_source">show</a>
                        
                    </p>
                    <div id="M000315_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 268</span>
268:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">status</span>
269:       <span class="ruby-constant">Status</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
270:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000318">
                    
                    <a name="M000318"></a><b>tags</b>()
                    
                </div>
                
                <div class="description">
                  <p>
An array of <a href="Tag.html">Tag</a> objects that are available in this
repo
</p>
<p>
Returns Grit::Tag[] (baked)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000318_source')" id="l_M000318_source">show</a>
                        
                    </p>
                    <div id="M000318_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 276</span>
276:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">tags</span>
277:       <span class="ruby-constant">Tag</span>.<span class="ruby-identifier">find_all</span>(<span class="ruby-keyword kw">self</span>)
278:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000344">
                    
                    <a name="M000344"></a><b>tree</b>(treeish = 'master', paths = [])
                    
                </div>
                
                <div class="description">
                  <p>
The <a href="Tree.html">Tree</a> object for the given treeish reference
</p>
<pre>
  +treeish+ is the reference (default 'master')
  +paths+ is an optional Array of directory paths to restrict the tree (deafult [])
</pre>
<p>
Examples
</p>
<pre>
  repo.tree('master', ['lib/'])
</pre>
<p>
Returns <a href="Tree.html">Grit::Tree</a> (baked)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000344_source')" id="l_M000344_source">show</a>
                        
                    </p>
                    <div id="M000344_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 472</span>
472:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">tree</span>(<span class="ruby-identifier">treeish</span> = <span class="ruby-value str">'master'</span>, <span class="ruby-identifier">paths</span> = [])
473:       <span class="ruby-constant">Tree</span>.<span class="ruby-identifier">construct</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">treeish</span>, <span class="ruby-identifier">paths</span>)
474:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000364">
                    
                    <a name="M000364"></a><b>update_ref</b>(head, commit_sha)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000364_source')" id="l_M000364_source">show</a>
                        
                    </p>
                    <div id="M000364_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 631</span>
631:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_ref</span>(<span class="ruby-identifier">head</span>, <span class="ruby-identifier">commit_sha</span>)
632:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">commit_sha</span> <span class="ruby-operator">||</span> (<span class="ruby-identifier">commit_sha</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">!=</span> <span class="ruby-value">40</span>)
633:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span>.<span class="ruby-identifier">fs_write</span>(<span class="ruby-node">&quot;refs/heads/#{head}&quot;</span>, <span class="ruby-identifier">commit_sha</span>)
634:       <span class="ruby-identifier">commit_sha</span>
635:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000286">
                    
                    <a name="M000286"></a><b>init</b>(path, git_options = {}, repo_options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Public: Initialize a git repository (create it on the filesystem). By
default, the newly created repository will contain a working directory. If
you would like to create a bare repo, use <a
href="Repo.html#M000287">Grit::Repo.init_bare</a>.
</p>
<p>
path - The <a href="../String.html">String</a> full path to the repo.
Traditionally ends with
</p>
<pre>
               &quot;/&lt;name&gt;.git&quot;.
</pre>
<p>
git_options - A Hash of additional options to the git init command
</p>
<pre>
               (default: {}).
</pre>
<p>
repo_options - A Hash of additional options to the <a
href="Repo.html#M000284">Grit::Repo.new</a> call
</p>
<pre>
               (default: {}).
</pre>
<p>
Examples
</p>
<pre>
  Grit::Repo.init('/var/git/myrepo.git')
</pre>
<p>
Returns the newly created <a href="Repo.html">Grit::Repo</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000286_source')" id="l_M000286_source">show</a>
                        
                    </p>
                    <div id="M000286_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 75</span>
75:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">init</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">git_options</span> = {}, <span class="ruby-identifier">repo_options</span> = {})
76:       <span class="ruby-identifier">git_options</span> = {<span class="ruby-identifier">:base</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">git_options</span>)
77:       <span class="ruby-identifier">git</span> = <span class="ruby-constant">Git</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>)
78:       <span class="ruby-identifier">git</span>.<span class="ruby-identifier">fs_mkdir</span>(<span class="ruby-value str">'..'</span>)
79:       <span class="ruby-identifier">git</span>.<span class="ruby-identifier">init</span>(<span class="ruby-identifier">git_options</span>, <span class="ruby-identifier">path</span>)
80:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">repo_options</span>)
81:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000287">
                    
                    <a name="M000287"></a><b>init_bare</b>(path, git_options = {}, repo_options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Public: Initialize a bare git repository (create it on the filesystem).
</p>
<p>
path - The <a href="../String.html">String</a> full path to the repo.
Traditionally ends with
</p>
<pre>
               &quot;/&lt;name&gt;.git&quot;.
</pre>
<p>
git_options - A Hash of additional options to the git init command
</p>
<pre>
               (default: {}).
</pre>
<p>
repo_options - A Hash of additional options to the <a
href="Repo.html#M000284">Grit::Repo.new</a> call
</p>
<pre>
               (default: {}).
</pre>
<p>
Examples
</p>
<pre>
  Grit::Repo.init_bare('/var/git/myrepo.git')
</pre>
<p>
Returns the newly created <a href="Repo.html">Grit::Repo</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000287_source')" id="l_M000287_source">show</a>
                        
                    </p>
                    <div id="M000287_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 97</span>
 97:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">init_bare</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">git_options</span> = {}, <span class="ruby-identifier">repo_options</span> = {})
 98:       <span class="ruby-identifier">git_options</span> = {<span class="ruby-identifier">:bare</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">git_options</span>)
 99:       <span class="ruby-identifier">git</span> = <span class="ruby-constant">Git</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>)
100:       <span class="ruby-identifier">git</span>.<span class="ruby-identifier">fs_mkdir</span>(<span class="ruby-value str">'..'</span>)
101:       <span class="ruby-identifier">git</span>.<span class="ruby-identifier">init</span>(<span class="ruby-identifier">git_options</span>)
102:       <span class="ruby-identifier">repo_options</span> = {<span class="ruby-identifier">:is_bare</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">repo_options</span>)
103:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">repo_options</span>)
104:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000288">
                    
                    <a name="M000288"></a><b>init_bare_or_open</b>(path, git_options = {}, repo_options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Public: Initialize a bare <a href="Git.html">Git</a> repository (create it
on the filesystem) or, if the repo already exists, simply return it.
</p>
<p>
path - The <a href="../String.html">String</a> full path to the repo.
Traditionally ends with
</p>
<pre>
               &quot;/&lt;name&gt;.git&quot;.
</pre>
<p>
git_options - A Hash of additional options to the git init command
</p>
<pre>
               (default: {}).
</pre>
<p>
repo_options - A Hash of additional options to the <a
href="Repo.html#M000284">Grit::Repo.new</a> call
</p>
<pre>
               (default: {}).
</pre>
<p>
Returns the new or existing <a href="Repo.html">Grit::Repo</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000288_source')" id="l_M000288_source">show</a>
                        
                    </p>
                    <div id="M000288_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 117</span>
117:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">init_bare_or_open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">git_options</span> = {}, <span class="ruby-identifier">repo_options</span> = {})
118:       <span class="ruby-identifier">git</span> = <span class="ruby-constant">Git</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>)
119: 
120:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">git</span>.<span class="ruby-identifier">exist?</span>
121:         <span class="ruby-identifier">git</span>.<span class="ruby-identifier">fs_mkdir</span>(<span class="ruby-identifier">path</span>)
122:         <span class="ruby-identifier">git</span>.<span class="ruby-identifier">init</span>(<span class="ruby-identifier">git_options</span>)
123:       <span class="ruby-keyword kw">end</span>
124: 
125:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">repo_options</span>)
126:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000284">
                    
                    <a name="M000284"></a><b>new</b>(path, options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Public: Create a new <a href="Repo.html">Repo</a> instance.
</p>
<p>
path - The <a href="../String.html">String</a> path to either the root git
directory or the bare
</p>
<pre>
          git repo. Bare repos are expected to end with &quot;.git&quot;.
</pre>
<p>
options - A Hash of options (default: {}):
</p>
<pre>
          :is_bare - Boolean whether to consider the repo as bare even
                     if the repo name does not end with &quot;.git&quot;.
</pre>
<p>
Examples
</p>
<pre>
  r = Repo.new(&quot;/Users/tom/dev/normal&quot;)
  r = Repo.new(&quot;/Users/tom/public/bare.git&quot;)
  r = Repo.new(&quot;/Users/tom/public/bare&quot;, {:is_bare =&gt; true})
</pre>
<p>
Returns a newly initialized <a href="Repo.html">Grit::Repo</a>. Raises <a
href="InvalidGitRepositoryError.html">Grit::InvalidGitRepositoryError</a>
if the path exists but is not
</p>
<pre>
  a Git repository.
</pre>
<p>
Raises <a href="NoSuchPathError.html">Grit::NoSuchPathError</a> if the path
does not exist.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000284_source')" id="l_M000284_source">show</a>
                        
                    </p>
                    <div id="M000284_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/grit/repo.rb, line 40</span>
40:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span> = {})
41:       <span class="ruby-identifier">epath</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">path</span>)
42: 
43:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">epath</span>, <span class="ruby-value str">'.git'</span>))
44:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">working_dir</span> = <span class="ruby-identifier">epath</span>
45:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">epath</span>, <span class="ruby-value str">'.git'</span>)
46:         <span class="ruby-ivar">@bare</span> = <span class="ruby-keyword kw">false</span>
47:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">epath</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">epath</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\.git$/</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:is_bare</span>])
48:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">path</span> = <span class="ruby-identifier">epath</span>
49:         <span class="ruby-ivar">@bare</span> = <span class="ruby-keyword kw">true</span>
50:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">epath</span>)
51:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidGitRepositoryError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">epath</span>)
52:       <span class="ruby-keyword kw">else</span>
53:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">NoSuchPathError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">epath</span>)
54:       <span class="ruby-keyword kw">end</span>
55: 
56:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">git</span> = <span class="ruby-constant">Git</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">path</span>)
57:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    