<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Net::SSH::Test::Script</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Net::SSH::Test::Script 
            
                <span class="parent">&lt; 
                    
                    Object
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../../files/lib/net/ssh/test/script_rb.html">lib/net/ssh/test/script.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Represents a sequence of scripted events that identify the behavior that a
test expects. Methods named &#8220;sends_*&#8221; create events for packets
being sent from the local to the remote host, and methods named
&#8220;gets_*&#8221; create events for packets being received by the local
from the remote host.
</p>
<p>
A reference to a script. is generally obtained in a unit test via the <a
href="../Test.html#M000301">Net::SSH::Test#story</a> helper method:
</p>
<pre>
  story do |script|
    channel = script.opens_channel
    ...
  end
</pre>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M000284">gets</a>,</li>
                
                <li><a href="#M000296">gets_channel_close</a>,</li>
                
                <li><a href="#M000290">gets_channel_data</a>,</li>
                
                <li><a href="#M000295">gets_channel_eof</a>,</li>
                
                <li><a href="#M000291">gets_channel_request</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000281">new</a>,</li>
                
                <li><a href="#M000297">next</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M000282">opens_channel</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000300">process</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000283">sends</a>,</li>
                
                <li><a href="#M000289">sends_channel_close</a>,</li>
                
                <li><a href="#M000287">sends_channel_data</a>,</li>
                
                <li><a href="#M000288">sends_channel_eof</a>,</li>
                
                <li><a href="#M000285">sends_channel_request</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>events</td>
            <td class='attr-desc'><p>
The list of scripted events. These will be <a
href="LocalPacket.html">Net::SSH::Test::LocalPacket</a> and <a
href="RemotePacket.html">Net::SSH::Test::RemotePacket</a> instances.
</p></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000281">
                    
                    <a name="M000281"></a><b>new</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Create a new, empty script.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000281_source')" id="l_M000281_source">show</a>
                        
                    </p>
                    <div id="M000281_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 25</span>
25:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>
26:       <span class="ruby-ivar">@events</span> = []
27:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000284">
                    
                    <a name="M000284"></a><b>gets</b>(type, *args)
                    
                </div>
                
                <div class="description">
                  <p>
A convenience method for adding an arbitrary remote packet to the events
list.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000284_source')" id="l_M000284_source">show</a>
                        
                    </p>
                    <div id="M000284_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 56</span>
56:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gets</span>(<span class="ruby-identifier">type</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
57:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RemotePacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">type</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
58:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000296">
                    
                    <a name="M000296"></a><b>gets_channel_close</b>(channel)
                    
                </div>
                
                <div class="description">
                  <p>
Scripts the reception of a channel close packet from the remote host by the
given <a href="Channel.html">Net::SSH::Test::Channel</a> <tt>channel</tt>.
This will typically be called via <a
href="Channel.html#M000254">Net::SSH::Test::Channel#gets_close</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000296_source')" id="l_M000296_source">show</a>
                        
                    </p>
                    <div id="M000296_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 131</span>
131:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gets_channel_close</span>(<span class="ruby-identifier">channel</span>)
132:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RemotePacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_close</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">local_id</span>)
133:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000290">
                    
                    <a name="M000290"></a><b>gets_channel_data</b>(channel, data)
                    
                </div>
                
                <div class="description">
                  <p>
Scripts the reception of a channel data packet from the remote host by the
given <a href="Channel.html">Net::SSH::Test::Channel</a> <tt>channel</tt>.
This will typically be called via <a
href="Channel.html#M000250">Net::SSH::Test::Channel#gets_data</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000290_source')" id="l_M000290_source">show</a>
                        
                    </p>
                    <div id="M000290_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 110</span>
110:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gets_channel_data</span>(<span class="ruby-identifier">channel</span>, <span class="ruby-identifier">data</span>)
111:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RemotePacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_data</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">local_id</span>, <span class="ruby-identifier">data</span>)
112:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000295">
                    
                    <a name="M000295"></a><b>gets_channel_eof</b>(channel)
                    
                </div>
                
                <div class="description">
                  <p>
Scripts the reception of a channel EOF packet from the remote host by the
given <a href="Channel.html">Net::SSH::Test::Channel</a> <tt>channel</tt>.
This will typically be called via <a
href="Channel.html#M000253">Net::SSH::Test::Channel#gets_eof</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000295_source')" id="l_M000295_source">show</a>
                        
                    </p>
                    <div id="M000295_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 124</span>
124:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gets_channel_eof</span>(<span class="ruby-identifier">channel</span>)
125:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RemotePacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_eof</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">local_id</span>)
126:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000291">
                    
                    <a name="M000291"></a><b>gets_channel_request</b>(channel, request, reply, data)
                    
                </div>
                
                <div class="description">
                  <p>
Scripts the reception of a channel request packet from the remote host by
the given <a href="Channel.html">Net::SSH::Test::Channel</a>
<tt>channel</tt>. This will typically be called via <a
href="Channel.html#M000252">Net::SSH::Test::Channel#gets_exit_status</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000291_source')" id="l_M000291_source">show</a>
                        
                    </p>
                    <div id="M000291_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 117</span>
117:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gets_channel_request</span>(<span class="ruby-identifier">channel</span>, <span class="ruby-identifier">request</span>, <span class="ruby-identifier">reply</span>, <span class="ruby-identifier">data</span>)
118:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RemotePacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_request</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">local_id</span>, <span class="ruby-identifier">request</span>, <span class="ruby-identifier">reply</span>, <span class="ruby-identifier">data</span>)
119:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000297">
                    
                    <a name="M000297"></a><b>next</b>(mode=:shift)
                    
                </div>
                
                <div class="description">
                  <p>
By default, removes the next event in the list and returns it. However,
this can also be used to non-destructively peek at the next event in the
list, by passing :first as the argument.
</p>
<pre>
  # remove the next event and return it
  event = script.next

  # peek at the next event
  event = script.next(:first)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000297_source')" id="l_M000297_source">show</a>
                        
                    </p>
                    <div id="M000297_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 144</span>
144:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">next</span>(<span class="ruby-identifier">mode</span>=<span class="ruby-identifier">:shift</span>)
145:       <span class="ruby-identifier">events</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">mode</span>)
146:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000282">
                    
                    <a name="M000282"></a><b>opens_channel</b>(confirm=true)
                    
                </div>
                
                <div class="description">
                  <p>
Scripts the opening of a channel by adding a local packet sending the
channel open request, and if <tt>confirm</tt> is true (the default), also
adding a remote packet confirming the new channel.
</p>
<p>
A new <a href="Channel.html">Net::SSH::Test::Channel</a> instance is
returned, which can be used to script additional channel operations.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000282_source')" id="l_M000282_source">show</a>
                        
                    </p>
                    <div id="M000282_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 35</span>
35:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">opens_channel</span>(<span class="ruby-identifier">confirm</span>=<span class="ruby-keyword kw">true</span>)
36:       <span class="ruby-identifier">channel</span> = <span class="ruby-constant">Channel</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
37:       <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">remote_id</span> = <span class="ruby-value">5555</span>
38: 
39:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">LocalPacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_open</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">local_id</span> = <span class="ruby-identifier">p</span>[<span class="ruby-identifier">:remote_id</span>] }
40: 
41:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">confirm</span>
42:         <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RemotePacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_open_confirmation</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">local_id</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">remote_id</span>, <span class="ruby-value">0x20000</span>, <span class="ruby-value">0x10000</span>)
43:       <span class="ruby-keyword kw">end</span>
44: 
45:       <span class="ruby-identifier">channel</span>
46:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000300">
                    
                    <a name="M000300"></a><b>process</b>(packet)
                    
                </div>
                
                <div class="description">
                  <p>
Compare the given packet against the next event in the list. If there is no
next event, an exception will be raised. This is called by <a
href="Extensions/PacketStream.html#M000261">Net::SSH::Test::Extensions::PacketStream#test_enqueue_packet</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000300_source')" id="l_M000300_source">show</a>
                        
                    </p>
                    <div id="M000300_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 151</span>
151:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">process</span>(<span class="ruby-identifier">packet</span>)
152:       <span class="ruby-identifier">event</span> = <span class="ruby-identifier">events</span>.<span class="ruby-identifier">shift</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;end of script reached, but got a packet type #{packet.read_byte}&quot;</span>
153:       <span class="ruby-identifier">event</span>.<span class="ruby-identifier">process</span>(<span class="ruby-identifier">packet</span>)
154:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000283">
                    
                    <a name="M000283"></a><b>sends</b>(type, *args, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
A convenience method for adding an arbitrary local packet to the events
list.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000283_source')" id="l_M000283_source">show</a>
                        
                    </p>
                    <div id="M000283_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 50</span>
50:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sends</span>(<span class="ruby-identifier">type</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
51:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">LocalPacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">type</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
52:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000289">
                    
                    <a name="M000289"></a><b>sends_channel_close</b>(channel)
                    
                </div>
                
                <div class="description">
                  <p>
Scripts the sending of a channel close packet from the given <a
href="Channel.html">Net::SSH::Test::Channel</a> <tt>channel</tt>. This will
typically be called via <a
href="Channel.html#M000249">Net::SSH::Test::Channel#sends_close</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000289_source')" id="l_M000289_source">show</a>
                        
                    </p>
                    <div id="M000289_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 103</span>
103:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sends_channel_close</span>(<span class="ruby-identifier">channel</span>)
104:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">LocalPacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_close</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">remote_id</span>)
105:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000287">
                    
                    <a name="M000287"></a><b>sends_channel_data</b>(channel, data)
                    
                </div>
                
                <div class="description">
                  <p>
Scripts the sending of a channel data packet. <tt>channel</tt> must be a <a
href="Channel.html">Net::SSH::Test::Channel</a> object, and <tt>data</tt>
is the (string) data to expect will be sent.
</p>
<p>
This will typically be called via <a
href="Channel.html#M000247">Net::SSH::Test::Channel#sends_data</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000287_source')" id="l_M000287_source">show</a>
                        
                    </p>
                    <div id="M000287_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 89</span>
89:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sends_channel_data</span>(<span class="ruby-identifier">channel</span>, <span class="ruby-identifier">data</span>)
90:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">LocalPacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_data</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">remote_id</span>, <span class="ruby-identifier">data</span>)
91:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000288">
                    
                    <a name="M000288"></a><b>sends_channel_eof</b>(channel)
                    
                </div>
                
                <div class="description">
                  <p>
Scripts the sending of a channel EOF packet from the given <a
href="Channel.html">Net::SSH::Test::Channel</a> <tt>channel</tt>. This will
typically be called via <a
href="Channel.html#M000248">Net::SSH::Test::Channel#sends_eof</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000288_source')" id="l_M000288_source">show</a>
                        
                    </p>
                    <div id="M000288_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 96</span>
96:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sends_channel_eof</span>(<span class="ruby-identifier">channel</span>)
97:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">LocalPacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_eof</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">remote_id</span>)
98:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000285">
                    
                    <a name="M000285"></a><b>sends_channel_request</b>(channel, request, reply, data, success=true)
                    
                </div>
                
                <div class="description">
                  <p>
Scripts the sending of a new channel request packet to the remote host.
<tt>channel</tt> should be an instance of <a
href="Channel.html">Net::SSH::Test::Channel</a>. <tt>request</tt> is a
string naming the request type to send, <tt>reply</tt> is a boolean
indicating whether a response to this packet is required , and
<tt>data</tt> is any additional request-specific data that this packet
should send. <tt>success</tt> indicates whether the response (if one is
required) should be success or failure.
</p>
<p>
If a reply is desired, a remote packet will also be queued,
:channel_success if <tt>success</tt> is true, or :channel_failure if
<tt>success</tt> is false.
</p>
<p>
This will typically be called via <a
href="Channel.html#M000243">Net::SSH::Test::Channel#sends_exec</a> or <a
href="Channel.html#M000246">Net::SSH::Test::Channel#sends_subsystem</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000285_source')" id="l_M000285_source">show</a>
                        
                    </p>
                    <div id="M000285_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/net/ssh/test/script.rb, line 73</span>
73:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sends_channel_request</span>(<span class="ruby-identifier">channel</span>, <span class="ruby-identifier">request</span>, <span class="ruby-identifier">reply</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">success</span>=<span class="ruby-keyword kw">true</span>)
74:       <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">LocalPacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_request</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">remote_id</span>, <span class="ruby-identifier">request</span>, <span class="ruby-identifier">reply</span>, <span class="ruby-identifier">data</span>)
75:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">reply</span>
76:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">success</span>
77:           <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RemotePacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_success</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">local_id</span>)
78:         <span class="ruby-keyword kw">else</span>
79:           <span class="ruby-identifier">events</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">RemotePacket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:channel_failure</span>, <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">local_id</span>)
80:         <span class="ruby-keyword kw">end</span>
81:       <span class="ruby-keyword kw">end</span>
82:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    