<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Enumerable</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            Enumerable 
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/lib/core/facets/enumerable/accumulate_rb.html">lib/core/facets/enumerable/accumulate.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/cluster_by_rb.html">lib/core/facets/enumerable/cluster_by.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/compact_map_rb.html">lib/core/facets/enumerable/compact_map.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/count_rb.html">lib/core/facets/enumerable/count.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/defer_rb.html">lib/core/facets/enumerable/defer.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/each_by_rb.html">lib/core/facets/enumerable/each_by.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/each_with_object_rb.html">lib/core/facets/enumerable/each_with_object.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/every_rb.html">lib/core/facets/enumerable/every.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/ewise_rb.html">lib/core/facets/enumerable/ewise.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/exclude_rb.html">lib/core/facets/enumerable/exclude.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/expand_rb.html">lib/core/facets/enumerable/expand.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/filter_rb.html">lib/core/facets/enumerable/filter.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/find_yield_rb.html">lib/core/facets/enumerable/find_yield.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/frequency_rb.html">lib/core/facets/enumerable/frequency.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/graph_rb.html">lib/core/facets/enumerable/graph.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/group_by_rb.html">lib/core/facets/enumerable/group_by.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/hashify_rb.html">lib/core/facets/enumerable/hashify.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/incase_rb.html">lib/core/facets/enumerable/incase.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/map_by_rb.html">lib/core/facets/enumerable/map_by.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/map_send_rb.html">lib/core/facets/enumerable/map_send.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/map_with_rb.html">lib/core/facets/enumerable/map_with.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/map_with_index_rb.html">lib/core/facets/enumerable/map_with_index.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/none_rb.html">lib/core/facets/enumerable/none.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/modulate_rb.html">lib/core/facets/enumerable/modulate.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/occur_rb.html">lib/core/facets/enumerable/occur.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/one_rb.html">lib/core/facets/enumerable/one.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/purge_rb.html">lib/core/facets/enumerable/purge.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/per_rb.html">lib/core/facets/enumerable/per.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/recursively_rb.html">lib/core/facets/enumerable/recursively.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/sum_rb.html">lib/core/facets/enumerable/sum.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/take_rb.html">lib/core/facets/enumerable/take.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/uniq_by_rb.html">lib/core/facets/enumerable/uniq_by.rb</a></li>
            
            <li><a href="../files/lib/core/facets/enumerable/visit_rb.html">lib/core/facets/enumerable/visit.rb</a></li>
            
            <li><a href="../files/lib/core/facets/to_hash_rb.html">lib/core/facets/to_hash.rb</a></li>
            
            <li><a href="../files/lib/standard/facets/enumargs_rb.html">lib/standard/facets/enumargs.rb</a></li>
            
            <li><a href="../files/lib/standard/facets/thread_rb.html">lib/standard/facets/thread.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <hr size="1"></hr><p>
This is a simple reimplementation of the core <a
href="Enumerable.html">Enumerable</a> module to allow the methods to take
and pass-on arbitrary arguments to the underlying each call. This library
uses <a href="Enumerator.html">Enumerator</a> and scans <a
href="Enumerable.html">Enumerable</a> so it can alwasy stay in sync.
</p>
<p>
NOTE Any <a href="Enumerable.html">Enumerable</a> method with a negative
arity cannot do pass arguments due to ambiguity in the argument count. So
the methods inject and zip do NOT work this way, but simply work as they do
in <a href="Enumerable.html">Enumerable</a>. The method find (and detect)
though has been made to work by removing its rarely used optional parameter
and providing instead an optional keyword parameter (:ifnone => &#8230;).
Please keep these difference in mind.
</p>
<pre>
  require 'enumargs'

  class T
    include Enumerable::Arguments
    def initialize(arr)
      @arr = arr
    end
    def each(n)
      arr.each{ |e| yield(e+n) }
    end
  end

  t = T.new([1,2,3])
  t.collect(4)
  #=&gt; [5,6,7]
</pre>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000102">accumulate</a>,</li>
                
                <li><a href="#M000103">accumulate_all</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000104">cluster_by</a>,</li>
                
                <li><a href="#M000131">collect_with_index</a>,</li>
                
                <li><a href="#M000106">compact_collect</a>,</li>
                
                <li><a href="#M000105">compact_map</a>,</li>
                
                <li><a href="#M000107">count</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000108">defer</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000109">each_by</a>,</li>
                
                <li><a href="#M000112">each_with_object</a>,</li>
                
                <li><a href="#M000115">elementwise</a>,</li>
                
                <li><a href="#M000110">every</a>,</li>
                
                <li><a href="#M000111">every!</a>,</li>
                
                <li><a href="#M000113">ewise</a>,</li>
                
                <li><a href="#M000114">exclude?</a>,</li>
                
                <li><a href="#M000116">expand</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000117">filter</a>,</li>
                
                <li><a href="#M000118">find_yield</a>,</li>
                
                <li><a href="#M000120">frequency</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M000121">graph</a>,</li>
                
                <li><a href="#M000123">group_by</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M000124">hashify</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000125">incase?</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000126">map_by</a>,</li>
                
                <li><a href="#M000119">map_detect</a>,</li>
                
                <li><a href="#M000129">map_send</a>,</li>
                
                <li><a href="#M000127">map_with</a>,</li>
                
                <li><a href="#M000130">map_with_index</a>,</li>
                
                <li><a href="#M000122">mash</a>,</li>
                
                <li><a href="#M000133">modulate</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000132">none?</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M000134">occur</a>,</li>
                
                <li><a href="#M000135">one?</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000137">per</a>,</li>
                
                <li><a href="#M000136">purge</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000138">recursively</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000139">sum</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000142">take</a>,</li>
                
                <li><a href="#M001112">threaded_map</a>,</li>
                
                <li><a href="#M001117">threaded_map_send</a>,</li>
                
                <li><a href="#M000696">to_h</a>,</li>
                
                <li><a href="#M000700">to_h_assoc</a>,</li>
                
                <li><a href="#M000697">to_h_auto</a>,</li>
                
                <li><a href="#M000699">to_h_flat</a>,</li>
                
                <li><a href="#M000701">to_h_multi</a>,</li>
                
                <li><a href="#M000698">to_h_splat</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M000143">uniq_by</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M000144">visit</a></li>
                
            </ul>
        </dd>
    
        <dt>Z</dt>
        <dd>
            <ul>
                
                <li><a href="#M000128">zip_map</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">MODULE</span> <a href="Enumerable/Arguments.html">Enumerable::Arguments</a></li>
        
        <li><span class="type">CLASS</span> <a href="Enumerable/Permeator.html">Enumerable::Permeator</a></li>
        
        <li><span class="type">CLASS</span> <a href="Enumerable/Recursor.html">Enumerable::Recursor</a></li>
        
    </ul>
    

    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000102">
                    
                    <a name="M000102"></a><b>accumulate</b>(iterations=1)
                    
                </div>
                
                <div class="description">
                  <p>
Accumulate a set of a set. For example, in an ORM design where `Group
has_many User` we might have something equivalent to the following.
</p>
<pre>
  Group = Struct.new(:users)
  User  = Struct.new(:name, :friends)

  user1 = User.new('John', [])
  user2 = User.new('Jane', ['Jill'])
  user3 = User.new('Joe' , ['Jack', 'Jim'])

  group1 = Group.new([user1, user2])
  group2 = Group.new([user2, user3])

  groups = [group1, group2]
</pre>
<p>
Now we can <b>accumulate</b> the users of all groups.
</p>
<pre>
  groups.accumulate.users  #=&gt; [user1, user2, user3]
</pre>
<p>
You may pass an argument to perform chains, e.g. the following returns the
names of users from all groups.
</p>
<pre>
  groups.accumulate(2).users.name  #=&gt; ['John','Jane','Joe']
</pre>
<p>
Or we can gather all the friends of all users in groups.
</p>
<pre>
  groups.accumulate(2).users.friends  #=&gt; ['Jill','Jack','Jim']
</pre>
<p>
This is more convenient then the equivalent.
</p>
<pre>
  groups.accumulate.users.accumulate.friends  #=&gt; ['Jill','Jack','Jim']
</pre>
<p>
CREDIT: George Moshchovitis, Daniel Emirikol
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000102_source')" id="l_M000102_source">show</a>
                        
                    </p>
                    <div id="M000102_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/accumulate.rb, line 40</span>
40:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">accumulate</span>(<span class="ruby-identifier">iterations</span>=<span class="ruby-value">1</span>)
41:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">iterations</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
42:     <span class="ruby-constant">Functor</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">op</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span><span class="ruby-operator">|</span>
43:       <span class="ruby-comment cmt">#result = inject([]) { |a, x| a &lt;&lt; x.send(op, *args) }.flatten.uniq</span>
44:       <span class="ruby-identifier">result</span> = []
45:       <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">op</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>) }
46:       <span class="ruby-identifier">result</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">accumulate</span>(<span class="ruby-identifier">iterations</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>)
47:     <span class="ruby-keyword kw">end</span>
48:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000103">
                    
                    <a name="M000103"></a><b>accumulate_all</b>(iterations=1)
                    
                </div>
                
                <div class="description">
                  <p>
Same as <a href="Enumerable.html#M000102">accumulate</a>, but does not
apply uniq to final result.
</p>
<pre>
  groups.accumulate_all(2).users.friends  #=&gt; ['Jill', 'Jill','Jack','Jim']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000103_source')" id="l_M000103_source">show</a>
                        
                    </p>
                    <div id="M000103_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/accumulate.rb, line 54</span>
54:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">accumulate_all</span>(<span class="ruby-identifier">iterations</span>=<span class="ruby-value">1</span>)
55:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">iterations</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
56:     <span class="ruby-constant">Functor</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">op</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span><span class="ruby-operator">|</span>
57:       <span class="ruby-comment cmt">#result = inject([]) { |a, x| a &lt;&lt; x.send(op, *args) }.flatten</span>
58:       <span class="ruby-identifier">result</span> = []
59:       <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">op</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>) }
60:       <span class="ruby-identifier">result</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">accumulate_all</span>(<span class="ruby-identifier">iterations</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>)
61:     <span class="ruby-keyword kw">end</span>
62:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000104">
                    
                    <a name="M000104"></a><b>cluster_by</b>(&amp;b)
                    
                </div>
                
                <div class="description">
                  <p>
Similar to <a href="Enumerable.html#M000123">group_by</a> but returns an
array of the groups. Returned elements are sorted by block.
</p>
<pre>
   %w{this is a test}.cluster_by {|x| x[0]}
   #=&gt; [ ['a'], ['is'], ['this', 'test'] ]
</pre>
<p>
CREDIT: Erik Veenstra
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000104_source')" id="l_M000104_source">show</a>
                        
                    </p>
                    <div id="M000104_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/cluster_by.rb, line 13</span>
13:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cluster_by</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>)
14:     <span class="ruby-identifier">group_by</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>).<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">transpose</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">||</span> []   <span class="ruby-comment cmt"># group_by(&amp;b).values ?</span>
15:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000131">
                    
                    <a name="M000131"></a><b>collect_with_index</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Enumerable.html#M000130">map_with_index</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000106">
                    
                    <a name="M000106"></a><b>compact_collect</b>(&amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Enumerable.html#M000105">compact_map</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000105">
                    
                    <a name="M000105"></a><b>compact_map</b>(&amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
A more versitle compact method. It can be used to collect and filter items
out in one single step.
</p>
<pre>
  c = [1,2,3].compact_map do |n|
    n &lt; 2 ? nil : n
  end

  c  #=&gt; [2,3]
</pre>
<p>
CREDIT: Trans
</p>
<p>
DEPRECATE: This method should probably be removed b/c <a
href="Enumerable.html#M000136">purge</a> does almost the same thing and
enum.map{}.compact works too.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Enumerable.html#M000106">compact_collect</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000105_source')" id="l_M000105_source">show</a>
                        
                    </p>
                    <div id="M000105_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/compact_map.rb, line 17</span>
17:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">compact_map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
18:     <span class="ruby-identifier">y</span> = []
19:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
20:       <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
21:         <span class="ruby-identifier">r</span> = <span class="ruby-keyword kw">yield</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">a</span>)
22:         <span class="ruby-identifier">y</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">r</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">nil?</span>
23:       <span class="ruby-keyword kw">end</span>
24:     <span class="ruby-keyword kw">else</span>
25:       <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>
26:         <span class="ruby-identifier">y</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">r</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">nil?</span>
27:       <span class="ruby-keyword kw">end</span>
28:     <span class="ruby-keyword kw">end</span>
29:     <span class="ruby-identifier">y</span>
30:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000107">
                    
                    <a name="M000107"></a><b>count</b>(*items, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Count the number of items in an enumerable equal (==) to the given
object(s).
</p>
<pre>
  e = [ 'a', 1, 'a' ]

  e.count(1)       #=&gt; 1
  e.count('a')     #=&gt; 2
</pre>
<p>
The method can count more than one item by supplying additional arguments.
</p>
<pre>
  e.count('a', 1)  #=&gt; 3
</pre>
<p>
A block may also be used to select countable entries.
</p>
<pre>
  e.count{ |x| String === x }  #=&gt; 2
</pre>
<p>
Note that Hash#count only considers values.
</p>
<pre>
  e = { 'a' =&gt; 2, 'x' =&gt; 2, 'b' =&gt; 1 }

  e.count(1)  #=&gt; 1
  e.count(2)  #=&gt; 2
</pre>
<p>
NOTE: This is one of the few method overrides in <a
href="Facets.html">Facets</a>.
</p>
<p>
CREDIT: Trans
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000107_source')" id="l_M000107_source">show</a>
                        
                    </p>
                    <div id="M000107_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/count.rb, line 33</span>
33:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">count</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">items</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
34:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span> <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">items</span>.<span class="ruby-identifier">empty?</span>
35:       <span class="ruby-identifier">r</span> = <span class="ruby-keyword kw">self</span>
36:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">select</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
37:       <span class="ruby-identifier">r</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">select</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">items</span>.<span class="ruby-identifier">any?</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">x</span> } } <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">items</span>.<span class="ruby-identifier">empty?</span>
38:       <span class="ruby-identifier">r</span>.<span class="ruby-identifier">size</span>
39:     <span class="ruby-keyword kw">else</span>
40:       <span class="ruby-keyword kw">begin</span>
41:         <span class="ruby-identifier">size</span>
42:       <span class="ruby-keyword kw">rescue</span>
43:         <span class="ruby-identifier">i</span>=<span class="ruby-value">0</span>; <span class="ruby-identifier">each</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span> }; <span class="ruby-identifier">i</span>
44:       <span class="ruby-keyword kw">end</span>
45:     <span class="ruby-keyword kw">end</span>
46:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000108">
                    
                    <a name="M000108"></a><b>defer</b>(&amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Without a block: wrap the <a href="Enumerable.html">Enumerable</a> object
in such a way that map, select and similar operations are performed
&#8220;horizontally&#8221; across a series of blocks, instead of building
an array of results at each step. This reduces memory usage, allows partial
results to be provided early, and permits working with infinite series.
</p>
<pre>
  a = (1..1_000_000_000).defer.select{ |i| i % 2 == 0 }.
                               map{ |i| i + 100 }.
                               take(10).to_a
</pre>
<p>
With a block: the block acts as an arbitrary filter on the data. Unlike
map, it can choose to drop elements from the result, and/or add additional
ones. The first object passed to the block is the receiver of the output.
</p>
<pre>
  (1..1_000_000_000).
    defer { |out,i| out &lt;&lt; i if i % 2 == 0 }.  # like select
    defer { |out,i| out &lt;&lt; i + 100 }.          # like map
    take(10).to_a
</pre>
<p>
Use a method like to_a or <a href="Enumerable.html#M000696">to_h</a> at the
end of the chain when you want an <a href="Array.html">Array</a> or Hash
built with the results, or each{&#8230;} if you just want to output each
result and discard it.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000108_source')" id="l_M000108_source">show</a>
                        
                    </p>
                    <div id="M000108_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/defer.rb, line 29</span>
29:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">defer</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
30:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
31:       <span class="ruby-constant">Denumerator</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">output</span><span class="ruby-operator">|</span>
32:         <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">input</span><span class="ruby-operator">|</span>
33:           <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">output</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">input</span>)
34:         <span class="ruby-keyword kw">end</span>
35:       <span class="ruby-keyword kw">end</span>
36:     <span class="ruby-keyword kw">else</span>
37:       <span class="ruby-constant">Denumerator</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">output</span><span class="ruby-operator">|</span>
38:         <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">input</span><span class="ruby-operator">|</span>
39:           <span class="ruby-identifier">output</span>.<span class="ruby-identifier">yield</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">input</span>)
40:         <span class="ruby-keyword kw">end</span>
41:       <span class="ruby-keyword kw">end</span>
42:     <span class="ruby-keyword kw">end</span>
43:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000109">
                    
                    <a name="M000109"></a><b>each_by</b>(steps=nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Iterate through slices. If slice <tt>steps</tt> is not given, the arity of
the block is used.
</p>
<pre>
  x = []
  [1,2,3,4].each_by{ |a,b| x &lt;&lt; [a,b] }
  x  #=&gt; [ [1,2], [3,4] ]

  x = []
  [1,2,3,4,5,6].each_by(3){ |a| x &lt;&lt; a }
  x  #=&gt; [ [1,2,3], [4,5,6] ]
</pre>
<p>
This is just like each_slice, except that it will check the arity of the
block. If each_slice ever suppots this this method can be deprecated.
</p>
<p>
CREDIT: Trans
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000109_source')" id="l_M000109_source">show</a>
                        
                    </p>
                    <div id="M000109_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/each_by.rb, line 22</span>
22:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_by</span>(<span class="ruby-identifier">steps</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
23:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">steps</span>
24:       <span class="ruby-identifier">each_slice</span>(<span class="ruby-identifier">steps</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
25:     <span class="ruby-keyword kw">else</span>
26:       <span class="ruby-identifier">steps</span> = <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span>.<span class="ruby-identifier">abs</span>
27:       <span class="ruby-identifier">each_slice</span>(<span class="ruby-identifier">steps</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
28:       <span class="ruby-comment cmt">#each_slice(steps) {|i| block.call(*i)}</span>
29:     <span class="ruby-keyword kw">end</span>
30:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000112">
                    
                    <a name="M000112"></a><b>each_with_object</b>(memo)
                    
                </div>
                
                <div class="description">
                  <p>
A variation of inject that saves one from having to return the
aggregate/memo argument.
</p>
<p>
Say we want to count characters in a string. Using the <a
href="Enumerable.html#M000112">each_with_object</a> method we have:
</p>
<pre>
   &quot;string&quot;.each_with_object(Hash.new(0)) do |c, h|
     h[c] += 1
   end
</pre>
<p>
versus using inject which would be:
</p>
<pre>
   &quot;string&quot;.inject(Hash.new(0)) do |h, c|
     h[c] +=1
     h
   end
</pre>
<p>
Notice that the order of the block parameters is reversed.
</p>
<p>
This method used be called injecting and had the same parameter order as
inject, but Ruby 1.9 has adopted this method, so we support it instead.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000112_source')" id="l_M000112_source">show</a>
                        
                    </p>
                    <div id="M000112_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/each_with_object.rb, line 28</span>
28:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_with_object</span>(<span class="ruby-identifier">memo</span>) <span class="ruby-comment cmt">#:yield:</span>
29:       <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">element</span><span class="ruby-operator">|</span>
30:         <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">element</span>, <span class="ruby-identifier">memo</span>)
31:       <span class="ruby-keyword kw">end</span>
32:       <span class="ruby-identifier">memo</span>
33:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000115">
                    
                    <a name="M000115"></a><b>elementwise</b>(count=1)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Enumerable.html#M000113">ewise</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000110">
                    
                    <a name="M000110"></a><b>every</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns an elemental object. This allows you to map a method on to every
element.
</p>
<pre>
  r = [1,2,3].every + 3
  r  #=&gt; [4,5,6]
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000110_source')" id="l_M000110_source">show</a>
                        
                    </p>
                    <div id="M000110_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/every.rb, line 11</span>
11:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">every</span>
12:     <span class="ruby-identifier">per</span>(<span class="ruby-identifier">:map</span>)
13:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000111">
                    
                    <a name="M000111"></a><b>every!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
In place version of <a href="Enumerable.html#M000110">every</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000111_source')" id="l_M000111_source">show</a>
                        
                    </p>
                    <div id="M000111_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/every.rb, line 17</span>
17:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">every!</span>
18:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">NoMethodError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:map!</span>)
19:     <span class="ruby-identifier">per</span>(<span class="ruby-identifier">:map!</span>)
20:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000113">
                    
                    <a name="M000113"></a><b>ewise</b>(count=1)
                    
                </div>
                
                <div class="description">
                  <p>
Returns an elementwise <a href="Functor.html">Functor</a> designed to make
R-like elementwise operations possible. This is very much like the <a
href="Enumerable.html#M000110">every</a> method, but it treats array
argument specially.
</p>
<pre>
  ([1,2].ewise + 3)          #=&gt; [4,5]
</pre>
<p>
Vector to vector
</p>
<pre>
  ([1,2].ewise + [4,5])      #=&gt; [5,7]
</pre>
<p>
Special thanks to Martin DeMello for helping to develop this.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Enumerable.html#M000115">elementwise</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000113_source')" id="l_M000113_source">show</a>
                        
                    </p>
                    <div id="M000113_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/ewise.rb, line 17</span>
17:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ewise</span>(<span class="ruby-identifier">count</span>=<span class="ruby-value">1</span>)
18:     <span class="ruby-constant">Functor</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">op</span>,<span class="ruby-operator">*</span><span class="ruby-identifier">args</span><span class="ruby-operator">|</span>
19:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>
20:         <span class="ruby-identifier">r</span> = <span class="ruby-keyword kw">self</span>
21:         <span class="ruby-identifier">count</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span>
22:           <span class="ruby-identifier">r</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">collect</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">op</span>) }
23:         <span class="ruby-keyword kw">end</span>
24:         <span class="ruby-identifier">r</span>
25:       <span class="ruby-keyword kw">else</span>
26:         <span class="ruby-identifier">r</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">arg</span><span class="ruby-operator">|</span>
27:           <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">arg</span> <span class="ruby-comment cmt">#arg.kind_of?(Enumerable)</span>
28:             <span class="ruby-identifier">x</span> = <span class="ruby-keyword kw">self</span>
29:             <span class="ruby-identifier">count</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span>
30:               <span class="ruby-identifier">ln</span> = (<span class="ruby-identifier">arg</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">length</span> <span class="ruby-value">? </span><span class="ruby-identifier">length</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">length</span> )
31:               <span class="ruby-identifier">x</span> = <span class="ruby-identifier">x</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">ln</span>)
32:               <span class="ruby-identifier">x</span> = <span class="ruby-identifier">x</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">arg</span>[<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">ln</span>])
33:               <span class="ruby-identifier">x</span> = <span class="ruby-identifier">x</span>.<span class="ruby-identifier">collect</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">op</span>,<span class="ruby-identifier">b</span>) }  <span class="ruby-comment cmt">#x = x.collect{ |a,b| b ? a.send(op,b) : nil }</span>
34:             <span class="ruby-keyword kw">end</span>
35:             <span class="ruby-identifier">x</span>
36:           <span class="ruby-keyword kw">else</span>
37:             <span class="ruby-identifier">x</span> = <span class="ruby-keyword kw">self</span>
38:             <span class="ruby-identifier">count</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span>
39:               <span class="ruby-identifier">x</span> = <span class="ruby-identifier">x</span>.<span class="ruby-identifier">collect</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">op</span>,<span class="ruby-identifier">arg</span>) }
40:             <span class="ruby-keyword kw">end</span>
41:             <span class="ruby-identifier">x</span>
42:           <span class="ruby-keyword kw">end</span>
43:         <span class="ruby-keyword kw">end</span>
44:         <span class="ruby-identifier">r</span>.<span class="ruby-identifier">flatten!</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
45:         <span class="ruby-identifier">r</span>
46:       <span class="ruby-keyword kw">end</span>
47:     <span class="ruby-keyword kw">end</span>
48:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000114">
                    
                    <a name="M000114"></a><b>exclude?</b>(object)
                    
                </div>
                
                <div class="description">
                  <p>
The inverse of include?.
</p>
<pre>
 [:a, :b].exclude?(:c)  #=&gt; true
 [:a, :b].exclude?(:a)  #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000114_source')" id="l_M000114_source">show</a>
                        
                    </p>
                    <div id="M000114_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/exclude.rb, line 10</span>
10:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">exclude?</span>(<span class="ruby-identifier">object</span>)
11:       <span class="ruby-operator">!</span><span class="ruby-identifier">include?</span>(<span class="ruby-identifier">object</span>)
12:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000116">
                    
                    <a name="M000116"></a><b>expand</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Expand all elements of an <a href="Enumerable.html">Enumerable</a> object.
</p>
<pre>
  [0, 2..3, 5..7].expand  #=&gt; [0,[2, 3],[5,6,7]]
</pre>
<p>
CREDIT: Trans
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000116_source')" id="l_M000116_source">show</a>
                        
                    </p>
                    <div id="M000116_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/expand.rb, line 8</span>
 8:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expand</span>
 9:     <span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
10:      (<span class="ruby-constant">Enumerable</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">x</span> <span class="ruby-value">? </span><span class="ruby-identifier">x</span>.<span class="ruby-identifier">expand</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">x</span>)
11:     <span class="ruby-keyword kw">end</span>
12:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000117">
                    
                    <a name="M000117"></a><b>filter</b>(output=[])
                    
                </div>
                
                <div class="description">
                  <p>
The block acts as an arbitrary filter on the data. Unlike map, it can
choose to drop elements from the result and/or add additional elements. The
first object passed to the block is the receiver of the output.
</p>
<pre>
  x = (1..10000)
  x = x.filter{ |out,i| out &lt;&lt; i if i % 2 == 0 }   # like select
  x = x.filter{ |out,i| out &lt;&lt; i + 100 }           # like map
  x = x.take(3)

  x  #=&gt; [102, 104, 106]
</pre>
<p>
This is very similar to <a
href="Enumerable.html#M000112">each_with_object</a>, but <a
href="Enumerable.html#M000117">filter</a> handles argument better by
reversing their order and using the splat operator. (This was also once
known as injecting.)
</p>
<p>
CREDIT: David Black, Louis J Scoras
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000117_source')" id="l_M000117_source">show</a>
                        
                    </p>
                    <div id="M000117_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/filter.rb, line 21</span>
21:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">filter</span>(<span class="ruby-identifier">output</span>=[]) <span class="ruby-comment cmt">#:yeild:</span>
22:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
23:       <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">input</span><span class="ruby-operator">|</span>
24:         <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">output</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">input</span>)
25:       <span class="ruby-keyword kw">end</span>
26:       <span class="ruby-identifier">output</span>
27:     <span class="ruby-keyword kw">else</span>
28:       <span class="ruby-identifier">to_enum</span>(<span class="ruby-identifier">:filter</span>)
29:     <span class="ruby-keyword kw">end</span>
30:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000118">
                    
                    <a name="M000118"></a><b>find_yield</b>(fallback=nil)
                    
                </div>
                
                <div class="description">
                  <p>
Yield each element to the block and return the result of the block when
that result evaluates as true, terminating early like detect and find.
</p>
<pre>
  obj1 = Object.new
  obj2 = Object.new

  def obj1.foo?; false; end
  def obj2.foo?; true ; end

  def obj1.foo ; &quot;foo1&quot;; end
  def obj2.foo ; &quot;foo2&quot;; end

  [obj1, obj2].find_yield{ |obj| obj.foo if obj.foo? }  #=&gt; &quot;foo2&quot;
</pre>
<p>
Another example.
</p>
<pre>
  [1,2,3,4,5].find_yield{ |i| j = i+1; j if j % 4 == 0 }  #=&gt; 4
</pre>
<p>
If the block is never true, return the object given in the first parameter,
or nil if none specified.
</p>
<pre>
  [1,2,3].find_yield{ |_| false }    #=&gt; nil
  [false].find_yield(1){ |_| false } #=&gt; 1
</pre>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Enumerable.html#M000119">map_detect</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000118_source')" id="l_M000118_source">show</a>
                        
                    </p>
                    <div id="M000118_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/find_yield.rb, line 28</span>
28:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find_yield</span>(<span class="ruby-identifier">fallback</span>=<span class="ruby-keyword kw">nil</span>) <span class="ruby-comment cmt">#:yield:</span>
29:     <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">member</span><span class="ruby-operator">|</span>
30:       <span class="ruby-identifier">result</span> = <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">member</span>)
31:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">result</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">result</span> 
32:     <span class="ruby-keyword kw">end</span>
33:     <span class="ruby-identifier">fallback</span>
34:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000120">
                    
                    <a name="M000120"></a><b>frequency</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Generates a hash mapping each unique symbol in the array to the absolute
frequency it appears.
</p>
<pre>
  [:a,:a,:b,:c,:c,:c].frequency  #=&gt; {:a=&gt;2,:b=&gt;1,:c=&gt;3}
</pre>
<p>
CREDIT: Brian Schröder
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000120_source')" id="l_M000120_source">show</a>
                        
                    </p>
                    <div id="M000120_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/frequency.rb, line 18</span>
18:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">frequency</span>
19:     <span class="ruby-identifier">p</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">0</span>); <span class="ruby-identifier">each</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>[<span class="ruby-identifier">v</span>] <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> }; <span class="ruby-identifier">p</span>
20: 
21:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000121">
                    
                    <a name="M000121"></a><b>graph</b>(&amp;yld)
                    
                </div>
                
                <div class="description">
                  <p>
Like `map`/`collect`, but generates a Hash. The block is expected to return
two values: the key and the value for the new hash.
</p>
<pre>
  numbers  = (1..3)
  squares  = numbers.graph{ |n| [n, n*n] }   # { 1=&gt;1, 2=&gt;4, 3=&gt;9 }
  sq_roots = numbers.graph{ |n| [n*n, n] }   # { 1=&gt;1, 4=&gt;2, 9=&gt;3 }
</pre>
<p>
CREDIT: Andrew Dudzik (adudzik), Trans
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Enumerable.html#M000122">mash</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000121_source')" id="l_M000121_source">show</a>
                        
                    </p>
                    <div id="M000121_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/graph.rb, line 12</span>
12:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">graph</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">yld</span>)
13:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">yld</span>
14:       <span class="ruby-identifier">h</span> = {}
15:       <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">kv</span><span class="ruby-operator">|</span>
16:         <span class="ruby-identifier">r</span> = <span class="ruby-identifier">yld</span>[<span class="ruby-operator">*</span><span class="ruby-identifier">kv</span>]
17:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">r</span>
18:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Hash</span>
19:           <span class="ruby-identifier">nk</span>, <span class="ruby-identifier">nv</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">r</span>.<span class="ruby-identifier">to_a</span>[<span class="ruby-value">0</span>]
20:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Range</span>
21:           <span class="ruby-identifier">nk</span>, <span class="ruby-identifier">nv</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">r</span>.<span class="ruby-identifier">last</span>
22:         <span class="ruby-keyword kw">else</span>
23:           <span class="ruby-identifier">nk</span>, <span class="ruby-identifier">nv</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">r</span>
24:         <span class="ruby-keyword kw">end</span>
25:         <span class="ruby-identifier">h</span>[<span class="ruby-identifier">nk</span>] = <span class="ruby-identifier">nv</span>
26:       <span class="ruby-keyword kw">end</span>
27:       <span class="ruby-identifier">h</span>
28:     <span class="ruby-keyword kw">else</span>
29:       <span class="ruby-constant">Enumerator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>,<span class="ruby-identifier">:graph</span>)
30:     <span class="ruby-keyword kw">end</span>
31:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000123">
                    
                    <a name="M000123"></a><b>group_by</b>()
                    
                </div>
                
                <div class="description">
                  <p>
<a href="Enumerable.html#M000123">Enumerable#group_by</a> is used to group
items in a collection by something they have in common. The common factor
is the key in the resulting hash, the array of like elements is the value.
</p>
<pre>
  (1..5).group_by { |n| n % 3 }
  #=&gt; { 0 =&gt; [3], 1 =&gt; [1, 4], 2 =&gt; [2,5] }
</pre>
<p>
Applied to an array.
</p>
<pre>
  [&quot;I had&quot;, 1, &quot;dollar and&quot;, 50, &quot;cents&quot;].group_by { |e| e.class }
  #=&gt; { String =&gt; [&quot;I had&quot;,&quot;dollar and&quot;,&quot;cents&quot;], Fixnum =&gt; [1,50] }
</pre>
<p>
Applied to a hash:
</p>
<pre>
  {:a=&gt;1, :b=&gt;2, :c=&gt;1}.group_by{ |k,v| v }
  #=&gt; { 1=&gt;[[:c,1], [:a,1]], 2=&gt;[[:b,2]] }
</pre>
<p>
CREDIT: Erik Veenstra
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000123_source')" id="l_M000123_source">show</a>
                        
                    </p>
                    <div id="M000123_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/group_by.rb, line 24</span>
24:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">group_by</span> <span class="ruby-comment cmt">#:yield:</span>
25:       <span class="ruby-identifier">r</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
26:       <span class="ruby-identifier">each</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> (<span class="ruby-identifier">r</span>[<span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">e</span>)] <span class="ruby-operator">||=</span> []) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span> }
27:       <span class="ruby-identifier">r</span>
28:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000124">
                    
                    <a name="M000124"></a><b>hashify</b>(val=true)
                    
                </div>
                
                <div class="description">
                  <p>
Create a hash whose keys are the enumerable&#8217;s elements, with
specified values.
</p>
<p>
If no block is given, the given parameter (default true) is used for all
values, e.g.:
</p>
<pre>
    [1,2,3,4].hashify               #=&gt; {1=&gt;true, 2=&gt;true, 3=&gt;true, 4=&gt;true}
    [1,2,3,4].hashify(&quot;a&quot;)          #=&gt; {1=&gt;&quot;a&quot;, 2=&gt;&quot;a&quot;, 3=&gt;&quot;a&quot;, 4=&gt;&quot;a&quot;}
</pre>
<p>
If a block is given, each key&#8217;s value is the result of running the
block for that key, e.g.:
</p>
<pre>
    [1,2,3,4].hashify{|n| &quot;a&quot; * n}  #=&gt; {1=&gt;&quot;a&quot;, 2=&gt;&quot;aa&quot;, 3=&gt;&quot;aaa&quot;, 4=&gt;&quot;aaaa&quot;}
</pre>
<p>
@author Ronen Barzel
</p>
<p>
@uncommon
</p>
<pre>
  require 'facets/enumerable/hashify'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000124_source')" id="l_M000124_source">show</a>
                        
                    </p>
                    <div id="M000124_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/hashify.rb, line 21</span>
21:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hashify</span>(<span class="ruby-identifier">val</span>=<span class="ruby-keyword kw">true</span>)
22:     <span class="ruby-identifier">h</span> = {}
23:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
24:       <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">item</span>] = <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">item</span>) }
25:     <span class="ruby-keyword kw">else</span>
26:       <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">item</span>] = <span class="ruby-identifier">val</span> }
27:     <span class="ruby-keyword kw">end</span>
28:     <span class="ruby-identifier">h</span>
29:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000125">
                    
                    <a name="M000125"></a><b>incase?</b>(what)
                    
                </div>
                
                <div class="description">
                  <p>
The same as include? but tested using #=== instead of #==.
</p>
<pre>
  [1, 2, &quot;a&quot;].incase?(2)       #=&gt; true
  [1, 2, &quot;a&quot;].incase?(String)  #=&gt; true
  [1, 2, &quot;a&quot;].incase?(3)       #=&gt; false
</pre>
<p>
Why the name `incase`? Because the method uses case-equality. Along with
the alliteration for &#8220;in case&#8221; and the similarity with
&#8220;include?&#8221;, it seemed like the perfect fit.
</p>
<p>
@author Lavir the Whiolet
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000125_source')" id="l_M000125_source">show</a>
                        
                    </p>
                    <div id="M000125_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/incase.rb, line 15</span>
15:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">incase?</span>(<span class="ruby-identifier">what</span>)
16:     <span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">what</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">x</span> }
17:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000126">
                    
                    <a name="M000126"></a><b>map_by</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Like <a href="Enumerable.html#M000123">group_by</a>, but maps the second
value returned from the block.
</p>
<pre>
  a = [1,2,3,4,5]
  a.map_by{ |e| [e % 2, e + 1] }
  #=&gt; { 0=&gt;[3,5], 1=&gt;[2,4,6] }
</pre>
<p>
Works well with a hash too.
</p>
<pre>
  h = {&quot;A&quot;=&gt;1, &quot;B&quot;=&gt;1, &quot;C&quot;=&gt;1, &quot;D&quot;=&gt;2, &quot;E&quot;=&gt;2}
  h.map_by{ |k,v| [v, k.downcase] }
  #=&gt; {1=&gt;[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], 2=&gt;[&quot;d&quot;, &quot;e&quot;]}
</pre>
<p>
If a second value is not returned, <a
href="Enumerable.html#M000126">map_by</a> acts like <a
href="Enumerable.html#M000123">group_by</a>.
</p>
<pre>
  h = {&quot;A&quot;=&gt;1, &quot;B&quot;=&gt;1, &quot;C&quot;=&gt;1, &quot;D&quot;=&gt;2, &quot;E&quot;=&gt;2}
  h.map_by{ |k,v| v }
  #=&gt; {1=&gt;[[&quot;A&quot;,1], [&quot;B&quot;,1], [&quot;C&quot;,1]], 2=&gt;[[&quot;D&quot;,2], [&quot;E&quot;,2]]}
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000126_source')" id="l_M000126_source">show</a>
                        
                    </p>
                    <div id="M000126_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/map_by.rb, line 21</span>
21:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">map_by</span> <span class="ruby-comment cmt">#:yield:</span>
22:     <span class="ruby-identifier">res</span> = {}
23:     <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
24:       <span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span> = <span class="ruby-keyword kw">yield</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">a</span>)
25:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span>
26:         (<span class="ruby-identifier">res</span>[<span class="ruby-identifier">k</span>] <span class="ruby-operator">||=</span> []) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">v</span>
27:       <span class="ruby-keyword kw">else</span>
28:         (<span class="ruby-identifier">res</span>[<span class="ruby-identifier">k</span>] <span class="ruby-operator">||=</span> []) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">a</span>
29:       <span class="ruby-keyword kw">end</span>
30:     <span class="ruby-keyword kw">end</span>
31:     <span class="ruby-identifier">res</span>
32:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000119">
                    
                    <a name="M000119"></a><b>map_detect</b>(fallback=nil)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Enumerable.html#M000118">find_yield</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000129">
                    
                    <a name="M000129"></a><b>map_send</b>(meth, *args, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Send a message to each element and collect the result.
</p>
<pre>
  [1,2,3].map_send(:+, 3)  #=&gt; [4,5,6]
</pre>
<p>
CREDIT: Sean O&#8217;Halpin
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000129_source')" id="l_M000129_source">show</a>
                        
                    </p>
                    <div id="M000129_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/map_send.rb, line 9</span>
 9:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">map_send</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
10:     <span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)}
11:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000127">
                    
                    <a name="M000127"></a><b>map_with</b>(*arrays, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Combines zip and map in a single efficient operation.
</p>
<pre>
  h = {}
  [1,2,3].map_with [:x,:y,:z] do |n,k|
    h[k] = n
  end
  h  #=&gt; {:x=&gt;1, :y=&gt;2, :z=&gt;3}
</pre>
<p>
@return [Hash]
</p>
<p>
@author Michael Kohl
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Enumerable.html#M000128">zip_map</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000127_source')" id="l_M000127_source">show</a>
                        
                    </p>
                    <div id="M000127_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/map_with.rb, line 14</span>
14:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">map_with</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">arrays</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
15:     <span class="ruby-identifier">enum_for</span>(<span class="ruby-identifier">:zip</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">arrays</span>).<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
16:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000130">
                    
                    <a name="M000130"></a><b>map_with_index</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Same as collect but with an iteration counter.
</p>
<pre>
  a = [1,2,3].collect_with_index { |e,i| e*i }
  a  #=&gt; [0,2,6]
</pre>
<p>
CREDIT: Gavin Sinclair
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Enumerable.html#M000131">collect_with_index</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000130_source')" id="l_M000130_source">show</a>
                        
                    </p>
                    <div id="M000130_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/map_with_index.rb, line 10</span>
10:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">map_with_index</span>
11:     <span class="ruby-identifier">r</span> = []
12:     <span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
13:       <span class="ruby-identifier">r</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">e</span>, <span class="ruby-identifier">i</span>)
14:     <span class="ruby-keyword kw">end</span>
15:     <span class="ruby-identifier">r</span>
16:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000122">
                    
                    <a name="M000122"></a><b>mash</b>(&amp;yld)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Enumerable.html#M000121">graph</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000133">
                    
                    <a name="M000133"></a><b>modulate</b>(modulo)
                    
                </div>
                
                <div class="description">
                  <p>
Divide an array into groups by modulo of the index.
</p>
<pre>
  [2,4,6,8].modulate(2)  #=&gt; [[2,6],[4,8]]
</pre>
<p>
CREDIT: Trans
</p>
<p>
NOTE: Would the better name for this be &#8216;collate&#8217;?
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000133_source')" id="l_M000133_source">show</a>
                        
                    </p>
                    <div id="M000133_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/modulate.rb, line 11</span>
11:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">modulate</span>(<span class="ruby-identifier">modulo</span>)
12:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">to_a</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">modulo</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
13:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">'bad modulo'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">modulo</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
14:     <span class="ruby-identifier">r</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">modulo</span>, [])
15:     (<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">size</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
16:       <span class="ruby-identifier">r</span>[<span class="ruby-identifier">i</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">modulo</span>] <span class="ruby-operator">+=</span> [<span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">i</span>]]
17:     <span class="ruby-keyword kw">end</span>
18:     <span class="ruby-identifier">r</span>
19:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000132">
                    
                    <a name="M000132"></a><b>none?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
<a href="Enumerable.html#M000132">Enumerable#none?</a> is the logical
opposite of the builtin method Enumerable#any?. It returns <tt>true</tt> if
and only if <em>none</em> of the elements in the collection satisfy the
predicate.
</p>
<p>
If no predicate is provided, <a
href="Enumerable.html#M000132">Enumerable#none?</a> returns <tt>true</tt>
if and only if <em>none</em> of the elements have a true value (i.e. not
<tt>nil</tt> or <tt>false</tt>).
</p>
<pre>
  [].none?                      # =&gt; true
  [nil].none?                   # =&gt; true
  [5,8,9].none?                 # =&gt; false
  (1...10).none? { |n| n &lt; 0 }  # =&gt; true
  (1...10).none? { |n| n &gt; 0 }  # =&gt; false
</pre>
<p>
CREDIT: Gavin Sinclair
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000132_source')" id="l_M000132_source">show</a>
                        
                    </p>
                    <div id="M000132_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/none.rb, line 21</span>
21:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">none?</span>  <span class="ruby-comment cmt"># :yield: e</span>
22:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
23:         <span class="ruby-keyword kw">not</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">e</span> }
24:       <span class="ruby-keyword kw">else</span>
25:         <span class="ruby-keyword kw">not</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">any?</span>
26:       <span class="ruby-keyword kw">end</span>
27:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000134">
                    
                    <a name="M000134"></a><b>occur</b>(n=nil)
                    
                </div>
                
                <div class="description">
                  <p>
Returns an array of elements for the elements that occur n times. Or
according to the results of a given block.
</p>
<pre>
  a = [1,1,2,3,3,4,5,5]

  a.occur(1).sort               #=&gt; [2,4]
  a.occur(2).sort               #=&gt; [1,3,5]
  a.occur(3).sort               #=&gt; []

  a.occur(1..1).sort            #=&gt; [2,4]
  a.occur(2..3).sort            #=&gt; [1,3,5]

  a.occur { |n| n == 1 }.sort   #=&gt; [2,4]
  a.occur { |n| n &gt; 1 }.sort    #=&gt; [1,3,5]
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000134_source')" id="l_M000134_source">show</a>
                        
                    </p>
                    <div id="M000134_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/occur.rb, line 18</span>
18:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">occur</span>(<span class="ruby-identifier">n</span>=<span class="ruby-keyword kw">nil</span>) <span class="ruby-comment cmt">#:yield:</span>
19:     <span class="ruby-identifier">result</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span> }
20:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
21:       <span class="ruby-identifier">key</span> = <span class="ruby-identifier">item</span>
22:       <span class="ruby-identifier">result</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>
23:     <span class="ruby-keyword kw">end</span>
24:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
25:       <span class="ruby-identifier">result</span>.<span class="ruby-identifier">reject!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">values</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">values</span>.<span class="ruby-identifier">size</span>) }
26:     <span class="ruby-keyword kw">else</span>
27:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">n</span>
28:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Range</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">n</span>
29:         <span class="ruby-identifier">result</span>.<span class="ruby-identifier">reject!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">values</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">values</span>.<span class="ruby-identifier">size</span>) }
30:       <span class="ruby-keyword kw">else</span>
31:         <span class="ruby-identifier">result</span>.<span class="ruby-identifier">reject!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">values</span><span class="ruby-operator">|</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">n</span> }
32:       <span class="ruby-keyword kw">end</span>
33:     <span class="ruby-keyword kw">end</span>
34:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>
35:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000135">
                    
                    <a name="M000135"></a><b>one?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
<a href="Enumerable.html#M000135">Enumerable#one?</a> returns <tt>true</tt>
if and only if <em>exactly one</em> element in the collection satisfies the
given predicate.
</p>
<p>
If no predicate is provided, <a
href="Enumerable.html#M000135">Enumerable#one?</a> returns <tt>true</tt> if
and only if <em>exactly one</em> element has a true value (i.e. not
<tt>nil</tt> or <tt>false</tt>).
</p>
<pre>
  [].one?                      # =&gt; false
  [nil].one?                   # =&gt; false
  [5].one?                     # =&gt; true
  [5,8,9].one?                 # =&gt; false
  (1...10).one? { |n| n == 5 } # =&gt; true
  (1...10).one? { |n| n &lt; 5 }  # =&gt; false
</pre>
<p>
CREDIT: Gavin Sinclair
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000135_source')" id="l_M000135_source">show</a>
                        
                    </p>
                    <div id="M000135_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/one.rb, line 21</span>
21:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">one?</span>  <span class="ruby-comment cmt"># :yield: e</span>
22:       <span class="ruby-identifier">matches</span> = <span class="ruby-value">0</span>
23:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
24:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
25:           <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">e</span>)
26:             <span class="ruby-identifier">matches</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
27:             <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">matches</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
28:           <span class="ruby-keyword kw">end</span>
29:         <span class="ruby-keyword kw">end</span>
30:         <span class="ruby-keyword kw">return</span> (<span class="ruby-identifier">matches</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>)
31:       <span class="ruby-keyword kw">else</span>
32:         <span class="ruby-identifier">one?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span> }
33:       <span class="ruby-keyword kw">end</span>
34:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000137">
                    
                    <a name="M000137"></a><b>per</b>(enum_method=nil, *enum_args)
                    
                </div>
                
                <div class="description">
                  <p>
Per element meta-functor.
</p>
<pre>
  ([1,2,3].per(:map) + 3)     #=&gt; [4,5,6]
  ([1,2,3].per(:select) &gt; 1)  #=&gt; [2,3]
</pre>
<p>
Using fluid notation.
</p>
<pre>
  ([1,2,3].per.map + 3)       #=&gt; [4,5,6]
  ([1,2,3].per.select &gt; 1)    #=&gt; [2,3]
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000137_source')" id="l_M000137_source">show</a>
                        
                    </p>
                    <div id="M000137_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/per.rb, line 19</span>
19:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">per</span>(<span class="ruby-identifier">enum_method</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">enum_args</span>)
20:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">enum_method</span>
21:       <span class="ruby-constant">Permeator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">enum_method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">enum_args</span>)
22:     <span class="ruby-keyword kw">else</span>
23:       <span class="ruby-constant">Functor</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">enumr_method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">enumr_args</span><span class="ruby-operator">|</span>
24:         <span class="ruby-constant">Permeator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">enumr_method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">enumr_args</span>)
25:       <span class="ruby-keyword kw">end</span>
26:     <span class="ruby-keyword kw">end</span>
27:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000136">
                    
                    <a name="M000136"></a><b>purge</b>(*trash, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
A versitle compaction method. Like map but used to filter out multiple
items in a single step.
</p>
<p>
Without <tt>trash</tt> arguments <tt>nil</tt> is assumed.
</p>
<pre>
  [1, nil, 2].purge  #=&gt; [1,2]
</pre>
<p>
If <tt>trash</tt> arguments are given, each argument is compared for a
match using #==.
</p>
<pre>
  (1..6).purge(3,4)  #=&gt; [1,2,5,6]
</pre>
<p>
If a block is given, the yield is used in the matching condition instead of
the element itsef.
</p>
<pre>
  (1..6).purge(0){ |n| n % 2 }  #=&gt; [1,3,5]
</pre>
<p>
NOTE: This could just as well be an override of the core compact method,
but to avoid potential issues associated with overriding core methods we
use the alternate name <a href="Enumerable.html#M000136">purge</a>.
</p>
<p>
CREDIT: Trans
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000136_source')" id="l_M000136_source">show</a>
                        
                    </p>
                    <div id="M000136_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/purge.rb, line 27</span>
27:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">purge</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">trash</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
28:     <span class="ruby-identifier">trash</span> = [<span class="ruby-keyword kw">nil</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">trash</span>.<span class="ruby-identifier">empty?</span>
29:     <span class="ruby-identifier">r</span> = []
30:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
31:       <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
32:         <span class="ruby-identifier">y</span> = <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">e</span>)
33:         <span class="ruby-identifier">r</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">trash</span>.<span class="ruby-identifier">any?</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">y</span>}
34:       <span class="ruby-keyword kw">end</span>
35:     <span class="ruby-keyword kw">else</span>
36:       <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
37:         <span class="ruby-identifier">r</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">trash</span>.<span class="ruby-identifier">any?</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">e</span>}
38:       <span class="ruby-keyword kw">end</span>
39:     <span class="ruby-keyword kw">end</span>
40:     <span class="ruby-identifier">r</span>
41:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000138">
                    
                    <a name="M000138"></a><b>recursively</b>(*types, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a recursive functor, that allows enumerable methods to iterate
through enumerable sub-elements. By default it only recurses over elements
of the same type.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000138_source')" id="l_M000138_source">show</a>
                        
                    </p>
                    <div id="M000138_source" class="dyn-source">
                        <pre>   <span class="ruby-comment cmt"># File lib/core/facets/enumerable/recursively.rb, line 7</span>
7:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">recursively</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">types</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
8:     <span class="ruby-constant">Recursor</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">types</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
9:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000139">
                    
                    <a name="M000139"></a><b>sum</b>(identity=0, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Uses #+ to sum the enumerated elements.
</p>
<pre>
  [1,2,3].sum  #=&gt; 6
  [3,3,3].sum  #=&gt; 9
</pre>
<p>
@author Dawid Marcin Grzesiak (bug fix)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000139_source')" id="l_M000139_source">show</a>
                        
                    </p>
                    <div id="M000139_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/sum.rb, line 10</span>
10:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sum</span>(<span class="ruby-identifier">identity</span>=<span class="ruby-value">0</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
11:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
12:       <span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>).<span class="ruby-identifier">sum</span>(<span class="ruby-identifier">identity</span>)
13:     <span class="ruby-keyword kw">else</span>
14:       <span class="ruby-identifier">inject</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>, <span class="ruby-identifier">element</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">element</span> } <span class="ruby-operator">||</span> <span class="ruby-identifier">identity</span>
15:     <span class="ruby-keyword kw">end</span>
16:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000142">
                    
                    <a name="M000142"></a><b>take</b>(n)
                    
                </div>
                
                <div class="description">
                  <p>
Return the first n items from the collection
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000142_source')" id="l_M000142_source">show</a>
                        
                    </p>
                    <div id="M000142_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/take.rb, line 5</span>
 5:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">take</span>(<span class="ruby-identifier">n</span>)
 6:     <span class="ruby-identifier">res</span> = []
 7:     <span class="ruby-identifier">count</span> = <span class="ruby-value">0</span>
 8:     <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
 9:       <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">count</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-identifier">n</span>
10:       <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span>
11:       <span class="ruby-identifier">count</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
12:     <span class="ruby-keyword kw">end</span>
13:     <span class="ruby-identifier">res</span>
14:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001112">
                    
                    <a name="M001112"></a><b>threaded_map</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Like Enumerable#map but each iteration is processed via a separate thread.
</p>
<p>
CREDIT: Sean O&#8217;Halpin
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001112_source')" id="l_M001112_source">show</a>
                        
                    </p>
                    <div id="M001112_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/standard/facets/thread.rb, line 59</span>
59:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">threaded_map</span> <span class="ruby-comment cmt">#:yield:</span>
60:     <span class="ruby-identifier">map</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">e</span>){ <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">t</span>) } }.<span class="ruby-identifier">map</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">value</span> }
61:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001117">
                    
                    <a name="M001117"></a><b>threaded_map_send</b>(meth, *args, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Like <a href="Enumerable.html#M000129">Enumerable#map_send</a> but each
iteration is processed via a separate thread.
</p>
<p>
CREDIT: Sean O&#8217;Halpin
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001117_source')" id="l_M001117_source">show</a>
                        
                    </p>
                    <div id="M001117_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/standard/facets/thread.rb, line 68</span>
68:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">threaded_map_send</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
69:     <span class="ruby-identifier">map</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">e</span>){ <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) } }.<span class="ruby-identifier">map</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">value</span> }
70:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000696">
                    
                    <a name="M000696"></a><b>to_h</b>(mode=nil)
                    
                </div>
                
                <div class="description">
                  <p>
Convert an <a href="Enumerable.html">Enumerable</a> object into a hash by
first turning it into an array.
</p>
<p>
CREDIT: Trans
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000696_source')" id="l_M000696_source">show</a>
                        
                    </p>
                    <div id="M000696_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/core/facets/to_hash.rb, line 227</span>
227:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_h</span>(<span class="ruby-identifier">mode</span>=<span class="ruby-keyword kw">nil</span>)
228:     <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">to_h</span>(<span class="ruby-identifier">mode</span>)
229:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000700">
                    
                    <a name="M000700"></a><b>to_h_assoc</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000700_source')" id="l_M000700_source">show</a>
                        
                    </p>
                    <div id="M000700_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/core/facets/to_hash.rb, line 243</span>
243:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_h_assoc</span>
244:     <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">to_h_assoc</span>
245:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000697">
                    
                    <a name="M000697"></a><b>to_h_auto</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000697_source')" id="l_M000697_source">show</a>
                        
                    </p>
                    <div id="M000697_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/core/facets/to_hash.rb, line 231</span>
231:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_h_auto</span>
232:     <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">to_h_auto</span>
233:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000699">
                    
                    <a name="M000699"></a><b>to_h_flat</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000699_source')" id="l_M000699_source">show</a>
                        
                    </p>
                    <div id="M000699_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/core/facets/to_hash.rb, line 239</span>
239:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_h_flat</span>
240:     <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">to_h_flat</span>
241:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000701">
                    
                    <a name="M000701"></a><b>to_h_multi</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000701_source')" id="l_M000701_source">show</a>
                        
                    </p>
                    <div id="M000701_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/core/facets/to_hash.rb, line 247</span>
247:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_h_multi</span>
248:     <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">to_h_multi</span>
249:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000698">
                    
                    <a name="M000698"></a><b>to_h_splat</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000698_source')" id="l_M000698_source">show</a>
                        
                    </p>
                    <div id="M000698_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/core/facets/to_hash.rb, line 235</span>
235:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_h_splat</span>
236:     <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">to_h_splat</span>
237:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000143">
                    
                    <a name="M000143"></a><b>uniq_by</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Like uniq, but determines uniqueness based on a given block.
</p>
<pre>
  (-5..5).to_a.uniq_by {|i| i*i }
  #=&gt; [-5, -4, -3, -2, -1, 0]
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000143_source')" id="l_M000143_source">show</a>
                        
                    </p>
                    <div id="M000143_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/uniq_by.rb, line 8</span>
 8:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">uniq_by</span> <span class="ruby-comment cmt">#:yield:</span>
 9:     <span class="ruby-identifier">h</span> = {}; <span class="ruby-identifier">inject</span>([]) {<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">x</span>)] <span class="ruby-operator">||=</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">x</span>}
10:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000144">
                    
                    <a name="M000144"></a><b>visit</b>(opts={}, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Recursively iterate over all <a href="Enumerable.html">Enumerable</a>
elements, or subset given :type=>[type1, type2, &#8230;].
</p>
<pre>
  [1, 2, 8..9].visit{ |x| x.succ }
  # =&gt; [2, 3, [9, 10]]
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000144_source')" id="l_M000144_source">show</a>
                        
                    </p>
                    <div id="M000144_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/core/facets/enumerable/visit.rb, line 9</span>
 9:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visit</span>(<span class="ruby-identifier">opts</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
10:     <span class="ruby-identifier">type</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:type</span>] <span class="ruby-operator">?</span> [<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:type</span>]].<span class="ruby-identifier">flatten</span> <span class="ruby-operator">:</span> [<span class="ruby-constant">Enumerable</span>]
11:     <span class="ruby-identifier">skip</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:skip</span>]
12: 
13:     <span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
14:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">v</span>
15:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span> <span class="ruby-comment cmt"># b/c of 1.8</span>
16:         <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">v</span>)
17:       <span class="ruby-keyword kw">when</span> <span class="ruby-operator">*</span><span class="ruby-identifier">type</span>
18:         <span class="ruby-identifier">v</span>.<span class="ruby-identifier">visit</span>(<span class="ruby-identifier">opts</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
19:       <span class="ruby-keyword kw">else</span>
20:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">skip</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">Enumerable</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">v</span>
21:           <span class="ruby-identifier">v</span>
22:         <span class="ruby-keyword kw">else</span>
23:           <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">v</span>)
24:         <span class="ruby-keyword kw">end</span>
25:       <span class="ruby-keyword kw">end</span>
26:     <span class="ruby-keyword kw">end</span>
27:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000128">
                    
                    <a name="M000128"></a><b>zip_map</b>(*arrays, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Enumerable.html#M000127">map_with</a>
</p>

                </div>
                
                
                
            </div>
            
</div>
    </div>
  </body>
</html>    