<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>HighLine</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            HighLine 
            
                <span class="parent">&lt; 
                    
                    <a href="Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/lib/highline/color_scheme_rb.html">lib/highline/color_scheme.rb</a></li>
            
            <li><a href="../files/lib/highline/menu_rb.html">lib/highline/menu.rb</a></li>
            
            <li><a href="../files/lib/highline/question_rb.html">lib/highline/question.rb</a></li>
            
            <li><a href="../files/lib/highline/string_extensions_rb.html">lib/highline/string_extensions.rb</a></li>
            
            <li><a href="../files/lib/highline/style_rb.html">lib/highline/style.rb</a></li>
            
            <li><a href="../files/lib/highline/system_extensions_rb.html">lib/highline/system_extensions.rb</a></li>
            
            <li><a href="../files/lib/highline_rb.html">lib/highline.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
A <a href="HighLine.html">HighLine</a> object is a &#8220;high-level line
oriented&#8221; shell over an input and an output stream. <a
href="HighLine.html">HighLine</a> simplifies common console interaction,
effectively replacing puts() and gets(). User code can simply specify the
question to ask and any details about user interaction, then leave the rest
of the work to <a href="HighLine.html">HighLine</a>. When <a
href="HighLine.html#M000089">HighLine.ask()</a> returns, you&#8217;ll have
the answer you requested, even if <a href="HighLine.html">HighLine</a> had
to ask many times, validate results, perform range checking, convert types,
etc.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000037">String</a>,</li>
                
                <li><a href="#M000048">Style</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000111">actual_length</a>,</li>
                
                <li><a href="#M000088">agree</a>,</li>
                
                <li><a href="#M000089">ask</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000090">choose</a>,</li>
                
                <li><a href="#M000094">color</a>,</li>
                
                <li><a href="#M000091">color</a>,</li>
                
                <li><a href="#M000093">color_code</a>,</li>
                
                <li><a href="#M000092">color_code</a>,</li>
                
                <li><a href="#M000084">color_scheme</a>,</li>
                
                <li><a href="#M000083">color_scheme=</a>,</li>
                
                <li><a href="#M000047">colorize_strings</a>,</li>
                
                <li><a href="#M000086">const_missing</a>,</li>
                
                <li><a href="#M000109">continue_paging?</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000103">explain_error</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M000104">gather</a>,</li>
                
                <li><a href="#M000105">get_line</a>,</li>
                
                <li><a href="#M000107">get_response</a>,</li>
                
                <li><a href="#M000106">get_single_character</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M000097">list</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000087">new</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M000101">output_cols</a>,</li>
                
                <li><a href="#M000102">output_rows</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000100">page_at=</a>,</li>
                
                <li><a href="#M000108">page_print</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000098">say</a>,</li>
                
                <li><a href="#M000080">supports_rgb_color?</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000081">track_eof=</a>,</li>
                
                <li><a href="#M000082">track_eof?</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M000096">uncolor</a>,</li>
                
                <li><a href="#M000095">uncolor</a>,</li>
                
                <li><a href="#M000078">use_color=</a>,</li>
                
                <li><a href="#M000079">use_color?</a>,</li>
                
                <li><a href="#M000085">using_color_scheme?</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M000110">wrap</a>,</li>
                
                <li><a href="#M000099">wrap_at=</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="HighLine/SystemExtensions.html">HighLine::SystemExtensions</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">MODULE</span> <a href="HighLine/StringExtensions.html">HighLine::StringExtensions</a></li>
        
        <li><span class="type">MODULE</span> <a href="HighLine/SystemExtensions.html">HighLine::SystemExtensions</a></li>
        
        <li><span class="type">CLASS</span> <a href="HighLine/ColorScheme.html">HighLine::ColorScheme</a></li>
        
        <li><span class="type">CLASS</span> <a href="HighLine/Menu.html">HighLine::Menu</a></li>
        
        <li><span class="type">CLASS</span> <a href="HighLine/Question.html">HighLine::Question</a></li>
        
        <li><span class="type">CLASS</span> <a href="HighLine/QuestionError.html">HighLine::QuestionError</a></li>
        
        <li><span class="type">CLASS</span> <a href="HighLine/SampleColorScheme.html">HighLine::SampleColorScheme</a></li>
        
        <li><span class="type">CLASS</span> <a href="HighLine/String.html">HighLine::String</a></li>
        
        <li><span class="type">CLASS</span> <a href="HighLine/Style.html">HighLine::Style</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">VERSION</td>
            <td>=</td>
            <td class="attr-value">&quot;1.6.11&quot;.freeze</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
The version of the installed library.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">ERASE_LINE_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:erase_line, :builtin=&gt;true, :code=&gt;&quot;\e[K&quot;)</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Embed in a <a href="HighLine.html#M000037">String</a> to clear all previous
ANSI sequences. This <b>MUST</b> be done before the program exits!
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">ERASE_CHAR_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:erase_char, :builtin=&gt;true, :code=&gt;&quot;\e[P&quot;)</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">CLEAR_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:clear,      :builtin=&gt;true, :code=&gt;&quot;\e[0m&quot;)</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">RESET_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:reset,      :builtin=&gt;true, :code=&gt;&quot;\e[0m&quot;)</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">BOLD_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:bold,       :builtin=&gt;true, :code=&gt;&quot;\e[1m&quot;)</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">DARK_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:dark,       :builtin=&gt;true, :code=&gt;&quot;\e[2m&quot;)</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
for example bold black. Bold without a color displays the system-defined
bold color (e.g. red on Mac iTerm)
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">UNDERLINE_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:underline,  :builtin=&gt;true, :code=&gt;&quot;\e[4m&quot;)</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">UNDERSCORE_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:underscore, :builtin=&gt;true, :code=&gt;&quot;\e[4m&quot;)</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">BLINK_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:blink,      :builtin=&gt;true, :code=&gt;&quot;\e[5m&quot;)</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">REVERSE_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:reverse,    :builtin=&gt;true, :code=&gt;&quot;\e[7m&quot;)</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">CONCEALED_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:concealed,  :builtin=&gt;true, :code=&gt;&quot;\e[8m&quot;)</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">STYLES</td>
            <td>=</td>
            <td class="attr-value">%w{CLEAR RESET BOLD DARK UNDERLINE UNDERSCORE BLINK REVERSE CONCEALED}</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">BLACK_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:black,      :builtin=&gt;true, :code=&gt;&quot;\e[30m&quot;, :rgb=&gt;[  0,  0,  0])</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
These RGB colors are approximate; see <a
href="http://en.wikipedia.org/wiki/ANSI_escape_code">en.wikipedia.org/wiki/ANSI_escape_code</a>
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">RED_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:red,        :builtin=&gt;true, :code=&gt;&quot;\e[31m&quot;, :rgb=&gt;[128,  0,  0])</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">GREEN_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:green,      :builtin=&gt;true, :code=&gt;&quot;\e[32m&quot;, :rgb=&gt;[  0,128,  0])</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">BLUE_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:blue,       :builtin=&gt;true, :code=&gt;&quot;\e[34m&quot;, :rgb=&gt;[  0,  0,128])</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">YELLOW_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:yellow,     :builtin=&gt;true, :code=&gt;&quot;\e[33m&quot;, :rgb=&gt;[128,128,  0])</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">MAGENTA_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:magenta,    :builtin=&gt;true, :code=&gt;&quot;\e[35m&quot;, :rgb=&gt;[128,  0,128])</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">CYAN_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:cyan,       :builtin=&gt;true, :code=&gt;&quot;\e[36m&quot;, :rgb=&gt;[  0,128,128])</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">WHITE_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:white,      :builtin=&gt;true, :code=&gt;&quot;\e[37m&quot;, :rgb=&gt;[192,192,192])</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
On Mac OSX Terminal, white is actually gray
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">GRAY_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:gray,       :builtin=&gt;true, :code=&gt;&quot;\e[37m&quot;, :rgb=&gt;[192,192,192])</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Alias for WHITE, since WHITE is actually a light gray on Macs
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">NONE_STYLE</td>
            <td>=</td>
            <td class="attr-value">Style.new(:name=&gt;:none,       :builtin=&gt;true, :code=&gt;&quot;\e[38m&quot;, :rgb=&gt;[  0,  0,  0])</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
On Mac OSX Terminal, this is black foreground, or bright white background.
Also used as base for RGB colors, if available
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">BASIC_COLORS</td>
            <td>=</td>
            <td class="attr-value">%w{BLACK RED GREEN YELLOW BLUE MAGENTA CYAN WHITE GRAY NONE}</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">COLORS</td>
            <td>=</td>
            <td class="attr-value">colors</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>wrap_at</td>
            <td class='attr-desc'><p>
The current column setting for wrapping output.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>page_at</td>
            <td class='attr-desc'><p>
The current row setting for paging output.
</p></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000088">
                    
                    <a name="M000088"></a><b>agree</b>( yes_or_no_question, character = nil )
                    
                </div>
                
                <div class="description">
                  <p>
A shortcut to <a href="HighLine.html#M000089">HighLine.ask()</a> a question
that only accepts &#8220;yes&#8221; or &#8220;no&#8221; answers
(&#8220;y&#8221; and &#8220;n&#8221; are allowed) and returns <tt>true</tt>
or <tt>false</tt> (<tt>true</tt> for &#8220;yes&#8221;). If provided a
<tt>true</tt> value, <em>character</em> will cause <a
href="HighLine.html">HighLine</a> to fetch a single character response. A
block can be provided to further configure the question as in <a
href="HighLine.html#M000089">HighLine.ask()</a>
</p>
<p>
Raises EOFError if input is exhausted.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000088_source')" id="l_M000088_source">show</a>
                        
                    </p>
                    <div id="M000088_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 227</span>
227:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">agree</span>( <span class="ruby-identifier">yes_or_no_question</span>, <span class="ruby-identifier">character</span> = <span class="ruby-keyword kw">nil</span> )
228:     <span class="ruby-identifier">ask</span>(<span class="ruby-identifier">yes_or_no_question</span>, <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">yn</span><span class="ruby-operator">|</span> <span class="ruby-identifier">yn</span>.<span class="ruby-identifier">downcase</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value">?y</span>}) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">q</span><span class="ruby-operator">|</span>
229:       <span class="ruby-identifier">q</span>.<span class="ruby-identifier">validate</span>                 = <span class="ruby-regexp re">/\Ay(?:es)?|no?\Z/i</span>
230:       <span class="ruby-identifier">q</span>.<span class="ruby-identifier">responses</span>[<span class="ruby-identifier">:not_valid</span>]    = <span class="ruby-value str">'Please enter &quot;yes&quot; or &quot;no&quot;.'</span>
231:       <span class="ruby-identifier">q</span>.<span class="ruby-identifier">responses</span>[<span class="ruby-identifier">:ask_on_error</span>] = <span class="ruby-identifier">:question</span>
232:       <span class="ruby-identifier">q</span>.<span class="ruby-identifier">character</span>                = <span class="ruby-identifier">character</span>
233:       
234:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">q</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
235:     <span class="ruby-keyword kw">end</span>
236:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000089">
                    
                    <a name="M000089"></a><b>ask</b>( question, answer_type = String )
                    
                </div>
                
                <div class="description">
                  <p>
This method is the primary interface for user input. Just provide a
<em>question</em> to ask the user, the <em>answer_type</em> you want
returned, and optionally a code block setting up details of how you want
the question handled. See <a
href="HighLine.html#M000098">HighLine.say()</a> for details on the format
of <em>question</em>, and <a
href="HighLine/Question.html">HighLine::Question</a> for more information
about <em>answer_type</em> and what&#8217;s valid in the code block.
</p>
<p>
If <tt>@question</tt> is set before ask() is called, parameters are ignored
and that object (must be a <a
href="HighLine/Question.html">HighLine::Question</a>) is used to drive the
process instead.
</p>
<p>
Raises EOFError if input is exhausted.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000089_source')" id="l_M000089_source">show</a>
                        
                    </p>
                    <div id="M000089_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 252</span>
252:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ask</span>( <span class="ruby-identifier">question</span>, <span class="ruby-identifier">answer_type</span> = <span class="ruby-constant">String</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">details</span> ) <span class="ruby-comment cmt"># :yields: question</span>
253:     <span class="ruby-ivar">@question</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Question</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">question</span>, <span class="ruby-identifier">answer_type</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">details</span>)
254:     
255:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">gather</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">gather</span>
256:   
257:     <span class="ruby-comment cmt"># readline() needs to handle it's own output, but readline only supports </span>
258:     <span class="ruby-comment cmt"># full line reading.  Therefore if @question.echo is anything but true, </span>
259:     <span class="ruby-comment cmt"># the prompt will not be issued. And we have to account for that now.</span>
260:     <span class="ruby-identifier">say</span>(<span class="ruby-ivar">@question</span>) <span class="ruby-keyword kw">unless</span> (<span class="ruby-ivar">@question</span>.<span class="ruby-identifier">readline</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">echo</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>)
261:     <span class="ruby-keyword kw">begin</span>
262:       <span class="ruby-ivar">@answer</span> = <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">answer_or_default</span>(<span class="ruby-identifier">get_response</span>)
263:       <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">valid_answer?</span>(<span class="ruby-ivar">@answer</span>)
264:         <span class="ruby-identifier">explain_error</span>(<span class="ruby-identifier">:not_valid</span>)
265:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">QuestionError</span>
266:       <span class="ruby-keyword kw">end</span>
267:       
268:       <span class="ruby-ivar">@answer</span> = <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">convert</span>(<span class="ruby-ivar">@answer</span>)
269:       
270:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">in_range?</span>(<span class="ruby-ivar">@answer</span>)
271:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">confirm</span>
272:           <span class="ruby-comment cmt"># need to add a layer of scope to ask a question inside a</span>
273:           <span class="ruby-comment cmt"># question, without destroying instance data</span>
274:           <span class="ruby-identifier">context_change</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@input</span>, <span class="ruby-ivar">@output</span>, <span class="ruby-ivar">@wrap_at</span>, <span class="ruby-ivar">@page_at</span>)
275:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">confirm</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>
276:             <span class="ruby-identifier">confirm_question</span> = <span class="ruby-value str">&quot;Are you sure?  &quot;</span>
277:           <span class="ruby-keyword kw">else</span>
278:             <span class="ruby-comment cmt"># evaluate ERb under initial scope, so it will have</span>
279:             <span class="ruby-comment cmt"># access to @question and @answer</span>
280:             <span class="ruby-identifier">template</span>  = <span class="ruby-constant">ERB</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@question</span>.<span class="ruby-identifier">confirm</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">&quot;%&quot;</span>)
281:             <span class="ruby-identifier">confirm_question</span> = <span class="ruby-identifier">template</span>.<span class="ruby-identifier">result</span>(<span class="ruby-identifier">binding</span>)
282:           <span class="ruby-keyword kw">end</span>
283:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">context_change</span>.<span class="ruby-identifier">agree</span>(<span class="ruby-identifier">confirm_question</span>)
284:             <span class="ruby-identifier">explain_error</span>(<span class="ruby-keyword kw">nil</span>)
285:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">QuestionError</span>
286:           <span class="ruby-keyword kw">end</span>
287:         <span class="ruby-keyword kw">end</span>
288:         
289:         <span class="ruby-ivar">@answer</span>
290:       <span class="ruby-keyword kw">else</span>
291:         <span class="ruby-identifier">explain_error</span>(<span class="ruby-identifier">:not_in_range</span>)
292:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">QuestionError</span>
293:       <span class="ruby-keyword kw">end</span>
294:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">QuestionError</span>
295:       <span class="ruby-keyword kw">retry</span>
296:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-constant">NameError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">error</span>
297:       <span class="ruby-identifier">raise</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">error</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">NoMethodError</span>)
298:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">error</span>.<span class="ruby-identifier">message</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/ambiguous/</span>
299:         <span class="ruby-comment cmt"># the assumption here is that OptionParser::Completion#complete</span>
300:         <span class="ruby-comment cmt"># (used for ambiguity resolution) throws exceptions containing </span>
301:         <span class="ruby-comment cmt"># the word 'ambiguous' whenever resolution fails</span>
302:         <span class="ruby-identifier">explain_error</span>(<span class="ruby-identifier">:ambiguous_completion</span>)
303:       <span class="ruby-keyword kw">else</span>
304:         <span class="ruby-identifier">explain_error</span>(<span class="ruby-identifier">:invalid_type</span>)
305:       <span class="ruby-keyword kw">end</span>
306:       <span class="ruby-keyword kw">retry</span>
307:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Question</span><span class="ruby-operator">::</span><span class="ruby-constant">NoAutoCompleteMatch</span>
308:       <span class="ruby-identifier">explain_error</span>(<span class="ruby-identifier">:no_completion</span>)
309:       <span class="ruby-keyword kw">retry</span>
310:     <span class="ruby-keyword kw">ensure</span>
311:       <span class="ruby-ivar">@question</span> = <span class="ruby-keyword kw">nil</span>    <span class="ruby-comment cmt"># Reset Question object.</span>
312:     <span class="ruby-keyword kw">end</span>
313:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000090">
                    
                    <a name="M000090"></a><b>choose</b>( *items, &amp;details )
                    
                </div>
                
                <div class="description">
                  <p>
This method is HighLine&#8217;s menu handler. For simple usage, you can
just pass all the menu items you wish to display. At that point, choose()
will build and display a menu, walk the user through selection, and return
their choice amoung the provided items. You might use this in a case
statement for quick and dirty menus.
</p>
<p>
However, choose() is capable of much more. If provided, a block will be
passed a <a href="HighLine/Menu.html">HighLine::Menu</a> object to
configure. Using this method, you can customize all the details of menu
handling from index display, to building a complete shell-like menuing
system. See <a href="HighLine/Menu.html">HighLine::Menu</a> for all the
methods it responds to.
</p>
<p>
Raises EOFError if input is exhausted.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000090_source')" id="l_M000090_source">show</a>
                        
                    </p>
                    <div id="M000090_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 330</span>
330:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">choose</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">items</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">details</span> )
331:     <span class="ruby-ivar">@menu</span> = <span class="ruby-ivar">@question</span> = <span class="ruby-constant">Menu</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">details</span>)
332:     <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">choices</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">items</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">items</span>.<span class="ruby-identifier">empty?</span>
333:     
334:     <span class="ruby-comment cmt"># Set _answer_type_ so we can double as the Question for ask().</span>
335:     <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">answer_type</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">shell</span>
336:       <span class="ruby-identifier">lambda</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">command</span><span class="ruby-operator">|</span>    <span class="ruby-comment cmt"># shell-style selection</span>
337:         <span class="ruby-identifier">first_word</span> = <span class="ruby-identifier">command</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;&quot;</span>
338: 
339:         <span class="ruby-identifier">options</span> = <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">options</span>
340:         <span class="ruby-identifier">options</span>.<span class="ruby-identifier">extend</span>(<span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">Completion</span>)
341:         <span class="ruby-identifier">answer</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">complete</span>(<span class="ruby-identifier">first_word</span>)
342: 
343:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">answer</span>.<span class="ruby-identifier">nil?</span>
344:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">Question</span><span class="ruby-operator">::</span><span class="ruby-constant">NoAutoCompleteMatch</span>
345:         <span class="ruby-keyword kw">end</span>
346: 
347:         [<span class="ruby-identifier">answer</span>.<span class="ruby-identifier">last</span>, <span class="ruby-identifier">command</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-node">/^\s*#{first_word}\s*/</span>, <span class="ruby-value str">&quot;&quot;</span>)]
348:       <span class="ruby-keyword kw">end</span>
349:     <span class="ruby-keyword kw">else</span>
350:       <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">options</span>          <span class="ruby-comment cmt"># normal menu selection, by index or name</span>
351:     <span class="ruby-keyword kw">end</span>
352:     
353:     <span class="ruby-comment cmt"># Provide hooks for ERb layouts.</span>
354:     <span class="ruby-ivar">@header</span>   = <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">header</span>
355:     <span class="ruby-ivar">@prompt</span>   = <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">prompt</span>
356:     
357:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">shell</span>
358:       <span class="ruby-identifier">selected</span> = <span class="ruby-identifier">ask</span>(<span class="ruby-value str">&quot;Ignored&quot;</span>, <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">answer_type</span>)
359:       <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">select</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">selected</span>)
360:     <span class="ruby-keyword kw">else</span>
361:       <span class="ruby-identifier">selected</span> = <span class="ruby-identifier">ask</span>(<span class="ruby-value str">&quot;Ignored&quot;</span>, <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">answer_type</span>)
362:       <span class="ruby-ivar">@menu</span>.<span class="ruby-identifier">select</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">selected</span>)
363:     <span class="ruby-keyword kw">end</span>
364:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000094">
                    
                    <a name="M000094"></a><b>color</b>(*args)
                    
                </div>
                
                <div class="description">
                  <p>
Works as an instance method, same as the class method
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000094_source')" id="l_M000094_source">show</a>
                        
                    </p>
                    <div id="M000094_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 393</span>
393:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">color</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
394:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">color</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
395:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000093">
                    
                    <a name="M000093"></a><b>color_code</b>(*colors)
                    
                </div>
                
                <div class="description">
                  <p>
Works as an instance method, same as the class method
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000093_source')" id="l_M000093_source">show</a>
                        
                    </p>
                    <div id="M000093_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 388</span>
388:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">color_code</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">colors</span>)
389:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">color_code</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">colors</span>)
390:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000097">
                    
                    <a name="M000097"></a><b>list</b>( items, mode = :rows, option = nil )
                    
                </div>
                
                <div class="description">
                  <p>
This method is a utility for quickly and easily laying out lists. It can be
accessed within ERb replacements of any text that will be sent to the user.
</p>
<p>
The only required parameter is <em>items</em>, which should be the Array of
items to list. A specified <em>mode</em> controls how that list is formed
and <em>option</em> has different effects, depending on the <em>mode</em>.
Recognized modes are:
</p>
<table>
<tr><td valign="top"><tt>:columns_across</tt>:</td><td><em>items</em> will be placed in columns, flowing from left to right. If
given, <em>option</em> is the number of columns to be used. When absent,
columns will be determined based on <em><a
href="HighLine.html#wrap_at">wrap_at</a></em> or a default of 80
characters.

</td></tr>
<tr><td valign="top"><tt>:columns_down</tt>:</td><td>Identical to <tt>:columns_across</tt>, save flow goes down.

</td></tr>
<tr><td valign="top"><tt>:uneven_columns_across</tt>:</td><td>Like <tt>:columns_across</tt> but each column is sized independently.

</td></tr>
<tr><td valign="top"><tt>:uneven_columns_down</tt>:</td><td>Like <tt>:columns_down</tt> but each column is sized independently.

</td></tr>
<tr><td valign="top"><tt>:inline</tt>:</td><td>All <em>items</em> are placed on a single line. The last two <em>items</em>
are separated by <em>option</em> or a default of &#8220; or &#8220;. All
other <em>items</em> are separated by &#8220;, &#8220;.

</td></tr>
<tr><td valign="top"><tt>:rows</tt>:</td><td>The default mode. Each of the <em>items</em> is placed on it&#8217;s own
line. The <em>option</em> parameter is ignored in this mode.

</td></tr>
</table>
<p>
Each member of the <em>items</em> Array is passed through ERb and thus can
contain their own expansions. Color escape expansions do not contribute to
the final field width.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000097_source')" id="l_M000097_source">show</a>
                        
                    </p>
                    <div id="M000097_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 440</span>
440:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list</span>( <span class="ruby-identifier">items</span>, <span class="ruby-identifier">mode</span> = <span class="ruby-identifier">:rows</span>, <span class="ruby-identifier">option</span> = <span class="ruby-keyword kw">nil</span> )
441:     <span class="ruby-identifier">items</span> = <span class="ruby-identifier">items</span>.<span class="ruby-identifier">to_ary</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
442:       <span class="ruby-constant">ERB</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">item</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">&quot;%&quot;</span>).<span class="ruby-identifier">result</span>(<span class="ruby-identifier">binding</span>)
443:     <span class="ruby-keyword kw">end</span>
444:     
445:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">items</span>.<span class="ruby-identifier">empty?</span>
446:       <span class="ruby-value str">&quot;&quot;</span>
447:     <span class="ruby-keyword kw">else</span>
448:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">mode</span>
449:       <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:inline</span>
450:         <span class="ruby-identifier">option</span> = <span class="ruby-value str">&quot; or &quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">nil?</span>
451:         
452:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">items</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
453:           <span class="ruby-identifier">items</span>.<span class="ruby-identifier">first</span>
454:         <span class="ruby-keyword kw">else</span>
455:           <span class="ruby-identifier">items</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">-2</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;, &quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-node">&quot;#{option}#{items.last}&quot;</span>
456:         <span class="ruby-keyword kw">end</span>
457:       <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:columns_across</span>, <span class="ruby-identifier">:columns_down</span>
458:         <span class="ruby-identifier">max_length</span> = <span class="ruby-identifier">actual_length</span>(
459:           <span class="ruby-identifier">items</span>.<span class="ruby-identifier">max</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">actual_length</span>(<span class="ruby-identifier">a</span>) <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">actual_length</span>(<span class="ruby-identifier">b</span>) }
460:         )
461: 
462:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">nil?</span>
463:           <span class="ruby-identifier">limit</span>  = <span class="ruby-ivar">@wrap_at</span> <span class="ruby-operator">||</span> <span class="ruby-value">80</span>
464:           <span class="ruby-identifier">option</span> = (<span class="ruby-identifier">limit</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span>) <span class="ruby-operator">/</span> (<span class="ruby-identifier">max_length</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span>)
465:         <span class="ruby-keyword kw">end</span>
466: 
467:         <span class="ruby-identifier">items</span> = <span class="ruby-identifier">items</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
468:           <span class="ruby-identifier">pad</span> = <span class="ruby-identifier">max_length</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">item</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">actual_length</span>(<span class="ruby-identifier">item</span>))
469:           <span class="ruby-node">&quot;%-#{pad}s&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">item</span>
470:         <span class="ruby-keyword kw">end</span>
471:         <span class="ruby-identifier">row_count</span> = (<span class="ruby-identifier">items</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">to_f</span>).<span class="ruby-identifier">ceil</span>
472:       
473:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mode</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:columns_across</span>
474:           <span class="ruby-identifier">rows</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">row_count</span>) { <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span> }
475:           <span class="ruby-identifier">items</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
476:             <span class="ruby-identifier">rows</span>[<span class="ruby-identifier">index</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">option</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>
477:           <span class="ruby-keyword kw">end</span>
478: 
479:           <span class="ruby-identifier">rows</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;  &quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;\n&quot;</span> }.<span class="ruby-identifier">join</span>
480:         <span class="ruby-keyword kw">else</span>
481:           <span class="ruby-identifier">columns</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">option</span>) { <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span> }
482:           <span class="ruby-identifier">items</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
483:             <span class="ruby-identifier">columns</span>[<span class="ruby-identifier">index</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">row_count</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>
484:           <span class="ruby-keyword kw">end</span>
485:       
486:           <span class="ruby-identifier">list</span> = <span class="ruby-value str">&quot;&quot;</span>
487:           <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
488:             <span class="ruby-identifier">list</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">column</span><span class="ruby-operator">|</span> <span class="ruby-identifier">column</span>[<span class="ruby-identifier">index</span>] }.
489:                             <span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;  &quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;\n&quot;</span>
490:           <span class="ruby-keyword kw">end</span>
491:           <span class="ruby-identifier">list</span>
492:         <span class="ruby-keyword kw">end</span>
493:       <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:uneven_columns_across</span>
494:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">nil?</span>
495:           <span class="ruby-identifier">limit</span> = <span class="ruby-ivar">@wrap_at</span> <span class="ruby-operator">||</span> <span class="ruby-value">80</span>
496:           <span class="ruby-identifier">items</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">downto</span>(<span class="ruby-value">1</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">column_count</span><span class="ruby-operator">|</span>
497:             <span class="ruby-identifier">row_count</span> = (<span class="ruby-identifier">items</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">column_count</span>.<span class="ruby-identifier">to_f</span>).<span class="ruby-identifier">ceil</span>
498:             <span class="ruby-identifier">rows</span>      = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">row_count</span>) { <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span> }
499:             <span class="ruby-identifier">items</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
500:               <span class="ruby-identifier">rows</span>[<span class="ruby-identifier">index</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">column_count</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>
501:             <span class="ruby-keyword kw">end</span>
502: 
503:             <span class="ruby-identifier">widths</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">column_count</span>, <span class="ruby-value">0</span>)
504:             <span class="ruby-identifier">rows</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
505:               <span class="ruby-identifier">row</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">field</span>, <span class="ruby-identifier">column</span><span class="ruby-operator">|</span>
506:                 <span class="ruby-identifier">size</span>           = <span class="ruby-identifier">actual_length</span>(<span class="ruby-identifier">field</span>)
507:                 <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">column</span>] = <span class="ruby-identifier">size</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">column</span>]
508:               <span class="ruby-keyword kw">end</span>
509:             <span class="ruby-keyword kw">end</span>
510: 
511:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">column_count</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">or</span>
512:                <span class="ruby-identifier">widths</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-value">0</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>, <span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">n</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span> } <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">limit</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span>
513:               <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rows</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
514:                 <span class="ruby-identifier">row</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">widths</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">field</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
515:                   <span class="ruby-node">&quot;%-#{i + (field.to_s.length - actual_length(field))}s&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">field</span>
516:                 }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;  &quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;\n&quot;</span>
517:               }.<span class="ruby-identifier">join</span>
518:             <span class="ruby-keyword kw">end</span>
519:           <span class="ruby-keyword kw">end</span>
520:         <span class="ruby-keyword kw">else</span>
521:           <span class="ruby-identifier">row_count</span> = (<span class="ruby-identifier">items</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">to_f</span>).<span class="ruby-identifier">ceil</span>
522:           <span class="ruby-identifier">rows</span>      = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">row_count</span>) { <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span> }
523:           <span class="ruby-identifier">items</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
524:             <span class="ruby-identifier">rows</span>[<span class="ruby-identifier">index</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">option</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>
525:           <span class="ruby-keyword kw">end</span>
526: 
527:           <span class="ruby-identifier">widths</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">option</span>, <span class="ruby-value">0</span>)
528:           <span class="ruby-identifier">rows</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
529:             <span class="ruby-identifier">row</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">field</span>, <span class="ruby-identifier">column</span><span class="ruby-operator">|</span>
530:               <span class="ruby-identifier">size</span>           = <span class="ruby-identifier">actual_length</span>(<span class="ruby-identifier">field</span>)
531:               <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">column</span>] = <span class="ruby-identifier">size</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">column</span>]
532:             <span class="ruby-keyword kw">end</span>
533:           <span class="ruby-keyword kw">end</span>
534: 
535:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rows</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
536:             <span class="ruby-identifier">row</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">widths</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">field</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
537:               <span class="ruby-node">&quot;%-#{i + (field.to_s.length - actual_length(field))}s&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">field</span>
538:             }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;  &quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;\n&quot;</span>
539:           }.<span class="ruby-identifier">join</span>
540:         <span class="ruby-keyword kw">end</span>
541:       <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:uneven_columns_down</span>
542:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">nil?</span>
543:           <span class="ruby-identifier">limit</span> = <span class="ruby-ivar">@wrap_at</span> <span class="ruby-operator">||</span> <span class="ruby-value">80</span>
544:           <span class="ruby-identifier">items</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">downto</span>(<span class="ruby-value">1</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">column_count</span><span class="ruby-operator">|</span>
545:             <span class="ruby-identifier">row_count</span> = (<span class="ruby-identifier">items</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">column_count</span>.<span class="ruby-identifier">to_f</span>).<span class="ruby-identifier">ceil</span>
546:             <span class="ruby-identifier">columns</span>   = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">column_count</span>) { <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span> }
547:             <span class="ruby-identifier">items</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
548:               <span class="ruby-identifier">columns</span>[<span class="ruby-identifier">index</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">row_count</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>
549:             <span class="ruby-keyword kw">end</span>
550: 
551:             <span class="ruby-identifier">widths</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">column_count</span>, <span class="ruby-value">0</span>)
552:             <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">column</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
553:               <span class="ruby-identifier">column</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">field</span><span class="ruby-operator">|</span>
554:                 <span class="ruby-identifier">size</span>      = <span class="ruby-identifier">actual_length</span>(<span class="ruby-identifier">field</span>)
555:                 <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">i</span>] = <span class="ruby-identifier">size</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">i</span>]
556:               <span class="ruby-keyword kw">end</span>
557:             <span class="ruby-keyword kw">end</span>
558: 
559:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">column_count</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">or</span>
560:                <span class="ruby-identifier">widths</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-value">0</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>, <span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">n</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span> } <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">limit</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span>
561:               <span class="ruby-identifier">list</span> = <span class="ruby-value str">&quot;&quot;</span>
562:               <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
563:                 <span class="ruby-identifier">list</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">widths</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">column</span>, <span class="ruby-identifier">width</span><span class="ruby-operator">|</span>
564:                   <span class="ruby-identifier">field</span> = <span class="ruby-identifier">column</span>[<span class="ruby-identifier">index</span>]
565:                   <span class="ruby-node">&quot;%-#{width + (field.to_s.length - actual_length(field))}s&quot;</span> <span class="ruby-operator">%</span>
566:                   <span class="ruby-identifier">field</span>
567:                 }.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;  &quot;</span>).<span class="ruby-identifier">strip</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;\n&quot;</span>
568:               <span class="ruby-keyword kw">end</span>
569:               <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">list</span>
570:             <span class="ruby-keyword kw">end</span>
571:           <span class="ruby-keyword kw">end</span>
572:         <span class="ruby-keyword kw">else</span>
573:           <span class="ruby-identifier">row_count</span> = (<span class="ruby-identifier">items</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">option</span>.<span class="ruby-identifier">to_f</span>).<span class="ruby-identifier">ceil</span>
574:           <span class="ruby-identifier">columns</span>   = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">option</span>) { <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span> }
575:           <span class="ruby-identifier">items</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span>, <span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
576:             <span class="ruby-identifier">columns</span>[<span class="ruby-identifier">index</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">row_count</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>
577:           <span class="ruby-keyword kw">end</span>
578: 
579:           <span class="ruby-identifier">widths</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">option</span>, <span class="ruby-value">0</span>)
580:           <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">column</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
581:             <span class="ruby-identifier">column</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">field</span><span class="ruby-operator">|</span>
582:               <span class="ruby-identifier">size</span>      = <span class="ruby-identifier">actual_length</span>(<span class="ruby-identifier">field</span>)
583:               <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">i</span>] = <span class="ruby-identifier">size</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">widths</span>[<span class="ruby-identifier">i</span>]
584:             <span class="ruby-keyword kw">end</span>
585:           <span class="ruby-keyword kw">end</span>
586: 
587:           <span class="ruby-identifier">list</span> = <span class="ruby-value str">&quot;&quot;</span>
588:           <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
589:             <span class="ruby-identifier">list</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">widths</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">column</span>, <span class="ruby-identifier">width</span><span class="ruby-operator">|</span>
590:               <span class="ruby-identifier">field</span> = <span class="ruby-identifier">column</span>[<span class="ruby-identifier">index</span>]
591:               <span class="ruby-node">&quot;%-#{width + (field.to_s.length - actual_length(field))}s&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">field</span>
592:             }.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;  &quot;</span>).<span class="ruby-identifier">strip</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;\n&quot;</span>
593:           <span class="ruby-keyword kw">end</span>
594:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">list</span>
595:         <span class="ruby-keyword kw">end</span>
596:       <span class="ruby-keyword kw">else</span>
597:         <span class="ruby-identifier">items</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;#{i}\n&quot;</span> }.<span class="ruby-identifier">join</span>
598:       <span class="ruby-keyword kw">end</span>
599:     <span class="ruby-keyword kw">end</span>
600:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000101">
                    
                    <a name="M000101"></a><b>output_cols</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the number of columns for the console, or a default it they cannot
be determined.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000101_source')" id="l_M000101_source">show</a>
                        
                    </p>
                    <div id="M000101_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 654</span>
654:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">output_cols</span>
655:     <span class="ruby-keyword kw">return</span> <span class="ruby-value">80</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">tty?</span>
656:     <span class="ruby-identifier">terminal_size</span>.<span class="ruby-identifier">first</span>
657:   <span class="ruby-keyword kw">rescue</span>
658:     <span class="ruby-keyword kw">return</span> <span class="ruby-value">80</span>
659:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000102">
                    
                    <a name="M000102"></a><b>output_rows</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the number of rows for the console, or a default if they cannot be
determined.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000102_source')" id="l_M000102_source">show</a>
                        
                    </p>
                    <div id="M000102_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 665</span>
665:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">output_rows</span>
666:     <span class="ruby-keyword kw">return</span> <span class="ruby-value">24</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">tty?</span>
667:     <span class="ruby-identifier">terminal_size</span>.<span class="ruby-identifier">last</span>
668:   <span class="ruby-keyword kw">rescue</span>
669:     <span class="ruby-keyword kw">return</span> <span class="ruby-value">24</span>
670:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000100">
                    
                    <a name="M000100"></a><b>page_at=</b>( setting )
                    
                </div>
                
                <div class="description">
                  <p>
Set to an integer value to cause <a href="HighLine.html">HighLine</a> to
page output lines over the indicated line limit. When <tt>nil</tt>, the
default, no paging occurs. If set to <tt>:auto</tt>, <a
href="HighLine.html">HighLine</a> will attempt to determing the rows
available for the <tt>@output</tt> or use a sensible default.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000100_source')" id="l_M000100_source">show</a>
                        
                    </p>
                    <div id="M000100_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 646</span>
646:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">page_at=</span>( <span class="ruby-identifier">setting</span> )
647:     <span class="ruby-ivar">@page_at</span> = <span class="ruby-identifier">setting</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:auto</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">output_rows</span> <span class="ruby-operator">-</span> <span class="ruby-value">2</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">setting</span>
648:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000098">
                    
                    <a name="M000098"></a><b>say</b>( statement )
                    
                </div>
                
                <div class="description">
                  <p>
The basic output method for <a href="HighLine.html">HighLine</a> objects.
If the provided <em>statement</em> ends with a space or tab character, a
newline will not be appended (output will be flush()ed). All other cases
are passed straight to Kernel.puts().
</p>
<p>
The <em>statement</em> parameter is processed as an ERb template,
supporting embedded Ruby code. The template is evaluated with a binding
inside the <a href="HighLine.html">HighLine</a> instance, providing easy
access to the ANSI color constants and the <a
href="HighLine.html#M000091">HighLine.color()</a> method.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000098_source')" id="l_M000098_source">show</a>
                        
                    </p>
                    <div id="M000098_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 612</span>
612:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">say</span>( <span class="ruby-identifier">statement</span> )
613:     <span class="ruby-identifier">statement</span> = <span class="ruby-identifier">statement</span>.<span class="ruby-identifier">to_str</span>
614:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">statement</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
615:     
616:     <span class="ruby-identifier">template</span>  = <span class="ruby-constant">ERB</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">statement</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-value str">&quot;%&quot;</span>)
617:     <span class="ruby-identifier">statement</span> = <span class="ruby-identifier">template</span>.<span class="ruby-identifier">result</span>(<span class="ruby-identifier">binding</span>)
618:     
619:     <span class="ruby-identifier">statement</span> = <span class="ruby-identifier">wrap</span>(<span class="ruby-identifier">statement</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@wrap_at</span>.<span class="ruby-identifier">nil?</span>
620:     <span class="ruby-identifier">statement</span> = <span class="ruby-identifier">page_print</span>(<span class="ruby-identifier">statement</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@page_at</span>.<span class="ruby-identifier">nil?</span>
621:     
622:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">statement</span>[<span class="ruby-value">-1</span>, <span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot; &quot;</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">statement</span>[<span class="ruby-value">-1</span>, <span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;\t&quot;</span>
623:       <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">print</span>(<span class="ruby-identifier">statement</span>)
624:       <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">flush</span>  
625:     <span class="ruby-keyword kw">else</span>
626:       <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">puts</span>(<span class="ruby-identifier">statement</span>)
627:     <span class="ruby-keyword kw">end</span>
628:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000096">
                    
                    <a name="M000096"></a><b>uncolor</b>(string)
                    
                </div>
                
                <div class="description">
                  <p>
Works as an instance method, same as the class method
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000096_source')" id="l_M000096_source">show</a>
                        
                    </p>
                    <div id="M000096_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 403</span>
403:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">uncolor</span>(<span class="ruby-identifier">string</span>)
404:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">uncolor</span>(<span class="ruby-identifier">string</span>)
405:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000099">
                    
                    <a name="M000099"></a><b>wrap_at=</b>( setting )
                    
                </div>
                
                <div class="description">
                  <p>
Set to an integer value to cause <a href="HighLine.html">HighLine</a> to
wrap output lines at the indicated character limit. When <tt>nil</tt>, the
default, no wrapping occurs. If set to <tt>:auto</tt>, <a
href="HighLine.html">HighLine</a> will attempt to determing the columns
available for the <tt>@output</tt> or use a sensible default.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000099_source')" id="l_M000099_source">show</a>
                        
                    </p>
                    <div id="M000099_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 636</span>
636:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">wrap_at=</span>( <span class="ruby-identifier">setting</span> )
637:     <span class="ruby-ivar">@wrap_at</span> = <span class="ruby-identifier">setting</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:auto</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">output_cols</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">setting</span>
638:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M000111">
                    
                    <a name="M000111"></a><b>actual_length</b>( string_with_escapes )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the length of the passed <tt>string_with_escapes</tt>, minus and
color sequence escapes.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000111_source')" id="l_M000111_source">show</a>
                        
                    </p>
                    <div id="M000111_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 972</span>
972:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">actual_length</span>( <span class="ruby-identifier">string_with_escapes</span> )
973:     <span class="ruby-identifier">string_with_escapes</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\e\[\d{1,2}m/</span>, <span class="ruby-value str">&quot;&quot;</span>).<span class="ruby-identifier">length</span>
974:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000109">
                    
                    <a name="M000109"></a><b>continue_paging?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Ask user if they wish to continue paging output. Allows them to type
&#8220;q&#8221; to cancel the paging process.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000109_source')" id="l_M000109_source">show</a>
                        
                    </p>
                    <div id="M000109_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 937</span>
937:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">continue_paging?</span>
938:     <span class="ruby-identifier">command</span> = <span class="ruby-constant">HighLine</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@input</span>, <span class="ruby-ivar">@output</span>).<span class="ruby-identifier">ask</span>(
939:       <span class="ruby-value str">&quot;-- press enter/return to continue or q to stop -- &quot;</span>
940:     ) { <span class="ruby-operator">|</span><span class="ruby-identifier">q</span><span class="ruby-operator">|</span> <span class="ruby-identifier">q</span>.<span class="ruby-identifier">character</span> = <span class="ruby-keyword kw">true</span> }
941:     <span class="ruby-identifier">command</span> <span class="ruby-operator">!~</span> <span class="ruby-regexp re">/\A[qQ]\Z/</span>  <span class="ruby-comment cmt"># Only continue paging if Q was not hit.</span>
942:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000103">
                    
                    <a name="M000103"></a><b>explain_error</b>( error )
                    
                </div>
                
                <div class="description">
                  <p>
A helper method for sending the output stream and error and repeat of the
question.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000103_source')" id="l_M000103_source">show</a>
                        
                    </p>
                    <div id="M000103_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 678</span>
678:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">explain_error</span>( <span class="ruby-identifier">error</span> )
679:     <span class="ruby-identifier">say</span>(<span class="ruby-ivar">@question</span>.<span class="ruby-identifier">responses</span>[<span class="ruby-identifier">error</span>]) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">error</span>.<span class="ruby-identifier">nil?</span>
680:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">responses</span>[<span class="ruby-identifier">:ask_on_error</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">:question</span>
681:       <span class="ruby-identifier">say</span>(<span class="ruby-ivar">@question</span>)
682:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">responses</span>[<span class="ruby-identifier">:ask_on_error</span>]
683:       <span class="ruby-identifier">say</span>(<span class="ruby-ivar">@question</span>.<span class="ruby-identifier">responses</span>[<span class="ruby-identifier">:ask_on_error</span>])
684:     <span class="ruby-keyword kw">end</span>
685:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000104">
                    
                    <a name="M000104"></a><b>gather</b>( )
                    
                </div>
                
                <div class="description">
                  <p>
Collects an Array/Hash full of answers as described in <a
href="HighLine/Question.html#gather">HighLine::Question.gather()</a>.
</p>
<p>
Raises EOFError if input is exhausted.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000104_source')" id="l_M000104_source">show</a>
                        
                    </p>
                    <div id="M000104_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 693</span>
693:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gather</span>(  )
694:     <span class="ruby-ivar">@gather</span>           = <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">gather</span>
695:     <span class="ruby-ivar">@answers</span>          = [ ]
696:     <span class="ruby-identifier">original_question</span> = <span class="ruby-ivar">@question</span>
697:     
698:     <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">gather</span> = <span class="ruby-keyword kw">false</span>
699:     
700:     <span class="ruby-keyword kw">case</span> <span class="ruby-ivar">@gather</span>
701:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Integer</span>
702:       <span class="ruby-ivar">@answers</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">ask</span>(<span class="ruby-ivar">@question</span>)
703:       <span class="ruby-ivar">@gather</span>  <span class="ruby-operator">-=</span> <span class="ruby-value">1</span>
704: 
705:       <span class="ruby-identifier">original_question</span>.<span class="ruby-identifier">question</span> = <span class="ruby-value str">&quot;&quot;</span>
706:       <span class="ruby-keyword kw">until</span> <span class="ruby-ivar">@gather</span>.<span class="ruby-identifier">zero?</span>
707:         <span class="ruby-ivar">@question</span> =  <span class="ruby-identifier">original_question</span>
708:         <span class="ruby-ivar">@answers</span>  <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">ask</span>(<span class="ruby-ivar">@question</span>)
709:         <span class="ruby-ivar">@gather</span>   <span class="ruby-operator">-=</span> <span class="ruby-value">1</span>
710:       <span class="ruby-keyword kw">end</span>
711:     <span class="ruby-keyword kw">when</span> <span class="ruby-operator">::</span><span class="ruby-constant">String</span>, <span class="ruby-constant">Regexp</span>
712:       <span class="ruby-ivar">@answers</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">ask</span>(<span class="ruby-ivar">@question</span>)
713: 
714:       <span class="ruby-identifier">original_question</span>.<span class="ruby-identifier">question</span> = <span class="ruby-value str">&quot;&quot;</span>
715:       <span class="ruby-keyword kw">until</span> (<span class="ruby-ivar">@gather</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">String</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@answers</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-ivar">@gather</span>) <span class="ruby-keyword kw">or</span>
716:             (<span class="ruby-ivar">@gather</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Regexp</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@answers</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-ivar">@gather</span>)
717:         <span class="ruby-ivar">@question</span> =  <span class="ruby-identifier">original_question</span>
718:         <span class="ruby-ivar">@answers</span>  <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">ask</span>(<span class="ruby-ivar">@question</span>)
719:       <span class="ruby-keyword kw">end</span>
720:       
721:       <span class="ruby-ivar">@answers</span>.<span class="ruby-identifier">pop</span>
722:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Hash</span>
723:       <span class="ruby-ivar">@answers</span> = { }
724:       <span class="ruby-ivar">@gather</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
725:         <span class="ruby-ivar">@question</span>     = <span class="ruby-identifier">original_question</span>
726:         <span class="ruby-ivar">@key</span>          = <span class="ruby-identifier">key</span>
727:         <span class="ruby-ivar">@answers</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">ask</span>(<span class="ruby-ivar">@question</span>)
728:       <span class="ruby-keyword kw">end</span>
729:     <span class="ruby-keyword kw">end</span>
730:     
731:     <span class="ruby-ivar">@answers</span>
732:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000105">
                    
                    <a name="M000105"></a><b>get_line</b>( )
                    
                </div>
                
                <div class="description">
                  <p>
Read a line of input from the input stream and process whitespace as
requested by the <a href="HighLine/Question.html">Question</a> object.
</p>
<p>
If Question&#8217;s <em>readline</em> property is set, that library will be
used to fetch input. <b>WARNING</b>: This ignores the currently set input
stream.
</p>
<p>
Raises EOFError if input is exhausted.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000105_source')" id="l_M000105_source">show</a>
                        
                    </p>
                    <div id="M000105_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 743</span>
743:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_line</span>(  )
744:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">readline</span>
745:       <span class="ruby-identifier">require</span> <span class="ruby-value str">&quot;readline&quot;</span>    <span class="ruby-comment cmt"># load only if needed</span>
746: 
747:       <span class="ruby-comment cmt"># capture say()'s work in a String to feed to readline()</span>
748:       <span class="ruby-identifier">old_output</span> = <span class="ruby-ivar">@output</span>
749:       <span class="ruby-ivar">@output</span>    = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
750:       <span class="ruby-identifier">say</span>(<span class="ruby-ivar">@question</span>)
751:       <span class="ruby-identifier">question</span> = <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">string</span>
752:       <span class="ruby-ivar">@output</span>  = <span class="ruby-identifier">old_output</span>
753:       
754:       <span class="ruby-comment cmt"># prep auto-completion</span>
755:       <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">completion_proc</span> = <span class="ruby-identifier">lambda</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">string</span><span class="ruby-operator">|</span>
756:         <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">selection</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-node">/\A#{Regexp.escape(string)}/</span>)
757:       <span class="ruby-keyword kw">end</span>
758:       
759:       <span class="ruby-comment cmt"># work-around ugly readline() warnings</span>
760:       <span class="ruby-identifier">old_verbose</span> = <span class="ruby-identifier">$VERBOSE</span>
761:       <span class="ruby-identifier">$VERBOSE</span>    = <span class="ruby-keyword kw">nil</span>
762:       <span class="ruby-identifier">raw_answer</span>  = <span class="ruby-constant">Readline</span>.<span class="ruby-identifier">readline</span>(<span class="ruby-identifier">question</span>, <span class="ruby-keyword kw">true</span>)
763:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">raw_answer</span>.<span class="ruby-identifier">nil?</span>
764:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@@track_eof</span>
765:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">EOFError</span>, <span class="ruby-value str">&quot;The input stream is exhausted.&quot;</span>
766:         <span class="ruby-keyword kw">else</span>
767:           <span class="ruby-identifier">raw_answer</span> = <span class="ruby-constant">String</span>.<span class="ruby-identifier">new</span> <span class="ruby-comment cmt"># Never return nil</span>
768:         <span class="ruby-keyword kw">end</span>
769:       <span class="ruby-keyword kw">end</span>
770:       <span class="ruby-identifier">answer</span>      = <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">change_case</span>(
771:                         <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">remove_whitespace</span>(<span class="ruby-identifier">raw_answer</span>))
772:       <span class="ruby-identifier">$VERBOSE</span>    = <span class="ruby-identifier">old_verbose</span>
773: 
774:       <span class="ruby-identifier">answer</span>
775:     <span class="ruby-keyword kw">else</span>
776:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">JRUBY</span>
777:         <span class="ruby-identifier">enable_echo_afterwards</span> = <span class="ruby-ivar">@java_terminal</span>.<span class="ruby-identifier">isEchoEnabled</span>
778:         <span class="ruby-ivar">@java_terminal</span>.<span class="ruby-identifier">disableEcho</span>
779:         <span class="ruby-keyword kw">begin</span>
780:           <span class="ruby-identifier">raw_answer</span> = <span class="ruby-ivar">@java_console</span>.<span class="ruby-identifier">readLine</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>)
781:         <span class="ruby-keyword kw">ensure</span>
782:           <span class="ruby-ivar">@java_terminal</span>.<span class="ruby-identifier">enableEcho</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">enable_echo_afterwards</span>
783:         <span class="ruby-keyword kw">end</span>
784:       <span class="ruby-keyword kw">else</span>
785:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">EOFError</span>, <span class="ruby-value str">&quot;The input stream is exhausted.&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@@track_eof</span> <span class="ruby-keyword kw">and</span>
786:                                                             <span class="ruby-ivar">@input</span>.<span class="ruby-identifier">eof?</span>
787:         <span class="ruby-identifier">raw_answer</span> = <span class="ruby-ivar">@input</span>.<span class="ruby-identifier">gets</span>
788:       <span class="ruby-keyword kw">end</span>
789: 
790:       <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">change_case</span>(<span class="ruby-ivar">@question</span>.<span class="ruby-identifier">remove_whitespace</span>(<span class="ruby-identifier">raw_answer</span>))
791:     <span class="ruby-keyword kw">end</span>
792:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000107">
                    
                    <a name="M000107"></a><b>get_response</b>( )
                    
                </div>
                
                <div class="description">
                  <p>
Return a line or character of input, as requested for this question.
Character input will be returned as a single character <a
href="HighLine.html#M000037">String</a>, not an Integer.
</p>
<p>
This question&#8217;s <em>first_answer</em> will be returned instead of
input, if set.
</p>
<p>
Raises EOFError if input is exhausted.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000107_source')" id="l_M000107_source">show</a>
                        
                    </p>
                    <div id="M000107_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 813</span>
813:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_response</span>(  )
814:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">first_answer</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">first_answer?</span>
815: 
816:     <span class="ruby-identifier">stty</span> = (<span class="ruby-constant">CHARACTER_MODE</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;stty&quot;</span>)
817: 
818:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">character</span>.<span class="ruby-identifier">nil?</span>
819:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">echo</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">limit</span>.<span class="ruby-identifier">nil?</span>
820:         <span class="ruby-identifier">get_line</span>
821:       <span class="ruby-keyword kw">else</span>
822:         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">JRUBY</span>
823:           <span class="ruby-identifier">enable_echo_afterwards</span> = <span class="ruby-ivar">@java_terminal</span>.<span class="ruby-identifier">isEchoEnabled</span>
824:           <span class="ruby-ivar">@java_terminal</span>.<span class="ruby-identifier">disableEcho</span>
825:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">stty</span>
826:           <span class="ruby-identifier">raw_no_echo_mode</span>
827:         <span class="ruby-keyword kw">end</span>
828: 
829:         <span class="ruby-identifier">line</span>            = <span class="ruby-value str">&quot;&quot;</span>
830:         <span class="ruby-identifier">backspace_limit</span> = <span class="ruby-value">0</span>
831:         <span class="ruby-keyword kw">begin</span>
832: 
833:           <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">character</span> = <span class="ruby-identifier">get_single_character</span>(<span class="ruby-identifier">stty</span>)
834:             <span class="ruby-comment cmt"># honor backspace and delete</span>
835:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">character</span> <span class="ruby-operator">==</span> <span class="ruby-value">127</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">character</span> <span class="ruby-operator">==</span> <span class="ruby-value">8</span>
836:               <span class="ruby-identifier">line</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">-1</span>, <span class="ruby-value">1</span>)
837:               <span class="ruby-identifier">backspace_limit</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span>
838:             <span class="ruby-keyword kw">else</span>
839:               <span class="ruby-identifier">line</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">character</span>.<span class="ruby-identifier">chr</span>
840:               <span class="ruby-identifier">backspace_limit</span> = <span class="ruby-identifier">line</span>.<span class="ruby-identifier">size</span>
841:             <span class="ruby-keyword kw">end</span>
842:             <span class="ruby-comment cmt"># looking for carriage return (decimal 13) or</span>
843:             <span class="ruby-comment cmt"># newline (decimal 10) in raw input</span>
844:             <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">character</span> <span class="ruby-operator">==</span> <span class="ruby-value">13</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">character</span> <span class="ruby-operator">==</span> <span class="ruby-value">10</span>
845:             <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">echo</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">false</span>
846:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">character</span> <span class="ruby-operator">==</span> <span class="ruby-value">127</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">character</span> <span class="ruby-operator">==</span> <span class="ruby-value">8</span>
847:                 <span class="ruby-comment cmt"># only backspace if we have characters on the line to</span>
848:                 <span class="ruby-comment cmt"># eliminate, otherwise we'll tromp over the prompt</span>
849:                 <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">backspace_limit</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span>
850:                   <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">print</span>(<span class="ruby-node">&quot;\b#{HighLine.Style(:erase_char).code}&quot;</span>)
851:                 <span class="ruby-keyword kw">else</span>
852:                     <span class="ruby-comment cmt"># do nothing</span>
853:                 <span class="ruby-keyword kw">end</span>
854:               <span class="ruby-keyword kw">else</span>
855:                 <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">echo</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>
856:                   <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">print</span>(<span class="ruby-identifier">character</span>.<span class="ruby-identifier">chr</span>)
857:                 <span class="ruby-keyword kw">else</span>
858:                   <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">print</span>(<span class="ruby-ivar">@question</span>.<span class="ruby-identifier">echo</span>)
859:                 <span class="ruby-keyword kw">end</span>
860:               <span class="ruby-keyword kw">end</span>
861:               <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">flush</span>
862:             <span class="ruby-keyword kw">end</span>
863:             <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">limit</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">limit</span>
864:           <span class="ruby-keyword kw">end</span>
865:         <span class="ruby-keyword kw">ensure</span>
866:           <span class="ruby-keyword kw">if</span> <span class="ruby-constant">JRUBY</span>
867:             <span class="ruby-ivar">@java_terminal</span>.<span class="ruby-identifier">enableEcho</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">enable_echo_afterwards</span>
868:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">stty</span>
869:             <span class="ruby-identifier">restore_mode</span>
870:           <span class="ruby-keyword kw">end</span>
871:         <span class="ruby-keyword kw">end</span>
872:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">overwrite</span>
873:           <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">print</span>(<span class="ruby-node">&quot;\r#{HighLine.Style(:erase_line).code}&quot;</span>)
874:           <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">flush</span>
875:         <span class="ruby-keyword kw">else</span>
876:           <span class="ruby-identifier">say</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
877:         <span class="ruby-keyword kw">end</span>
878: 
879:         <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">change_case</span>(<span class="ruby-ivar">@question</span>.<span class="ruby-identifier">remove_whitespace</span>(<span class="ruby-identifier">line</span>))
880:       <span class="ruby-keyword kw">end</span>
881:     <span class="ruby-keyword kw">else</span>
882:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">JRUBY</span>
883:         <span class="ruby-identifier">enable_echo_afterwards</span> = <span class="ruby-ivar">@java_terminal</span>.<span class="ruby-identifier">isEchoEnabled</span>
884:         <span class="ruby-ivar">@java_terminal</span>.<span class="ruby-identifier">disableEcho</span>
885:       <span class="ruby-keyword kw">end</span>
886:       <span class="ruby-keyword kw">begin</span>
887:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">character</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:getc</span>
888:           <span class="ruby-identifier">response</span> = <span class="ruby-identifier">get_single_character</span>(<span class="ruby-keyword kw">true</span>).<span class="ruby-identifier">chr</span>
889:         <span class="ruby-keyword kw">else</span>
890:           <span class="ruby-identifier">response</span> = <span class="ruby-identifier">get_single_character</span>(<span class="ruby-identifier">stty</span>).<span class="ruby-identifier">chr</span>
891:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">overwrite</span>
892:             <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">print</span>(<span class="ruby-node">&quot;\r#{HighLine.Style(:erase_line).code}&quot;</span>)
893:             <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">flush</span>
894:           <span class="ruby-keyword kw">else</span>
895:             <span class="ruby-identifier">echo</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">echo</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>
896:               <span class="ruby-identifier">response</span>
897:             <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">echo</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">false</span>
898:               <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">echo</span>
899:             <span class="ruby-keyword kw">else</span>
900:               <span class="ruby-value str">&quot;&quot;</span>
901:             <span class="ruby-keyword kw">end</span>
902:             <span class="ruby-identifier">say</span>(<span class="ruby-node">&quot;#{echo}\n&quot;</span>)
903:           <span class="ruby-keyword kw">end</span>
904:         <span class="ruby-keyword kw">end</span>
905:       <span class="ruby-keyword kw">ensure</span>
906:         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">JRUBY</span>
907:           <span class="ruby-ivar">@java_terminal</span>.<span class="ruby-identifier">enableEcho</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">enable_echo_afterwards</span>
908:         <span class="ruby-keyword kw">end</span>
909:       <span class="ruby-keyword kw">end</span>
910:       <span class="ruby-ivar">@question</span>.<span class="ruby-identifier">change_case</span>(<span class="ruby-identifier">response</span>)
911:     <span class="ruby-keyword kw">end</span>
912:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000106">
                    
                    <a name="M000106"></a><b>get_single_character</b>(is_stty)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000106_source')" id="l_M000106_source">show</a>
                        
                    </p>
                    <div id="M000106_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 794</span>
794:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_single_character</span>(<span class="ruby-identifier">is_stty</span>)
795:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">JRUBY</span>
796:       <span class="ruby-ivar">@java_console</span>.<span class="ruby-identifier">readVirtualKey</span>
797:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">is_stty</span>
798:       <span class="ruby-ivar">@input</span>.<span class="ruby-identifier">getbyte</span>
799:     <span class="ruby-keyword kw">else</span>
800:       <span class="ruby-identifier">get_character</span>(<span class="ruby-ivar">@input</span>)
801:     <span class="ruby-keyword kw">end</span>
802:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000108">
                    
                    <a name="M000108"></a><b>page_print</b>( output )
                    
                </div>
                
                <div class="description">
                  <p>
Page print a series of at most <em><a
href="HighLine.html#page_at">page_at</a></em> lines for <em>output</em>.
After each page is printed, <a href="HighLine.html">HighLine</a> will pause
until the user presses enter/return then display the next page of data.
</p>
<p>
Note that the final page of <em>output</em> is <b>not</b> printed, but
returned instead. This is to support any special handling for the final
sequence.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000108_source')" id="l_M000108_source">show</a>
                        
                    </p>
                    <div id="M000108_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 922</span>
922:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">page_print</span>( <span class="ruby-identifier">output</span> )
923:     <span class="ruby-identifier">lines</span> = <span class="ruby-identifier">output</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp re">/[^\n]*\n?/</span>)
924:     <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@page_at</span>
925:       <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-ivar">@page_at</span>).<span class="ruby-identifier">join</span>
926:       <span class="ruby-ivar">@output</span>.<span class="ruby-identifier">puts</span>
927:       <span class="ruby-comment cmt"># Return last line if user wants to abort paging</span>
928:       <span class="ruby-keyword kw">return</span> ([<span class="ruby-value str">&quot;...\n&quot;</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">-2</span>,<span class="ruby-value">1</span>)).<span class="ruby-identifier">join</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">continue_paging?</span>
929:     <span class="ruby-keyword kw">end</span>
930:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">join</span>
931:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000110">
                    
                    <a name="M000110"></a><b>wrap</b>( text )
                    
                </div>
                
                <div class="description">
                  <p>
Wrap a sequence of <em>lines</em> at <em><a
href="HighLine.html#wrap_at">wrap_at</a></em> characters per line. Existing
newlines will not be affected by this process, but additional newlines may
be added.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000110_source')" id="l_M000110_source">show</a>
                        
                    </p>
                    <div id="M000110_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 949</span>
949:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">wrap</span>( <span class="ruby-identifier">text</span> )
950:     <span class="ruby-identifier">wrapped</span> = [ ]
951:     <span class="ruby-identifier">text</span>.<span class="ruby-identifier">each_line</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
952:       <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">=~</span> <span class="ruby-node">/([^\n]{#{@wrap_at + 1},})/</span>
953:         <span class="ruby-identifier">search</span>  = <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">dup</span>
954:         <span class="ruby-identifier">replace</span> = <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">dup</span>
955:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">index</span> = <span class="ruby-identifier">replace</span>.<span class="ruby-identifier">rindex</span>(<span class="ruby-value str">&quot; &quot;</span>, <span class="ruby-ivar">@wrap_at</span>)
956:           <span class="ruby-identifier">replace</span>[<span class="ruby-identifier">index</span>, <span class="ruby-value">1</span>] = <span class="ruby-value str">&quot;\n&quot;</span>
957:           <span class="ruby-identifier">replace</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp re">/\n[ \t]+/</span>, <span class="ruby-value str">&quot;\n&quot;</span>)
958:           <span class="ruby-identifier">line</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-identifier">search</span>, <span class="ruby-identifier">replace</span>)
959:         <span class="ruby-keyword kw">else</span>
960:           <span class="ruby-identifier">line</span>[<span class="ruby-identifier">$~</span>.<span class="ruby-identifier">begin</span>(<span class="ruby-value">1</span>) <span class="ruby-operator">+</span> <span class="ruby-ivar">@wrap_at</span>, <span class="ruby-value">0</span>] = <span class="ruby-value str">&quot;\n&quot;</span>
961:         <span class="ruby-keyword kw">end</span>
962:       <span class="ruby-keyword kw">end</span>
963:       <span class="ruby-identifier">wrapped</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">line</span>
964:     <span class="ruby-keyword kw">end</span>
965:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">wrapped</span>.<span class="ruby-identifier">join</span>
966:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000037">
                    
                    <a name="M000037"></a><b>String</b>(s)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000037_source')" id="l_M000037_source">show</a>
                        
                    </p>
                    <div id="M000037_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/highline/string_extensions.rb, line 27</span>
27:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-constant">String</span>(<span class="ruby-identifier">s</span>)
28:     <span class="ruby-constant">HighLine</span><span class="ruby-operator">::</span><span class="ruby-constant">String</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span>)
29:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000048">
                    
                    <a name="M000048"></a><b>Style</b>(*args)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000048_source')" id="l_M000048_source">show</a>
                        
                    </p>
                    <div id="M000048_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/highline/style.rb, line 12</span>
12:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-constant">Style</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
13:     <span class="ruby-identifier">args</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">flatten</span>
14:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
15:       <span class="ruby-identifier">arg</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>
16:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Style</span>)
17:         <span class="ruby-constant">Style</span>.<span class="ruby-identifier">list</span>[<span class="ruby-identifier">arg</span>.<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">Style</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">arg</span>)
18:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">String</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">arg</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^\e\[/</span> <span class="ruby-comment cmt"># arg is a code</span>
19:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">styles</span> = <span class="ruby-constant">Style</span>.<span class="ruby-identifier">code_index</span>[<span class="ruby-identifier">arg</span>]
20:           <span class="ruby-identifier">styles</span>.<span class="ruby-identifier">first</span>
21:         <span class="ruby-keyword kw">else</span>
22:           <span class="ruby-constant">Style</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:code=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">arg</span>)
23:         <span class="ruby-keyword kw">end</span>
24:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">style</span> = <span class="ruby-constant">Style</span>.<span class="ruby-identifier">list</span>[<span class="ruby-identifier">arg</span>]
25:         <span class="ruby-identifier">style</span>
26:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">HighLine</span>.<span class="ruby-identifier">color_scheme</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">HighLine</span>.<span class="ruby-identifier">color_scheme</span>[<span class="ruby-identifier">arg</span>]
27:         <span class="ruby-constant">HighLine</span>.<span class="ruby-identifier">color_scheme</span>[<span class="ruby-identifier">arg</span>]
28:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
29:         <span class="ruby-constant">Style</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">arg</span>)
30:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^rgb_([a-f0-9]{6})$/</span>
31:         <span class="ruby-constant">Style</span>.<span class="ruby-identifier">rgb</span>(<span class="ruby-identifier">$1</span>)
32:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^on_rgb_([a-f0-9]{6})$/</span>
33:         <span class="ruby-constant">Style</span>.<span class="ruby-identifier">rgb</span>(<span class="ruby-identifier">$1</span>).<span class="ruby-identifier">on</span>
34:       <span class="ruby-keyword kw">else</span>
35:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">NameError</span>, <span class="ruby-node">&quot;#{arg.inspect} is not a defined Style&quot;</span>
36:       <span class="ruby-keyword kw">end</span>
37:     <span class="ruby-keyword kw">else</span>
38:       <span class="ruby-identifier">name</span> = <span class="ruby-identifier">args</span>
39:       <span class="ruby-constant">Style</span>.<span class="ruby-identifier">list</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">Style</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:list=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">args</span>)
40:     <span class="ruby-keyword kw">end</span>
41:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000091">
                    
                    <a name="M000091"></a><b>color</b>( string, *colors )
                    
                </div>
                
                <div class="description">
                  <p>
This method provides easy access to ANSI color sequences, without the user
needing to remember to CLEAR at the end of each sequence. Just pass the
<em>string</em> to color, followed by a list of <em>colors</em> you would
like it to be affected by. The <em>colors</em> can be <a
href="HighLine.html">HighLine</a> class constants, or symbols (:blue for
BLUE, for example). A CLEAR will automatically be embedded to the end of
the returned <a href="HighLine.html#M000037">String</a>.
</p>
<p>
This method returns the original <em>string</em> unchanged if
HighLine::use_color? is <tt>false</tt>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000091_source')" id="l_M000091_source">show</a>
                        
                    </p>
                    <div id="M000091_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 377</span>
377:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">color</span>( <span class="ruby-identifier">string</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">colors</span> )
378:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">string</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">use_color?</span>
379:     <span class="ruby-constant">Style</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">colors</span>).<span class="ruby-identifier">color</span>(<span class="ruby-identifier">string</span>)
380:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000092">
                    
                    <a name="M000092"></a><b>color_code</b>(*colors)
                    
                </div>
                
                <div class="description">
                  <p>
In case you just want the color code, without the embedding and the CLEAR
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000092_source')" id="l_M000092_source">show</a>
                        
                    </p>
                    <div id="M000092_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 383</span>
383:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">color_code</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">colors</span>)
384:     <span class="ruby-constant">Style</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">colors</span>).<span class="ruby-identifier">code</span>
385:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000084">
                    
                    <a name="M000084"></a><b>color_scheme</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the current color scheme.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000084_source')" id="l_M000084_source">show</a>
                        
                    </p>
                    <div id="M000084_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/highline.rb, line 82</span>
82:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">color_scheme</span>
83:     <span class="ruby-ivar">@@color_scheme</span>
84:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000083">
                    
                    <a name="M000083"></a><b>color_scheme=</b>( setting )
                    
                </div>
                
                <div class="description">
                  <p>
Pass <a href="HighLine/ColorScheme.html">ColorScheme</a> to
<em>setting</em> to turn set a <a href="HighLine.html">HighLine</a> color
scheme.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000083_source')" id="l_M000083_source">show</a>
                        
                    </p>
                    <div id="M000083_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/highline.rb, line 77</span>
77:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">color_scheme=</span>( <span class="ruby-identifier">setting</span> )
78:     <span class="ruby-ivar">@@color_scheme</span> = <span class="ruby-identifier">setting</span>
79:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000047">
                    
                    <a name="M000047"></a><b>colorize_strings</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000047_source')" id="l_M000047_source">show</a>
                        
                    </p>
                    <div id="M000047_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline/string_extensions.rb, line 98</span>
 98:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">colorize_strings</span>
 99:     <span class="ruby-operator">::</span><span class="ruby-constant">String</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:include</span>, <span class="ruby-constant">StringExtensions</span>)
100:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000086">
                    
                    <a name="M000086"></a><b>const_missing</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
For RGB colors:
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000086_source')" id="l_M000086_source">show</a>
                        
                    </p>
                    <div id="M000086_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 150</span>
150:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">const_missing</span>(<span class="ruby-identifier">name</span>)
151:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^(ON_)?(RGB_)([A-F0-9]{6})(_STYLE)?$/</span> <span class="ruby-comment cmt"># RGB color</span>
152:       <span class="ruby-identifier">on</span> = <span class="ruby-identifier">$1</span>
153:       <span class="ruby-identifier">suffix</span> = <span class="ruby-identifier">$4</span>
154:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">suffix</span>
155:         <span class="ruby-identifier">code_name</span> = <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">$2</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">$3</span>
156:       <span class="ruby-keyword kw">else</span>
157:         <span class="ruby-identifier">code_name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>
158:       <span class="ruby-keyword kw">end</span>
159:       <span class="ruby-identifier">style_name</span> = <span class="ruby-identifier">code_name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'_STYLE'</span>
160:       <span class="ruby-identifier">style</span> = <span class="ruby-constant">Style</span>.<span class="ruby-identifier">rgb</span>(<span class="ruby-identifier">$3</span>)
161:       <span class="ruby-identifier">style</span> = <span class="ruby-identifier">style</span>.<span class="ruby-identifier">on</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">on</span>
162:       <span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">style_name</span>, <span class="ruby-identifier">style</span>)
163:       <span class="ruby-identifier">const_set</span>(<span class="ruby-identifier">code_name</span>, <span class="ruby-identifier">style</span>.<span class="ruby-identifier">code</span>)
164:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">suffix</span>
165:         <span class="ruby-identifier">style</span>
166:       <span class="ruby-keyword kw">else</span>
167:         <span class="ruby-identifier">style</span>.<span class="ruby-identifier">code</span>
168:       <span class="ruby-keyword kw">end</span>
169:     <span class="ruby-keyword kw">else</span>
170:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">NameError</span>, <span class="ruby-node">&quot;Bad color or uninitialized constant #{name}&quot;</span>
171:     <span class="ruby-keyword kw">end</span>
172:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000087">
                    
                    <a name="M000087"></a><b>new</b>( input = $stdin, output = $stdout, wrap_at = nil, page_at = nil )
                    
                </div>
                
                <div class="description">
                  <p>
Create an instance of <a href="HighLine.html">HighLine</a>, connected to
the streams <em>input</em> and <em>output</em>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000087_source')" id="l_M000087_source">show</a>
                        
                    </p>
                    <div id="M000087_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 178</span>
178:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>( <span class="ruby-identifier">input</span> = <span class="ruby-identifier">$stdin</span>, <span class="ruby-identifier">output</span> = <span class="ruby-identifier">$stdout</span>,
179:                   <span class="ruby-identifier">wrap_at</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">page_at</span> = <span class="ruby-keyword kw">nil</span> )
180:     <span class="ruby-ivar">@input</span>   = <span class="ruby-identifier">input</span>
181:     <span class="ruby-ivar">@output</span>  = <span class="ruby-identifier">output</span>
182:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">JRUBY</span>
183:       <span class="ruby-identifier">require</span> <span class="ruby-value str">'java'</span>
184:       <span class="ruby-identifier">java_import</span> <span class="ruby-value str">'java.io.OutputStreamWriter'</span>
185:       <span class="ruby-identifier">java_import</span> <span class="ruby-value str">'java.nio.channels.Channels'</span>
186:       <span class="ruby-identifier">java_import</span> <span class="ruby-value str">'jline.ConsoleReader'</span>
187:       <span class="ruby-identifier">java_import</span> <span class="ruby-value str">'jline.Terminal'</span>
188: 
189:       <span class="ruby-ivar">@java_input</span> = <span class="ruby-constant">Channels</span>.<span class="ruby-identifier">newInputStream</span>(<span class="ruby-identifier">$stdin</span>.<span class="ruby-identifier">to_channel</span>)
190:       <span class="ruby-ivar">@java_output</span> = <span class="ruby-constant">OutputStreamWriter</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Channels</span>.<span class="ruby-identifier">newOutputStream</span>(<span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">to_channel</span>))
191:       <span class="ruby-ivar">@java_terminal</span> = <span class="ruby-constant">Terminal</span>.<span class="ruby-identifier">getTerminal</span>
192:       <span class="ruby-ivar">@java_console</span> = <span class="ruby-constant">ConsoleReader</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@java_input</span>, <span class="ruby-ivar">@java_output</span>)
193:       <span class="ruby-ivar">@java_console</span>.<span class="ruby-identifier">setUseHistory</span>(<span class="ruby-keyword kw">false</span>)
194:       <span class="ruby-ivar">@java_console</span>.<span class="ruby-identifier">setBellEnabled</span>(<span class="ruby-keyword kw">true</span>)
195:       <span class="ruby-ivar">@java_console</span>.<span class="ruby-identifier">setUsePagination</span>(<span class="ruby-keyword kw">false</span>)
196:     <span class="ruby-keyword kw">end</span>
197:     
198:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">wrap_at</span> = <span class="ruby-identifier">wrap_at</span>
199:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">page_at</span> = <span class="ruby-identifier">page_at</span>
200:     
201:     <span class="ruby-ivar">@question</span> = <span class="ruby-keyword kw">nil</span>
202:     <span class="ruby-ivar">@answer</span>   = <span class="ruby-keyword kw">nil</span>
203:     <span class="ruby-ivar">@menu</span>     = <span class="ruby-keyword kw">nil</span>
204:     <span class="ruby-ivar">@header</span>   = <span class="ruby-keyword kw">nil</span>
205:     <span class="ruby-ivar">@prompt</span>   = <span class="ruby-keyword kw">nil</span>
206:     <span class="ruby-ivar">@gather</span>   = <span class="ruby-keyword kw">nil</span>
207:     <span class="ruby-ivar">@answers</span>  = <span class="ruby-keyword kw">nil</span>
208:     <span class="ruby-ivar">@key</span>      = <span class="ruby-keyword kw">nil</span>
209:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000080">
                    
                    <a name="M000080"></a><b>supports_rgb_color?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
For checking if the current version of <a href="HighLine.html">HighLine</a>
supports RGB colors Usage: <a
href="HighLine.html#M000080">HighLine.supports_rgb_color?</a> rescue false
# rescue for compatibility with older versions Note: color usage also
depends on HighLine.use_color being set
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000080_source')" id="l_M000080_source">show</a>
                        
                    </p>
                    <div id="M000080_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/highline.rb, line 56</span>
56:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">supports_rgb_color?</span>
57:     <span class="ruby-keyword kw">true</span>
58:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000081">
                    
                    <a name="M000081"></a><b>track_eof=</b>( setting )
                    
                </div>
                
                <div class="description">
                  <p>
Pass <tt>false</tt> to <em>setting</em> to turn off HighLine&#8217;s EOF
tracking.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000081_source')" id="l_M000081_source">show</a>
                        
                    </p>
                    <div id="M000081_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/highline.rb, line 64</span>
64:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">track_eof=</span>( <span class="ruby-identifier">setting</span> )
65:     <span class="ruby-ivar">@@track_eof</span> = <span class="ruby-identifier">setting</span>
66:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000082">
                    
                    <a name="M000082"></a><b>track_eof?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if <a href="HighLine.html">HighLine</a> is currently tracking
EOF for input.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000082_source')" id="l_M000082_source">show</a>
                        
                    </p>
                    <div id="M000082_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/highline.rb, line 69</span>
69:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">track_eof?</span>
70:     <span class="ruby-ivar">@@track_eof</span>
71:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000095">
                    
                    <a name="M000095"></a><b>uncolor</b>(string)
                    
                </div>
                
                <div class="description">
                  <p>
Remove color codes from a string
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000095_source')" id="l_M000095_source">show</a>
                        
                    </p>
                    <div id="M000095_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/highline.rb, line 398</span>
398:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">uncolor</span>(<span class="ruby-identifier">string</span>)
399:     <span class="ruby-constant">Style</span>.<span class="ruby-identifier">uncolor</span>(<span class="ruby-identifier">string</span>)
400:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000078">
                    
                    <a name="M000078"></a><b>use_color=</b>( setting )
                    
                </div>
                
                <div class="description">
                  <p>
Pass <tt>false</tt> to <em>setting</em> to turn off HighLine&#8217;s color
escapes.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000078_source')" id="l_M000078_source">show</a>
                        
                    </p>
                    <div id="M000078_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/highline.rb, line 44</span>
44:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">use_color=</span>( <span class="ruby-identifier">setting</span> )
45:     <span class="ruby-ivar">@@use_color</span> = <span class="ruby-identifier">setting</span>
46:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000079">
                    
                    <a name="M000079"></a><b>use_color?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if <a href="HighLine.html">HighLine</a> is currently using
color escapes.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000079_source')" id="l_M000079_source">show</a>
                        
                    </p>
                    <div id="M000079_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/highline.rb, line 49</span>
49:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">use_color?</span>
50:     <span class="ruby-ivar">@@use_color</span>
51:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000085">
                    
                    <a name="M000085"></a><b>using_color_scheme?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if <a href="HighLine.html">HighLine</a> is currently
using a color scheme.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000085_source')" id="l_M000085_source">show</a>
                        
                    </p>
                    <div id="M000085_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/highline.rb, line 87</span>
87:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">using_color_scheme?</span>
88:     <span class="ruby-keyword kw">not</span> <span class="ruby-ivar">@@color_scheme</span>.<span class="ruby-identifier">nil?</span>
89:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    