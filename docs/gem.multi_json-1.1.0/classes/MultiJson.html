<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>MultiJson</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            MultiJson 
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/lib/multi_json/engines/json_common_rb.html">lib/multi_json/engines/json_common.rb</a></li>
            
            <li><a href="../files/lib/multi_json/engines/json_gem_rb.html">lib/multi_json/engines/json_gem.rb</a></li>
            
            <li><a href="../files/lib/multi_json/engines/json_pure_rb.html">lib/multi_json/engines/json_pure.rb</a></li>
            
            <li><a href="../files/lib/multi_json/engines/nsjsonserialization_rb.html">lib/multi_json/engines/nsjsonserialization.rb</a></li>
            
            <li><a href="../files/lib/multi_json/engines/ok_json_rb.html">lib/multi_json/engines/ok_json.rb</a></li>
            
            <li><a href="../files/lib/multi_json/engines/yajl_rb.html">lib/multi_json/engines/yajl.rb</a></li>
            
            <li><a href="../files/lib/multi_json/version_rb.html">lib/multi_json/version.rb</a></li>
            
            <li><a href="../files/lib/multi_json_rb.html">lib/multi_json.rb</a></li>
            
            <li><a href="../files/lib/multi_json/vendor/ok_json_rb.html">lib/multi_json/vendor/ok_json.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Some parts adapted from <a
href="http://golang.org/src/pkg/json/decode.go">golang.org/src/pkg/json/decode.go</a>
and <a
href="http://golang.org/src/pkg/utf8/utf8.go">golang.org/src/pkg/utf8/utf8.go</a>
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000018">decode</a>,</li>
                
                <li><a href="#M000015">default_engine</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000019">encode</a>,</li>
                
                <li><a href="#M000013">engine</a>,</li>
                
                <li><a href="#M000016">engine=</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">MODULE</span> <a href="MultiJson/Engines.html">MultiJson::Engines</a></li>
        
        <li><span class="type">MODULE</span> <a href="MultiJson/OkJson.html">MultiJson::OkJson</a></li>
        
        <li><span class="type">CLASS</span> <a href="MultiJson/DecodeError.html">MultiJson::DecodeError</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">VERSION</td>
            <td>=</td>
            <td class="attr-value">&quot;1.1.0&quot;</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">REQUIREMENT_MAP</td>
            <td>=</td>
            <td class="attr-value">[     [&quot;yajl&quot;, :yajl],     [&quot;json&quot;, :json_gem],     [&quot;json/pure&quot;, :json_pure]   ]</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">DEFAULT_ENGINE_WARNING</td>
            <td>=</td>
            <td class="attr-value">'Warning: multi_json is using default ok_json engine. Suggested action: require and load an appropriate JSON library.'</td>
        </tr>
        
        
    </table>
    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000018">
                    
                    <a name="M000018"></a><b>decode</b>(string, options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Decode a JSON string into Ruby.
</p>
<p>
<b>Options</b>
</p>
<table>
<tr><td valign="top"><tt>:symbolize_keys</tt> :</td><td>If true, will use symbols instead of strings for the keys.

</td></tr>
</table>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000018_source')" id="l_M000018_source">show</a>
                        
                    </p>
                    <div id="M000018_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/multi_json.rb, line 78</span>
78:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">decode</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">options</span> = {})
79:     <span class="ruby-identifier">engine</span>.<span class="ruby-identifier">decode</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">options</span>)
80:   <span class="ruby-keyword kw">rescue</span> <span class="ruby-identifier">engine</span><span class="ruby-operator">::</span><span class="ruby-constant">ParseError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">exception</span>
81:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">DecodeError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">exception</span>.<span class="ruby-identifier">message</span>, <span class="ruby-identifier">exception</span>.<span class="ruby-identifier">backtrace</span>, <span class="ruby-identifier">string</span>)
82:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000015">
                    
                    <a name="M000015"></a><b>default_engine</b>()
                    
                </div>
                
                <div class="description">
                  <p>
The default engine based on what you currently have loaded and installed.
First checks to see if any engines are already loaded, then checks to see
which are installed if none are loaded.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000015_source')" id="l_M000015_source">show</a>
                        
                    </p>
                    <div id="M000015_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/multi_json.rb, line 34</span>
34:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">default_engine</span>
35:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">:yajl</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Yajl</span>)
36:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">:json_gem</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">JSON</span>)
37: 
38:     <span class="ruby-constant">REQUIREMENT_MAP</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span>(<span class="ruby-identifier">library</span>, <span class="ruby-identifier">engine</span>)<span class="ruby-operator">|</span>
39:       <span class="ruby-keyword kw">begin</span>
40:         <span class="ruby-identifier">require</span> <span class="ruby-identifier">library</span>
41:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">engine</span>
42:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span>
43:         <span class="ruby-keyword kw">next</span>
44:       <span class="ruby-keyword kw">end</span>
45:     <span class="ruby-keyword kw">end</span>
46: 
47:     <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">warn</span> <span class="ruby-constant">DEFAULT_ENGINE_WARNING</span>
48:     <span class="ruby-identifier">:ok_json</span>
49:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000019">
                    
                    <a name="M000019"></a><b>encode</b>(object, options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Encodes a Ruby object as JSON.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000019_source')" id="l_M000019_source">show</a>
                        
                    </p>
                    <div id="M000019_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/multi_json.rb, line 85</span>
85:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">encode</span>(<span class="ruby-identifier">object</span>, <span class="ruby-identifier">options</span> = {})
86:     <span class="ruby-identifier">engine</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-identifier">object</span>, <span class="ruby-identifier">options</span>)
87:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000013">
                    
                    <a name="M000013"></a><b>engine</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Get the current engine class.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000013_source')" id="l_M000013_source">show</a>
                        
                    </p>
                    <div id="M000013_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/multi_json.rb, line 16</span>
16:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">engine</span>
17:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@engine</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@engine</span>
18:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">engine</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">default_engine</span>
19:     <span class="ruby-ivar">@engine</span>
20:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000016">
                    
                    <a name="M000016"></a><b>engine=</b>(new_engine)
                    
                </div>
                
                <div class="description">
                  <p>
Set the JSON parser utilizing a symbol, string, or class. Supported by
default are:
</p>
<ul>
<li><tt>:json_gem</tt>

</li>
<li><tt>:json_pure</tt>

</li>
<li><tt>:ok_json</tt>

</li>
<li><tt>:yajl</tt>

</li>
<li><tt>:nsjsonserialization</tt> (MacRuby only)

</li>
</ul>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000016_source')" id="l_M000016_source">show</a>
                        
                    </p>
                    <div id="M000016_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/multi_json.rb, line 59</span>
59:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">engine=</span>(<span class="ruby-identifier">new_engine</span>)
60:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">new_engine</span>
61:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span>, <span class="ruby-constant">Symbol</span>
62:       <span class="ruby-identifier">require</span> <span class="ruby-node">&quot;multi_json/engines/#{new_engine}&quot;</span>
63:       <span class="ruby-ivar">@engine</span> = <span class="ruby-constant">MultiJson</span><span class="ruby-operator">::</span><span class="ruby-constant">Engines</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-node">&quot;#{new_engine.to_s.split('_').map{|s| s.capitalize}.join('')}&quot;</span>)
64:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">NilClass</span>
65:       <span class="ruby-ivar">@engine</span> = <span class="ruby-keyword kw">nil</span>
66:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Class</span>
67:       <span class="ruby-ivar">@engine</span> = <span class="ruby-identifier">new_engine</span>
68:     <span class="ruby-keyword kw">else</span>
69:       <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;Did not recognize your engine specification. Please specify either a symbol or a class.&quot;</span>
70:     <span class="ruby-keyword kw">end</span>
71:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    