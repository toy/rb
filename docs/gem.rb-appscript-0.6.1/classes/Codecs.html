<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Codecs</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Codecs 
            
                <span class="parent">&lt; 
                    
                    Object
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/lib/_aem/codecs_rb.html">lib/_aem/codecs.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000032">add_unit_types</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000036">dont_cache_unpacked_specifiers</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000120">fully_unpack_object_specifier</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000031">new</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000048">pack</a>,</li>
                
                <li><a href="#M000069">pack_array</a>,</li>
                
                <li><a href="#M000070">pack_hash</a>,</li>
                
                <li><a href="#M000037">pack_strings_as_type</a>,</li>
                
                <li><a href="#M000064">pack_uint64</a>,</li>
                
                <li><a href="#M000047">pack_unknown</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M000075">unpack</a>,</li>
                
                <li><a href="#M000097">unpack_aelist</a>,</li>
                
                <li><a href="#M000098">unpack_aerecord</a>,</li>
                
                <li><a href="#M000144">unpack_comp_descriptor</a>,</li>
                
                <li><a href="#M000139">unpack_contains_comp_descriptor</a>,</li>
                
                <li><a href="#M000137">unpack_current_container</a>,</li>
                
                <li><a href="#M000105">unpack_enumerated</a>,</li>
                
                <li><a href="#M000133">unpack_insertion_loc</a>,</li>
                
                <li><a href="#M000107">unpack_keyword</a>,</li>
                
                <li><a href="#M000146">unpack_logical_descriptor</a>,</li>
                
                <li><a href="#M000138">unpack_object_being_examined</a>,</li>
                
                <li><a href="#M000127">unpack_object_specifier</a>,</li>
                
                <li><a href="#M000106">unpack_property</a>,</li>
                
                <li><a href="#M000099">unpack_type</a>,</li>
                
                <li><a href="#M000071">unpack_unknown</a>,</li>
                
                <li><a href="#M000040">use_ascii_8bit</a>,</li>
                
                <li><a href="#M000041">use_datetime</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">App</td>
            <td>=</td>
            <td class="attr-value">AEMReference::App</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Subclasses could override these to provide their own reference roots if
needed
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">Con</td>
            <td>=</td>
            <td class="attr-value">AEMReference::Con</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">Its</td>
            <td>=</td>
            <td class="attr-value">AEMReference::Its</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">SInt32Bounds</td>
            <td>=</td>
            <td class="attr-value">(-2**31)..(2**31-1)</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Pack
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">SInt64Bounds</td>
            <td>=</td>
            <td class="attr-value">(-2**63)..(2**63-1)</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">UInt64Bounds</td>
            <td>=</td>
            <td class="attr-value">(2**63)..(2**64-1)</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">NullDesc</td>
            <td>=</td>
            <td class="attr-value">AE::AEDesc.new(KAE::TypeNull, '')</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">TrueDesc</td>
            <td>=</td>
            <td class="attr-value">AE::AEDesc.new(KAE::TypeTrue, '')</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FalseDesc</td>
            <td>=</td>
            <td class="attr-value">AE::AEDesc.new(KAE::TypeFalse, '')</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">AbsoluteOrdinals</td>
            <td>=</td>
            <td class="attr-value">{       Codecs.four_char_code(KAE::KAEFirst) =&gt; 'first',        Codecs.four_char_code(KAE::KAELast) =&gt; 'last',        Codecs.four_char_code(KAE::KAEMiddle) =&gt; 'middle',        Codecs.four_char_code(KAE::KAEAny) =&gt; 'any',       }</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Lookup tables for converting enumerator, ordinal codes to aem reference
method names. Used by <a
href="Codecs.html#M000127">unpack_object_specifier</a>, <a
href="Codecs.html#M000120">fully_unpack_object_specifier</a> to construct
aem references.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">AllAbsoluteOrdinal</td>
            <td>=</td>
            <td class="attr-value">Codecs.four_char_code(KAE::KAEAll)</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">RelativePositionEnums</td>
            <td>=</td>
            <td class="attr-value">{       Codecs.four_char_code(KAE::KAEPrevious) =&gt; 'previous',        Codecs.four_char_code(KAE::KAENext) =&gt; 'next',        }</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">InsertionLocEnums</td>
            <td>=</td>
            <td class="attr-value">{       Codecs.four_char_code(KAE::KAEBefore) =&gt; 'before',        Codecs.four_char_code(KAE::KAEAfter) =&gt; 'after',        Codecs.four_char_code(KAE::KAEBeginning) =&gt; 'beginning',       Codecs.four_char_code(KAE::KAEEnd) =&gt; 'end',       }</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">ComparisonEnums</td>
            <td>=</td>
            <td class="attr-value">{       Codecs.four_char_code(KAE::KAEGreaterThan) =&gt; 'gt',       Codecs.four_char_code(KAE::KAEGreaterThanEquals) =&gt; 'ge',       Codecs.four_char_code(KAE::KAEEquals) =&gt; 'eq',       Codecs.four_char_code(KAE::KAELessThan) =&gt; 'lt',       Codecs.four_char_code(KAE::KAELessThanEquals) =&gt; 'le',       Codecs.four_char_code(KAE::KAEBeginsWith) =&gt; 'begins_with',       Codecs.four_char_code(KAE::KAEEndsWith) =&gt; 'ends_with',       Codecs.four_char_code(KAE::KAEContains) =&gt; 'contains',       }</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">LogicalEnums</td>
            <td>=</td>
            <td class="attr-value">{       Codecs.four_char_code(KAE::KAEAND) =&gt; 'and',       Codecs.four_char_code(KAE::KAEOR) =&gt; 'or',       Codecs.four_char_code(KAE::KAENOT) =&gt; 'not',       }</td>
        </tr>
        
        
    </table>
    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000031">
                    
                    <a name="M000031"></a><b>new</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000031_source')" id="l_M000031_source">show</a>
                        
                    </p>
                    <div id="M000031_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 144</span>
144:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>
145:     <span class="ruby-ivar">@unit_type_codecs</span> = <span class="ruby-constant">UnitTypeCodecs</span>.<span class="ruby-identifier">new</span>
146:     <span class="ruby-comment cmt"># Note: while typeUnicodeText is deprecated (see AEDataModel.h), it's still the</span>
147:     <span class="ruby-comment cmt"># most commonly used Unicode type so is used here for compatibility's sake.</span>
148:     <span class="ruby-comment cmt"># typeUTF8Text was initially tried, but existing applications had problems with it; i.e.</span>
149:     <span class="ruby-comment cmt"># some apps make unsafe assumptions on what to expect based on AS's behaviour.</span>
150:     <span class="ruby-comment cmt"># Once AppleScript is using typeUTF8Text/typeUTF16ExternalRepresentation</span>
151:     <span class="ruby-comment cmt"># and existing applications don't choke, this code can be similarly upgraded.</span>
152:     <span class="ruby-ivar">@pack_text_as_type</span> = <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeUnicodeText</span>
153:     <span class="ruby-comment cmt"># on Ruby 1.9+, set String encoding to UTF-8</span>
154:     <span class="ruby-ivar">@encoding_support</span> = <span class="ruby-constant">AEMEncodingSupport</span>.<span class="ruby-identifier">encoding_support</span>
155:     <span class="ruby-ivar">@unpack_dates_as_datetime</span> = <span class="ruby-keyword kw">false</span>
156:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000032">
                    
                    <a name="M000032"></a><b>add_unit_types</b>(type_defs)
                    
                </div>
                
                <div class="description">
                  <p>
Compatibility options
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000032_source')" id="l_M000032_source">show</a>
                        
                    </p>
                    <div id="M000032_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 161</span>
161:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_unit_types</span>(<span class="ruby-identifier">type_defs</span>)
162:     <span class="ruby-comment cmt"># register custom unit type definitions with this Codecs instance</span>
163:     <span class="ruby-comment cmt"># e.g. Adobe apps define additional unit types (ciceros, pixels, etc.)</span>
164:     <span class="ruby-ivar">@unit_type_codecs</span>.<span class="ruby-identifier">add_types</span>(<span class="ruby-identifier">type_defs</span>)
165:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000036">
                    
                    <a name="M000036"></a><b>dont_cache_unpacked_specifiers</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000036_source')" id="l_M000036_source">show</a>
                        
                    </p>
                    <div id="M000036_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 167</span>
167:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dont_cache_unpacked_specifiers</span>
168:     <span class="ruby-comment cmt"># When unpacking object specifiers, unlike AppleScript, appscript caches</span>
169:     <span class="ruby-comment cmt"># the original AEDesc for efficiency, allowing the resulting reference to</span>
170:     <span class="ruby-comment cmt"># be re-packed much more quickly. Occasionally this causes compatibility</span>
171:     <span class="ruby-comment cmt"># problems with applications that returned subtly malformed specifiers.</span>
172:     <span class="ruby-comment cmt"># To force a Codecs object to fully unpack and repack object specifiers,</span>
173:     <span class="ruby-comment cmt"># call its dont_cache_unpacked_specifiers method.</span>
174:     <span class="ruby-identifier">extend</span>(<span class="ruby-constant">DisableObjectSpecifierCaching</span>)
175:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000120">
                    
                    <a name="M000120"></a><b>fully_unpack_object_specifier</b>(desc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000120_source')" id="l_M000120_source">show</a>
                        
                    </p>
                    <div id="M000120_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 528</span>
528:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fully_unpack_object_specifier</span>(<span class="ruby-identifier">desc</span>)
529:     <span class="ruby-comment cmt"># Recursively unpack an object specifier and all of its container descs.</span>
530:     <span class="ruby-comment cmt"># (Note: Codecs#unpack_object_specifier and AEMReference::DeferredSpecifier#_real_ref will call this when needed.)</span>
531:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">type</span>
532:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeObjectSpecifier</span>
533:         <span class="ruby-identifier">want</span> = <span class="ruby-constant">Codecs</span>.<span class="ruby-identifier">four_char_code</span>(<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">get_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyAEDesiredClass</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeType</span>).<span class="ruby-identifier">data</span>)
534:         <span class="ruby-identifier">key_form</span> = <span class="ruby-constant">Codecs</span>.<span class="ruby-identifier">four_char_code</span>(<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">get_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyAEKeyForm</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeEnumeration</span>).<span class="ruby-identifier">data</span>)
535:         <span class="ruby-identifier">key</span> = <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">get_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyAEKeyData</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeWildCard</span>)
536:         <span class="ruby-identifier">ref</span> = <span class="ruby-identifier">fully_unpack_object_specifier</span>(<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">get_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyAEContainer</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeWildCard</span>))
537:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">key_form</span>
538:           <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">FormPropertyID</span>
539:             <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ref</span>.<span class="ruby-identifier">property</span>(<span class="ruby-constant">Codecs</span>.<span class="ruby-identifier">four_char_code</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">data</span>))
540:           <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">FormUserPropertyID</span>
541:             <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ref</span>.<span class="ruby-identifier">userproperty</span>(<span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">key</span>))
542:           <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">FormRelativePosition</span>
543:             <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ref</span>.<span class="ruby-identifier">send</span>(<span class="ruby-constant">RelativePositionEnums</span>[<span class="ruby-identifier">key</span>.<span class="ruby-identifier">data</span>], <span class="ruby-identifier">want</span>)
544:         <span class="ruby-keyword kw">else</span>
545:           <span class="ruby-identifier">ref</span> = <span class="ruby-identifier">ref</span>.<span class="ruby-identifier">elements</span>(<span class="ruby-identifier">want</span>)
546:           <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">key_form</span>
547:             <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">FormAbsolutePosition</span>
548:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeAbsoluteOrdinal</span>
549:                 <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">data</span> <span class="ruby-operator">==</span> <span class="ruby-constant">AllAbsoluteOrdinal</span>
550:                   <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ref</span>
551:                 <span class="ruby-keyword kw">else</span>
552:                   <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ref</span>.<span class="ruby-identifier">send</span>(<span class="ruby-constant">AbsoluteOrdinals</span>[<span class="ruby-identifier">key</span>.<span class="ruby-identifier">data</span>])
553:                 <span class="ruby-keyword kw">end</span>
554:               <span class="ruby-keyword kw">else</span>
555:                 <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ref</span>.<span class="ruby-identifier">by_index</span>(<span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">key</span>))
556:               <span class="ruby-keyword kw">end</span>
557:             <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">FormName</span>
558:               <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ref</span>.<span class="ruby-identifier">by_name</span>(<span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">key</span>))
559:             <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">FormUniqueID</span>
560:               <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ref</span>.<span class="ruby-identifier">by_id</span>(<span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">key</span>))
561:             <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">FormRange</span>
562:               <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ref</span>.<span class="ruby-identifier">by_range</span>(
563:                   <span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">get_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyAERangeStart</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeWildCard</span>)),
564:                   <span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">get_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyAERangeStop</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeWildCard</span>)))
565:             <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">FormTest</span>
566:               <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ref</span>.<span class="ruby-identifier">by_filter</span>(<span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">key</span>))
567:           <span class="ruby-keyword kw">end</span>
568:         <span class="ruby-keyword kw">end</span>
569:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>
570:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeNull</span> <span class="ruby-keyword kw">then</span> <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span><span class="ruby-operator">::</span><span class="ruby-constant">App</span>
571:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeCurrentContainer</span> <span class="ruby-keyword kw">then</span> <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span><span class="ruby-operator">::</span><span class="ruby-constant">Con</span>
572:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeObjectBeingExamined</span> <span class="ruby-keyword kw">then</span> <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span><span class="ruby-operator">::</span><span class="ruby-constant">Its</span>
573:     <span class="ruby-keyword kw">else</span>
574:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">desc</span>)
575:     <span class="ruby-keyword kw">end</span>
576:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000048">
                    
                    <a name="M000048"></a><b>pack</b>(val)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000048_source')" id="l_M000048_source">show</a>
                        
                    </p>
                    <div id="M000048_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 232</span>
232:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pack</span>(<span class="ruby-identifier">val</span>) <span class="ruby-comment cmt"># clients may override this to replace existing packers</span>
233:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">val</span>
234:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">AEMReference</span><span class="ruby-operator">::</span><span class="ruby-constant">Query</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">val</span>.<span class="ruby-constant">AEM_pack_self</span>(<span class="ruby-keyword kw">self</span>)
235:       
236:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Fixnum</span>, <span class="ruby-constant">Bignum</span> <span class="ruby-keyword kw">then</span>
237:         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">SInt32Bounds</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">val</span>
238:           <span class="ruby-constant">AE</span><span class="ruby-operator">::</span><span class="ruby-constant">AEDesc</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeSInt32</span>, [<span class="ruby-identifier">val</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'l'</span>)) 
239:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">SInt64Bounds</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">val</span>
240:           <span class="ruby-constant">AE</span><span class="ruby-operator">::</span><span class="ruby-constant">AEDesc</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeSInt64</span>, [<span class="ruby-identifier">val</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'q'</span>))
241:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">UInt64Bounds</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">val</span>
242:           <span class="ruby-identifier">pack_uint64</span>(<span class="ruby-identifier">val</span>)
243:         <span class="ruby-keyword kw">else</span>
244:           <span class="ruby-constant">AE</span><span class="ruby-operator">::</span><span class="ruby-constant">AEDesc</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeFloat</span>, [<span class="ruby-identifier">val</span>.<span class="ruby-identifier">to_f</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'d'</span>))
245:         <span class="ruby-keyword kw">end</span>
246:       
247:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span> <span class="ruby-keyword kw">then</span> 
248:         <span class="ruby-ivar">@encoding_support</span>.<span class="ruby-identifier">pack_string</span>(<span class="ruby-identifier">val</span>, <span class="ruby-ivar">@pack_text_as_type</span>)
249:       
250:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">TrueClass</span> <span class="ruby-keyword kw">then</span> <span class="ruby-constant">TrueDesc</span>
251:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">FalseClass</span> <span class="ruby-keyword kw">then</span> <span class="ruby-constant">FalseDesc</span>
252:       
253:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Float</span> <span class="ruby-keyword kw">then</span> <span class="ruby-constant">AE</span><span class="ruby-operator">::</span><span class="ruby-constant">AEDesc</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeFloat</span>, [<span class="ruby-identifier">val</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'d'</span>))
254:       
255:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Time</span>
256:         <span class="ruby-constant">AE</span><span class="ruby-operator">::</span><span class="ruby-constant">AEDesc</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeLongDateTime</span>,
257:           [<span class="ruby-constant">AE</span>.<span class="ruby-identifier">convert_unix_seconds_to_long_date_time</span>(<span class="ruby-identifier">val</span>.<span class="ruby-identifier">to_i</span>)].<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'q'</span>))
258:       
259:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">DateTime</span>, <span class="ruby-constant">Date</span> <span class="ruby-keyword kw">then</span>
260:         <span class="ruby-constant">AE</span><span class="ruby-operator">::</span><span class="ruby-constant">AEDesc</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeLongDateTime</span>,
261:           [<span class="ruby-constant">AE</span>.<span class="ruby-identifier">convert_string_to_long_date_time</span>(<span class="ruby-identifier">val</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-value str">'%F %T'</span>))].<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'q'</span>))
262:       
263:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Array</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">pack_array</span>(<span class="ruby-identifier">val</span>)
264:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Hash</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">pack_hash</span>(<span class="ruby-identifier">val</span>)
265:       
266:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">MacTypes</span><span class="ruby-operator">::</span><span class="ruby-constant">FileBase</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">desc</span>
267:       
268:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">TypeWrappers</span><span class="ruby-operator">::</span><span class="ruby-constant">AEType</span> <span class="ruby-keyword kw">then</span>
269:         <span class="ruby-constant">AE</span><span class="ruby-operator">::</span><span class="ruby-constant">AEDesc</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeType</span>, <span class="ruby-constant">Codecs</span>.<span class="ruby-identifier">four_char_code</span>(<span class="ruby-identifier">val</span>.<span class="ruby-identifier">code</span>))
270:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">TypeWrappers</span><span class="ruby-operator">::</span><span class="ruby-constant">AEEnum</span> <span class="ruby-keyword kw">then</span>
271:         <span class="ruby-constant">AE</span><span class="ruby-operator">::</span><span class="ruby-constant">AEDesc</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeEnumerated</span>, <span class="ruby-constant">Codecs</span>.<span class="ruby-identifier">four_char_code</span>(<span class="ruby-identifier">val</span>.<span class="ruby-identifier">code</span>))
272:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">TypeWrappers</span><span class="ruby-operator">::</span><span class="ruby-constant">AEProp</span> <span class="ruby-keyword kw">then</span> 
273:         <span class="ruby-constant">AE</span><span class="ruby-operator">::</span><span class="ruby-constant">AEDesc</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeProperty</span>, <span class="ruby-constant">Codecs</span>.<span class="ruby-identifier">four_char_code</span>(<span class="ruby-identifier">val</span>.<span class="ruby-identifier">code</span>))
274:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">TypeWrappers</span><span class="ruby-operator">::</span><span class="ruby-constant">AEKey</span> <span class="ruby-keyword kw">then</span>
275:         <span class="ruby-constant">AE</span><span class="ruby-operator">::</span><span class="ruby-constant">AEDesc</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeKeyword</span>, <span class="ruby-constant">Codecs</span>.<span class="ruby-identifier">four_char_code</span>(<span class="ruby-identifier">val</span>.<span class="ruby-identifier">code</span>))
276:       
277:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">AE</span><span class="ruby-operator">::</span><span class="ruby-constant">AEDesc</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">val</span>
278:         
279:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">NilClass</span> <span class="ruby-keyword kw">then</span> <span class="ruby-constant">NullDesc</span>
280:     <span class="ruby-keyword kw">else</span>
281:       <span class="ruby-identifier">did_pack</span>, <span class="ruby-identifier">desc</span> = <span class="ruby-ivar">@unit_type_codecs</span>.<span class="ruby-identifier">pack</span>(<span class="ruby-identifier">val</span>)
282:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">did_pack</span>
283:         <span class="ruby-identifier">desc</span>
284:       <span class="ruby-keyword kw">else</span>
285:         <span class="ruby-identifier">pack_unknown</span>(<span class="ruby-identifier">val</span>)
286:       <span class="ruby-keyword kw">end</span>
287:     <span class="ruby-keyword kw">end</span>
288:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000069">
                    
                    <a name="M000069"></a><b>pack_array</b>(val)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000069_source')" id="l_M000069_source">show</a>
                        
                    </p>
                    <div id="M000069_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 302</span>
302:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pack_array</span>(<span class="ruby-identifier">val</span>)
303:     <span class="ruby-identifier">lst</span> = <span class="ruby-constant">AE</span><span class="ruby-operator">::</span><span class="ruby-constant">AEDesc</span>.<span class="ruby-identifier">new_list</span>(<span class="ruby-keyword kw">false</span>)
304:     <span class="ruby-identifier">val</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
305:       <span class="ruby-identifier">lst</span>.<span class="ruby-identifier">put_item</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">pack</span>(<span class="ruby-identifier">item</span>))
306:     <span class="ruby-keyword kw">end</span>
307:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">lst</span>
308:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000070">
                    
                    <a name="M000070"></a><b>pack_hash</b>(val)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000070_source')" id="l_M000070_source">show</a>
                        
                    </p>
                    <div id="M000070_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 310</span>
310:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pack_hash</span>(<span class="ruby-identifier">val</span>)
311:     <span class="ruby-identifier">record</span> = <span class="ruby-constant">AE</span><span class="ruby-operator">::</span><span class="ruby-constant">AEDesc</span>.<span class="ruby-identifier">new_list</span>(<span class="ruby-keyword kw">true</span>)
312:     <span class="ruby-identifier">usrf</span> = <span class="ruby-keyword kw">nil</span>
313:     <span class="ruby-identifier">val</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> <span class="ruby-operator">|</span>
314:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">TypeWrappers</span><span class="ruby-operator">::</span><span class="ruby-constant">AETypeBase</span>)
315:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">code</span> <span class="ruby-operator">==</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">PClass</span> <span class="ruby-comment cmt"># AS packs records that contain a 'class' property by coercing the packed record to that type at the end</span>
316:           <span class="ruby-keyword kw">begin</span>
317:             <span class="ruby-identifier">record</span> = <span class="ruby-identifier">record</span>.<span class="ruby-identifier">coerce</span>(<span class="ruby-identifier">value</span>.<span class="ruby-identifier">code</span>)
318:           <span class="ruby-keyword kw">rescue</span>
319:             <span class="ruby-identifier">record</span>.<span class="ruby-identifier">put_param</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">code</span>, <span class="ruby-identifier">pack</span>(<span class="ruby-identifier">value</span>))
320:           <span class="ruby-keyword kw">end</span>
321:         <span class="ruby-keyword kw">else</span>
322:           <span class="ruby-identifier">record</span>.<span class="ruby-identifier">put_param</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">code</span>, <span class="ruby-identifier">pack</span>(<span class="ruby-identifier">value</span>))
323:         <span class="ruby-keyword kw">end</span>
324:       <span class="ruby-keyword kw">else</span>
325:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">usrf</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
326:           <span class="ruby-identifier">usrf</span> = <span class="ruby-constant">AE</span><span class="ruby-operator">::</span><span class="ruby-constant">AEDesc</span>.<span class="ruby-identifier">new_list</span>(<span class="ruby-keyword kw">false</span>)
327:         <span class="ruby-keyword kw">end</span>
328:         <span class="ruby-identifier">usrf</span>.<span class="ruby-identifier">put_item</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">pack</span>(<span class="ruby-identifier">key</span>))
329:         <span class="ruby-identifier">usrf</span>.<span class="ruby-identifier">put_item</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">pack</span>(<span class="ruby-identifier">value</span>))
330:       <span class="ruby-keyword kw">end</span>
331:     <span class="ruby-keyword kw">end</span>
332:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">usrf</span>
333:       <span class="ruby-identifier">record</span>.<span class="ruby-identifier">put_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyASUserRecordFields</span>, <span class="ruby-identifier">usrf</span>)
334:     <span class="ruby-keyword kw">end</span>
335:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">record</span>
336:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000037">
                    
                    <a name="M000037"></a><b>pack_strings_as_type</b>(code)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000037_source')" id="l_M000037_source">show</a>
                        
                    </p>
                    <div id="M000037_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 177</span>
177:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pack_strings_as_type</span>(<span class="ruby-identifier">code</span>)
178:     <span class="ruby-comment cmt"># Some older (pre-OS X) applications may require text to be passed as </span>
179:     <span class="ruby-comment cmt"># typeChar or typeIntlText rather than the usual typeUnicodeText. To force</span>
180:     <span class="ruby-comment cmt"># an AEM::Codecs object to pack strings as one of these older types, call </span>
181:     <span class="ruby-comment cmt"># its pack_strings_as_type method, specifying the type you want used instead.</span>
182:     <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span>(<span class="ruby-identifier">code</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">code</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">4</span>)
183:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;Code must be a four-character string: #{code.inspect}&quot;</span>
184:     <span class="ruby-keyword kw">end</span>
185:     <span class="ruby-ivar">@pack_text_as_type</span> = <span class="ruby-identifier">code</span>
186:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000064">
                    
                    <a name="M000064"></a><b>pack_uint64</b>(val)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000064_source')" id="l_M000064_source">show</a>
                        
                    </p>
                    <div id="M000064_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 292</span>
292:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pack_uint64</span>(<span class="ruby-identifier">val</span>) 
293:     <span class="ruby-comment cmt"># On 10.5+, clients could override this method to do a non-lossy conversion,</span>
294:     <span class="ruby-comment cmt"># (assuming target app knows how to handle new UInt64 type):</span>
295:     <span class="ruby-comment cmt">#</span>
296:     <span class="ruby-comment cmt"># def pack_uint64(val)</span>
297:     <span class="ruby-comment cmt">#   AE::AEDesc.new(KAE::TypeUInt64, [val.to_f].pack('Q'))</span>
298:     <span class="ruby-comment cmt"># end</span>
299:     <span class="ruby-constant">AE</span><span class="ruby-operator">::</span><span class="ruby-constant">AEDesc</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeFloat</span>, [<span class="ruby-identifier">val</span>.<span class="ruby-identifier">to_f</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-value str">'d'</span>)) <span class="ruby-comment cmt"># pack as 64-bit float for compatibility (lossy conversion)</span>
300:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000047">
                    
                    <a name="M000047"></a><b>pack_unknown</b>(val)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000047_source')" id="l_M000047_source">show</a>
                        
                    </p>
                    <div id="M000047_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 227</span>
227:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pack_unknown</span>(<span class="ruby-identifier">val</span>) <span class="ruby-comment cmt"># clients may override this to provide additional packers</span>
228:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-node">&quot;Can't pack data into an AEDesc (unsupported type): #{val.inspect}&quot;</span>
229:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000075">
                    
                    <a name="M000075"></a><b>unpack</b>(desc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000075_source')" id="l_M000075_source">show</a>
                        
                    </p>
                    <div id="M000075_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 352</span>
352:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">desc</span>) <span class="ruby-comment cmt"># clients may override this to replace existing unpackers</span>
353:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">type</span>
354:       
355:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeObjectSpecifier</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">unpack_object_specifier</span>(<span class="ruby-identifier">desc</span>)
356:       
357:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeSInt32</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">'l'</span>)[<span class="ruby-value">0</span>]
358:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeIEEE64BitFloatingPoint</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">'d'</span>)[<span class="ruby-value">0</span>]
359:       
360:       <span class="ruby-keyword kw">when</span> 
361:           <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeUnicodeText</span>,
362:           <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeChar</span>, 
363:           <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeIntlText</span>, 
364:           <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeUTF16ExternalRepresentation</span>,
365:           <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeStyledText</span>
366:         <span class="ruby-ivar">@encoding_support</span>.<span class="ruby-identifier">unpack_string</span>(<span class="ruby-identifier">desc</span>)
367:         
368:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeFalse</span> <span class="ruby-keyword kw">then</span> <span class="ruby-keyword kw">false</span>
369:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeTrue</span> <span class="ruby-keyword kw">then</span> <span class="ruby-keyword kw">true</span>
370:       
371:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeLongDateTime</span> <span class="ruby-keyword kw">then</span>
372:         <span class="ruby-identifier">t</span> = <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">'q'</span>)[<span class="ruby-value">0</span>]
373:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@unpack_dates_as_datetime</span>
374:           <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">strptime</span>(<span class="ruby-constant">AE</span>.<span class="ruby-identifier">convert_long_date_time_to_string</span>(<span class="ruby-identifier">t</span>), <span class="ruby-value str">'%F %T'</span>)
375:         <span class="ruby-keyword kw">else</span>
376:           <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-constant">AE</span>.<span class="ruby-identifier">convert_long_date_time_to_unix_seconds</span>(<span class="ruby-identifier">t</span>))
377:         <span class="ruby-keyword kw">end</span>
378:       
379:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeAEList</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">unpack_aelist</span>(<span class="ruby-identifier">desc</span>)
380:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeAERecord</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">unpack_aerecord</span>(<span class="ruby-identifier">desc</span>)
381:       
382:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeAlias</span> <span class="ruby-keyword kw">then</span> <span class="ruby-constant">MacTypes</span><span class="ruby-operator">::</span><span class="ruby-constant">Alias</span>.<span class="ruby-identifier">desc</span>(<span class="ruby-identifier">desc</span>)
383:       <span class="ruby-keyword kw">when</span> 
384:           <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeFileURL</span>,
385:           <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeFSRef</span>,
386:           <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeFSS</span>
387:         <span class="ruby-constant">MacTypes</span><span class="ruby-operator">::</span><span class="ruby-constant">FileURL</span>.<span class="ruby-identifier">desc</span>(<span class="ruby-identifier">desc</span>)
388:       
389:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeType</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">unpack_type</span>(<span class="ruby-identifier">desc</span>)
390:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeEnumerated</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">unpack_enumerated</span>(<span class="ruby-identifier">desc</span>)
391:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeProperty</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">unpack_property</span>(<span class="ruby-identifier">desc</span>)
392:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeKeyword</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">unpack_keyword</span>(<span class="ruby-identifier">desc</span>)
393:       
394:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeSInt16</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">'s'</span>)[<span class="ruby-value">0</span>]
395:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeUInt32</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">'L'</span>)[<span class="ruby-value">0</span>]
396:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeSInt64</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">'q'</span>)[<span class="ruby-value">0</span>]
397:       
398:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeNull</span> <span class="ruby-keyword kw">then</span> <span class="ruby-keyword kw">nil</span>
399:       
400:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeUTF8Text</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>
401:       
402:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeInsertionLoc</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">unpack_insertion_loc</span>(<span class="ruby-identifier">desc</span>)
403:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeCurrentContainer</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">unpack_current_container</span>(<span class="ruby-identifier">desc</span>)
404:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeObjectBeingExamined</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">unpack_object_being_examined</span>(<span class="ruby-identifier">desc</span>)
405:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeCompDescriptor</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">unpack_comp_descriptor</span>(<span class="ruby-identifier">desc</span>)
406:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeLogicalDescriptor</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">unpack_logical_descriptor</span>(<span class="ruby-identifier">desc</span>)
407:       
408:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeIEEE32BitFloatingPoint</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">'f'</span>)[<span class="ruby-value">0</span>]
409:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">Type128BitFloatingPoint</span> <span class="ruby-keyword kw">then</span> 
410:         <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">coerce</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeIEEE64BitFloatingPoint</span>).<span class="ruby-identifier">data</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">'d'</span>)[<span class="ruby-value">0</span>]
411:       
412:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeQDPoint</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">'ss'</span>).<span class="ruby-identifier">reverse</span>
413:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeQDRectangle</span> <span class="ruby-keyword kw">then</span>
414:         <span class="ruby-identifier">x1</span>, <span class="ruby-identifier">y1</span>, <span class="ruby-identifier">x2</span>, <span class="ruby-identifier">y2</span> = <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">'ssss'</span>)
415:         [<span class="ruby-identifier">y1</span>, <span class="ruby-identifier">x1</span>, <span class="ruby-identifier">y2</span>, <span class="ruby-identifier">x2</span>]
416:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeRGBColor</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">'SSS'</span>)
417:         
418:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeVersion</span>
419:         <span class="ruby-keyword kw">begin</span>
420:           <span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">coerce</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeUnicodeText</span>)) <span class="ruby-comment cmt"># supported in 10.4+</span>
421:         <span class="ruby-keyword kw">rescue</span>
422:           <span class="ruby-identifier">vers</span>, <span class="ruby-identifier">lo</span> = <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">'CC'</span>)
423:           <span class="ruby-identifier">subvers</span>, <span class="ruby-identifier">patch</span> = <span class="ruby-identifier">lo</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-value">16</span>)
424:           <span class="ruby-node">&quot;#{vers}.#{subvers}.#{patch}&quot;</span>
425:         <span class="ruby-keyword kw">end</span> 
426:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeBoolean</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>[<span class="ruby-value">0</span>,<span class="ruby-value">1</span>] <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;\000&quot;</span>
427:       
428:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeUInt16</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">'S'</span>)[<span class="ruby-value">0</span>] <span class="ruby-comment cmt"># 10.5+</span>
429:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeUInt64</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">'Q'</span>)[<span class="ruby-value">0</span>] <span class="ruby-comment cmt"># 10.5+</span>
430:     <span class="ruby-keyword kw">else</span>
431:       <span class="ruby-identifier">did_unpack</span>, <span class="ruby-identifier">val</span> = <span class="ruby-ivar">@unit_type_codecs</span>.<span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">desc</span>)
432:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">did_unpack</span>
433:         <span class="ruby-identifier">val</span>
434:       <span class="ruby-keyword kw">else</span>
435:         <span class="ruby-identifier">unpack_unknown</span>(<span class="ruby-identifier">desc</span>)
436:       <span class="ruby-keyword kw">end</span>
437:     <span class="ruby-keyword kw">end</span>
438:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000097">
                    
                    <a name="M000097"></a><b>unpack_aelist</b>(desc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000097_source')" id="l_M000097_source">show</a>
                        
                    </p>
                    <div id="M000097_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 442</span>
442:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unpack_aelist</span>(<span class="ruby-identifier">desc</span>)
443:     <span class="ruby-identifier">lst</span> = []
444:     <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">length</span>().<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
445:       <span class="ruby-identifier">lst</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">get_item</span>(<span class="ruby-identifier">i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeWildCard</span>)[<span class="ruby-value">1</span>]))
446:     <span class="ruby-keyword kw">end</span>
447:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">lst</span>
448:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000098">
                    
                    <a name="M000098"></a><b>unpack_aerecord</b>(desc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000098_source')" id="l_M000098_source">show</a>
                        
                    </p>
                    <div id="M000098_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 450</span>
450:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unpack_aerecord</span>(<span class="ruby-identifier">desc</span>)
451:     <span class="ruby-identifier">dct</span> = {}
452:     <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">length</span>().<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
453:       <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> = <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">get_item</span>(<span class="ruby-identifier">i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeWildCard</span>)
454:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span> <span class="ruby-operator">==</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyASUserRecordFields</span>
455:         <span class="ruby-identifier">lst</span> = <span class="ruby-identifier">unpack_aelist</span>(<span class="ruby-identifier">value</span>)
456:         (<span class="ruby-identifier">lst</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">/</span> <span class="ruby-value">2</span>).<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span>
457:           <span class="ruby-identifier">dct</span>[<span class="ruby-identifier">lst</span>[<span class="ruby-identifier">j</span> <span class="ruby-operator">*</span> <span class="ruby-value">2</span>]] = <span class="ruby-identifier">lst</span>[<span class="ruby-identifier">j</span> <span class="ruby-operator">*</span> <span class="ruby-value">2</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>]
458:         <span class="ruby-keyword kw">end</span>
459:       <span class="ruby-keyword kw">else</span>
460:         <span class="ruby-identifier">dct</span>[<span class="ruby-constant">TypeWrappers</span><span class="ruby-operator">::</span><span class="ruby-constant">AEType</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">key</span>)] = <span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">value</span>)
461:       <span class="ruby-keyword kw">end</span>
462:     <span class="ruby-keyword kw">end</span>
463:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">dct</span>
464:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000144">
                    
                    <a name="M000144"></a><b>unpack_comp_descriptor</b>(desc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000144_source')" id="l_M000144_source">show</a>
                        
                    </p>
                    <div id="M000144_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 642</span>
642:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unpack_comp_descriptor</span>(<span class="ruby-identifier">desc</span>)
643:     <span class="ruby-identifier">operator</span> = <span class="ruby-constant">ComparisonEnums</span>[<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">get_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyAECompOperator</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeEnumeration</span>).<span class="ruby-identifier">data</span>]
644:     <span class="ruby-identifier">op1</span> = <span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">get_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyAEObject1</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeWildCard</span>))
645:     <span class="ruby-identifier">op2</span> = <span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">get_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyAEObject2</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeWildCard</span>))
646:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">operator</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'contains'</span>
647:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">unpack_contains_comp_descriptor</span>(<span class="ruby-identifier">op1</span>, <span class="ruby-identifier">op2</span>)
648:     <span class="ruby-keyword kw">else</span>
649:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">op1</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">operator</span>, <span class="ruby-identifier">op2</span>)
650:     <span class="ruby-keyword kw">end</span>
651:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000139">
                    
                    <a name="M000139"></a><b>unpack_contains_comp_descriptor</b>(op1, op2)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000139_source')" id="l_M000139_source">show</a>
                        
                    </p>
                    <div id="M000139_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 630</span>
630:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unpack_contains_comp_descriptor</span>(<span class="ruby-identifier">op1</span>, <span class="ruby-identifier">op2</span>)
631:     <span class="ruby-comment cmt"># KAEContains is also used to construct 'is_in' tests, where test value is first operand and</span>
632:     <span class="ruby-comment cmt"># reference being tested is second operand, so need to make sure first operand is an its-based ref;</span>
633:     <span class="ruby-comment cmt"># if not, rearrange accordingly.</span>
634:     <span class="ruby-comment cmt"># Since type-checking is involved, this extra hook is provided so that appscript's AppData subclass can override this method to add its own type checking</span>
635:     <span class="ruby-keyword kw">if</span>  <span class="ruby-identifier">op1</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">AEMReference</span><span class="ruby-operator">::</span><span class="ruby-constant">Query</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">op1</span>.<span class="ruby-constant">AEM_root</span> <span class="ruby-operator">==</span> <span class="ruby-constant">AEMReference</span><span class="ruby-operator">::</span><span class="ruby-constant">Its</span>
636:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">op1</span>.<span class="ruby-identifier">contains</span>(<span class="ruby-identifier">op2</span>)
637:     <span class="ruby-keyword kw">else</span>
638:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">op2</span>.<span class="ruby-identifier">is_in</span>(<span class="ruby-identifier">op1</span>)
639:     <span class="ruby-keyword kw">end</span>
640:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000137">
                    
                    <a name="M000137"></a><b>unpack_current_container</b>(desc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000137_source')" id="l_M000137_source">show</a>
                        
                    </p>
                    <div id="M000137_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 620</span>
620:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unpack_current_container</span>(<span class="ruby-identifier">desc</span>)
621:     <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Con</span>
622:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000105">
                    
                    <a name="M000105"></a><b>unpack_enumerated</b>(desc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000105_source')" id="l_M000105_source">show</a>
                        
                    </p>
                    <div id="M000105_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 472</span>
472:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unpack_enumerated</span>(<span class="ruby-identifier">desc</span>)
473:     <span class="ruby-keyword kw">return</span> <span class="ruby-constant">TypeWrappers</span><span class="ruby-operator">::</span><span class="ruby-constant">AEEnum</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Codecs</span>.<span class="ruby-identifier">four_char_code</span>(<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>))
474:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000133">
                    
                    <a name="M000133"></a><b>unpack_insertion_loc</b>(desc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000133_source')" id="l_M000133_source">show</a>
                        
                    </p>
                    <div id="M000133_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 614</span>
614:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unpack_insertion_loc</span>(<span class="ruby-identifier">desc</span>)
615:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">unpack_object_specifier</span>(<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">get_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyAEObject</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeWildCard</span>)).<span class="ruby-identifier">send</span>(<span class="ruby-constant">InsertionLocEnums</span>[<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">get_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyAEPosition</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeEnumeration</span>).<span class="ruby-identifier">data</span>])
616:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000107">
                    
                    <a name="M000107"></a><b>unpack_keyword</b>(desc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000107_source')" id="l_M000107_source">show</a>
                        
                    </p>
                    <div id="M000107_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 480</span>
480:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unpack_keyword</span>(<span class="ruby-identifier">desc</span>)
481:     <span class="ruby-keyword kw">return</span> <span class="ruby-constant">TypeWrappers</span><span class="ruby-operator">::</span><span class="ruby-constant">AEKey</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Codecs</span>.<span class="ruby-identifier">four_char_code</span>(<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>))
482:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000146">
                    
                    <a name="M000146"></a><b>unpack_logical_descriptor</b>(desc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000146_source')" id="l_M000146_source">show</a>
                        
                    </p>
                    <div id="M000146_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 653</span>
653:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unpack_logical_descriptor</span>(<span class="ruby-identifier">desc</span>)
654:     <span class="ruby-identifier">operator</span> = <span class="ruby-constant">LogicalEnums</span>[<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">get_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyAELogicalOperator</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeEnumeration</span>).<span class="ruby-identifier">data</span>]
655:     <span class="ruby-identifier">operands</span> = <span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">get_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyAELogicalTerms</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeAEList</span>))
656:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">operands</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">send</span>(<span class="ruby-identifier">operator</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">operands</span>[<span class="ruby-value">1</span>, <span class="ruby-identifier">operands</span>.<span class="ruby-identifier">length</span>])
657:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000138">
                    
                    <a name="M000138"></a><b>unpack_object_being_examined</b>(desc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000138_source')" id="l_M000138_source">show</a>
                        
                    </p>
                    <div id="M000138_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 624</span>
624:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unpack_object_being_examined</span>(<span class="ruby-identifier">desc</span>)
625:     <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Its</span>
626:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000127">
                    
                    <a name="M000127"></a><b>unpack_object_specifier</b>(desc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000127_source')" id="l_M000127_source">show</a>
                        
                    </p>
                    <div id="M000127_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 580</span>
580:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unpack_object_specifier</span>(<span class="ruby-identifier">desc</span>)
581:     <span class="ruby-comment cmt"># Shallow-unpack an object specifier, retaining the container AEDesc as-is.</span>
582:     <span class="ruby-comment cmt"># (i.e. Defers full unpacking of [most] object specifiers for efficiency.)</span>
583:     <span class="ruby-identifier">key_form</span> = <span class="ruby-constant">Codecs</span>.<span class="ruby-identifier">four_char_code</span>(<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">get_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyAEKeyForm</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeEnumeration</span>).<span class="ruby-identifier">data</span>)
584:     <span class="ruby-keyword kw">if</span> [<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">FormPropertyID</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">FormAbsolutePosition</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">FormName</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">FormUniqueID</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">key_form</span>)
585:       <span class="ruby-identifier">want</span> = <span class="ruby-constant">Codecs</span>.<span class="ruby-identifier">four_char_code</span>(<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">get_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyAEDesiredClass</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeType</span>).<span class="ruby-identifier">data</span>)
586:       <span class="ruby-identifier">key</span> = <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">get_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyAEKeyData</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeWildCard</span>)
587:       <span class="ruby-identifier">container</span> = <span class="ruby-constant">AEMReference</span><span class="ruby-operator">::</span><span class="ruby-constant">DeferredSpecifier</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">get_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">KeyAEContainer</span>, <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeWildCard</span>), <span class="ruby-keyword kw">self</span>)
588:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">key_form</span>
589:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">FormPropertyID</span>
590:           <span class="ruby-identifier">ref</span> = <span class="ruby-constant">AEMReference</span><span class="ruby-operator">::</span><span class="ruby-constant">Property</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">want</span>, <span class="ruby-identifier">container</span>, <span class="ruby-constant">Codecs</span>.<span class="ruby-identifier">four_char_code</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">data</span>))
591:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">FormAbsolutePosition</span>
592:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeAbsoluteOrdinal</span>
593:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">data</span> <span class="ruby-operator">==</span> <span class="ruby-constant">AllAbsoluteOrdinal</span>
594:               <span class="ruby-identifier">ref</span> = <span class="ruby-constant">AEMReference</span><span class="ruby-operator">::</span><span class="ruby-constant">AllElements</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">want</span>, <span class="ruby-identifier">container</span>)
595:             <span class="ruby-keyword kw">else</span>
596:               <span class="ruby-identifier">ref</span> = <span class="ruby-identifier">fully_unpack_object_specifier</span>(<span class="ruby-identifier">desc</span>) <span class="ruby-comment cmt"># do a full unpack of rarely returned reference forms</span>
597:             <span class="ruby-keyword kw">end</span>
598:           <span class="ruby-keyword kw">else</span>
599:             <span class="ruby-identifier">ref</span> = <span class="ruby-constant">AEMReference</span><span class="ruby-operator">::</span><span class="ruby-constant">ElementByIndex</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">want</span>, <span class="ruby-constant">AEMReference</span><span class="ruby-operator">::</span><span class="ruby-constant">UnkeyedElements</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">want</span>, <span class="ruby-identifier">container</span>), <span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">key</span>))
600:           <span class="ruby-keyword kw">end</span>
601:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">FormName</span>
602:           <span class="ruby-identifier">ref</span> = <span class="ruby-constant">AEMReference</span><span class="ruby-operator">::</span><span class="ruby-constant">ElementByName</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">want</span>, <span class="ruby-constant">AEMReference</span><span class="ruby-operator">::</span><span class="ruby-constant">UnkeyedElements</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">want</span>, <span class="ruby-identifier">container</span>), <span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">key</span>))
603:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">FormUniqueID</span>
604:           <span class="ruby-identifier">ref</span> = <span class="ruby-constant">AEMReference</span><span class="ruby-operator">::</span><span class="ruby-constant">ElementByID</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">want</span>, <span class="ruby-constant">AEMReference</span><span class="ruby-operator">::</span><span class="ruby-constant">UnkeyedElements</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">want</span>, <span class="ruby-identifier">container</span>), <span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">key</span>))
605:       <span class="ruby-keyword kw">end</span>
606:     <span class="ruby-keyword kw">else</span>
607:       <span class="ruby-identifier">ref</span> = <span class="ruby-identifier">fully_unpack_object_specifier</span>(<span class="ruby-identifier">desc</span>) <span class="ruby-comment cmt"># do a full unpack of more complex, rarely returned reference forms</span>
608:     <span class="ruby-keyword kw">end</span>
609:     <span class="ruby-identifier">ref</span>.<span class="ruby-constant">AEM_set_desc</span>(<span class="ruby-identifier">desc</span>) <span class="ruby-comment cmt"># retain existing AEDesc for efficiency</span>
610:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ref</span>
611:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000106">
                    
                    <a name="M000106"></a><b>unpack_property</b>(desc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000106_source')" id="l_M000106_source">show</a>
                        
                    </p>
                    <div id="M000106_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 476</span>
476:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unpack_property</span>(<span class="ruby-identifier">desc</span>)
477:     <span class="ruby-keyword kw">return</span> <span class="ruby-constant">TypeWrappers</span><span class="ruby-operator">::</span><span class="ruby-constant">AEProp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Codecs</span>.<span class="ruby-identifier">four_char_code</span>(<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>))
478:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000099">
                    
                    <a name="M000099"></a><b>unpack_type</b>(desc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000099_source')" id="l_M000099_source">show</a>
                        
                    </p>
                    <div id="M000099_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 468</span>
468:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unpack_type</span>(<span class="ruby-identifier">desc</span>)
469:     <span class="ruby-keyword kw">return</span> <span class="ruby-constant">TypeWrappers</span><span class="ruby-operator">::</span><span class="ruby-constant">AEType</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Codecs</span>.<span class="ruby-identifier">four_char_code</span>(<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">data</span>))
470:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000071">
                    
                    <a name="M000071"></a><b>unpack_unknown</b>(desc)
                    
                </div>
                
                <div class="description">
                  <p>
Unpack
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000071_source')" id="l_M000071_source">show</a>
                        
                    </p>
                    <div id="M000071_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 341</span>
341:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unpack_unknown</span>(<span class="ruby-identifier">desc</span>) <span class="ruby-comment cmt"># clients may override this to provide additional unpackers</span>
342:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">is_record?</span> <span class="ruby-comment cmt"># if it's a record-like structure with an unknown/unsupported type then unpack it as a hash, including the original type info as a 'class' property</span>
343:       <span class="ruby-identifier">rec</span> = <span class="ruby-identifier">desc</span>.<span class="ruby-identifier">coerce</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">TypeAERecord</span>)
344:       <span class="ruby-identifier">rec</span>.<span class="ruby-identifier">put_param</span>(<span class="ruby-constant">KAE</span><span class="ruby-operator">::</span><span class="ruby-constant">PClass</span>, <span class="ruby-identifier">pack</span>(<span class="ruby-constant">TypeWrappers</span><span class="ruby-operator">::</span><span class="ruby-constant">AEType</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">desc</span>.<span class="ruby-identifier">type</span>)))
345:       <span class="ruby-identifier">unpack</span>(<span class="ruby-identifier">rec</span>)
346:     <span class="ruby-keyword kw">else</span> <span class="ruby-comment cmt"># else return unchanged</span>
347:       <span class="ruby-identifier">desc</span>
348:     <span class="ruby-keyword kw">end</span>
349:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000040">
                    
                    <a name="M000040"></a><b>use_ascii_8bit</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000040_source')" id="l_M000040_source">show</a>
                        
                    </p>
                    <div id="M000040_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 188</span>
188:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">use_ascii_8bit</span>
189:     <span class="ruby-comment cmt"># By default on Ruby 1.9+, Codecs#pack creates String instances with UTF-8 </span>
190:     <span class="ruby-comment cmt"># encoding and #unpack ensures all strings are UTF-8 encoded before packing </span>
191:     <span class="ruby-comment cmt"># them into AEDescs of typeUTF8Text. To force the old-style behaviour where</span>
192:     <span class="ruby-comment cmt"># strings are treated as byte strings containing UTF-8 data, call:</span>
193:     <span class="ruby-comment cmt">#</span>
194:     <span class="ruby-comment cmt"># some_application.AS_app_data.use_ascii_8bit_strings</span>
195:     <span class="ruby-comment cmt">#</span>
196:     <span class="ruby-comment cmt"># This will cause Strings to use the binary ASCII-8BIT encoding; as in Ruby 1.8, </span>
197:     <span class="ruby-comment cmt"># the user is responsible for ensuring that strings contain UTF-8 data.</span>
198:     <span class="ruby-ivar">@encoding_support</span> = <span class="ruby-constant">AEMEncodingSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">DisableStringEncodings</span>
199:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000041">
                    
                    <a name="M000041"></a><b>use_datetime</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000041_source')" id="l_M000041_source">show</a>
                        
                    </p>
                    <div id="M000041_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/codecs.rb, line 201</span>
201:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">use_datetime</span>
202:     <span class="ruby-comment cmt"># By default dates are unpacked as Time instances, which have limited range.</span>
203:     <span class="ruby-comment cmt"># Call this method to unpack dates as DateTime instances instead.</span>
204:     <span class="ruby-ivar">@unpack_dates_as_datetime</span> = <span class="ruby-keyword kw">true</span>
205:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    