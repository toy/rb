<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>AEMReference::Specifier</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            AEMReference::Specifier 
            
                <span class="parent">&lt; 
                    
                    Query
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/_aem/aemreference_rb.html">lib/_aem/aemreference.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
BASE CLASS FOR ALL REFERENCE FORMS
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000023">AEM_pack_self</a>,</li>
                
                <li><a href="#M000018">AEM_root</a>,</li>
                
                <li><a href="#M000022">AEM_set_desc</a>,</li>
                
                <li><a href="#M000019">AEM_true_self</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000017">new</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>_key</td>
            <td class='attr-desc'><p>
Base class for insertion specifier and all object specifier classes.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>_container</td>
            <td class='attr-desc'><p>
Base class for insertion specifier and all object specifier classes.
</p></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000017">
                    
                    <a name="M000017"></a><b>new</b>(container, key)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000017_source')" id="l_M000017_source">show</a>
                        
                    </p>
                    <div id="M000017_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/aemreference.rb, line 130</span>
130:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">container</span>, <span class="ruby-identifier">key</span>)
131:       <span class="ruby-keyword kw">super</span>()
132:       <span class="ruby-ivar">@_desc</span> = <span class="ruby-keyword kw">nil</span>
133:       <span class="ruby-ivar">@_container</span> = <span class="ruby-identifier">container</span>
134:       <span class="ruby-ivar">@_key</span> = <span class="ruby-identifier">key</span>
135:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000023">
                    
                    <a name="M000023"></a><b>AEM_pack_self</b>(codecs)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000023_source')" id="l_M000023_source">show</a>
                        
                    </p>
                    <div id="M000023_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/aemreference.rb, line 157</span>
157:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">AEM_pack_self</span>(<span class="ruby-identifier">codecs</span>)
158:       <span class="ruby-comment cmt"># Pack this Specifier; called by Codecs#pack, which passes itself so that specifiers in this reference can pack their selectors.</span>
159:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span> <span class="ruby-ivar">@_desc</span>
160:         <span class="ruby-ivar">@_desc</span> = <span class="ruby-identifier">_pack_self</span>(<span class="ruby-identifier">codecs</span>) <span class="ruby-comment cmt"># once packed, cache this AEDesc for efficiency</span>
161:       <span class="ruby-keyword kw">end</span>
162:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@_desc</span>
163:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000018">
                    
                    <a name="M000018"></a><b>AEM_root</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000018_source')" id="l_M000018_source">show</a>
                        
                    </p>
                    <div id="M000018_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/aemreference.rb, line 137</span>
137:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">AEM_root</span>
138:       <span class="ruby-comment cmt"># Get reference's root node. Used by range and filter specifiers when determining type of reference</span>
139:       <span class="ruby-comment cmt"># passed as argument(s): range specifiers require absolute (app-based) or container (con-based)</span>
140:       <span class="ruby-comment cmt"># references; filter specifiers require an item (its-based) reference.</span>
141:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@_container</span>.<span class="ruby-constant">AEM_root</span>
142:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000022">
                    
                    <a name="M000022"></a><b>AEM_set_desc</b>(desc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000022_source')" id="l_M000022_source">show</a>
                        
                    </p>
                    <div id="M000022_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/aemreference.rb, line 153</span>
153:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">AEM_set_desc</span>(<span class="ruby-identifier">desc</span>)
154:       <span class="ruby-ivar">@_desc</span> = <span class="ruby-identifier">desc</span>
155:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000019">
                    
                    <a name="M000019"></a><b>AEM_true_self</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000019_source')" id="l_M000019_source">show</a>
                        
                    </p>
                    <div id="M000019_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/_aem/aemreference.rb, line 144</span>
144:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">AEM_true_self</span>
145:       <span class="ruby-comment cmt"># Called by specifier classes when creating a reference to sub-element(s) of the current reference.</span>
146:       <span class="ruby-comment cmt"># - An AllElements specifier (which contains 'want', 'form', 'seld' and 'from' values) will return an UnkeyedElements object (which contains 'want' and 'from' data only). The new specifier object  (ElementByIndex, ElementsByRange, etc.) wraps itself around this stub and supply its own choice of 'form' and 'seld' values.</span>
147:       <span class="ruby-comment cmt"># - All other specifiers simply return themselves. </span>
148:       <span class="ruby-comment cmt">#</span>
149:       <span class="ruby-comment cmt">#This sleight-of-hand allows foo.elements('bar ') to produce a legal reference to all elements, so users don't need to write foo.elements('bar ').all to achieve the same goal. This isn't a huge deal for aem, but makes a significant difference to the usability of user-friendly wrappers like appscript, and dealing with the mechanics of it here helps keep other layers simple.</span>
150:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>
151:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    