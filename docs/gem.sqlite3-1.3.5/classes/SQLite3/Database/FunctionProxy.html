<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>SQLite3::Database::FunctionProxy</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            SQLite3::Database::FunctionProxy 
            
                <span class="parent">&lt; 
                    
                    Object
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/sqlite3/database_rb.html">lib/sqlite3/database.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
A helper class for dealing with custom functions (see create_function,
create_aggregate, and create_aggregate_handler). It encapsulates the opaque
function object that represents the current invocation. It also provides
more convenient access to the API functions that operate on the function
object.
</p>
<p>
This class will almost <em>always</em> be instantiated indirectly, by
working with the create methods mentioned above.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M000110">[]</a>,</li>
                
                <li><a href="#M000111">[]=</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000109">count</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000107">new</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000108">set_error</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>result</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000107">
                    
                    <a name="M000107"></a><b>new</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Create a new <a href="FunctionProxy.html">FunctionProxy</a> that
encapsulates the given <tt>func</tt> object. If context is non-nil, the
functions context will be set to that. If it is non-nil, it must quack like
a Hash. If it is nil, then none of the context functions will be available.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000107_source')" id="l_M000107_source">show</a>
                        
                    </p>
                    <div id="M000107_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/sqlite3/database.rb, line 545</span>
545:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>
546:         <span class="ruby-ivar">@result</span>   = <span class="ruby-keyword kw">nil</span>
547:         <span class="ruby-ivar">@context</span>  = {}
548:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000110">
                    
                    <a name="M000110"></a><b>[]</b>( key )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the value with the given key from the context. This is only
available to aggregate functions.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000110_source')" id="l_M000110_source">show</a>
                        
                    </p>
                    <div id="M000110_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/sqlite3/database.rb, line 565</span>
565:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>( <span class="ruby-identifier">key</span> )
566:         <span class="ruby-ivar">@context</span>[ <span class="ruby-identifier">key</span> ]
567:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000111">
                    
                    <a name="M000111"></a><b>[]=</b>( key, value )
                    
                </div>
                
                <div class="description">
                  <p>
Sets the value with the given key in the context. This is only available to
aggregate functions.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000111_source')" id="l_M000111_source">show</a>
                        
                    </p>
                    <div id="M000111_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/sqlite3/database.rb, line 571</span>
571:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]=</span>( <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> )
572:         <span class="ruby-ivar">@context</span>[ <span class="ruby-identifier">key</span> ] = <span class="ruby-identifier">value</span>
573:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000109">
                    
                    <a name="M000109"></a><b>count</b>()
                    
                </div>
                
                <div class="description">
                  <p>
(Only available to aggregate functions.) Returns the number of rows that
the aggregate has processed so far. This will include the current row, and
so will always return at least 1.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000109_source')" id="l_M000109_source">show</a>
                        
                    </p>
                    <div id="M000109_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/sqlite3/database.rb, line 559</span>
559:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">count</span>
560:         <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">aggregate_count</span>( <span class="ruby-ivar">@func</span> )
561:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000108">
                    
                    <a name="M000108"></a><b>set_error</b>( error )
                    
                </div>
                
                <div class="description">
                  <p>
Set the result of the function to the given error message. The function
will then return that error.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000108_source')" id="l_M000108_source">show</a>
                        
                    </p>
                    <div id="M000108_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/sqlite3/database.rb, line 552</span>
552:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_error</span>( <span class="ruby-identifier">error</span> )
553:         <span class="ruby-ivar">@driver</span>.<span class="ruby-identifier">result_error</span>( <span class="ruby-ivar">@func</span>, <span class="ruby-identifier">error</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-value">-1</span> )
554:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    