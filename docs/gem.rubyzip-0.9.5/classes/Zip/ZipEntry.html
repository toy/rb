<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Zip::ZipEntry</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Zip::ZipEntry 
            
                <span class="parent">&lt; 
                    
                    Object
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/zip/zip_entry_rb.html">lib/zip/zip_entry.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M000086"><=></a>,</li>
                
                <li><a href="#M000083">==</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000030">comment_in</a>,</li>
                
                <li><a href="#M000094">create_directory</a>,</li>
                
                <li><a href="#M000095">create_symlink</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000035">directory?</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000044">extract</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000037">file?</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M000087">get_input_stream</a>,</li>
                
                <li><a href="#M000091">get_raw_input_stream</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000036">is_directory</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000033">mtime</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000028">name_encoding</a>,</li>
                
                <li><a href="#M000029">name_in</a>,</li>
                
                <li><a href="#M000031">new</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000090">parent_as_string</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000052">read_local_entry</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000092">set_time</a>,</li>
                
                <li><a href="#M000038">symlink?</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000032">time</a>,</li>
                
                <li><a href="#M000034">time=</a>,</li>
                
                <li><a href="#M000045">to_s</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M000093">write_file</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">STORED</td>
            <td>=</td>
            <td class="attr-value">0</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">DEFLATED</td>
            <td>=</td>
            <td class="attr-value">8</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_FAT</td>
            <td>=</td>
            <td class="attr-value">0</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_AMIGA</td>
            <td>=</td>
            <td class="attr-value">1</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_VMS</td>
            <td>=</td>
            <td class="attr-value">2</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_UNIX</td>
            <td>=</td>
            <td class="attr-value">3</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_VM_CMS</td>
            <td>=</td>
            <td class="attr-value">4</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_ATARI</td>
            <td>=</td>
            <td class="attr-value">5</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_HPFS</td>
            <td>=</td>
            <td class="attr-value">6</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_MAC</td>
            <td>=</td>
            <td class="attr-value">7</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_Z_SYSTEM</td>
            <td>=</td>
            <td class="attr-value">8</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_CPM</td>
            <td>=</td>
            <td class="attr-value">9</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_TOPS20</td>
            <td>=</td>
            <td class="attr-value">10</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_NTFS</td>
            <td>=</td>
            <td class="attr-value">11</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_QDOS</td>
            <td>=</td>
            <td class="attr-value">12</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_ACORN</td>
            <td>=</td>
            <td class="attr-value">13</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_VFAT</td>
            <td>=</td>
            <td class="attr-value">14</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_MVS</td>
            <td>=</td>
            <td class="attr-value">15</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_BEOS</td>
            <td>=</td>
            <td class="attr-value">16</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_TANDEM</td>
            <td>=</td>
            <td class="attr-value">17</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_THEOS</td>
            <td>=</td>
            <td class="attr-value">18</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_MAC_OSX</td>
            <td>=</td>
            <td class="attr-value">19</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPE_ATHEOS</td>
            <td>=</td>
            <td class="attr-value">30</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">FSTYPES</td>
            <td>=</td>
            <td class="attr-value">{       FSTYPE_FAT =&gt; 'FAT'.freeze,       FSTYPE_AMIGA =&gt; 'Amiga'.freeze,       FSTYPE_VMS =&gt; 'VMS (Vax or Alpha AXP)'.freeze,       FSTYPE_UNIX =&gt; 'Unix'.freeze,       FSTYPE_VM_CMS =&gt; 'VM/CMS'.freeze,       FSTYPE_ATARI =&gt; 'Atari ST'.freeze,       FSTYPE_HPFS =&gt; 'OS/2 or NT HPFS'.freeze,       FSTYPE_MAC =&gt; 'Macintosh'.freeze,       FSTYPE_Z_SYSTEM =&gt; 'Z-System'.freeze,       FSTYPE_CPM =&gt; 'CP/M'.freeze,       FSTYPE_TOPS20 =&gt; 'TOPS-20'.freeze,       FSTYPE_NTFS =&gt; 'NTFS'.freeze,       FSTYPE_QDOS =&gt; 'SMS/QDOS'.freeze,       FSTYPE_ACORN =&gt; 'Acorn RISC OS'.freeze,       FSTYPE_VFAT =&gt; 'Win32 VFAT'.freeze,       FSTYPE_MVS =&gt; 'MVS'.freeze,       FSTYPE_BEOS =&gt; 'BeOS'.freeze,       FSTYPE_TANDEM =&gt; 'Tandem NSK'.freeze,       FSTYPE_THEOS =&gt; 'Theos'.freeze,       FSTYPE_MAC_OSX =&gt; 'Mac OS/X (Darwin)'.freeze,       FSTYPE_ATHEOS =&gt; 'AtheOS'.freeze,     }.freeze</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">LOCAL_ENTRY_SIGNATURE</td>
            <td>=</td>
            <td class="attr-value">0x04034b50</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">LOCAL_ENTRY_STATIC_HEADER_LENGTH</td>
            <td>=</td>
            <td class="attr-value">30</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">LOCAL_ENTRY_TRAILING_DESCRIPTOR_LENGTH</td>
            <td>=</td>
            <td class="attr-value">4+4+4</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">VERSION_NEEDED_TO_EXTRACT</td>
            <td>=</td>
            <td class="attr-value">10</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">CENTRAL_DIRECTORY_ENTRY_SIGNATURE</td>
            <td>=</td>
            <td class="attr-value">0x02014b50</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">CDIR_ENTRY_STATIC_HEADER_LENGTH</td>
            <td>=</td>
            <td class="attr-value">46</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>comment</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>compressed_size</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>crc</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>extra</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>compression_method</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>name</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>size</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>localHeaderOffset</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>zipfile</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>fstype</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>externalFileAttributes</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>gp_flags</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>header_signature</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>follow_symlinks</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>restore_times</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>restore_permissions</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>restore_ownership</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>unix_uid</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>unix_gid</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>unix_perms</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>dirty</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000031">
                    
                    <a name="M000031"></a><b>new</b>(zipfile = &quot;&quot;, name = &quot;&quot;, comment = &quot;&quot;, extra = &quot;&quot;, compressed_size = 0, crc = 0, compression_method = ZipEntry::DEFLATED, size = 0, time = Time.now)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000031_source')" id="l_M000031_source">show</a>
                        
                    </p>
                    <div id="M000031_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 82</span>
 82:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">zipfile</span> = <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">name</span> = <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">comment</span> = <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">extra</span> = <span class="ruby-value str">&quot;&quot;</span>, 
 83:                    <span class="ruby-identifier">compressed_size</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">crc</span> = <span class="ruby-value">0</span>, 
 84:        <span class="ruby-identifier">compression_method</span> = <span class="ruby-constant">ZipEntry</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFLATED</span>, <span class="ruby-identifier">size</span> = <span class="ruby-value">0</span>,
 85:        <span class="ruby-identifier">time</span>  = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>)
 86:       <span class="ruby-keyword kw">super</span>()
 87:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-value str">&quot;/&quot;</span>)
 88:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ZipEntryNameError</span>, <span class="ruby-node">&quot;Illegal ZipEntry name '#{name}', name must not start with /&quot;</span>
 89:       <span class="ruby-keyword kw">end</span>
 90:       <span class="ruby-ivar">@localHeaderOffset</span> = <span class="ruby-value">0</span>
 91:       <span class="ruby-ivar">@local_header_size</span> = <span class="ruby-value">0</span>
 92:       <span class="ruby-ivar">@internalFileAttributes</span> = <span class="ruby-value">1</span>
 93:       <span class="ruby-ivar">@externalFileAttributes</span> = <span class="ruby-value">0</span>
 94:       <span class="ruby-ivar">@version</span> = <span class="ruby-value">52</span> <span class="ruby-comment cmt"># this library's version</span>
 95:       <span class="ruby-ivar">@ftype</span> = <span class="ruby-keyword kw">nil</span> <span class="ruby-comment cmt"># unspecified or unknown</span>
 96:       <span class="ruby-ivar">@filepath</span> = <span class="ruby-keyword kw">nil</span>
 97:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Zip</span><span class="ruby-operator">::</span><span class="ruby-constant">RUNNING_ON_WINDOWS</span>
 98:         <span class="ruby-ivar">@fstype</span> = <span class="ruby-constant">FSTYPE_FAT</span>
 99:       <span class="ruby-keyword kw">else</span>
100:         <span class="ruby-ivar">@fstype</span> = <span class="ruby-constant">FSTYPE_UNIX</span>
101:       <span class="ruby-keyword kw">end</span>
102:       <span class="ruby-ivar">@zipfile</span> = <span class="ruby-identifier">zipfile</span>
103:       <span class="ruby-ivar">@comment</span> = <span class="ruby-identifier">comment</span>
104:       <span class="ruby-ivar">@compressed_size</span> = <span class="ruby-identifier">compressed_size</span>
105:       <span class="ruby-ivar">@crc</span> = <span class="ruby-identifier">crc</span>
106:       <span class="ruby-ivar">@extra</span> = <span class="ruby-identifier">extra</span>
107:       <span class="ruby-ivar">@compression_method</span> = <span class="ruby-identifier">compression_method</span>
108:       <span class="ruby-ivar">@name</span> = <span class="ruby-identifier">name</span>
109:       <span class="ruby-ivar">@size</span> = <span class="ruby-identifier">size</span>
110:       <span class="ruby-ivar">@time</span> = <span class="ruby-identifier">time</span>
111:       <span class="ruby-ivar">@gp_flags</span> = <span class="ruby-keyword kw">nil</span>
112: 
113:       <span class="ruby-ivar">@follow_symlinks</span> = <span class="ruby-keyword kw">false</span>
114: 
115:       <span class="ruby-ivar">@restore_times</span> = <span class="ruby-keyword kw">true</span>
116:       <span class="ruby-ivar">@restore_permissions</span> = <span class="ruby-keyword kw">false</span>
117:       <span class="ruby-ivar">@restore_ownership</span> = <span class="ruby-keyword kw">false</span>
118: 
119: <span class="ruby-comment cmt"># BUG: need an extra field to support uid/gid's</span>
120:       <span class="ruby-ivar">@unix_uid</span> = <span class="ruby-keyword kw">nil</span>
121:       <span class="ruby-ivar">@unix_gid</span> = <span class="ruby-keyword kw">nil</span>
122:       <span class="ruby-ivar">@unix_perms</span> = <span class="ruby-keyword kw">nil</span>
123: <span class="ruby-comment cmt">#      @posix_acl = nil</span>
124: <span class="ruby-comment cmt">#      @ntfs_acl = nil</span>
125: 
126:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name_is_directory?</span>
127:         <span class="ruby-ivar">@ftype</span> = <span class="ruby-identifier">:directory</span>
128:       <span class="ruby-keyword kw">else</span>
129:         <span class="ruby-ivar">@ftype</span> = <span class="ruby-identifier">:file</span>
130:       <span class="ruby-keyword kw">end</span>
131: 
132:       <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">ZipExtraField</span> <span class="ruby-operator">===</span> <span class="ruby-ivar">@extra</span>
133:         <span class="ruby-ivar">@extra</span> = <span class="ruby-constant">ZipExtraField</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@extra</span>.<span class="ruby-identifier">to_s</span>)
134:       <span class="ruby-keyword kw">end</span>
135: 
136:       <span class="ruby-ivar">@dirty</span> = <span class="ruby-keyword kw">false</span>
137:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000052">
                    
                    <a name="M000052"></a><b>read_local_entry</b>(io)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000052_source')" id="l_M000052_source">show</a>
                        
                    </p>
                    <div id="M000052_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 275</span>
275:     <span class="ruby-keyword kw">def</span> <span class="ruby-constant">ZipEntry</span>.<span class="ruby-identifier">read_local_entry</span>(<span class="ruby-identifier">io</span>)
276:       <span class="ruby-identifier">entry</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">io</span>.<span class="ruby-identifier">path</span>)
277:       <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">read_local_entry</span>(<span class="ruby-identifier">io</span>)
278:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">entry</span>
279:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ZipError</span>
280:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>
281:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000086">
                    
                    <a name="M000086"></a><b>&lt;=&gt;</b>(other)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000086_source')" id="l_M000086_source">show</a>
                        
                    </p>
                    <div id="M000086_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 475</span>
475:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">&lt;=&gt;</span> (<span class="ruby-identifier">other</span>)
476:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">to_s</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">to_s</span>
477:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000083">
                    
                    <a name="M000083"></a><b>==</b>(other)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000083_source')" id="l_M000083_source">show</a>
                        
                    </p>
                    <div id="M000083_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 462</span>
462:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span> (<span class="ruby-identifier">other</span>)
463:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>
464:       <span class="ruby-comment cmt"># Compares contents of local entry and exposed fields</span>
465:       (<span class="ruby-ivar">@compression_method</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">compression_method</span> <span class="ruby-operator">&amp;&amp;</span>
466:        <span class="ruby-ivar">@crc</span>               <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">crc</span>         <span class="ruby-operator">&amp;&amp;</span>
467:        <span class="ruby-ivar">@compressed_size</span>   <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">compressed_size</span>   <span class="ruby-operator">&amp;&amp;</span>
468:        <span class="ruby-ivar">@size</span>              <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">size</span>              <span class="ruby-operator">&amp;&amp;</span>
469:        <span class="ruby-ivar">@name</span>              <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">name</span>              <span class="ruby-operator">&amp;&amp;</span>
470:        <span class="ruby-ivar">@extra</span>             <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">extra</span>             <span class="ruby-operator">&amp;&amp;</span>
471:        <span class="ruby-ivar">@filepath</span>          <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">filepath</span>          <span class="ruby-operator">&amp;&amp;</span>
472:        <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">time</span>.<span class="ruby-identifier">dos_equals</span>(<span class="ruby-identifier">other</span>.<span class="ruby-identifier">time</span>))
473:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000030">
                    
                    <a name="M000030"></a><b>comment_in</b>(enc)
                    
                </div>
                
                <div class="description">
                  <p>
Returns the name in the encoding specified by enc
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000030_source')" id="l_M000030_source">show</a>
                        
                    </p>
                    <div id="M000030_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 78</span>
78:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">comment_in</span>(<span class="ruby-identifier">enc</span>)
79:       <span class="ruby-identifier">name_in</span>(<span class="ruby-identifier">enc</span>)
80:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000035">
                    
                    <a name="M000035"></a><b>directory?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if the entry is a directory.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="ZipEntry.html#M000036">is_directory</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000035_source')" id="l_M000035_source">show</a>
                        
                    </p>
                    <div id="M000035_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 159</span>
159:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">directory?</span>
160:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ZipInternalError</span>, <span class="ruby-node">&quot;current filetype is unknown: #{self.inspect}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@ftype</span>
161:       <span class="ruby-ivar">@ftype</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:directory</span>
162:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000044">
                    
                    <a name="M000044"></a><b>extract</b>(destPath = @name, &amp;onExistsProc)
                    
                </div>
                
                <div class="description">
                  <p>
Extracts entry to file destPath (defaults to @name).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000044_source')" id="l_M000044_source">show</a>
                        
                    </p>
                    <div id="M000044_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 199</span>
199:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">extract</span>(<span class="ruby-identifier">destPath</span> = <span class="ruby-ivar">@name</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">onExistsProc</span>)
200:       <span class="ruby-identifier">onExistsProc</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">proc</span> { <span class="ruby-keyword kw">false</span> }
201: 
202:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">directory?</span>
203:         <span class="ruby-identifier">create_directory</span>(<span class="ruby-identifier">destPath</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">onExistsProc</span>)
204:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">file?</span>
205:         <span class="ruby-identifier">write_file</span>(<span class="ruby-identifier">destPath</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">onExistsProc</span>)
206:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">symlink?</span>
207:         <span class="ruby-identifier">create_symlink</span>(<span class="ruby-identifier">destPath</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">onExistsProc</span>)
208:       <span class="ruby-keyword kw">else</span>
209:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">RuntimeError</span>, <span class="ruby-node">&quot;unknown file type #{self.inspect}&quot;</span>
210:       <span class="ruby-keyword kw">end</span>
211: 
212:       <span class="ruby-keyword kw">self</span>
213:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000037">
                    
                    <a name="M000037"></a><b>file?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if the entry is a file.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000037_source')" id="l_M000037_source">show</a>
                        
                    </p>
                    <div id="M000037_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 166</span>
166:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">file?</span>
167:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ZipInternalError</span>, <span class="ruby-node">&quot;current filetype is unknown: #{self.inspect}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@ftype</span>
168:       <span class="ruby-ivar">@ftype</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:file</span>
169:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000087">
                    
                    <a name="M000087"></a><b>get_input_stream</b>(&amp;aProc)
                    
                </div>
                
                <div class="description">
                  <p>
Returns an IO like object for the given <a
href="ZipEntry.html">ZipEntry</a>. Warning: may behave weird with symlinks.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000087_source')" id="l_M000087_source">show</a>
                        
                    </p>
                    <div id="M000087_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 481</span>
481:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_input_stream</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">aProc</span>)
482:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@ftype</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:directory</span>
483:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-constant">NullInputStream</span>.<span class="ruby-identifier">instance</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
484:           <span class="ruby-keyword kw">return</span> <span class="ruby-constant">NullInputStream</span>.<span class="ruby-identifier">instance</span>
485:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@filepath</span>
486:         <span class="ruby-keyword kw">case</span> <span class="ruby-ivar">@ftype</span>
487:         <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:file</span>
488:           <span class="ruby-keyword kw">return</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-ivar">@filepath</span>, <span class="ruby-value str">&quot;rb&quot;</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">aProc</span>)
489: 
490:         <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:symlink</span>
491:           <span class="ruby-identifier">linkpath</span> = <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-identifier">readlink</span>(<span class="ruby-ivar">@filepath</span>)
492:           <span class="ruby-identifier">stringio</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">linkpath</span>)
493:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">stringio</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
494:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">stringio</span>
495:         <span class="ruby-keyword kw">else</span>
496:           <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;unknown @ftype #{@ftype}&quot;</span>
497:         <span class="ruby-keyword kw">end</span>
498:       <span class="ruby-keyword kw">else</span>
499:         <span class="ruby-identifier">zis</span> = <span class="ruby-constant">ZipInputStream</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@zipfile</span>, <span class="ruby-identifier">localHeaderOffset</span>)
500:         <span class="ruby-identifier">zis</span>.<span class="ruby-identifier">get_next_entry</span>
501:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
502:           <span class="ruby-keyword kw">begin</span>
503:             <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">zis</span>)
504:           <span class="ruby-keyword kw">ensure</span>
505:             <span class="ruby-identifier">zis</span>.<span class="ruby-identifier">close</span>
506:           <span class="ruby-keyword kw">end</span>
507:         <span class="ruby-keyword kw">else</span>
508:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">zis</span>
509:         <span class="ruby-keyword kw">end</span>
510:       <span class="ruby-keyword kw">end</span>
511:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000091">
                    
                    <a name="M000091"></a><b>get_raw_input_stream</b>(&amp;aProc)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000091_source')" id="l_M000091_source">show</a>
                        
                    </p>
                    <div id="M000091_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 560</span>
560:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_raw_input_stream</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">aProc</span>)
561:       <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-ivar">@zipfile</span>, <span class="ruby-value str">&quot;rb&quot;</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">aProc</span>)
562:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000036">
                    
                    <a name="M000036"></a><b>is_directory</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="ZipEntry.html#M000035">directory?</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000033">
                    
                    <a name="M000033"></a><b>mtime</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="ZipEntry.html#M000032">time</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000028">
                    
                    <a name="M000028"></a><b>name_encoding</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the character encoding used for name and comment
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000028_source')" id="l_M000028_source">show</a>
                        
                    </p>
                    <div id="M000028_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 64</span>
64:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">name_encoding</span>
65:       (<span class="ruby-ivar">@gp_flags</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0</span><span class="ruby-identifier">b100000000000</span>) <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value str">&quot;utf8&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;CP437//&quot;</span>
66:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000029">
                    
                    <a name="M000029"></a><b>name_in</b>(enc)
                    
                </div>
                
                <div class="description">
                  <p>
Returns the name in the encoding specified by enc
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000029_source')" id="l_M000029_source">show</a>
                        
                    </p>
                    <div id="M000029_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 69</span>
69:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">name_in</span>(<span class="ruby-identifier">enc</span>)
70:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">RUBY_VERSION</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value str">'1.9'</span>
71:         <span class="ruby-ivar">@name</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-identifier">enc</span>)
72:       <span class="ruby-keyword kw">else</span>
73:         <span class="ruby-constant">Iconv</span>.<span class="ruby-identifier">conv</span>(<span class="ruby-identifier">enc</span>, <span class="ruby-identifier">name_encoding</span>, <span class="ruby-ivar">@name</span>)
74:       <span class="ruby-keyword kw">end</span>
75:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000090">
                    
                    <a name="M000090"></a><b>parent_as_string</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000090_source')" id="l_M000090_source">show</a>
                        
                    </p>
                    <div id="M000090_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 554</span>
554:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parent_as_string</span>
555:       <span class="ruby-identifier">entry_name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-value str">&quot;/&quot;</span>)
556:       <span class="ruby-identifier">slash_index</span> = <span class="ruby-identifier">entry_name</span>.<span class="ruby-identifier">rindex</span>(<span class="ruby-value str">&quot;/&quot;</span>)
557:       <span class="ruby-identifier">slash_index</span> <span class="ruby-value">? </span><span class="ruby-identifier">entry_name</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">slash_index</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
558:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000038">
                    
                    <a name="M000038"></a><b>symlink?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns <tt>true</tt> if the entry is a symlink.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000038_source')" id="l_M000038_source">show</a>
                        
                    </p>
                    <div id="M000038_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 172</span>
172:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">symlink?</span>
173:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ZipInternalError</span>, <span class="ruby-node">&quot;current filetype is unknown: #{self.inspect}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@ftype</span>
174:       <span class="ruby-ivar">@ftype</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:symlink</span>
175:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000032">
                    
                    <a name="M000032"></a><b>time</b>()
                    
                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="ZipEntry.html#M000033">mtime</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000032_source')" id="l_M000032_source">show</a>
                        
                    </p>
                    <div id="M000032_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 139</span>
139:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">time</span>
140:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@extra</span>[<span class="ruby-value str">&quot;UniversalTime&quot;</span>]
141:         <span class="ruby-ivar">@extra</span>[<span class="ruby-value str">&quot;UniversalTime&quot;</span>].<span class="ruby-identifier">mtime</span>
142:       <span class="ruby-keyword kw">else</span>
143:         <span class="ruby-comment cmt"># Atandard time field in central directory has local time</span>
144:         <span class="ruby-comment cmt"># under archive creator. Then, we can't get timezone.</span>
145:         <span class="ruby-ivar">@time</span>
146:       <span class="ruby-keyword kw">end</span>
147:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000034">
                    
                    <a name="M000034"></a><b>time=</b>(aTime)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000034_source')" id="l_M000034_source">show</a>
                        
                    </p>
                    <div id="M000034_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 150</span>
150:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">time=</span>(<span class="ruby-identifier">aTime</span>)
151:       <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@extra</span>.<span class="ruby-identifier">member?</span>(<span class="ruby-value str">&quot;UniversalTime&quot;</span>)
152:         <span class="ruby-ivar">@extra</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value str">&quot;UniversalTime&quot;</span>)
153:       <span class="ruby-keyword kw">end</span>
154:       <span class="ruby-ivar">@extra</span>[<span class="ruby-value str">&quot;UniversalTime&quot;</span>].<span class="ruby-identifier">mtime</span> = <span class="ruby-identifier">aTime</span>
155:       <span class="ruby-ivar">@time</span> = <span class="ruby-identifier">aTime</span>
156:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000045">
                    
                    <a name="M000045"></a><b>to_s</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000045_source')" id="l_M000045_source">show</a>
                        
                    </p>
                    <div id="M000045_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 215</span>
215:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_s</span>
216:       <span class="ruby-ivar">@name</span>
217:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M000094">
                    
                    <a name="M000094"></a><b>create_directory</b>(destPath)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000094_source')" id="l_M000094_source">show</a>
                        
                    </p>
                    <div id="M000094_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 589</span>
589:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_directory</span>(<span class="ruby-identifier">destPath</span>)
590:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span> <span class="ruby-identifier">destPath</span>
591:         <span class="ruby-keyword kw">return</span>
592:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span> <span class="ruby-identifier">destPath</span>
593:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">destPath</span>)
594:           <span class="ruby-constant">FileUtils</span><span class="ruby-operator">::</span><span class="ruby-identifier">rm_f</span> <span class="ruby-identifier">destPath</span>
595:         <span class="ruby-keyword kw">else</span>
596:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ZipDestinationFileExistsError</span>,
597:             <span class="ruby-node">&quot;Cannot create directory '#{destPath}'. &quot;</span><span class="ruby-operator">+</span>
598:             <span class="ruby-value str">&quot;A file already exists with that name&quot;</span>
599:         <span class="ruby-keyword kw">end</span>
600:       <span class="ruby-keyword kw">end</span>
601:       <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">mkdir</span> <span class="ruby-identifier">destPath</span>
602:       <span class="ruby-identifier">set_extra_attributes_on_path</span>(<span class="ruby-identifier">destPath</span>)
603:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000095">
                    
                    <a name="M000095"></a><b>create_symlink</b>(destPath)
                    
                </div>
                
                <div class="description">
                  <p>
BUG: <a href="ZipEntry.html#M000095">create_symlink</a>() does not use
&amp;onExistsProc
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000095_source')" id="l_M000095_source">show</a>
                        
                    </p>
                    <div id="M000095_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 606</span>
606:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_symlink</span>(<span class="ruby-identifier">destPath</span>)
607:       <span class="ruby-identifier">stat</span> = <span class="ruby-keyword kw">nil</span>
608:       <span class="ruby-keyword kw">begin</span>
609:         <span class="ruby-identifier">stat</span> = <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-identifier">lstat</span>(<span class="ruby-identifier">destPath</span>)
610:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>
611:       <span class="ruby-keyword kw">end</span>
612: 
613:       <span class="ruby-identifier">io</span> = <span class="ruby-identifier">get_input_stream</span>
614:       <span class="ruby-identifier">linkto</span> = <span class="ruby-identifier">io</span>.<span class="ruby-identifier">read</span>
615: 
616:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">stat</span>
617:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">stat</span>.<span class="ruby-identifier">symlink?</span>
618:           <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-identifier">readlink</span>(<span class="ruby-identifier">destPath</span>) <span class="ruby-operator">==</span> <span class="ruby-identifier">linkto</span>
619:             <span class="ruby-keyword kw">return</span>
620:           <span class="ruby-keyword kw">else</span>
621:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">ZipDestinationFileExistsError</span>,
622:               <span class="ruby-node">&quot;Cannot create symlink '#{destPath}'. &quot;</span><span class="ruby-operator">+</span>
623:               <span class="ruby-value str">&quot;A symlink already exists with that name&quot;</span>
624:           <span class="ruby-keyword kw">end</span>
625:         <span class="ruby-keyword kw">else</span>
626:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ZipDestinationFileExistsError</span>,
627:             <span class="ruby-node">&quot;Cannot create symlink '#{destPath}'. &quot;</span><span class="ruby-operator">+</span>
628:             <span class="ruby-value str">&quot;A file already exists with that name&quot;</span>
629:         <span class="ruby-keyword kw">end</span>
630:       <span class="ruby-keyword kw">end</span>
631: 
632:       <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-identifier">symlink</span>(<span class="ruby-identifier">linkto</span>, <span class="ruby-identifier">destPath</span>)
633:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000092">
                    
                    <a name="M000092"></a><b>set_time</b>(binaryDosDate, binaryDosTime)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000092_source')" id="l_M000092_source">show</a>
                        
                    </p>
                    <div id="M000092_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 566</span>
566:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_time</span>(<span class="ruby-identifier">binaryDosDate</span>, <span class="ruby-identifier">binaryDosTime</span>)
567:       <span class="ruby-ivar">@time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">parse_binary_dos_format</span>(<span class="ruby-identifier">binaryDosDate</span>, <span class="ruby-identifier">binaryDosTime</span>)
568:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ArgumentError</span>
569:       <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Invalid date/time in zip entry&quot;</span>
570:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000093">
                    
                    <a name="M000093"></a><b>write_file</b>(destPath, continueOnExistsProc = proc { false }
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000093_source')" id="l_M000093_source">show</a>
                        
                    </p>
                    <div id="M000093_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/zip/zip_entry.rb, line 572</span>
572:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write_file</span>(<span class="ruby-identifier">destPath</span>, <span class="ruby-identifier">continueOnExistsProc</span> = <span class="ruby-identifier">proc</span> { <span class="ruby-keyword kw">false</span> })
573:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">destPath</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">destPath</span>)
574:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ZipDestinationFileExistsError</span>,
575:           <span class="ruby-node">&quot;Destination '#{destPath}' already exists&quot;</span>
576:       <span class="ruby-keyword kw">end</span>
577:       <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">destPath</span>, <span class="ruby-value str">&quot;wb&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">os</span><span class="ruby-operator">|</span>
578:         <span class="ruby-identifier">get_input_stream</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">is</span><span class="ruby-operator">|</span>
579:           <span class="ruby-identifier">set_extra_attributes_on_path</span>(<span class="ruby-identifier">destPath</span>)
580: 
581:           <span class="ruby-identifier">buf</span> = <span class="ruby-value str">''</span>
582:           <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">buf</span> = <span class="ruby-identifier">is</span>.<span class="ruby-identifier">sysread</span>(<span class="ruby-constant">Decompressor</span><span class="ruby-operator">::</span><span class="ruby-constant">CHUNK_SIZE</span>, <span class="ruby-identifier">buf</span>)
583:             <span class="ruby-identifier">os</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">buf</span>
584:           <span class="ruby-keyword kw">end</span>
585:         <span class="ruby-keyword kw">end</span>
586:       <span class="ruby-keyword kw">end</span>
587:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    