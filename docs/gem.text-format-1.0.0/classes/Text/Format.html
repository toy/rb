<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Text::Format</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Text::Format 
            
                <span class="parent">&lt; 
                    
                    Object
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/text/format_rb.html">lib/text/format.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <h1>Introduction</h1>
<p>
<a href="Format.html">Text::Format</a> provides the ability to nicely
format fixed-width text with knowledge of the writeable space (number of
columns), margins, and indentation settings.
</p>
<table>
<tr><td valign="top">Copyright:</td><td>Copyright &#169; 2002 - 2005 by Austin Ziegler

</td></tr>
<tr><td valign="top">Version:</td><td>1.0.0

</td></tr>
<tr><td valign="top">Based On:</td><td>Perl <a
href="http://search.cpan.org/author/GABOR/Text-Format0.52/lib/Text/Format.pm">Text::Format</a>,
Copyright &#169; 1998 Gábor Egressy

</td></tr>
<tr><td valign="top">Licence:</td><td>Ruby&#8217;s, Perl Artistic, or GPL version 2 (or later)

</td></tr>
</table>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M000008">==</a>,</li>
                
                <li><a href="#M000030">__add_extra_space?</a>,</li>
                
                <li><a href="#M000007">__sentence_end_re</a>,</li>
                
                <li><a href="#M000033">__wrap_line</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000027">center</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000028">expand</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000025">format</a>,</li>
                
                <li><a href="#M000024">format_one_paragraph</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M000022">hyphenate_to</a></li>
                
            </ul>
        </dd>
    
        <dt>J</dt>
        <dd>
            <ul>
                
                <li><a href="#M000021">justify?</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M000018">left_align?</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000034">new</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000026">paragraphs</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000019">right_align?</a>,</li>
                
                <li><a href="#M000020">right_fill?</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000023">split_word_to</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M000029">unexpand</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">CLASS</span> <a href="Format/Alpha.html">Text::Format::Alpha</a></li>
        
        <li><span class="type">CLASS</span> <a href="Format/Number.html">Text::Format::Number</a></li>
        
        <li><span class="type">CLASS</span> <a href="Format/Roman.html">Text::Format::Roman</a></li>
        
        <li><span class="type">CLASS</span> <a href="Format/SplitWord.html">Text::Format::SplitWord</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">VERSION</td>
            <td>=</td>
            <td class="attr-value">'1.0.0'</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">SPACES_RE</td>
            <td>=</td>
            <td class="attr-value">%r{\s+}mo.freeze</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">NEWLINE_RE</td>
            <td>=</td>
            <td class="attr-value">%r{\n}o.freeze</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">TAB</td>
            <td>=</td>
            <td class="attr-value">&quot;\t&quot;.freeze</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">NEWLINE</td>
            <td>=</td>
            <td class="attr-value">&quot;\n&quot;.freeze</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">ABBREV</td>
            <td>=</td>
            <td class="attr-value">%w(Mr Mrs Ms Jr Sr Dr)</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Global common English abbreviations. More can be added with <a
href="Format.html#abbreviations">abbreviations</a>.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">LEFT_ALIGN</td>
            <td>=</td>
            <td class="attr-value">:left</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Formats text flush to the left margin with a visual and physical ragged
right margin.
</p>
<pre>
     &gt;A paragraph that is&lt;
     &gt;left aligned.&lt;
</pre>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">RIGHT_ALIGN</td>
            <td>=</td>
            <td class="attr-value">:right</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Formats text flush to the right margin with a visual ragged left margin.
The actual left margin is padded with spaces from the beginning of the line
to the start of the text such that the right margin will be flush.
</p>
<pre>
     &gt;A paragraph that is&lt;
     &gt;     right aligned.&lt;
</pre>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">RIGHT_FILL</td>
            <td>=</td>
            <td class="attr-value">:fill</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Formats text flush to the left margin with a visual ragged right margin.
The line is padded with spaces from the end of the text to the right
margin.
</p>
<pre>
     &gt;A paragraph that is&lt;
     &gt;right filled.      &lt;
</pre>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">JUSTIFY</td>
            <td>=</td>
            <td class="attr-value">:justify</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Formats the text flush to both the left and right margins. The last line
will not be justified if it consists of a single word (it will be treated
as <tt><a href="Format.html#RIGHT_FILL">RIGHT_FILL</a></tt> in this case).
Spacing between words is increased to ensure that the textg is flush with
both margins.
</p>
<pre>
     |A paragraph  that|
     |is     justified.|

     |A paragraph  that is|
     |justified.          |
</pre>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">SPLIT_FIXED</td>
            <td>=</td>
            <td class="attr-value">1</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
When <a href="Format.html#hard_margins">hard_margins</a> is enabled, a word
that extends over the right margin will be split at the number of
characters needed. This is similar to how characters wrap on a terminal.
This is the default split mechanism when <a
href="Format.html#hard_margins">hard_margins</a> is enabled.
</p>
<pre>
     repre
     senta
     ion
</pre>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">SPLIT_CONTINUATION</td>
            <td>=</td>
            <td class="attr-value">2</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
When <a href="Format.html#hard_margins">hard_margins</a> is enabled, a word
that extends over the right margin will be split at one less than the
number of characters needed with a C-style continuation character (). If
the word cannot be split using the rules of <a
href="Format.html#SPLIT_CONTINUATION">SPLIT_CONTINUATION</a>, and the word
will not fit wholly into the next line, then <a
href="Format.html#SPLIT_FIXED">SPLIT_FIXED</a> will be used.
</p>
<pre>
      repr     #       esen     #       tati     #       on
</pre>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">SPLIT_HYPHENATION</td>
            <td>=</td>
            <td class="attr-value">4</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
When <a href="Format.html#hard_margins">hard_margins</a> is enabled, a word
that extends over the right margin will be split according to the
hyphenator specified by the <a href="Format.html#hyphenator">hyphenator</a>
object; if there is no hyphenation library supplied, then the hyphenator of
<a href="Format.html">Text::Format</a> itself is used, which is the same as
<a href="Format.html#SPLIT_CONTINUATION">SPLIT_CONTINUATION</a>. See <a
href="Format.html#hyphenator">hyphenator</a> for more information about
hyphenation libraries. The example below is valid with either TeX::Hyphen
or Text::Hyphen. If the word cannot be split using the hyphenator&#8217;s
rules, and the word will not fit wholly into the next line, then <a
href="Format.html#SPLIT_FIXED">SPLIT_FIXED</a> will be used.
</p>
<pre>
      rep-
      re-
      sen-
      ta-
      tion
</pre>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">SPLIT_CONTINUATION_FIXED</td>
            <td>=</td>
            <td class="attr-value">SPLIT_CONTINUATION | SPLIT_FIXED</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
When <a href="Format.html#hard_margins">hard_margins</a> is enabled, a word
that extends over the right margin will be split at one less than the
number of characters needed with a C-style continuation character (). If
the word cannot be split using the rules of <a
href="Format.html#SPLIT_CONTINUATION">SPLIT_CONTINUATION</a>, then <a
href="Format.html#SPLIT_FIXED">SPLIT_FIXED</a> will be used.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">SPLIT_HYPHENATION_FIXED</td>
            <td>=</td>
            <td class="attr-value">SPLIT_HYPHENATION | SPLIT_FIXED</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
When <a href="Format.html#hard_margins">hard_margins</a> is enabled, a word
that extends over the right margin will be split according to the
hyphenator specified by the <a href="Format.html#hyphenator">hyphenator</a>
object; if there is no hyphenation library supplied, then the hyphenator of
<a href="Format.html">Text::Format</a> itself is used, which is the same as
<a href="Format.html#SPLIT_CONTINUATION">SPLIT_CONTINUATION</a>. See <a
href="Format.html#hyphenator">hyphenator</a> for more information about
hyphenation libraries. The example below is valid with either TeX::Hyphen
or Text::Hyphen. If the word cannot be split using the hyphenator&#8217;s
rules, then <a href="Format.html#SPLIT_FIXED">SPLIT_FIXED</a> will be used.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">SPLIT_HYPHENATION_CONTINUATION</td>
            <td>=</td>
            <td class="attr-value">SPLIT_HYPHENATION | SPLIT_CONTINUATION</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Attempts to split words according to the rules of the supplied hyphenator
(e.g., <a href="Format.html#SPLIT_HYPHENATION">SPLIT_HYPHENATION</a>); if
the word cannot be split using these rules, then the rules of <a
href="Format.html#SPLIT_CONTINUATION">SPLIT_CONTINUATION</a> will be
followed. In all cases, if the word cannot be split using either <a
href="Format.html#SPLIT_HYPHENATION">SPLIT_HYPHENATION</a> or <a
href="Format.html#SPLIT_CONTINUATION">SPLIT_CONTINUATION</a>, and the word
will not fit wholly into the next line, then <a
href="Format.html#SPLIT_FIXED">SPLIT_FIXED</a> will be used.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">SPLIT_ALL</td>
            <td>=</td>
            <td class="attr-value">SPLIT_HYPHENATION | SPLIT_CONTINUATION | SPLIT_FIXED</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Attempts to split words according to the rules of the supplied hyphenator
(e.g., <a href="Format.html#SPLIT_HYPHENATION">SPLIT_HYPHENATION</a>); if
the word cannot be split using these rules, then the rules of <a
href="Format.html#SPLIT_CONTINUATION">SPLIT_CONTINUATION</a> will be
followed. In all cases, if the word cannot be split using either <a
href="Format.html#SPLIT_HYPHENATION">SPLIT_HYPHENATION</a> or <a
href="Format.html#SPLIT_CONTINUATION">SPLIT_CONTINUATION</a>, then <a
href="Format.html#SPLIT_FIXED">SPLIT_FIXED</a> will be used.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">TERMINAL_PUNCTUATION</td>
            <td>=</td>
            <td class="attr-value">%q(.?!)</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Indicates punctuation characters that terminates a sentence, as some
English typesetting rules indicate that sentences should be followed by two
spaces. This is an archaic rule, but is supported with <a
href="Format.html#extra_space">extra_space</a>. This is the default set of
terminal punctuation characters. Additional terminal punctuation may be
added to the formatting object through <a
href="Format.html#terminal_punctuation">terminal_punctuation</a>.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">TERMINAL_QUOTES</td>
            <td>=</td>
            <td class="attr-value">%q('&quot;)</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Indicates quote characters that may follow terminal punctuation under the
current formatting rules. This satisfies the English formatting rule that
indicates that sentences terminated inside of quotes should have the
punctuation inside of the quoted text, not outside of the terminal quote.
Additional terminal quotes may be added to the formatting object through <a
href="Format.html#terminal_quotes">terminal_quotes</a>. See <a
href="Format.html#TERMINAL_PUNCTUATION">TERMINAL_PUNCTUATION</a> for more
information.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">RE_BREAK_SIZE</td>
            <td>=</td>
            <td class="attr-value">lambda { |size| %r[((?:\S+\s+){#{size}})(.+)] }</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Returns a regular expression for a set of characters (at least one
non-whitespace followed by at least one space) of the specified size
followed by one or more of any character.
</p>
</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>text</td>
            <td class='attr-desc'><p>
The default text to be manipulated. Note that value is optional, but if the
formatting functions are called without values, this text is what will be
formatted.
</p>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>[]</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td>All methods

</td></tr>
</table></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>columns</td>
            <td class='attr-desc'><p>
The total width of the format area. The margins, indentation, and text are
formatted into this space. Any value provided is silently converted to a
positive integer.
</p>
<pre>
                            COLUMNS
 &lt;--------------------------------------------------------------&gt;
 &lt;-----------&gt;&lt;------&gt;&lt;---------------------------&gt;&lt;------------&gt;
  left margin  indent  text is formatted into here  right margin
</pre>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>72</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>, <a
href="Format.html#M000027">center</a>

</td></tr>
</table></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>left_margin</td>
            <td class='attr-desc'><p>
The number of spaces used for the left margin. The value provided is
silently converted to a positive integer value.
</p>
<pre>
                            columns
 &lt;--------------------------------------------------------------&gt;
 &lt;-----------&gt;&lt;------&gt;&lt;---------------------------&gt;&lt;------------&gt;
  LEFT MARGIN  indent  text is formatted into here  right margin
</pre>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>0</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>, <a
href="Format.html#M000027">center</a>

</td></tr>
</table></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>right_margin</td>
            <td class='attr-desc'><p>
The number of spaces used for the right margin. The value provided is
silently converted to a positive integer value.
</p>
<pre>
                            columns
 &lt;--------------------------------------------------------------&gt;
 &lt;-----------&gt;&lt;------&gt;&lt;---------------------------&gt;&lt;------------&gt;
  left margin  indent  text is formatted into here  RIGHT MARGIN
</pre>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>0</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>, <a
href="Format.html#M000027">center</a>

</td></tr>
</table></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>first_indent</td>
            <td class='attr-desc'><p>
The number of spaces to indent the first line of a paragraph. The value
provided is silently converted to a positive integer value.
</p>
<pre>
                            columns
 &lt;--------------------------------------------------------------&gt;
 &lt;-----------&gt;&lt;------&gt;&lt;---------------------------&gt;&lt;------------&gt;
  left margin  INDENT  text is formatted into here  right margin
</pre>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>4</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>body_indent</td>
            <td class='attr-desc'><p>
The number of spaces to indent all lines after the first line of a
paragraph. The value provided is silently converted to a positive integer
value.
</p>
<pre>
                            columns
 &lt;--------------------------------------------------------------&gt;
 &lt;-----------&gt;&lt;------&gt;&lt;---------------------------&gt;&lt;------------&gt;
  left margin  INDENT  text is formatted into here  right margin
</pre>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>0</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>hard_margins</td>
            <td class='attr-desc'><p>
Normally, words larger than the format area will be placed on a line by
themselves. Setting this value to <tt>true</tt> will force words larger
than the format area to be split into one or more &#8220;words&#8221; each
at most the size of the format area. The first line and the original word
will be placed into <a href="Format.html#split_words">split_words</a>. Note
that this will cause the output to look <b>similar</b> to a <a
href="Format.html#format_style">format_style</a> of <a
href="Format.html#JUSTIFY">JUSTIFY</a>. (Lines will be filled as much as
possible.)
</p>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>false</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>split_words</td>
            <td class='attr-desc'><p>
An array of words split during formatting if <a
href="Format.html#hard_margins">hard_margins</a> is set to <tt>true</tt>.
</p>
<pre>
  #split_words &lt;&lt; Text::Format::SplitWord.new(word, first, rest)
</pre></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>hyphenator</td>
            <td class='attr-desc'><p>
The object responsible for hyphenating. It must respond to <a
href="Format.html#M000022">hyphenate_to</a>(word, size) or <a
href="Format.html#M000022">hyphenate_to</a>(word, size, formatter) and
return an array of the word split into two parts (e.g., <tt>[part1,
part2]</tt>; if there is a hyphenation mark to be applied, responsibility
belongs to the hyphenator object. The size is the MAXIMUM size permitted,
including any hyphenation marks.
</p>
<p>
If the <a href="Format.html#M000022">hyphenate_to</a> method has an arity
of 3, the current formatter (<tt>self</tt>) will be provided to the method.
This allows the hyphenator to make decisions about the hyphenation based on
the formatting rules.
</p>
<p>
<a href="Format.html#M000022">hyphenate_to</a> should return <tt>[nil,
word]</tt> if the word cannot be hyphenated.
</p>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>self</tt> (<a
href="Format.html#SPLIT_CONTINUATION">SPLIT_CONTINUATION</a>)

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>split_rules</td>
            <td class='attr-desc'><p>
Specifies the split mode; used only when <a
href="Format.html#hard_margins">hard_margins</a> is set to <tt>true</tt>.
Allowable values are:
</p>
<ul>
<li><tt><a href="Format.html#SPLIT_FIXED">SPLIT_FIXED</a></tt>

</li>
<li><tt><a href="Format.html#SPLIT_CONTINUATION">SPLIT_CONTINUATION</a></tt>

</li>
<li><tt><a href="Format.html#SPLIT_HYPHENATION">SPLIT_HYPHENATION</a></tt>

</li>
<li><tt><a
href="Format.html#SPLIT_CONTINUATION_FIXED">SPLIT_CONTINUATION_FIXED</a></tt>

</li>
<li><tt><a
href="Format.html#SPLIT_HYPHENATION_FIXED">SPLIT_HYPHENATION_FIXED</a></tt>

</li>
<li><tt><a
href="Format.html#SPLIT_HYPHENATION_CONTINUATION">SPLIT_HYPHENATION_CONTINUATION</a></tt>

</li>
<li><tt><a href="Format.html#SPLIT_ALL">SPLIT_ALL</a></tt>

</li>
</ul>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>Text::Format::<a href="Format.html#SPLIT_FIXED">SPLIT_FIXED</a></tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>extra_space</td>
            <td class='attr-desc'><p>
Indicates whether sentence terminators should be followed by a single space
(<tt>false</tt>), or two spaces (<tt>true</tt>). See <a
href="Format.html#abbreviations">abbreviations</a> for more information.
</p>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>false</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>abbreviations</td>
            <td class='attr-desc'><p>
Defines the current abbreviations as an array. This is only used if <a
href="Format.html#extra_space">extra_space</a> is turned on.
</p>
<p>
If one is abbreviating &#8220;President&#8221; as &#8220;Pres.&#8221;
(abbreviations = [&#8220;Pres&#8221;]), then the results of formatting will
be as illustrated in the table below:
</p>
<pre>
                        abbreviations
  extra_space | #include?(&quot;Pres&quot;) | not #include?(&quot;Pres&quot;)
  ------------+-------------------+----------------------
      true    | Pres. Lincoln     | Pres.  Lincoln
      false   | Pres. Lincoln     | Pres. Lincoln
  ------------+-------------------+----------------------
  extra_space | #include?(&quot;Mrs&quot;)  | not #include?(&quot;Mrs&quot;)
      true    | Mrs. Lincoln      | Mrs.  Lincoln
      false   | Mrs. Lincoln      | Mrs. Lincoln
</pre>
<p>
Note that abbreviations should not have the terminal period as part of
their definitions.
</p>
<p>
This automatic abbreviation handling <b>will</b> cause some issues with
uncommon sentence structures. The two sentences below will not be formatted
correctly:
</p>
<pre>
  You're in trouble now, Mr.
  Just wait until your father gets home.
</pre>
<p>
Under no circumstances (because Mr is a predefined abbreviation) will this
ever be separated by two spaces.
</p>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>[]</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>terminal_punctuation</td>
            <td class='attr-desc'><p>
Specifies additional punctuation characters that terminate a sentence, as
some English typesetting rules indicate that sentences should be followed
by two spaces. This is an archaic rule, but is supported with <a
href="Format.html#extra_space">extra_space</a>. This is added to the
default set of terminal punctuation defined in <a
href="Format.html#TERMINAL_PUNCTUATION">TERMINAL_PUNCTUATION</a>.
</p>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>&quot;&quot;</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>terminal_quotes</td>
            <td class='attr-desc'><p>
Specifies additional quote characters that may follow terminal punctuation
under the current formatting rules. This satisfies the English formatting
rule that indicates that sentences terminated inside of quotes should have
the punctuation inside of the quoted text, not outside of the terminal
quote. This is added to the default set of terminal quotes defined in <a
href="Format.html#TERMINAL_QUOTES">TERMINAL_QUOTES</a>.
</p>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>&quot;&quot;</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>tag_paragraph</td>
            <td class='attr-desc'><p>
Indicates whether the formatting of paragraphs should be done with tagged
paragraphs. Useful only with <a href="Format.html#tag_text">tag_text</a>.
</p>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>false</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>tag_text</td>
            <td class='attr-desc'><p>
The text to be placed before each paragraph when <a
href="Format.html#tag_paragraph">tag_paragraph</a> is <tt>true</tt>. When
<a href="Format.html#M000025">format</a> is called, only the first element
(<a href="Format.html#tag_text">tag_text</a>[0]) is used. When <a
href="Format.html#M000026">paragraphs</a> is called, then each successive
element (<a href="Format.html#tag_text">tag_text</a>[n]) will be used once,
with corresponding paragraphs. If the tag elements are exhausted before the
text is exhausted, then the remaining paragraphs will not be tagged.
Regardless of indentation settings, a blank line will be inserted between
all paragraphs when <a href="Format.html#tag_paragraph">tag_paragraph</a>
is <tt>true</tt>.
</p>
<p>
The <a href="Format.html">Text::Format</a> package provides three number
generators, <a href="Format/Alpha.html">Text::Format::Alpha</a>, <a
href="Format/Number.html">Text::Format::Number</a>, and <a
href="Format/Roman.html">Text::Format::Roman</a> to assist with the
numbering of paragraphs.
</p>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>[]</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>nobreak</td>
            <td class='attr-desc'><p>
Indicates whether or not the non-breaking space feature should be used.
</p>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>false</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>nobreak_regex</td>
            <td class='attr-desc'><p>
A hash which holds the regular expressions on which spaces should not be
broken. The hash is set up such that the key is the first word and the
value is the second word.
</p>
<p>
For example, if <tt><a
href="Format.html#nobreak_regex">nobreak_regex</a></tt> contains the
following hash:
</p>
<pre>
  { %r{Mrs?\.?} =&gt; %r{\S+}, %r{\S+} =&gt; %r{(?:[SJ])r\.?} }
</pre>
<p>
Then &#8220;Mr. Jones&#8221;, &#8220;Mrs Jones&#8221;, and &#8220;Jones
Jr.&#8221; would not be broken. If this simple matching algorithm indicates
that there should not be a break at the current end of line, then a
backtrack is done until there are two words on which line breaking is
permitted. If two such words are not found, then the end of the line will
be broken <b>regardless</b>. If there is a single word on the current line,
then no backtrack is done and the word is stuck on the end.
</p>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>{}</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>tabstop</td>
            <td class='attr-desc'><p>
Indicates the number of spaces that a single tab represents. Any value
provided is silently converted to a positive integer.
</p>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>8</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000028">expand</a>, <a
href="Format.html#M000029">unexpand</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>format_style</td>
            <td class='attr-desc'><p>
Specifies the format style. Allowable values are: *<tt><a
href="Format.html#LEFT_ALIGN">LEFT_ALIGN</a></tt> *<tt><a
href="Format.html#RIGHT_ALIGN">RIGHT_ALIGN</a></tt> *<tt><a
href="Format.html#RIGHT_FILL">RIGHT_FILL</a></tt> *<tt>JUSTIFY</tt>
</p>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>Text::Format::<a href="Format.html#LEFT_ALIGN">LEFT_ALIGN</a></tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000008">
                    
                    <a name="M000008"></a><b>==</b>(o)
                    
                </div>
                
                <div class="description">
                  <p>
Compares the formatting rules, excepting <a
href="Format.html#hyphenator">hyphenator</a>, of two <a
href="Format.html">Text::Format</a> objects. Generated results (e.g., <a
href="Format.html#split_words">split_words</a>) are not compared.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000008_source')" id="l_M000008_source">show</a>
                        
                    </p>
                    <div id="M000008_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/format.rb, line 188</span>
188:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">o</span>)
189:     (<span class="ruby-ivar">@text</span>                  <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">text</span>)                  <span class="ruby-keyword kw">and</span>
190:     (<span class="ruby-ivar">@columns</span>               <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">columns</span>)               <span class="ruby-keyword kw">and</span>
191:     (<span class="ruby-ivar">@left_margin</span>           <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">left_margin</span>)           <span class="ruby-keyword kw">and</span>
192:     (<span class="ruby-ivar">@right_margin</span>          <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">right_margin</span>)          <span class="ruby-keyword kw">and</span>
193:     (<span class="ruby-ivar">@hard_margins</span>          <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">hard_margins</span>)          <span class="ruby-keyword kw">and</span>
194:     (<span class="ruby-ivar">@split_rules</span>           <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">split_rules</span>)           <span class="ruby-keyword kw">and</span>
195:     (<span class="ruby-ivar">@first_indent</span>          <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">first_indent</span>)          <span class="ruby-keyword kw">and</span>
196:     (<span class="ruby-ivar">@body_indent</span>           <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">body_indent</span>)           <span class="ruby-keyword kw">and</span>
197:     (<span class="ruby-ivar">@tag_text</span>              <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">tag_text</span>)              <span class="ruby-keyword kw">and</span>
198:     (<span class="ruby-ivar">@tabstop</span>               <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">tabstop</span>)               <span class="ruby-keyword kw">and</span>
199:     (<span class="ruby-ivar">@format_style</span>          <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">format_style</span>)          <span class="ruby-keyword kw">and</span>
200:     (<span class="ruby-ivar">@extra_space</span>           <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">extra_space</span>)           <span class="ruby-keyword kw">and</span>
201:     (<span class="ruby-ivar">@tag_paragraph</span>         <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">tag_paragraph</span>)         <span class="ruby-keyword kw">and</span>
202:     (<span class="ruby-ivar">@nobreak</span>               <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">nobreak</span>)               <span class="ruby-keyword kw">and</span>
203:     (<span class="ruby-ivar">@terminal_punctuation</span>  <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">terminal_punctuation</span>)  <span class="ruby-keyword kw">and</span>
204:     (<span class="ruby-ivar">@terminal_quotes</span>       <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">terminal_quotes</span>)       <span class="ruby-keyword kw">and</span>
205:     (<span class="ruby-ivar">@abbreviations</span>         <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">abbreviations</span>)         <span class="ruby-keyword kw">and</span>
206:     (<span class="ruby-ivar">@nobreak_regex</span>         <span class="ruby-operator">==</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">nobreak_regex</span>)
207:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000027">
                    
                    <a name="M000027"></a><b>center</b>(to_center = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Centers the text, preserving empty lines and tabs.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000027_source')" id="l_M000027_source">show</a>
                        
                    </p>
                    <div id="M000027_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/format.rb, line 728</span>
728:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">center</span>(<span class="ruby-identifier">to_center</span> = <span class="ruby-keyword kw">nil</span>)
729:     <span class="ruby-identifier">to_center</span> = <span class="ruby-ivar">@text</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">to_center</span>.<span class="ruby-identifier">nil?</span>
730:     <span class="ruby-identifier">to_center</span> = [<span class="ruby-identifier">to_center</span>].<span class="ruby-identifier">flatten</span>
731: 
732:     <span class="ruby-identifier">tabs</span> = <span class="ruby-value">0</span>
733:     <span class="ruby-identifier">width</span> = <span class="ruby-ivar">@columns</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@left_margin</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@right_margin</span>
734:     <span class="ruby-identifier">centered</span> = []
735:     <span class="ruby-identifier">to_center</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">tc</span><span class="ruby-operator">|</span>
736:       <span class="ruby-identifier">s</span> = <span class="ruby-identifier">tc</span>.<span class="ruby-identifier">strip</span>
737:       <span class="ruby-identifier">tabs</span> = <span class="ruby-identifier">s</span>.<span class="ruby-identifier">count</span>(<span class="ruby-constant">TAB</span>)
738:       <span class="ruby-identifier">tabs</span> = <span class="ruby-value">0</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tabs</span>.<span class="ruby-identifier">nil?</span>
739:       <span class="ruby-identifier">ct</span> = ((<span class="ruby-identifier">width</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">tabs</span> <span class="ruby-operator">*</span> <span class="ruby-ivar">@tabstop</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">tabs</span>) <span class="ruby-operator">/</span> <span class="ruby-value">2</span>)
740:       <span class="ruby-identifier">ct</span> = (<span class="ruby-identifier">width</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@left_margin</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@right_margin</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">ct</span>
741:       <span class="ruby-identifier">centered</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{s.rjust(ct)}\n&quot;</span>
742:     <span class="ruby-keyword kw">end</span>
743:     <span class="ruby-identifier">centered</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">''</span>)
744:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000028">
                    
                    <a name="M000028"></a><b>expand</b>(to_expand = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Replaces all tab characters in the text with <a
href="Format.html#tabstop">tabstop</a> spaces.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000028_source')" id="l_M000028_source">show</a>
                        
                    </p>
                    <div id="M000028_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/format.rb, line 747</span>
747:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expand</span>(<span class="ruby-identifier">to_expand</span> = <span class="ruby-keyword kw">nil</span>)
748:     <span class="ruby-identifier">to_expand</span> = <span class="ruby-ivar">@text</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">to_expand</span>.<span class="ruby-identifier">nil?</span>
749: 
750:     <span class="ruby-identifier">tmp</span> = <span class="ruby-value str">' '</span> <span class="ruby-operator">*</span> <span class="ruby-ivar">@tabstop</span>
751:     <span class="ruby-identifier">changer</span> = <span class="ruby-identifier">lambda</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">text</span><span class="ruby-operator">|</span>
752:       <span class="ruby-identifier">res</span> = <span class="ruby-identifier">text</span>.<span class="ruby-identifier">split</span>(<span class="ruby-constant">NEWLINE_RE</span>)
753:       <span class="ruby-identifier">res</span>.<span class="ruby-identifier">collect!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">ln</span><span class="ruby-operator">|</span> <span class="ruby-identifier">ln</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp re">/\t/o</span>, <span class="ruby-identifier">tmp</span>) }
754:       <span class="ruby-identifier">res</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">NEWLINE</span>)
755:     <span class="ruby-keyword kw">end</span>
756: 
757:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">to_expand</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>)
758:       <span class="ruby-identifier">to_expand</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">te</span><span class="ruby-operator">|</span> <span class="ruby-identifier">changer</span>[<span class="ruby-identifier">te</span>] }
759:     <span class="ruby-keyword kw">else</span>
760:       <span class="ruby-identifier">changer</span>[<span class="ruby-identifier">to_expand</span>]
761:     <span class="ruby-keyword kw">end</span>
762:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000025">
                    
                    <a name="M000025"></a><b>format</b>(text = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Format.html#M000024">format_one_paragraph</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000024">
                    
                    <a name="M000024"></a><b>format_one_paragraph</b>(text = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Formats text into a nice paragraph format. The text is separated into words
and then reassembled a word at a time using the settings of this <a
href="Format.html">Format</a> object.
</p>
<p>
If <tt>text</tt> is <tt>nil</tt>, then the value of <a
href="Format.html#text">text</a> will be worked on.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Format.html#M000025">format</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000024_source')" id="l_M000024_source">show</a>
                        
                    </p>
                    <div id="M000024_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/format.rb, line 550</span>
550:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_one_paragraph</span>(<span class="ruby-identifier">text</span> = <span class="ruby-keyword kw">nil</span>)
551:     <span class="ruby-identifier">text</span> <span class="ruby-operator">||=</span> <span class="ruby-ivar">@text</span>
552:     <span class="ruby-identifier">text</span> = <span class="ruby-identifier">text</span>[<span class="ruby-value">0</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>)
553: 
554:       <span class="ruby-comment cmt"># Convert the provided paragraph to a list of words.</span>
555:     <span class="ruby-identifier">words</span> = <span class="ruby-identifier">text</span>.<span class="ruby-identifier">split</span>(<span class="ruby-constant">SPACES_RE</span>).<span class="ruby-identifier">reverse</span>.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">ww</span><span class="ruby-operator">|</span> <span class="ruby-identifier">ww</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">ww</span>.<span class="ruby-identifier">empty?</span> }
556: 
557:     <span class="ruby-identifier">text</span> = []
558: 
559:       <span class="ruby-comment cmt"># Find the maximum line width and the initial indent string.</span>
560:       <span class="ruby-comment cmt"># TODO 20050114 - allow the left and right margins to be specified as</span>
561:       <span class="ruby-comment cmt"># strings. If they are strings, then we need to use the sizes of the</span>
562:       <span class="ruby-comment cmt"># strings. Also: allow the indent string to be set manually and</span>
563:       <span class="ruby-comment cmt"># indicate whether the indent string will have a following space.</span>
564:     <span class="ruby-identifier">max_line_width</span> = <span class="ruby-ivar">@columns</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@first_indent</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@left_margin</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@right_margin</span>
565:     <span class="ruby-identifier">indent_str</span> = <span class="ruby-value str">' '</span> <span class="ruby-operator">*</span> <span class="ruby-ivar">@first_indent</span>
566: 
567:     <span class="ruby-identifier">first_line</span> = <span class="ruby-keyword kw">true</span>
568: 
569:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">words</span>.<span class="ruby-identifier">empty?</span>
570:       <span class="ruby-identifier">line</span>        = []
571:       <span class="ruby-identifier">line_size</span>   = <span class="ruby-value">0</span>
572:       <span class="ruby-identifier">extra_space</span> = <span class="ruby-keyword kw">false</span>
573:     <span class="ruby-keyword kw">else</span>
574:       <span class="ruby-identifier">line</span>        = [ <span class="ruby-identifier">words</span>.<span class="ruby-identifier">pop</span> ]
575:       <span class="ruby-identifier">line_size</span>   = <span class="ruby-identifier">line</span>[<span class="ruby-value">-1</span>].<span class="ruby-identifier">size</span>
576:       <span class="ruby-identifier">extra_space</span> = <span class="ruby-identifier">__add_extra_space?</span>(<span class="ruby-identifier">line</span>[<span class="ruby-value">-1</span>])
577:     <span class="ruby-keyword kw">end</span>
578: 
579:     <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">next_word</span> = <span class="ruby-identifier">words</span>.<span class="ruby-identifier">pop</span>
580:       <span class="ruby-identifier">next_word</span>.<span class="ruby-identifier">strip!</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">next_word</span>.<span class="ruby-identifier">nil?</span>
581:       <span class="ruby-identifier">new_line_size</span> = (<span class="ruby-identifier">next_word</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">line_size</span>) <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
582: 
583:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">extra_space</span>
584:         <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">line</span>[<span class="ruby-value">-1</span>] <span class="ruby-operator">!~</span> <span class="ruby-identifier">__sentence_end_re</span>)
585:           <span class="ruby-identifier">extra_space</span> = <span class="ruby-keyword kw">false</span>
586:         <span class="ruby-keyword kw">end</span>
587:       <span class="ruby-keyword kw">end</span>
588: 
589:         <span class="ruby-comment cmt"># Increase the width of the new line if there's a sentence</span>
590:         <span class="ruby-comment cmt"># terminator and we are applying extra_space.</span>
591:       <span class="ruby-identifier">new_line_size</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">extra_space</span>
592: 
593:         <span class="ruby-comment cmt"># Will the word fit onto the current line? If so, simply append it</span>
594:         <span class="ruby-comment cmt"># to the end of the line.</span>
595: 
596:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">new_line_size</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">max_line_width</span>
597:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">empty?</span>
598:           <span class="ruby-identifier">line</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">next_word</span>
599:         <span class="ruby-keyword kw">else</span>
600:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">extra_space</span>
601:             <span class="ruby-identifier">line</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  #{next_word}&quot;</span>
602:           <span class="ruby-keyword kw">else</span>
603:             <span class="ruby-identifier">line</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; #{next_word}&quot;</span>
604:           <span class="ruby-keyword kw">end</span>
605:         <span class="ruby-keyword kw">end</span>
606:       <span class="ruby-keyword kw">else</span>
607:           <span class="ruby-comment cmt"># Forcibly wrap the line if nonbreaking spaces are turned on and</span>
608:           <span class="ruby-comment cmt"># there is a condition where words must be wrapped. If we have</span>
609:           <span class="ruby-comment cmt"># returned more than one word, readjust the word list.</span>
610:         <span class="ruby-identifier">line</span>, <span class="ruby-identifier">next_word</span> = <span class="ruby-identifier">__wrap_line</span>(<span class="ruby-identifier">line</span>, <span class="ruby-identifier">next_word</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@nobreak</span>
611:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">next_word</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>)
612:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">next_word</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
613:             <span class="ruby-identifier">words</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span>(<span class="ruby-identifier">next_word</span>.<span class="ruby-identifier">reverse</span>))
614:             <span class="ruby-identifier">next_word</span> = <span class="ruby-identifier">words</span>.<span class="ruby-identifier">pop</span>
615:           <span class="ruby-keyword kw">else</span>
616:             <span class="ruby-identifier">next_word</span> = <span class="ruby-identifier">next_word</span>[<span class="ruby-value">0</span>]
617:           <span class="ruby-keyword kw">end</span>
618:           <span class="ruby-identifier">next_word</span>.<span class="ruby-identifier">strip!</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">next_word</span>.<span class="ruby-identifier">nil?</span>
619:         <span class="ruby-keyword kw">end</span>
620: 
621:           <span class="ruby-comment cmt"># Check to see if the line needs to be hyphenated. If a word has a</span>
622:           <span class="ruby-comment cmt"># hyphen in it (e.g., &quot;fixed-width&quot;), then we can ALWAYS wrap at</span>
623:           <span class="ruby-comment cmt"># that hyphenation, even if #hard_margins is not turned on. More</span>
624:           <span class="ruby-comment cmt"># elaborate forms of hyphenation will only be performed if</span>
625:           <span class="ruby-comment cmt"># #hard_margins is turned on. If we have returned more than one</span>
626:           <span class="ruby-comment cmt"># word, readjust the word list.</span>
627:         <span class="ruby-identifier">line</span>, <span class="ruby-identifier">new_line_size</span>, <span class="ruby-identifier">next_word</span> = <span class="ruby-identifier">__hyphenate</span>(<span class="ruby-identifier">line</span>, <span class="ruby-identifier">line_size</span>, <span class="ruby-identifier">next_word</span>, <span class="ruby-identifier">max_line_width</span>)
628:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">next_word</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>)
629:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">next_word</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
630:             <span class="ruby-identifier">words</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span>(<span class="ruby-identifier">next_word</span>.<span class="ruby-identifier">reverse</span>))
631:             <span class="ruby-identifier">next_word</span> = <span class="ruby-identifier">words</span>.<span class="ruby-identifier">pop</span>
632:           <span class="ruby-keyword kw">else</span>
633:             <span class="ruby-identifier">next_word</span> = <span class="ruby-identifier">next_word</span>[<span class="ruby-value">0</span>]
634:           <span class="ruby-keyword kw">end</span>
635:           <span class="ruby-identifier">next_word</span>.<span class="ruby-identifier">strip!</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">next_word</span>.<span class="ruby-identifier">nil?</span>
636:         <span class="ruby-keyword kw">end</span>
637: 
638:         <span class="ruby-identifier">text</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">__make_line</span>(<span class="ruby-identifier">line</span>, <span class="ruby-identifier">indent_str</span>, <span class="ruby-identifier">max_line_width</span>, <span class="ruby-identifier">next_word</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">nil?</span>
639: 
640:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">first_line</span>
641:           <span class="ruby-identifier">first_line</span> = <span class="ruby-keyword kw">false</span>
642:           <span class="ruby-identifier">max_line_width</span> = <span class="ruby-ivar">@columns</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@body_indent</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@left_margin</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@right_margin</span>
643:           <span class="ruby-identifier">indent_str</span> = <span class="ruby-value str">' '</span> <span class="ruby-operator">*</span> <span class="ruby-ivar">@body_indent</span>
644:         <span class="ruby-keyword kw">end</span>
645: 
646:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">next_word</span>.<span class="ruby-identifier">nil?</span>
647:           <span class="ruby-identifier">line</span>          = []
648:           <span class="ruby-identifier">new_line_size</span> = <span class="ruby-value">0</span>
649:         <span class="ruby-keyword kw">else</span>
650:           <span class="ruby-identifier">line</span>          = [ <span class="ruby-identifier">next_word</span> ]
651:           <span class="ruby-identifier">new_line_size</span> = <span class="ruby-identifier">next_word</span>.<span class="ruby-identifier">size</span>
652:         <span class="ruby-keyword kw">end</span>
653:       <span class="ruby-keyword kw">end</span>
654: 
655:       <span class="ruby-identifier">line_size</span>   = <span class="ruby-identifier">new_line_size</span>
656:       <span class="ruby-identifier">extra_space</span> = <span class="ruby-identifier">__add_extra_space?</span>(<span class="ruby-identifier">next_word</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">next_word</span>.<span class="ruby-identifier">nil?</span>
657:     <span class="ruby-keyword kw">end</span>
658: 
659:     <span class="ruby-identifier">loop</span> <span class="ruby-keyword kw">do</span>
660:       <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">empty?</span>
661:       <span class="ruby-identifier">line</span>, <span class="ruby-identifier">line_size</span>, <span class="ruby-identifier">ww</span> = <span class="ruby-identifier">__hyphenate</span>(<span class="ruby-identifier">line</span>, <span class="ruby-identifier">line_size</span>, <span class="ruby-identifier">ww</span>, <span class="ruby-identifier">max_line_width</span>)<span class="ruby-comment cmt">#if @hard_margins</span>
662:       <span class="ruby-identifier">text</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">__make_line</span>(<span class="ruby-identifier">line</span>, <span class="ruby-identifier">indent_str</span>, <span class="ruby-identifier">max_line_width</span>, <span class="ruby-identifier">ww</span>.<span class="ruby-identifier">nil?</span>)
663:       <span class="ruby-identifier">line</span> = <span class="ruby-identifier">ww</span>
664:       <span class="ruby-identifier">ww</span> = <span class="ruby-keyword kw">nil</span>
665:     <span class="ruby-keyword kw">end</span>
666: 
667:     <span class="ruby-keyword kw">if</span> (<span class="ruby-ivar">@tag_paragraph</span> <span class="ruby-keyword kw">and</span> (<span class="ruby-keyword kw">not</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">empty?</span>))
668:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tag_cur</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@tag_cur</span>.<span class="ruby-identifier">empty?</span>
669:         <span class="ruby-ivar">@tag_cur</span> = <span class="ruby-ivar">@tag_text</span>[<span class="ruby-value">0</span>]
670:       <span class="ruby-keyword kw">end</span>
671: 
672:       <span class="ruby-identifier">fchar</span> = <span class="ruby-regexp re">/(\S)/o</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">text</span>[<span class="ruby-value">0</span>])[<span class="ruby-value">1</span>]
673:       <span class="ruby-identifier">white</span> = <span class="ruby-identifier">text</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">index</span>(<span class="ruby-identifier">fchar</span>)
674: 
675:       <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@tag_cur</span>.<span class="ruby-identifier">nil?</span>
676:         <span class="ruby-keyword kw">if</span> ((<span class="ruby-identifier">white</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@left_margin</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@tag_cur</span>.<span class="ruby-identifier">size</span>) <span class="ruby-keyword kw">then</span>
677:           <span class="ruby-identifier">white</span> = <span class="ruby-ivar">@tag_cur</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@left_margin</span>
678:           <span class="ruby-identifier">text</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">gsub!</span>(<span class="ruby-node">/^ {#{white}}/</span>, <span class="ruby-node">&quot;#{' ' * @left_margin}#{@tag_cur}&quot;</span>)
679:         <span class="ruby-keyword kw">else</span>
680:           <span class="ruby-identifier">text</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-node">&quot;#{' ' * @left_margin}#{@tag_cur}\n&quot;</span>)
681:         <span class="ruby-keyword kw">end</span>
682:       <span class="ruby-keyword kw">end</span>
683:     <span class="ruby-keyword kw">end</span>
684: 
685:     <span class="ruby-identifier">text</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">''</span>)
686:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000022">
                    
                    <a name="M000022"></a><b>hyphenate_to</b>(word, size)
                    
                </div>
                
                <div class="description">
                  <p>
The formatting object itself can be used as a <a
href="Format.html#hyphenator">hyphenator</a>, where the default
implementation of <a href="Format.html#M000022">hyphenate_to</a> implements
the conditions necessary to properly produce <a
href="Format.html#SPLIT_CONTINUATION">SPLIT_CONTINUATION</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000022_source')" id="l_M000022_source">show</a>
                        
                    </p>
                    <div id="M000022_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/format.rb, line 531</span>
531:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hyphenate_to</span>(<span class="ruby-identifier">word</span>, <span class="ruby-identifier">size</span>)
532:     <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">2</span>) <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span>
533:       [<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">word</span>]
534:     <span class="ruby-keyword kw">else</span>
535:       [<span class="ruby-identifier">word</span>[<span class="ruby-value">0</span> <span class="ruby-operator">..</span> (<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">2</span>)] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;\\&quot;</span>, <span class="ruby-identifier">word</span>[(<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-operator">..</span> <span class="ruby-value">-1</span>]]
536:     <span class="ruby-keyword kw">end</span>
537:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000021">
                    
                    <a name="M000021"></a><b>justify?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Indicates that the format style is full justification.
</p>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>false</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000021_source')" id="l_M000021_source">show</a>
                        
                    </p>
                    <div id="M000021_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/format.rb, line 524</span>
524:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">justify?</span>
525:     <span class="ruby-ivar">@format_style</span> <span class="ruby-operator">==</span> <span class="ruby-constant">JUSTIFY</span>
526:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000018">
                    
                    <a name="M000018"></a><b>left_align?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Indicates that the format style is left alignment.
</p>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>true</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000018_source')" id="l_M000018_source">show</a>
                        
                    </p>
                    <div id="M000018_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/format.rb, line 500</span>
500:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">left_align?</span>
501:     <span class="ruby-ivar">@format_style</span> <span class="ruby-operator">==</span> <span class="ruby-constant">LEFT_ALIGN</span>
502:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000026">
                    
                    <a name="M000026"></a><b>paragraphs</b>(to_wrap = nil, split_on = /(#{$/}){2}/o)
                    
                </div>
                
                <div class="description">
                  <p>
Considers each element of text (provided or internal) as a paragraph. If <a
href="Format.html#first_indent">first_indent</a> is the same as <a
href="Format.html#body_indent">body_indent</a>, then paragraphs will be
separated by a single empty line in the result; otherwise, the paragraphs
will follow immediately after each other. Uses <a
href="Format.html#M000025">format</a> to do the heavy lifting.
</p>
<p>
If <tt>to_wrap</tt> responds to split, then it will be split into an array
of elements by calling split with the value of <tt>split_on</tt>. The
default value of split_on is $/, or the default record separator, repeated
twice (e.g., /n\n/).
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000026_source')" id="l_M000026_source">show</a>
                        
                    </p>
                    <div id="M000026_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/format.rb, line 699</span>
699:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">paragraphs</span>(<span class="ruby-identifier">to_wrap</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">split_on</span> = <span class="ruby-node">/(#{$/}){2}/o</span>)
700:     <span class="ruby-identifier">to_wrap</span> = <span class="ruby-ivar">@text</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">to_wrap</span>.<span class="ruby-identifier">nil?</span>
701:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">to_wrap</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:split</span>)
702:       <span class="ruby-identifier">to_wrap</span> = <span class="ruby-identifier">to_wrap</span>.<span class="ruby-identifier">split</span>(<span class="ruby-identifier">split_on</span>)
703:     <span class="ruby-keyword kw">else</span>
704:       <span class="ruby-identifier">to_wrap</span> = [<span class="ruby-identifier">to_wrap</span>].<span class="ruby-identifier">flatten</span>
705:     <span class="ruby-keyword kw">end</span>
706: 
707:     <span class="ruby-keyword kw">if</span> ((<span class="ruby-ivar">@first_indent</span> <span class="ruby-operator">==</span> <span class="ruby-ivar">@body_indent</span>) <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@tag_paragraph</span>) <span class="ruby-keyword kw">then</span>
708:       <span class="ruby-identifier">p_end</span> = <span class="ruby-constant">NEWLINE</span>
709:     <span class="ruby-keyword kw">else</span>
710:       <span class="ruby-identifier">p_end</span> = <span class="ruby-value str">''</span>
711:     <span class="ruby-keyword kw">end</span>
712: 
713:     <span class="ruby-identifier">cnt</span> = <span class="ruby-value">0</span>
714:     <span class="ruby-identifier">ret</span> = []
715:     <span class="ruby-identifier">to_wrap</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">tw</span><span class="ruby-operator">|</span>
716:       <span class="ruby-ivar">@tag_cur</span> = <span class="ruby-ivar">@tag_text</span>[<span class="ruby-identifier">cnt</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tag_paragraph</span>
717:       <span class="ruby-ivar">@tag_cur</span> = <span class="ruby-value str">''</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@tag_cur</span>.<span class="ruby-identifier">nil?</span>
718:       <span class="ruby-identifier">line</span> = <span class="ruby-identifier">format</span>(<span class="ruby-identifier">tw</span>)
719:       <span class="ruby-identifier">ret</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{line}#{p_end}&quot;</span> <span class="ruby-keyword kw">if</span> (<span class="ruby-keyword kw">not</span> <span class="ruby-identifier">line</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-keyword kw">and</span> (<span class="ruby-identifier">line</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>)
720:       <span class="ruby-identifier">cnt</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
721:     <span class="ruby-keyword kw">end</span>
722: 
723:     <span class="ruby-identifier">ret</span>[<span class="ruby-value">-1</span>].<span class="ruby-identifier">chomp!</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">empty?</span>
724:     <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">''</span>)
725:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000019">
                    
                    <a name="M000019"></a><b>right_align?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Indicates that the format style is right alignment.
</p>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>false</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000019_source')" id="l_M000019_source">show</a>
                        
                    </p>
                    <div id="M000019_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/format.rb, line 508</span>
508:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">right_align?</span>
509:     <span class="ruby-ivar">@format_style</span> <span class="ruby-operator">==</span> <span class="ruby-constant">RIGHT_ALIGN</span>
510:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000020">
                    
                    <a name="M000020"></a><b>right_fill?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Indicates that the format style is right fill.
</p>
<table>
<tr><td valign="top"><b>Default</b>:</td><td><tt>false</tt>

</td></tr>
<tr><td valign="top"><b>Used in</b>:</td><td><a href="Format.html#M000025">format</a>, <a
href="Format.html#M000026">paragraphs</a>

</td></tr>
</table>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000020_source')" id="l_M000020_source">show</a>
                        
                    </p>
                    <div id="M000020_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/format.rb, line 516</span>
516:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">right_fill?</span>
517:     <span class="ruby-ivar">@format_style</span> <span class="ruby-operator">==</span> <span class="ruby-constant">RIGHT_FILL</span>
518:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000023">
                    
                    <a name="M000023"></a><b>split_word_to</b>(word, size)
                    
                </div>
                
                <div class="description">
                  <p>
Splits the provided word so that it is in two parts, <tt>word[0 .. (size -
1)]</tt> and <tt>word[size .. -1]</tt>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000023_source')" id="l_M000023_source">show</a>
                        
                    </p>
                    <div id="M000023_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/format.rb, line 541</span>
541:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">split_word_to</span>(<span class="ruby-identifier">word</span>, <span class="ruby-identifier">size</span>)
542:     [<span class="ruby-identifier">word</span>[<span class="ruby-value">0</span> <span class="ruby-operator">..</span> (<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>)], <span class="ruby-identifier">word</span>[<span class="ruby-identifier">size</span> <span class="ruby-operator">..</span> <span class="ruby-value">-1</span>]]
543:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000029">
                    
                    <a name="M000029"></a><b>unexpand</b>(to_unexpand = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Replaces all occurrences of <a href="Format.html#tabstop">tabstop</a>
consecutive spaces with a tab character.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000029_source')" id="l_M000029_source">show</a>
                        
                    </p>
                    <div id="M000029_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/format.rb, line 766</span>
766:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unexpand</span>(<span class="ruby-identifier">to_unexpand</span> = <span class="ruby-keyword kw">nil</span>)
767:     <span class="ruby-identifier">to_unexpand</span> = <span class="ruby-ivar">@text</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">to_unexpand</span>.<span class="ruby-identifier">nil?</span>
768: 
769:     <span class="ruby-identifier">tmp</span> = <span class="ruby-node">/ {#{@tabstop}}/</span>
770:     <span class="ruby-identifier">changer</span> = <span class="ruby-identifier">lambda</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">text</span><span class="ruby-operator">|</span>
771:       <span class="ruby-identifier">res</span> = <span class="ruby-identifier">text</span>.<span class="ruby-identifier">split</span>(<span class="ruby-constant">NEWLINE_RE</span>)
772:       <span class="ruby-identifier">res</span>.<span class="ruby-identifier">collect!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">ln</span><span class="ruby-operator">|</span> <span class="ruby-identifier">ln</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-identifier">tmp</span>, <span class="ruby-constant">TAB</span>) }
773:       <span class="ruby-identifier">res</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">NEWLINE</span>)
774:     <span class="ruby-keyword kw">end</span>
775: 
776:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">to_unexpand</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>)
777:       <span class="ruby-identifier">to_unexpand</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">tu</span><span class="ruby-operator">|</span> <span class="ruby-identifier">changer</span>[<span class="ruby-identifier">tu</span>] }
778:     <span class="ruby-keyword kw">else</span>
779:       <span class="ruby-identifier">changer</span>[<span class="ruby-identifier">to_unexpand</span>]
780:     <span class="ruby-keyword kw">end</span>
781:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M000030">
                    
                    <a name="M000030"></a><b>__add_extra_space?</b>(word)
                    
                </div>
                
                <div class="description">
                  <p>
Return <tt>true</tt> if the word may have an extra space added after it.
This will only be the case if <a
href="Format.html#extra_space">extra_space</a> is <tt>true</tt> and the
word is not an abbreviation.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000030_source')" id="l_M000030_source">show</a>
                        
                    </p>
                    <div id="M000030_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/format.rb, line 786</span>
786:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">__add_extra_space?</span>(<span class="ruby-identifier">word</span>)
787:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@extra_space</span>
788:     <span class="ruby-identifier">word</span> = <span class="ruby-identifier">word</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\.$/o</span>, <span class="ruby-value str">''</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">word</span>.<span class="ruby-identifier">nil?</span>
789:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">ABBREV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">word</span>)
790:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@abbreviations</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">word</span>)
791:     <span class="ruby-keyword kw">true</span>
792:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000007">
                    
                    <a name="M000007"></a><b>__sentence_end_re</b>()
                    
                </div>
                
                <div class="description">
                  <p>
This method returns the regular expression used to detect the end of a
sentence under the current definition of <a
href="Format.html#TERMINAL_PUNCTUATION">TERMINAL_PUNCTUATION</a>, <a
href="Format.html#terminal_punctuation">terminal_punctuation</a>, <a
href="Format.html#TERMINAL_QUOTES">TERMINAL_QUOTES</a>, and <a
href="Format.html#terminal_quotes">terminal_quotes</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000007_source')" id="l_M000007_source">show</a>
                        
                    </p>
                    <div id="M000007_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/format.rb, line 175</span>
175:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">__sentence_end_re</span>
176:     <span class="ruby-node">%r{[#{TERMINAL_PUNCTUATION}#{self.terminal_punctuation}][#{TERMINAL_QUOTES}#{self.terminal_quotes}]?$}</span>
177:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000033">
                    
                    <a name="M000033"></a><b>__wrap_line</b>(line, next_word)
                    
                </div>
                
                <div class="description">
                  <p>
The line must be broken. Typically, this is done by moving the last word on
the current line to the next line. However, it may be possible that certain
combinations of words may not be broken (see <a
href="Format.html#nobreak_regex">nobreak_regex</a> for more information).
Therefore, it may be necessary to move multiple words from the current line
to the next line. This function does this.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000033_source')" id="l_M000033_source">show</a>
                        
                    </p>
                    <div id="M000033_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/text/format.rb, line 972</span>
 972:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">__wrap_line</span>(<span class="ruby-identifier">line</span>, <span class="ruby-identifier">next_word</span>)
 973:     <span class="ruby-identifier">no_break</span> = <span class="ruby-keyword kw">false</span>
 974: 
 975:     <span class="ruby-identifier">word_index</span>  = <span class="ruby-identifier">line</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
 976: 
 977:     <span class="ruby-ivar">@nobreak_regex</span>.<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">first</span>, <span class="ruby-identifier">second</span><span class="ruby-operator">|</span>
 978:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">line</span>[<span class="ruby-identifier">word_index</span>] <span class="ruby-operator">=~</span> <span class="ruby-identifier">first</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">next_word</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">second</span>
 979:         <span class="ruby-identifier">no_break</span> = <span class="ruby-keyword kw">true</span>
 980:       <span class="ruby-keyword kw">end</span>
 981:     <span class="ruby-keyword kw">end</span>
 982: 
 983:       <span class="ruby-comment cmt"># If the last word and the next word aren't to be broken, and the line</span>
 984:       <span class="ruby-comment cmt"># has more than one word in it, then we need to go back by words to</span>
 985:       <span class="ruby-comment cmt"># ensure that we break as allowed.</span>
 986:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">no_break</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">word_index</span>.<span class="ruby-identifier">nonzero?</span>
 987:       <span class="ruby-identifier">word_index</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span>
 988: 
 989:       <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">word_index</span>.<span class="ruby-identifier">nonzero?</span>
 990:         <span class="ruby-identifier">no_break</span> = <span class="ruby-keyword kw">false</span>
 991:         <span class="ruby-ivar">@nobreak_regex</span>.<span class="ruby-identifier">each_pair</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">first</span>, <span class="ruby-identifier">second</span><span class="ruby-operator">|</span>
 992:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">line</span>[<span class="ruby-identifier">word_index</span>] <span class="ruby-operator">=~</span> <span class="ruby-identifier">first</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">line</span>[<span class="ruby-identifier">word_index</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>] <span class="ruby-operator">=~</span> <span class="ruby-identifier">second</span>
 993:             <span class="ruby-identifier">no_break</span> = <span class="ruby-keyword kw">true</span>
 994:           <span class="ruby-keyword kw">end</span>
 995:         }
 996: 
 997:         <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">no_break</span>
 998:         <span class="ruby-identifier">word_index</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span>
 999:       <span class="ruby-keyword kw">end</span>
1000: 
1001:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">word_index</span>.<span class="ruby-identifier">nonzero?</span>
1002:         <span class="ruby-identifier">words</span> = <span class="ruby-identifier">line</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-identifier">word_index</span> <span class="ruby-operator">..</span> <span class="ruby-value">-1</span>)
1003:         <span class="ruby-identifier">words</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">next_word</span>
1004:       <span class="ruby-keyword kw">end</span>
1005:     <span class="ruby-keyword kw">end</span>
1006: 
1007:     [<span class="ruby-identifier">line</span>, <span class="ruby-identifier">words</span>]
1008:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000034">
                    
                    <a name="M000034"></a><b>new</b>(options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Create a <a href="Format.html">Text::Format</a> object. Accepts an optional
hash of construction options (this will be changed to named paramters in
Ruby 2.0). After the initial object is constructed (with either the
provided or default values), the object will be yielded (as <tt>self</tt>)
to an optional block for further construction and operation.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000034_source')" id="l_M000034_source">show</a>
                        
                    </p>
                    <div id="M000034_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/text/format.rb, line 1016</span>
1016:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">options</span> = {}) <span class="ruby-comment cmt">#:yields self:</span>
1017:     <span class="ruby-ivar">@text</span>                 = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:text</span>]                  <span class="ruby-operator">||</span> []
1018:     <span class="ruby-ivar">@columns</span>              = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:columns</span>]               <span class="ruby-operator">||</span> <span class="ruby-value">72</span>
1019:     <span class="ruby-ivar">@tabstop</span>              = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:tabstop</span>]               <span class="ruby-operator">||</span> <span class="ruby-value">8</span>
1020:     <span class="ruby-ivar">@first_indent</span>         = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:first_indent</span>]          <span class="ruby-operator">||</span> <span class="ruby-value">4</span>
1021:     <span class="ruby-ivar">@body_indent</span>          = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:body_indent</span>]           <span class="ruby-operator">||</span> <span class="ruby-value">0</span>
1022:     <span class="ruby-ivar">@format_style</span>         = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:format_style</span>]          <span class="ruby-operator">||</span> <span class="ruby-constant">LEFT_ALIGN</span>
1023:     <span class="ruby-ivar">@left_margin</span>          = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:left_margin</span>]           <span class="ruby-operator">||</span> <span class="ruby-value">0</span>
1024:     <span class="ruby-ivar">@right_margin</span>         = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:right_margin</span>]          <span class="ruby-operator">||</span> <span class="ruby-value">0</span>
1025:     <span class="ruby-ivar">@extra_space</span>          = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:extra_space</span>]           <span class="ruby-operator">||</span> <span class="ruby-keyword kw">false</span>
1026:     <span class="ruby-ivar">@tag_paragraph</span>        = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:tag_paragraph</span>]         <span class="ruby-operator">||</span> <span class="ruby-keyword kw">false</span>
1027:     <span class="ruby-ivar">@tag_text</span>             = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:tag_text</span>]              <span class="ruby-operator">||</span> []
1028:     <span class="ruby-ivar">@abbreviations</span>        = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:abbreviations</span>]         <span class="ruby-operator">||</span> []
1029:     <span class="ruby-ivar">@terminal_punctuation</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:terminal_punctuation</span>]  <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;&quot;</span>
1030:     <span class="ruby-ivar">@terminal_quotes</span>      = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:terminal_quotes</span>]       <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;&quot;</span>
1031:     <span class="ruby-ivar">@nobreak</span>              = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:nobreak</span>]               <span class="ruby-operator">||</span> <span class="ruby-keyword kw">false</span>
1032:     <span class="ruby-ivar">@nobreak_regex</span>        = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:nobreak_regex</span>]         <span class="ruby-operator">||</span> {}
1033:     <span class="ruby-ivar">@hard_margins</span>         = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:hard_margins</span>]          <span class="ruby-operator">||</span> <span class="ruby-keyword kw">false</span>
1034:     <span class="ruby-ivar">@split_rules</span>          = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:split_rules</span>]           <span class="ruby-operator">||</span> <span class="ruby-constant">SPLIT_FIXED</span>
1035:     <span class="ruby-ivar">@hyphenator</span>           = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:hyphenator</span>]            <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>
1036: 
1037:     <span class="ruby-ivar">@hyphenator_arity</span>     = <span class="ruby-ivar">@hyphenator</span>.<span class="ruby-identifier">method</span>(<span class="ruby-identifier">:hyphenate_to</span>).<span class="ruby-identifier">arity</span>
1038:     <span class="ruby-ivar">@tag_cur</span>              = <span class="ruby-value str">&quot;&quot;</span>
1039:     <span class="ruby-ivar">@split_words</span>          = []
1040: 
1041:     <span class="ruby-keyword kw">yield</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
1042:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    