<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>utils.rb</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            utils.rb
        </h1>
        <ul class="files">
            <li>lib/rack/utils.rb</li>
            <li>Last modified: Wed Jan 25 00:31:17 +0100 2012</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
    

    
    <div class="sectiontitle">Required Files</div>
    <ul>
        
        <li>fileutils</li>
        
        <li>set</li>
        
        <li>tempfile</li>
        
        <li>rack/multipart</li>
        
        <li>rack/backports/uri/common_18</li>
        
        <li>rack/backports/uri/common_192</li>
        
        <li>uri/common</li>
        
    </ul>
    

    
    

    
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">MODULE</span> <a href="../../../classes/Rack.html">Rack</a></li>
        
        <li><span class="type">CLASS</span> <a href="../../../classes/Context.html">Context</a></li>
        
        <li><span class="type">CLASS</span> <a href="../../../classes/HeaderHash.html">HeaderHash</a></li>
        
        <li><span class="type">CLASS</span> <a href="../../../classes/KeySpaceConstrainedParams.html">KeySpaceConstrainedParams</a></li>
        
        <li><span class="type">CLASS</span> <a href="../../../classes/Object.html">Object</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">ESCAPE_HTML</td>
            <td>=</td>
            <td class="attr-value">{       &quot;&amp;&quot; =&gt; &quot;&amp;amp;&quot;,       &quot;&lt;&quot; =&gt; &quot;&amp;lt;&quot;,       &quot;&gt;&quot; =&gt; &quot;&amp;gt;&quot;,       &quot;'&quot; =&gt; &quot;&amp;#x27;&quot;,       '&quot;' =&gt; &quot;&amp;quot;&quot;,       &quot;/&quot; =&gt; &quot;&amp;#x2F;&quot;     }</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">ESCAPE_HTML_PATTERN</td>
            <td>=</td>
            <td class="attr-value">Regexp.union(*ESCAPE_HTML.keys)</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">ESCAPE_HTML_PATTERN</td>
            <td>=</td>
            <td class="attr-value">/#{Regexp.union(*ESCAPE_HTML.keys)}/n</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
On 1.8, there is a kcode = &#8216;u&#8217; bug that allows for XSS
otherwhise TODO doesn&#8217;t apply to jruby, so a better condition above
might be preferable?
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">HTTP_STATUS_CODES</td>
            <td>=</td>
            <td class="attr-value">{       100  =&gt; 'Continue',       101  =&gt; 'Switching Protocols',       102  =&gt; 'Processing',       200  =&gt; 'OK',       201  =&gt; 'Created',       202  =&gt; 'Accepted',       203  =&gt; 'Non-Authoritative Information',       204  =&gt; 'No Content',       205  =&gt; 'Reset Content',       206  =&gt; 'Partial Content',       207  =&gt; 'Multi-Status',       226  =&gt; 'IM Used',       300  =&gt; 'Multiple Choices',       301  =&gt; 'Moved Permanently',       302  =&gt; 'Found',       303  =&gt; 'See Other',       304  =&gt; 'Not Modified',       305  =&gt; 'Use Proxy',       306  =&gt; 'Reserved',       307  =&gt; 'Temporary Redirect',       400  =&gt; 'Bad Request',       401  =&gt; 'Unauthorized',       402  =&gt; 'Payment Required',       403  =&gt; 'Forbidden',       404  =&gt; 'Not Found',       405  =&gt; 'Method Not Allowed',       406  =&gt; 'Not Acceptable',       407  =&gt; 'Proxy Authentication Required',       408  =&gt; 'Request Timeout',       409  =&gt; 'Conflict',       410  =&gt; 'Gone',       411  =&gt; 'Length Required',       412  =&gt; 'Precondition Failed',       413  =&gt; 'Request Entity Too Large',       414  =&gt; 'Request-URI Too Long',       415  =&gt; 'Unsupported Media Type',       416  =&gt; 'Requested Range Not Satisfiable',       417  =&gt; 'Expectation Failed',       418  =&gt; &quot;I'm a Teapot&quot;,       422  =&gt; 'Unprocessable Entity',       423  =&gt; 'Locked',       424  =&gt; 'Failed Dependency',       426  =&gt; 'Upgrade Required',       500  =&gt; 'Internal Server Error',       501  =&gt; 'Not Implemented',       502  =&gt; 'Bad Gateway',       503  =&gt; 'Service Unavailable',       504  =&gt; 'Gateway Timeout',       505  =&gt; 'HTTP Version Not Supported',       506  =&gt; 'Variant Also Negotiates',       507  =&gt; 'Insufficient Storage',       510  =&gt; 'Not Extended',     }</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Every standard HTTP code mapped to the appropriate message. Generated with:
</p>
<pre>
  curl -s http://www.iana.org/assignments/http-status-codes |      #     ruby -ane 'm = /^(\d{3}) +(\S[^\[(]+)/.match($_) and
               puts &quot;      #{m[1]}  =&gt; \x27#{m[2].strip}x27,&quot;'
</pre>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">STATUS_WITH_NO_ENTITY_BODY</td>
            <td>=</td>
            <td class="attr-value">Set.new((100..199).to_a &lt;&lt; 204 &lt;&lt; 205 &lt;&lt; 304)</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
Responses with HTTP status codes that should not have an entity body
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">SYMBOL_TO_STATUS_CODE</td>
            <td>=</td>
            <td class="attr-value">Hash[*HTTP_STATUS_CODES.map { |code, message|       [message.downcase.gsub(/\s|-/, '_').to_sym, code]</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">Multipart</td>
            <td>=</td>
            <td class="attr-value">Rack::Multipart</td>
        </tr>
        
        
    </table>
    

    

    
</div>
    </div>
  </body>
</html>