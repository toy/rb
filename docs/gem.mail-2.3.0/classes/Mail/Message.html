<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Mail::Message</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Mail::Message 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/mail/message_rb.html">lib/mail/message.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
The <a href="Message.html">Message</a> class provides a single point of
access to all things to do with an email message.
</p>
<p>
You create a new email message by calling the <a
href="Message.html#M000408">Mail::Message.new</a> method, or just Mail.new
</p>
<p>
A <a href="Message.html">Message</a> object by default has the following
objects inside it:
</p>
<ul>
<li>A <a href="Header.html">Header</a> object which contians all information
and settings of the header of the email

</li>
<li><a href="Body.html">Body</a> object which contains all parts of the email
that are not part of the header, this includes any attachments, body text,
MIME parts etc.

</li>
</ul>
<h2>Per <a href="RFC2822.html">RFC2822</a></h2>
<pre>
 2.1. General Description

  At the most basic level, a message is a series of characters.  A
  message that is conformant with this standard is comprised of
  characters with values in the range 1 through 127 and interpreted as
  US-ASCII characters [ASCII].  For brevity, this document sometimes
  refers to this range of characters as simply &quot;US-ASCII characters&quot;.

  Note: This standard specifies that messages are made up of characters
  in the US-ASCII range of 1 through 127.  There are other documents,
  specifically the MIME document series [RFC2045, RFC2046, RFC2047,
  RFC2048, RFC2049], that extend this standard to allow for values
  outside of that range.  Discussion of those mechanisms is not within
  the scope of this standard.

  Messages are divided into lines of characters.  A line is a series of
  characters that is delimited with the two characters carriage-return
  and line-feed; that is, the carriage return (CR) character (ASCII
  value 13) followed immediately by the line feed (LF) character (ASCII
  value 10).  (The carriage-return/line-feed pair is usually written in
  this document as &quot;CRLF&quot;.)

  A message consists of header fields (collectively called &quot;the header
  of the message&quot;) followed, optionally, by a body.  The header is a
  sequence of lines of characters with special syntax as defined in
  this standard. The body is simply a sequence of characters that
  follows the header and is separated from the header by an empty line
  (i.e., a line with nothing preceding the CRLF).
</pre>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M000435"><=></a>,</li>
                
                <li><a href="#M000436">==</a>,</li>
                
                <li><a href="#M000539">[]</a>,</li>
                
                <li><a href="#M000538">[]=</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000575">action</a>,</li>
                
                <li><a href="#M000631">add_boundary</a>,</li>
                
                <li><a href="#M000557">add_charset</a>,</li>
                
                <li><a href="#M000558">add_content_transfer_encoding</a>,</li>
                
                <li><a href="#M000556">add_content_type</a>,</li>
                
                <li><a href="#M000554">add_date</a>,</li>
                
                <li><a href="#M000627">add_encoding_to_body</a>,</li>
                
                <li><a href="#M000598">add_file</a>,</li>
                
                <li><a href="#M000552">add_message_id</a>,</li>
                
                <li><a href="#M000555">add_mime_version</a>,</li>
                
                <li><a href="#M000630">add_multipart_alternate_header</a>,</li>
                
                <li><a href="#M000632">add_multipart_mixed_header</a>,</li>
                
                <li><a href="#M000592">add_part</a>,</li>
                
                <li><a href="#M000629">add_required_fields</a>,</li>
                
                <li><a href="#M000616">all_parts</a>,</li>
                
                <li><a href="#M000614">attachment</a>,</li>
                
                <li><a href="#M000613">attachment?</a>,</li>
                
                <li><a href="#M000584">attachments</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M000452">bcc</a>,</li>
                
                <li><a href="#M000453">bcc=</a>,</li>
                
                <li><a href="#M000537">bcc_addrs</a>,</li>
                
                <li><a href="#M000528">body</a>,</li>
                
                <li><a href="#M000527">body=</a>,</li>
                
                <li><a href="#M000529">body_encoding</a>,</li>
                
                <li><a href="#M000532">body_encoding=</a>,</li>
                
                <li><a href="#M000623">body_lazy</a>,</li>
                
                <li><a href="#M000574">bounced?</a>,</li>
                
                <li><a href="#M000582">boundary</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000457">cc</a>,</li>
                
                <li><a href="#M000458">cc=</a>,</li>
                
                <li><a href="#M000536">cc_addrs</a>,</li>
                
                <li><a href="#M000563">charset</a>,</li>
                
                <li><a href="#M000565">charset=</a>,</li>
                
                <li><a href="#M000459">comments</a>,</li>
                
                <li><a href="#M000460">comments=</a>,</li>
                
                <li><a href="#M000461">content_description</a>,</li>
                
                <li><a href="#M000464">content_description=</a>,</li>
                
                <li><a href="#M000465">content_disposition</a>,</li>
                
                <li><a href="#M000466">content_disposition=</a>,</li>
                
                <li><a href="#M000467">content_id</a>,</li>
                
                <li><a href="#M000468">content_id=</a>,</li>
                
                <li><a href="#M000472">content_location</a>,</li>
                
                <li><a href="#M000473">content_location=</a>,</li>
                
                <li><a href="#M000474">content_transfer_encoding</a>,</li>
                
                <li><a href="#M000475">content_transfer_encoding=</a>,</li>
                
                <li><a href="#M000476">content_type</a>,</li>
                
                <li><a href="#M000477">content_type=</a>,</li>
                
                <li><a href="#M000569">content_type_parameters</a>,</li>
                
                <li><a href="#M000601">convert_to_multipart</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000479">date</a>,</li>
                
                <li><a href="#M000480">date=</a>,</li>
                
                <li><a href="#M000612">decode_body</a>,</li>
                
                <li><a href="#M000610">decoded</a>,</li>
                
                <li><a href="#M000524">default</a>,</li>
                
                <li><a href="#M000419">deliver</a>,</li>
                
                <li><a href="#M000422">deliver!</a>,</li>
                
                <li><a href="#M000423">delivery_method</a>,</li>
                
                <li><a href="#M000573">delivery_status_part</a>,</li>
                
                <li><a href="#M000572">delivery_status_report?</a>,</li>
                
                <li><a href="#M000533">destinations</a>,</li>
                
                <li><a href="#M000578">diagnostic_code</a>,</li>
                
                <li><a href="#M000636">do_delivery</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000603">encode!</a>,</li>
                
                <li><a href="#M000604">encoded</a>,</li>
                
                <li><a href="#M000443">envelope_date</a>,</li>
                
                <li><a href="#M000442">envelope_from</a>,</li>
                
                <li><a href="#M000577">error_status</a>,</li>
                
                <li><a href="#M000451">errors</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000615">filename</a>,</li>
                
                <li><a href="#M000576">final_recipient</a>,</li>
                
                <li><a href="#M000635">find_attachment</a>,</li>
                
                <li><a href="#M000617">find_first_mime_type</a>,</li>
                
                <li><a href="#M000484">from</a>,</li>
                
                <li><a href="#M000485">from=</a>,</li>
                
                <li><a href="#M000534">from_addrs</a>,</li>
                
                <li><a href="#M000607">from_hash</a>,</li>
                
                <li><a href="#M000606">from_yaml</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M000585">has_attachments?</a>,</li>
                
                <li><a href="#M000549">has_charset?</a>,</li>
                
                <li><a href="#M000550">has_content_transfer_encoding?</a>,</li>
                
                <li><a href="#M000548">has_content_type?</a>,</li>
                
                <li><a href="#M000546">has_date?</a>,</li>
                
                <li><a href="#M000545">has_message_id?</a>,</li>
                
                <li><a href="#M000547">has_mime_version?</a>,</li>
                
                <li><a href="#M000445">header</a>,</li>
                
                <li><a href="#M000444">header=</a>,</li>
                
                <li><a href="#M000544">header_fields</a>,</li>
                
                <li><a href="#M000446">headers</a>,</li>
                
                <li><a href="#M000586">html_part</a>,</li>
                
                <li><a href="#M000589">html_part=</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000628">identify_and_set_transfer_encoding</a>,</li>
                
                <li><a href="#M000486">in_reply_to</a>,</li>
                
                <li><a href="#M000487">in_reply_to=</a>,</li>
                
                <li><a href="#M000418">inform_interceptors</a>,</li>
                
                <li><a href="#M000417">inform_observers</a>,</li>
                
                <li><a href="#M000633">init_with_hash</a>,</li>
                
                <li><a href="#M000634">init_with_string</a>,</li>
                
                <li><a href="#M000609">inspect</a>,</li>
                
                <li><a href="#M000620">is_marked_for_delete?</a></li>
                
            </ul>
        </dd>
    
        <dt>K</dt>
        <dd>
            <ul>
                
                <li><a href="#M000488">keywords</a>,</li>
                
                <li><a href="#M000490">keywords=</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000566">main_type</a>,</li>
                
                <li><a href="#M000619">mark_for_delete=</a>,</li>
                
                <li><a href="#M000562">message_content_type</a>,</li>
                
                <li><a href="#M000491">message_id</a>,</li>
                
                <li><a href="#M000492">message_id=</a>,</li>
                
                <li><a href="#M000542">method_missing</a>,</li>
                
                <li><a href="#M000568">mime_parameters</a>,</li>
                
                <li><a href="#M000561">mime_type</a>,</li>
                
                <li><a href="#M000494">mime_version</a>,</li>
                
                <li><a href="#M000495">mime_version=</a>,</li>
                
                <li><a href="#M000570">multipart?</a>,</li>
                
                <li><a href="#M000571">multipart_report?</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000408">new</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000621">parse_message</a>,</li>
                
                <li><a href="#M000594">part</a>,</li>
                
                <li><a href="#M000583">parts</a>,</li>
                
                <li><a href="#M000624">process_body_raw</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000441">raw_envelope</a>,</li>
                
                <li><a href="#M000439">raw_source</a>,</li>
                
                <li><a href="#M000622">raw_source=</a>,</li>
                
                <li><a href="#M000611">read</a>,</li>
                
                <li><a href="#M000602">ready_to_send!</a>,</li>
                
                <li><a href="#M000496">received</a>,</li>
                
                <li><a href="#M000497">received=</a>,</li>
                
                <li><a href="#M000498">references</a>,</li>
                
                <li><a href="#M000499">references=</a>,</li>
                
                <li><a href="#M000416">register_for_delivery_notification</a>,</li>
                
                <li><a href="#M000579">remote_mta</a>,</li>
                
                <li><a href="#M000428">reply</a>,</li>
                
                <li><a href="#M000500">reply_to</a>,</li>
                
                <li><a href="#M000501">reply_to=</a>,</li>
                
                <li><a href="#M000502">resent_bcc</a>,</li>
                
                <li><a href="#M000503">resent_bcc=</a>,</li>
                
                <li><a href="#M000504">resent_cc</a>,</li>
                
                <li><a href="#M000505">resent_cc=</a>,</li>
                
                <li><a href="#M000506">resent_date</a>,</li>
                
                <li><a href="#M000507">resent_date=</a>,</li>
                
                <li><a href="#M000508">resent_from</a>,</li>
                
                <li><a href="#M000509">resent_from=</a>,</li>
                
                <li><a href="#M000510">resent_message_id</a>,</li>
                
                <li><a href="#M000511">resent_message_id=</a>,</li>
                
                <li><a href="#M000512">resent_sender</a>,</li>
                
                <li><a href="#M000513">resent_sender=</a>,</li>
                
                <li><a href="#M000514">resent_to</a>,</li>
                
                <li><a href="#M000515">resent_to=</a>,</li>
                
                <li><a href="#M000580">retryable?</a>,</li>
                
                <li><a href="#M000516">return_path</a>,</li>
                
                <li><a href="#M000517">return_path=</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000518">sender</a>,</li>
                
                <li><a href="#M000519">sender=</a>,</li>
                
                <li><a href="#M000626">separate_parts</a>,</li>
                
                <li><a href="#M000440">set_envelope</a>,</li>
                
                <li><a href="#M000625">set_envelope_header</a>,</li>
                
                <li><a href="#M000618">skip_deletion</a>,</li>
                
                <li><a href="#M000567">sub_type</a>,</li>
                
                <li><a href="#M000520">subject</a>,</li>
                
                <li><a href="#M000521">subject=</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000588">text_part</a>,</li>
                
                <li><a href="#M000591">text_part=</a>,</li>
                
                <li><a href="#M000522">to</a>,</li>
                
                <li><a href="#M000523">to=</a>,</li>
                
                <li><a href="#M000535">to_addrs</a>,</li>
                
                <li><a href="#M000608">to_s</a>,</li>
                
                <li><a href="#M000605">to_yaml</a>,</li>
                
                <li><a href="#M000481">transport_encoding</a>,</li>
                
                <li><a href="#M000482">transport_encoding=</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    
    <div class="sectiontitle">Included Modules</div>
    <ul>
        
        <li>
            
            <a href="RFC2822/MsgIdDomainText0.html">Mail::RFC2822::MsgIdDomainText0</a>
            
            START:includes
        </li>
        
        <li>
            
            <a href="RFC2822/MsgIdDomainText0.html">Mail::RFC2822::MsgIdDomainText0</a>
            
            START:includes
        </li>
        
    </ul>
    

    

    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>delivery_handler</td>
            <td class='attr-desc'><p>
If you assign a delivery handler, mail will call :deliver_mail on the
object you assign to <a
href="Message.html#delivery_handler">delivery_handler</a>, it will pass
itself as the single argument.
</p>
<p>
If you define a <a
href="Message.html#delivery_handler">delivery_handler</a>, then you are
responsible for the following actions in the delivery cycle:
</p>
<ul>
<li>Appending the mail object to Mail.deliveries as you see fit.

</li>
<li>Checking the mail.perform_deliveries flag to decide if you should actually
call :deliver! the mail object or not.

</li>
<li>Checking the mail.raise_delivery_errors flag to decide if you should raise
delivery errors if they occur.

</li>
<li>Actually calling :deliver! (with the bang) on the mail object to get it to
deliver itself.

</li>
</ul>
<p>
A simplest implementation of a <a
href="Message.html#delivery_handler">delivery_handler</a> would be
</p>
<pre>
  class MyObject

    def initialize
      @mail = Mail.new('To: mikel@test.lindsaar.net')
      @mail.delivery_handler = self
    end

    attr_accessor :mail

    def deliver_mail(mail)
      yield
    end
  end
</pre>
<p>
Then doing:
</p>
<pre>
  obj = MyObject.new
  obj.mail.deliver
</pre>
<p>
Would cause Mail to call obj.deliver_mail passing itself as a parameter,
which then can just yield and let Mail do it&#8217;s own private <a
href="Message.html#M000636">do_delivery</a> method.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>perform_deliveries</td>
            <td class='attr-desc'><p>
If set to false, mail will go through the motions of doing a delivery, but
not actually call the delivery method or append the mail object to the
Mail.deliveries collection. Useful for testing.
</p>
<pre>
  Mail.deliveries.size #=&gt; 0
  mail.delivery_method :smtp
  mail.perform_deliveries = false
  mail.deliver                        # Mail::SMTP not called here
  Mail.deliveries.size #=&gt; 0
</pre>
<p>
If you want to test and query the Mail.deliveries collection to see what
mail you sent, you should set <a
href="Message.html#perform_deliveries">perform_deliveries</a> to true and
use the :test mail <a href="Message.html#M000423">delivery_method</a>:
</p>
<pre>
  Mail.deliveries.size #=&gt; 0
  mail.delivery_method :test
  mail.perform_deliveries = true
  mail.deliver
  Mail.deliveries.size #=&gt; 1
</pre>
<p>
This setting is ignored by mail (though still available as a flag) if you
define a <a href="Message.html#delivery_handler">delivery_handler</a>
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>raise_delivery_errors</td>
            <td class='attr-desc'><p>
If set to false, mail will silently catch and ignore any exceptions raised
through attempting to deliver an email.
</p>
<p>
This setting is ignored by mail (though still available as a flag) if you
define a <a href="Message.html#delivery_handler">delivery_handler</a>
</p></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000607">
                    
                    <a name="M000607"></a><b>from_hash</b>(hash)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000607_source')" id="l_M000607_source">show</a>
                        
                    </p>
                    <div id="M000607_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1729</span>
1729:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">from_hash</span>(<span class="ruby-identifier">hash</span>)
1730:       <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Message</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">hash</span>)
1731:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000606">
                    
                    <a name="M000606"></a><b>from_yaml</b>(str)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000606_source')" id="l_M000606_source">show</a>
                        
                    </p>
                    <div id="M000606_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1725</span>
1725:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">from_yaml</span>(<span class="ruby-identifier">str</span>)
1726:       <span class="ruby-identifier">from_hash</span>(<span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-identifier">load</span>(<span class="ruby-identifier">str</span>))
1727:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000408">
                    
                    <a name="M000408"></a><b>new</b>(*args, &amp;block)
                    
                </div>
                
                <div class="description">
                  <h2>Making an email</h2>
<p>
You can make an new mail object via a block, passing a string, file or
direct assignment.
</p>
<h3>Making an email via a block</h3>
<pre>
 mail = Mail.new do
      from 'mikel@test.lindsaar.net'
        to 'you@test.lindsaar.net'
   subject 'This is a test email'
      body File.read('body.txt')
 end

 mail.to_s #=&gt; &quot;From: mikel@test.lindsaar.net\r\nTo: you@...
</pre>
<h3>Making an email via passing a string</h3>
<pre>
 mail = Mail.new(&quot;To: mikel@test.lindsaar.net\r\nSubject: Hello\r\n\r\nHi there!&quot;)
 mail.body.to_s #=&gt; 'Hi there!'
 mail.subject   #=&gt; 'Hello'
 mail.to        #=&gt; 'mikel@test.lindsaar.net'
</pre>
<h3>Making an email from a file</h3>
<pre>
 mail = Mail.read('path/to/file.eml')
 mail.body.to_s #=&gt; 'Hi there!'
 mail.subject   #=&gt; 'Hello'
 mail.to        #=&gt; 'mikel@test.lindsaar.net'
</pre>
<h3>Making an email via assignment</h3>
<p>
You can assign values to a mail object via four approaches:
</p>
<ul>
<li>Message#field_name=(value)

</li>
<li>Message#field_name(value)

</li>
<li>Message#[&#8216;field_name&#8217;]=(value)

</li>
<li>Message#[:field_name]=(value)

</li>
</ul>
<p>
Examples:
</p>
<pre>
 mail = Mail.new
 mail['from'] = 'mikel@test.lindsaar.net'
 mail[:to]    = 'you@test.lindsaar.net'
 mail.subject 'This is a test email'
 mail.body    = 'This is a body'

 mail.to_s #=&gt; &quot;From: mikel@test.lindsaar.net\r\nTo: you@...
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000408_source')" id="l_M000408_source">show</a>
                        
                    </p>
                    <div id="M000408_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 100</span>
100:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
101:       <span class="ruby-ivar">@body</span> = <span class="ruby-keyword kw">nil</span>
102:       <span class="ruby-ivar">@body_raw</span> = <span class="ruby-keyword kw">nil</span>
103:       <span class="ruby-ivar">@body_raw_index</span> = <span class="ruby-keyword kw">nil</span>
104:       <span class="ruby-ivar">@separate_parts</span> = <span class="ruby-keyword kw">false</span>
105:       <span class="ruby-ivar">@text_part</span> = <span class="ruby-keyword kw">nil</span>
106:       <span class="ruby-ivar">@html_part</span> = <span class="ruby-keyword kw">nil</span>
107:       <span class="ruby-ivar">@errors</span> = <span class="ruby-keyword kw">nil</span>
108:       <span class="ruby-ivar">@header</span> = <span class="ruby-keyword kw">nil</span>
109:       <span class="ruby-ivar">@charset</span> = <span class="ruby-value str">'UTF-8'</span>
110:       <span class="ruby-ivar">@defaulted_charset</span> = <span class="ruby-keyword kw">true</span>
111: 
112:       <span class="ruby-ivar">@perform_deliveries</span> = <span class="ruby-keyword kw">true</span>
113:       <span class="ruby-ivar">@raise_delivery_errors</span> = <span class="ruby-keyword kw">true</span>
114: 
115:       <span class="ruby-ivar">@delivery_handler</span> = <span class="ruby-keyword kw">nil</span>
116: 
117:       <span class="ruby-ivar">@delivery_method</span> = <span class="ruby-constant">Mail</span>.<span class="ruby-identifier">delivery_method</span>.<span class="ruby-identifier">dup</span>
118: 
119:       <span class="ruby-ivar">@transport_encoding</span> = <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Encodings</span>.<span class="ruby-identifier">get_encoding</span>(<span class="ruby-value str">'7bit'</span>)
120: 
121:       <span class="ruby-ivar">@mark_for_delete</span> = <span class="ruby-keyword kw">false</span>
122: 
123:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:each_pair</span>)
124:         <span class="ruby-identifier">init_with_hash</span>(<span class="ruby-identifier">args</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">first</span>)
125:       <span class="ruby-keyword kw">else</span>
126:         <span class="ruby-identifier">init_with_string</span>(<span class="ruby-identifier">args</span>.<span class="ruby-identifier">flatten</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">strip</span>)
127:       <span class="ruby-keyword kw">end</span>
128: 
129:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
130:         <span class="ruby-identifier">instance_eval</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
131:       <span class="ruby-keyword kw">end</span>
132: 
133:       <span class="ruby-keyword kw">self</span>
134:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000435">
                    
                    <a name="M000435"></a><b>&lt;=&gt;</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
Provides the operator needed for sort et al.
</p>
<p>
Compares this mail object with another mail object, this is done by date,
so an email that is older than another will appear first.
</p>
<p>
Example:
</p>
<pre>
 mail1 = Mail.new do
   date(Time.now)
 end
 mail2 = Mail.new do
   date(Time.now - 86400) # 1 day older
 end
 [mail2, mail1].sort #=&gt; [mail2, mail1]
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000435_source')" id="l_M000435_source">show</a>
                        
                    </p>
                    <div id="M000435_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 310</span>
310:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">&lt;=&gt;</span>(<span class="ruby-identifier">other</span>)
311:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">nil?</span>
312:         <span class="ruby-value">1</span>
313:       <span class="ruby-keyword kw">else</span>
314:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">date</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">date</span>
315:       <span class="ruby-keyword kw">end</span>
316:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000436">
                    
                    <a name="M000436"></a><b>==</b>(other)
                    
                </div>
                
                <div class="description">
                  <p>
Two emails are the same if they have the same fields and body contents. One
gotcha here is that Mail will insert Message-IDs when calling encoded, so
doing mail1.encoded == mail2.encoded is most probably not going to return
what you think as the assigned Message-IDs by Mail (if not already defined
as the same) will ensure that the two objects are unique, and this
comparison will ALWAYS return false.
</p>
<p>
So the == operator has been defined like so: Two messages are the same if
they have the same content, ignoring the Message-ID field, unless BOTH
emails have a defined and different Message-ID value, then they are false.
</p>
<p>
So, in practice the == operator works like this:
</p>
<pre>
 m1 = Mail.new(&quot;Subject: Hello\r\n\r\nHello&quot;)
 m2 = Mail.new(&quot;Subject: Hello\r\n\r\nHello&quot;)
 m1 == m2 #=&gt; true

 m1 = Mail.new(&quot;Subject: Hello\r\n\r\nHello&quot;)
 m2 = Mail.new(&quot;Message-ID: &lt;1234@test&gt;\r\nSubject: Hello\r\n\r\nHello&quot;)
 m1 == m2 #=&gt; true

 m1 = Mail.new(&quot;Message-ID: &lt;1234@test&gt;\r\nSubject: Hello\r\n\r\nHello&quot;)
 m2 = Mail.new(&quot;Subject: Hello\r\n\r\nHello&quot;)
 m1 == m2 #=&gt; true

 m1 = Mail.new(&quot;Message-ID: &lt;1234@test&gt;\r\nSubject: Hello\r\n\r\nHello&quot;)
 m2 = Mail.new(&quot;Message-ID: &lt;1234@test&gt;\r\nSubject: Hello\r\n\r\nHello&quot;)
 m1 == m2 #=&gt; true

 m1 = Mail.new(&quot;Message-ID: &lt;1234@test&gt;\r\nSubject: Hello\r\n\r\nHello&quot;)
 m2 = Mail.new(&quot;Message-ID: &lt;DIFFERENT@test&gt;\r\nSubject: Hello\r\n\r\nHello&quot;)
 m1 == m2 #=&gt; false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000436_source')" id="l_M000436_source">show</a>
                        
                    </p>
                    <div id="M000436_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 349</span>
349:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">other</span>)
350:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:encoded</span>)
351: 
352:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">message_id</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">message_id</span>
353:         <span class="ruby-identifier">result</span> = (<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">encoded</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">encoded</span>)
354:       <span class="ruby-keyword kw">else</span>
355:         <span class="ruby-identifier">self_message_id</span>, <span class="ruby-identifier">other_message_id</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">message_id</span>, <span class="ruby-identifier">other</span>.<span class="ruby-identifier">message_id</span>
356:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">message_id</span>, <span class="ruby-identifier">other</span>.<span class="ruby-identifier">message_id</span> = <span class="ruby-value str">'&lt;temp@test&gt;'</span>, <span class="ruby-value str">'&lt;temp@test&gt;'</span>
357:         <span class="ruby-identifier">result</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">encoded</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">encoded</span>
358:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">message_id</span> = <span class="ruby-node">&quot;&lt;#{self_message_id}&gt;&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">self_message_id</span>
359:         <span class="ruby-identifier">other</span>.<span class="ruby-identifier">message_id</span> = <span class="ruby-node">&quot;&lt;#{other_message_id}&gt;&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other_message_id</span>
360:         <span class="ruby-identifier">result</span>
361:       <span class="ruby-keyword kw">end</span>
362:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000539">
                    
                    <a name="M000539"></a><b>[]</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Allows you to read an arbitrary header
</p>
<p>
Example:
</p>
<pre>
 mail['foo'] = '1234'
 mail['foo'].to_s #=&gt; '1234'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000539_source')" id="l_M000539_source">show</a>
                        
                    </p>
                    <div id="M000539_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1234</span>
1234:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">name</span>)
1235:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">underscoreize</span>(<span class="ruby-identifier">name</span>)]
1236:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000538">
                    
                    <a name="M000538"></a><b>[]=</b>(name, value)
                    
                </div>
                
                <div class="description">
                  <p>
Allows you to add an arbitrary header
</p>
<p>
Example:
</p>
<pre>
 mail['foo'] = '1234'
 mail['foo'].to_s #=&gt; '1234'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000538_source')" id="l_M000538_source">show</a>
                        
                    </p>
                    <div id="M000538_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1216</span>
1216:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span>)
1217:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'body'</span>
1218:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">body</span> = <span class="ruby-identifier">value</span>
1219:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/content[-_]type/i</span>
1220:         <span class="ruby-identifier">header</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">value</span>
1221:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'charset'</span>
1222:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">charset</span> = <span class="ruby-identifier">value</span>
1223:       <span class="ruby-keyword kw">else</span>
1224:         <span class="ruby-identifier">header</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">value</span>
1225:       <span class="ruby-keyword kw">end</span>
1226:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000575">
                    
                    <a name="M000575"></a><b>action</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000575_source')" id="l_M000575_source">show</a>
                        
                    </p>
                    <div id="M000575_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1483</span>
1483:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">action</span>
1484:       <span class="ruby-identifier">delivery_status_part</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">delivery_status_part</span>.<span class="ruby-identifier">action</span>
1485:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000557">
                    
                    <a name="M000557"></a><b>add_charset</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Adds a content type and charset if the body is US-ASCII
</p>
<p>
Otherwise raises a warning
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000557_source')" id="l_M000557_source">show</a>
                        
                    </p>
                    <div id="M000557_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1377</span>
1377:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_charset</span>
1378:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">body</span>.<span class="ruby-identifier">empty?</span>
1379:         <span class="ruby-comment cmt"># Only give a warning if this isn't an attachment, has non US-ASCII and the user</span>
1380:         <span class="ruby-comment cmt"># has not specified an encoding explicitly.</span>
1381:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@defaulted_charset</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">body</span>.<span class="ruby-identifier">raw_source</span>.<span class="ruby-identifier">not_ascii_only?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">attachment?</span>
1382:           <span class="ruby-identifier">warning</span> = <span class="ruby-value str">&quot;Non US-ASCII detected and no charset defined.\nDefaulting to UTF-8, set your own if this is incorrect.\n&quot;</span>
1383:           <span class="ruby-constant">STDERR</span>.<span class="ruby-identifier">puts</span>(<span class="ruby-identifier">warning</span>)
1384:         <span class="ruby-keyword kw">end</span>
1385:         <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_type</span>].<span class="ruby-identifier">parameters</span>[<span class="ruby-value str">'charset'</span>] = <span class="ruby-ivar">@charset</span>
1386:       <span class="ruby-keyword kw">end</span>
1387:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000558">
                    
                    <a name="M000558"></a><b>add_content_transfer_encoding</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Adds a content transfer encoding
</p>
<p>
Otherwise raises a warning
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000558_source')" id="l_M000558_source">show</a>
                        
                    </p>
                    <div id="M000558_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1392</span>
1392:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_content_transfer_encoding</span>
1393:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">body</span>.<span class="ruby-identifier">only_us_ascii?</span>
1394:         <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_transfer_encoding</span>] = <span class="ruby-value str">'7bit'</span>
1395:       <span class="ruby-keyword kw">else</span>
1396:         <span class="ruby-identifier">warning</span> = <span class="ruby-value str">&quot;Non US-ASCII detected and no content-transfer-encoding defined.\nDefaulting to 8bit, set your own if this is incorrect.\n&quot;</span>
1397:         <span class="ruby-constant">STDERR</span>.<span class="ruby-identifier">puts</span>(<span class="ruby-identifier">warning</span>)
1398:         <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_transfer_encoding</span>] = <span class="ruby-value str">'8bit'</span>
1399:       <span class="ruby-keyword kw">end</span>
1400:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000556">
                    
                    <a name="M000556"></a><b>add_content_type</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Adds a content type and charset if the body is US-ASCII
</p>
<p>
Otherwise raises a warning
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000556_source')" id="l_M000556_source">show</a>
                        
                    </p>
                    <div id="M000556_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1370</span>
1370:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_content_type</span>
1371:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_type</span>] = <span class="ruby-value str">'text/plain'</span>
1372:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000554">
                    
                    <a name="M000554"></a><b>add_date</b>(date_val = '')
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new empty Date field and inserts it in the correct order into the
<a href="Header.html">Header</a>. The <a
href="DateField.html">DateField</a> object will automatically generate
DateTime.now&#8217;s date if you try and encode it or output it <a
href="Message.html#M000608">to_s</a> without specifying a date yourself.
</p>
<p>
It will preserve any date you specify if you do.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000554_source')" id="l_M000554_source">show</a>
                        
                    </p>
                    <div id="M000554_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1353</span>
1353:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_date</span>(<span class="ruby-identifier">date_val</span> = <span class="ruby-value str">''</span>)
1354:       <span class="ruby-identifier">header</span>[<span class="ruby-value str">'date'</span>] = <span class="ruby-identifier">date_val</span>
1355:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000598">
                    
                    <a name="M000598"></a><b>add_file</b>(values)
                    
                </div>
                
                <div class="description">
                  <p>
Adds a file to the message. You have two options with this method, you can
just pass in the absolute path to the file you want and Mail will read the
file, get the filename from the path you pass in and guess the MIME media
type, or you can pass in the filename as a string, and pass in the file
content as a blob.
</p>
<p>
Example:
</p>
<pre>
 m = Mail.new
 m.add_file('/path/to/filename.png')

 m = Mail.new
 m.add_file(:filename =&gt; 'filename.png', :content =&gt; File.read('/path/to/file.jpg'))
</pre>
<p>
Note also that if you add a file to an existing message, Mail will convert
that message to a MIME multipart email, moving whatever plain text body you
had into it&#8217;s own text plain part.
</p>
<p>
Example:
</p>
<pre>
 m = Mail.new do
   body 'this is some text'
 end
 m.multipart? #=&gt; false
 m.add_file('/path/to/filename.png')
 m.multipart? #=&gt; true
 m.parts.first.content_type.content_type #=&gt; 'text/plain'
 m.parts.last.content_type.content_type #=&gt; 'image/png'
</pre>
<p>
See also <a href="Message.html#M000584">attachments</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000598_source')" id="l_M000598_source">show</a>
                        
                    </p>
                    <div id="M000598_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1664</span>
1664:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_file</span>(<span class="ruby-identifier">values</span>)
1665:       <span class="ruby-identifier">convert_to_multipart</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">multipart?</span> <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">body</span>.<span class="ruby-identifier">decoded</span>.<span class="ruby-identifier">blank?</span>
1666:       <span class="ruby-identifier">add_multipart_mixed_header</span>
1667:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
1668:         <span class="ruby-identifier">basename</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">values</span>)
1669:         <span class="ruby-identifier">filedata</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">values</span>, <span class="ruby-value str">'rb'</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">read</span> }
1670:       <span class="ruby-keyword kw">else</span>
1671:         <span class="ruby-identifier">basename</span> = <span class="ruby-identifier">values</span>[<span class="ruby-identifier">:filename</span>]
1672:         <span class="ruby-identifier">filedata</span> = <span class="ruby-identifier">values</span>[<span class="ruby-identifier">:content</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">values</span>[<span class="ruby-identifier">:filename</span>], <span class="ruby-value str">'rb'</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">read</span> }
1673:       <span class="ruby-keyword kw">end</span>
1674:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">attachments</span>[<span class="ruby-identifier">basename</span>] = <span class="ruby-identifier">filedata</span>
1675:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000552">
                    
                    <a name="M000552"></a><b>add_message_id</b>(msg_id_val = '')
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new empty Message-ID field and inserts it in the correct order
into the <a href="Header.html">Header</a>. The <a
href="MessageIdField.html">MessageIdField</a> object will automatically
generate a unique message ID if you try and encode it or output it <a
href="Message.html#M000608">to_s</a> without specifying a message id.
</p>
<p>
It will preserve the message ID you specify if you do.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000552_source')" id="l_M000552_source">show</a>
                        
                    </p>
                    <div id="M000552_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1343</span>
1343:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_message_id</span>(<span class="ruby-identifier">msg_id_val</span> = <span class="ruby-value str">''</span>)
1344:       <span class="ruby-identifier">header</span>[<span class="ruby-value str">'message-id'</span>] = <span class="ruby-identifier">msg_id_val</span>
1345:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000555">
                    
                    <a name="M000555"></a><b>add_mime_version</b>(ver_val = '')
                    
                </div>
                
                <div class="description">
                  <p>
Creates a new empty Mime Version field and inserts it in the correct order
into the <a href="Header.html">Header</a>. The <a
href="MimeVersion.html">MimeVersion</a> object will automatically generate
set itself to &#8216;1.0&#8217; if you try and encode it or output it <a
href="Message.html#M000608">to_s</a> without specifying a version yourself.
</p>
<p>
It will preserve any date you specify if you do.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000555_source')" id="l_M000555_source">show</a>
                        
                    </p>
                    <div id="M000555_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1363</span>
1363:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_mime_version</span>(<span class="ruby-identifier">ver_val</span> = <span class="ruby-value str">''</span>)
1364:       <span class="ruby-identifier">header</span>[<span class="ruby-value str">'mime-version'</span>] = <span class="ruby-identifier">ver_val</span>
1365:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000592">
                    
                    <a name="M000592"></a><b>add_part</b>(part)
                    
                </div>
                
                <div class="description">
                  <p>
Adds a part to the parts list or creates the part list
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000592_source')" id="l_M000592_source">show</a>
                        
                    </p>
                    <div id="M000592_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1608</span>
1608:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_part</span>(<span class="ruby-identifier">part</span>)
1609:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">body</span>.<span class="ruby-identifier">multipart?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">body</span>.<span class="ruby-identifier">decoded</span>.<span class="ruby-identifier">blank?</span>
1610:          <span class="ruby-ivar">@text_part</span> = <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Part</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'Content-Type: text/plain;'</span>)
1611:          <span class="ruby-ivar">@text_part</span>.<span class="ruby-identifier">body</span> = <span class="ruby-identifier">body</span>.<span class="ruby-identifier">decoded</span>
1612:          <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">body</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@text_part</span>
1613:          <span class="ruby-identifier">add_multipart_alternate_header</span>
1614:       <span class="ruby-keyword kw">end</span>
1615:       <span class="ruby-identifier">add_boundary</span>
1616:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">body</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">part</span>
1617:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000616">
                    
                    <a name="M000616"></a><b>all_parts</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000616_source')" id="l_M000616_source">show</a>
                        
                    </p>
                    <div id="M000616_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1780</span>
1780:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">all_parts</span>
1781:       <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">p</span>, <span class="ruby-identifier">p</span>.<span class="ruby-identifier">all_parts</span>] }.<span class="ruby-identifier">flatten</span>
1782:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000614">
                    
                    <a name="M000614"></a><b>attachment</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the attachment data if there is any
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000614_source')" id="l_M000614_source">show</a>
                        
                    </p>
                    <div id="M000614_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1771</span>
1771:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attachment</span>
1772:       <span class="ruby-ivar">@attachment</span>
1773:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000613">
                    
                    <a name="M000613"></a><b>attachment?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if this part is an attachment, false otherwise.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000613_source')" id="l_M000613_source">show</a>
                        
                    </p>
                    <div id="M000613_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1766</span>
1766:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attachment?</span>
1767:       <span class="ruby-operator">!</span><span class="ruby-operator">!</span><span class="ruby-identifier">find_attachment</span>
1768:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000584">
                    
                    <a name="M000584"></a><b>attachments</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns an <a href="AttachmentsList.html">AttachmentsList</a> object, which
holds all of the attachments in the receiver object (either the entier
email or a part within) and all of it&#8217;s descendants.
</p>
<p>
It also allows you to add attachments to the mail object directly, like so:
</p>
<pre>
 mail.attachments['filename.jpg'] = File.read('/path/to/filename.jpg')
</pre>
<p>
If you do this, then Mail will take the file name and work out the MIME
media type set the Content-Type, Content-Disposition,
Content-Transfer-Encoding and base64 encode the contents of the attachment
all for you.
</p>
<p>
You can also specify overrides if you want by passing a hash instead of a
string:
</p>
<pre>
 mail.attachments['filename.jpg'] = {:mime_type =&gt; 'application/x-gzip',
                                     :content =&gt; File.read('/path/to/filename.jpg')}
</pre>
<p>
If you want to use a different encoding than Base64, you can pass an
encoding in, but then it is up to you to pass in the content pre-encoded,
and don&#8217;t expect Mail to know how to decode this data:
</p>
<pre>
 file_content = SpecialEncode(File.read('/path/to/filename.jpg'))
 mail.attachments['filename.jpg'] = {:mime_type =&gt; 'application/x-gzip',
                                     :encoding =&gt; 'SpecialEncoding',
                                     :content =&gt; file_content }
</pre>
<p>
You can also search for specific attachments:
</p>
<pre>
 # By Filename
 mail.attachments['filename.jpg']   #=&gt; Mail::Part object or nil

 # or by index
 mail.attachments[0]                #=&gt; Mail::Part (first attachment)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000584_source')" id="l_M000584_source">show</a>
                        
                    </p>
                    <div id="M000584_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1551</span>
1551:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attachments</span>
1552:       <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">attachments</span>
1553:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000452">
                    
                    <a name="M000452"></a><b>bcc</b>( val = nil )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the Bcc value of the mail object as an array of strings of address
specs.
</p>
<p>
Example:
</p>
<pre>
 mail.bcc = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.bcc #=&gt; ['mikel@test.lindsaar.net']
 mail.bcc = 'Mikel &lt;mikel@test.lindsaar.net&gt;, ada@test.lindsaar.net'
 mail.bcc #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>
<p>
Also allows you to set the value by passing a value as a parameter
</p>
<p>
Example:
</p>
<pre>
 mail.bcc 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.bcc #=&gt; ['mikel@test.lindsaar.net']
</pre>
<p>
Additionally, you can append new addresses to the returned Array like
object.
</p>
<p>
Example:
</p>
<pre>
 mail.bcc 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.bcc &lt;&lt; 'ada@test.lindsaar.net'
 mail.bcc #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000452_source')" id="l_M000452_source">show</a>
                        
                    </p>
                    <div id="M000452_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 475</span>
475:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">bcc</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
476:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:bcc</span>, <span class="ruby-identifier">val</span>
477:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000453">
                    
                    <a name="M000453"></a><b>bcc=</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
Sets the Bcc value of the mail object, pass in a string of the field
</p>
<p>
Example:
</p>
<pre>
 mail.bcc = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.bcc #=&gt; ['mikel@test.lindsaar.net']
 mail.bcc = 'Mikel &lt;mikel@test.lindsaar.net&gt;, ada@test.lindsaar.net'
 mail.bcc #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000453_source')" id="l_M000453_source">show</a>
                        
                    </p>
                    <div id="M000453_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 487</span>
487:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">bcc=</span>( <span class="ruby-identifier">val</span> )
488:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:bcc</span>] = <span class="ruby-identifier">val</span>
489:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000537">
                    
                    <a name="M000537"></a><b>bcc_addrs</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns an array of addresses (the encoded value) in the Bcc field, if no
Bcc field, returns an empty array
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000537_source')" id="l_M000537_source">show</a>
                        
                    </p>
                    <div id="M000537_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1206</span>
1206:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">bcc_addrs</span>
1207:       <span class="ruby-identifier">bcc</span> <span class="ruby-value">? </span>[<span class="ruby-identifier">bcc</span>].<span class="ruby-identifier">flatten</span> <span class="ruby-operator">:</span> []
1208:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000528">
                    
                    <a name="M000528"></a><b>body</b>(value = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Returns the body of the message object. Or, if passed a parameter sets the
value.
</p>
<p>
Example:
</p>
<pre>
 mail = Mail::Message.new('To: mikel\r\n\r\nThis is the body')
 mail.body #=&gt; #&lt;Mail::Body:0x13919c @raw_source=&quot;This is the bo...

 mail.body 'This is another body'
 mail.body #=&gt; #&lt;Mail::Body:0x13919c @raw_source=&quot;This is anothe...
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000528_source')" id="l_M000528_source">show</a>
                        
                    </p>
                    <div id="M000528_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1150</span>
1150:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">body</span>(<span class="ruby-identifier">value</span> = <span class="ruby-keyword kw">nil</span>)
1151:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>
1152:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">body</span> = <span class="ruby-identifier">value</span>
1153: <span class="ruby-comment cmt">#        add_encoding_to_body</span>
1154:       <span class="ruby-keyword kw">else</span>
1155:         <span class="ruby-identifier">process_body_raw</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@body_raw</span>
1156:         <span class="ruby-ivar">@body</span>
1157:       <span class="ruby-keyword kw">end</span>
1158:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000527">
                    
                    <a name="M000527"></a><b>body=</b>(value)
                    
                </div>
                
                <div class="description">
                  <p>
Sets the body object of the message object.
</p>
<p>
Example:
</p>
<pre>
 mail.body = 'This is the body'
 mail.body #=&gt; #&lt;Mail::Body:0x13919c @raw_source=&quot;This is the bo...
</pre>
<p>
You can also reset the body of an <a href="Message.html">Message</a> object
by setting body to nil
</p>
<p>
Example:
</p>
<pre>
 mail.body = 'this is the body'
 mail.body.encoded #=&gt; 'this is the body'
 mail.body = nil
 mail.body.encoded #=&gt; ''
</pre>
<p>
If you try and set the body of an email that is a multipart email, then
instead of deleting all the parts of your email, mail will add a text/plain
part to your email:
</p>
<pre>
 mail.add_file 'somefilename.png'
 mail.parts.length #=&gt; 1
 mail.body = &quot;This is a body&quot;
 mail.parts.length #=&gt; 2
 mail.parts.last.content_type.content_type #=&gt; 'This is a body'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000527_source')" id="l_M000527_source">show</a>
                        
                    </p>
                    <div id="M000527_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1136</span>
1136:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">body=</span>(<span class="ruby-identifier">value</span>)
1137:       <span class="ruby-identifier">body_lazy</span>(<span class="ruby-identifier">value</span>, <span class="ruby-value">0</span>)
1138:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000529">
                    
                    <a name="M000529"></a><b>body_encoding</b>(value)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000529_source')" id="l_M000529_source">show</a>
                        
                    </p>
                    <div id="M000529_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1160</span>
1160:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">body_encoding</span>(<span class="ruby-identifier">value</span>)
1161:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">nil?</span>
1162:         <span class="ruby-identifier">body</span>.<span class="ruby-identifier">encoding</span>
1163:       <span class="ruby-keyword kw">else</span>
1164:         <span class="ruby-identifier">body</span>.<span class="ruby-identifier">encoding</span> = <span class="ruby-identifier">value</span>
1165:       <span class="ruby-keyword kw">end</span>
1166:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000532">
                    
                    <a name="M000532"></a><b>body_encoding=</b>(value)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000532_source')" id="l_M000532_source">show</a>
                        
                    </p>
                    <div id="M000532_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1168</span>
1168:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">body_encoding=</span>(<span class="ruby-identifier">value</span>)
1169:         <span class="ruby-identifier">body</span>.<span class="ruby-identifier">encoding</span> = <span class="ruby-identifier">value</span>
1170:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000574">
                    
                    <a name="M000574"></a><b>bounced?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000574_source')" id="l_M000574_source">show</a>
                        
                    </p>
                    <div id="M000574_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1479</span>
1479:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">bounced?</span>
1480:       <span class="ruby-identifier">delivery_status_part</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">delivery_status_part</span>.<span class="ruby-identifier">bounced?</span>
1481:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000582">
                    
                    <a name="M000582"></a><b>boundary</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the current boundary for this message part
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000582_source')" id="l_M000582_source">show</a>
                        
                    </p>
                    <div id="M000582_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1508</span>
1508:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">boundary</span>
1509:       <span class="ruby-identifier">content_type_parameters</span> <span class="ruby-value">? </span><span class="ruby-identifier">content_type_parameters</span>[<span class="ruby-value str">'boundary'</span>] <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
1510:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000457">
                    
                    <a name="M000457"></a><b>cc</b>( val = nil )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the Cc value of the mail object as an array of strings of address
specs.
</p>
<p>
Example:
</p>
<pre>
 mail.cc = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.cc #=&gt; ['mikel@test.lindsaar.net']
 mail.cc = 'Mikel &lt;mikel@test.lindsaar.net&gt;, ada@test.lindsaar.net'
 mail.cc #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>
<p>
Also allows you to set the value by passing a value as a parameter
</p>
<p>
Example:
</p>
<pre>
 mail.cc 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.cc #=&gt; ['mikel@test.lindsaar.net']
</pre>
<p>
Additionally, you can append new addresses to the returned Array like
object.
</p>
<p>
Example:
</p>
<pre>
 mail.cc 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.cc &lt;&lt; 'ada@test.lindsaar.net'
 mail.cc #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000457_source')" id="l_M000457_source">show</a>
                        
                    </p>
                    <div id="M000457_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 516</span>
516:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cc</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
517:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:cc</span>, <span class="ruby-identifier">val</span>
518:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000458">
                    
                    <a name="M000458"></a><b>cc=</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
Sets the Cc value of the mail object, pass in a string of the field
</p>
<p>
Example:
</p>
<pre>
 mail.cc = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.cc #=&gt; ['mikel@test.lindsaar.net']
 mail.cc = 'Mikel &lt;mikel@test.lindsaar.net&gt;, ada@test.lindsaar.net'
 mail.cc #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000458_source')" id="l_M000458_source">show</a>
                        
                    </p>
                    <div id="M000458_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 528</span>
528:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cc=</span>( <span class="ruby-identifier">val</span> )
529:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:cc</span>] = <span class="ruby-identifier">val</span>
530:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000536">
                    
                    <a name="M000536"></a><b>cc_addrs</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns an array of addresses (the encoded value) in the Cc field, if no Cc
field, returns an empty array
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000536_source')" id="l_M000536_source">show</a>
                        
                    </p>
                    <div id="M000536_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1200</span>
1200:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cc_addrs</span>
1201:       <span class="ruby-identifier">cc</span> <span class="ruby-value">? </span>[<span class="ruby-identifier">cc</span>].<span class="ruby-identifier">flatten</span> <span class="ruby-operator">:</span> []
1202:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000563">
                    
                    <a name="M000563"></a><b>charset</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the character set defined in the content type field
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000563_source')" id="l_M000563_source">show</a>
                        
                    </p>
                    <div id="M000563_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1423</span>
1423:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">charset</span>
1424:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@header</span>
1425:         <span class="ruby-identifier">content_type</span> <span class="ruby-value">? </span><span class="ruby-identifier">content_type_parameters</span>[<span class="ruby-value str">'charset'</span>] <span class="ruby-operator">:</span> <span class="ruby-ivar">@charset</span>
1426:       <span class="ruby-keyword kw">else</span>
1427:         <span class="ruby-ivar">@charset</span>
1428:       <span class="ruby-keyword kw">end</span>
1429:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000565">
                    
                    <a name="M000565"></a><b>charset=</b>(value)
                    
                </div>
                
                <div class="description">
                  <p>
Sets the charset to the supplied value.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000565_source')" id="l_M000565_source">show</a>
                        
                    </p>
                    <div id="M000565_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1432</span>
1432:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">charset=</span>(<span class="ruby-identifier">value</span>)
1433:       <span class="ruby-ivar">@defaulted_charset</span> = <span class="ruby-keyword kw">false</span>
1434:       <span class="ruby-ivar">@charset</span> = <span class="ruby-identifier">value</span>
1435:       <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">charset</span> = <span class="ruby-identifier">value</span>
1436:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000459">
                    
                    <a name="M000459"></a><b>comments</b>( val = nil )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000459_source')" id="l_M000459_source">show</a>
                        
                    </p>
                    <div id="M000459_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 532</span>
532:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">comments</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
533:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:comments</span>, <span class="ruby-identifier">val</span>
534:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000460">
                    
                    <a name="M000460"></a><b>comments=</b>( val )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000460_source')" id="l_M000460_source">show</a>
                        
                    </p>
                    <div id="M000460_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 536</span>
536:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">comments=</span>( <span class="ruby-identifier">val</span> )
537:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:comments</span>] = <span class="ruby-identifier">val</span>
538:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000461">
                    
                    <a name="M000461"></a><b>content_description</b>( val = nil )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000461_source')" id="l_M000461_source">show</a>
                        
                    </p>
                    <div id="M000461_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 540</span>
540:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_description</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
541:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:content_description</span>, <span class="ruby-identifier">val</span>
542:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000464">
                    
                    <a name="M000464"></a><b>content_description=</b>( val )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000464_source')" id="l_M000464_source">show</a>
                        
                    </p>
                    <div id="M000464_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 544</span>
544:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_description=</span>( <span class="ruby-identifier">val</span> )
545:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_description</span>] = <span class="ruby-identifier">val</span>
546:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000465">
                    
                    <a name="M000465"></a><b>content_disposition</b>( val = nil )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000465_source')" id="l_M000465_source">show</a>
                        
                    </p>
                    <div id="M000465_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 548</span>
548:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_disposition</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
549:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:content_disposition</span>, <span class="ruby-identifier">val</span>
550:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000466">
                    
                    <a name="M000466"></a><b>content_disposition=</b>( val )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000466_source')" id="l_M000466_source">show</a>
                        
                    </p>
                    <div id="M000466_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 552</span>
552:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_disposition=</span>( <span class="ruby-identifier">val</span> )
553:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_disposition</span>] = <span class="ruby-identifier">val</span>
554:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000467">
                    
                    <a name="M000467"></a><b>content_id</b>( val = nil )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000467_source')" id="l_M000467_source">show</a>
                        
                    </p>
                    <div id="M000467_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 556</span>
556:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_id</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
557:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:content_id</span>, <span class="ruby-identifier">val</span>
558:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000468">
                    
                    <a name="M000468"></a><b>content_id=</b>( val )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000468_source')" id="l_M000468_source">show</a>
                        
                    </p>
                    <div id="M000468_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 560</span>
560:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_id=</span>( <span class="ruby-identifier">val</span> )
561:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_id</span>] = <span class="ruby-identifier">val</span>
562:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000472">
                    
                    <a name="M000472"></a><b>content_location</b>( val = nil )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000472_source')" id="l_M000472_source">show</a>
                        
                    </p>
                    <div id="M000472_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 564</span>
564:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_location</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
565:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:content_location</span>, <span class="ruby-identifier">val</span>
566:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000473">
                    
                    <a name="M000473"></a><b>content_location=</b>( val )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000473_source')" id="l_M000473_source">show</a>
                        
                    </p>
                    <div id="M000473_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 568</span>
568:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_location=</span>( <span class="ruby-identifier">val</span> )
569:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_location</span>] = <span class="ruby-identifier">val</span>
570:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000474">
                    
                    <a name="M000474"></a><b>content_transfer_encoding</b>( val = nil )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000474_source')" id="l_M000474_source">show</a>
                        
                    </p>
                    <div id="M000474_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 572</span>
572:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_transfer_encoding</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
573:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:content_transfer_encoding</span>, <span class="ruby-identifier">val</span>
574:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000475">
                    
                    <a name="M000475"></a><b>content_transfer_encoding=</b>( val )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000475_source')" id="l_M000475_source">show</a>
                        
                    </p>
                    <div id="M000475_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 576</span>
576:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_transfer_encoding=</span>( <span class="ruby-identifier">val</span> )
577:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_transfer_encoding</span>] = <span class="ruby-identifier">val</span>
578:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000476">
                    
                    <a name="M000476"></a><b>content_type</b>( val = nil )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000476_source')" id="l_M000476_source">show</a>
                        
                    </p>
                    <div id="M000476_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 580</span>
580:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_type</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
581:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:content_type</span>, <span class="ruby-identifier">val</span>
582:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000477">
                    
                    <a name="M000477"></a><b>content_type=</b>( val )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000477_source')" id="l_M000477_source">show</a>
                        
                    </p>
                    <div id="M000477_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 584</span>
584:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_type=</span>( <span class="ruby-identifier">val</span> )
585:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_type</span>] = <span class="ruby-identifier">val</span>
586:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000569">
                    
                    <a name="M000569"></a><b>content_type_parameters</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the content type parameters
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000569_source')" id="l_M000569_source">show</a>
                        
                    </p>
                    <div id="M000569_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1455</span>
1455:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_type_parameters</span>
1456:       <span class="ruby-identifier">has_content_type?</span> <span class="ruby-value">? </span><span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_type</span>].<span class="ruby-identifier">parameters</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
1457:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000601">
                    
                    <a name="M000601"></a><b>convert_to_multipart</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000601_source')" id="l_M000601_source">show</a>
                        
                    </p>
                    <div id="M000601_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1677</span>
1677:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">convert_to_multipart</span>
1678:       <span class="ruby-identifier">text</span> = <span class="ruby-identifier">body</span>.<span class="ruby-identifier">decoded</span>
1679:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">body</span> = <span class="ruby-value str">''</span>
1680:       <span class="ruby-identifier">text_part</span> = <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Part</span>.<span class="ruby-identifier">new</span>({<span class="ruby-identifier">:content_type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'text/plain;'</span>,
1681:                                   <span class="ruby-identifier">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">text</span>})
1682:       <span class="ruby-identifier">text_part</span>.<span class="ruby-identifier">charset</span> = <span class="ruby-identifier">charset</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@defaulted_charset</span>
1683:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">body</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">text_part</span>
1684:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000479">
                    
                    <a name="M000479"></a><b>date</b>( val = nil )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000479_source')" id="l_M000479_source">show</a>
                        
                    </p>
                    <div id="M000479_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 588</span>
588:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">date</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
589:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:date</span>, <span class="ruby-identifier">val</span>
590:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000480">
                    
                    <a name="M000480"></a><b>date=</b>( val )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000480_source')" id="l_M000480_source">show</a>
                        
                    </p>
                    <div id="M000480_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 592</span>
592:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">date=</span>( <span class="ruby-identifier">val</span> )
593:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:date</span>] = <span class="ruby-identifier">val</span>
594:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000612">
                    
                    <a name="M000612"></a><b>decode_body</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000612_source')" id="l_M000612_source">show</a>
                        
                    </p>
                    <div id="M000612_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1760</span>
1760:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">decode_body</span>
1761:       <span class="ruby-identifier">body</span>.<span class="ruby-identifier">decoded</span>
1762:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000610">
                    
                    <a name="M000610"></a><b>decoded</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000610_source')" id="l_M000610_source">show</a>
                        
                    </p>
                    <div id="M000610_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1741</span>
1741:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">decoded</span>
1742:       <span class="ruby-keyword kw">case</span>
1743:       <span class="ruby-keyword kw">when</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">attachment?</span>
1744:         <span class="ruby-identifier">decode_body</span>
1745:       <span class="ruby-keyword kw">when</span> <span class="ruby-operator">!</span><span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">multipart?</span>
1746:         <span class="ruby-identifier">body</span>.<span class="ruby-identifier">decoded</span>
1747:       <span class="ruby-keyword kw">else</span>
1748:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">NoMethodError</span>, <span class="ruby-value str">'Can not decode an entire message, try calling #decoded on the various fields and body or parts if it is a multipart message.'</span>
1749:       <span class="ruby-keyword kw">end</span>
1750:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000524">
                    
                    <a name="M000524"></a><b>default</b>( sym, val = nil )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the default value of the field requested as a symbol.
</p>
<p>
Each header field has a :default method which returns the most common use
case for that field, for example, the date field types will return a <a
href="DateTime.html">DateTime</a> object when sent :default, the subject,
or unstructured fields will return a decoded string of their value, the
address field types will return a single addr_spec or an array of
addr_specs if there is more than one.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000524_source')" id="l_M000524_source">show</a>
                        
                    </p>
                    <div id="M000524_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1103</span>
1103:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">default</span>( <span class="ruby-identifier">sym</span>, <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
1104:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val</span>
1105:         <span class="ruby-identifier">header</span>[<span class="ruby-identifier">sym</span>] = <span class="ruby-identifier">val</span>
1106:       <span class="ruby-keyword kw">else</span>
1107:         <span class="ruby-identifier">header</span>[<span class="ruby-identifier">sym</span>].<span class="ruby-identifier">default</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">header</span>[<span class="ruby-identifier">sym</span>]
1108:       <span class="ruby-keyword kw">end</span>
1109:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000419">
                    
                    <a name="M000419"></a><b>deliver</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Delivers an mail object.
</p>
<p>
Examples:
</p>
<pre>
 mail = Mail.read('file.eml')
 mail.deliver
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000419_source')" id="l_M000419_source">show</a>
                        
                    </p>
                    <div id="M000419_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 227</span>
227:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">deliver</span>
228:       <span class="ruby-identifier">inform_interceptors</span>
229:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">delivery_handler</span>
230:         <span class="ruby-identifier">delivery_handler</span>.<span class="ruby-identifier">deliver_mail</span>(<span class="ruby-keyword kw">self</span>) { <span class="ruby-identifier">do_delivery</span> }
231:       <span class="ruby-keyword kw">else</span>
232:         <span class="ruby-identifier">do_delivery</span>
233:       <span class="ruby-keyword kw">end</span>
234:       <span class="ruby-identifier">inform_observers</span>
235:       <span class="ruby-keyword kw">self</span>
236:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000422">
                    
                    <a name="M000422"></a><b>deliver!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
This method bypasses checking <a
href="Message.html#perform_deliveries">perform_deliveries</a> and <a
href="Message.html#raise_delivery_errors">raise_delivery_errors</a>, so use
with caution.
</p>
<p>
It still however fires callbacks to the observers if they are defined.
</p>
<p>
Returns self
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000422_source')" id="l_M000422_source">show</a>
                        
                    </p>
                    <div id="M000422_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 244</span>
244:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">deliver!</span>
245:       <span class="ruby-identifier">response</span> = <span class="ruby-identifier">delivery_method</span>.<span class="ruby-identifier">deliver!</span>(<span class="ruby-keyword kw">self</span>)
246:       <span class="ruby-identifier">inform_observers</span>
247:       <span class="ruby-identifier">delivery_method</span>.<span class="ruby-identifier">settings</span>[<span class="ruby-identifier">:return_response</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">response</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">self</span>
248:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000423">
                    
                    <a name="M000423"></a><b>delivery_method</b>(method = nil, settings = {})
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000423_source')" id="l_M000423_source">show</a>
                        
                    </p>
                    <div id="M000423_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 250</span>
250:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delivery_method</span>(<span class="ruby-identifier">method</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">settings</span> = {})
251:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">method</span>
252:         <span class="ruby-ivar">@delivery_method</span>
253:       <span class="ruby-keyword kw">else</span>
254:         <span class="ruby-ivar">@delivery_method</span> = <span class="ruby-constant">Configuration</span>.<span class="ruby-identifier">instance</span>.<span class="ruby-identifier">lookup_delivery_method</span>(<span class="ruby-identifier">method</span>).<span class="ruby-identifier">new</span>(<span class="ruby-identifier">settings</span>)
255:       <span class="ruby-keyword kw">end</span>
256:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000573">
                    
                    <a name="M000573"></a><b>delivery_status_part</b>()
                    
                </div>
                
                <div class="description">
                  <p>
returns the part in a multipart/report email that has the content-type
delivery-status
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000573_source')" id="l_M000573_source">show</a>
                        
                    </p>
                    <div id="M000573_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1475</span>
1475:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delivery_status_part</span>
1476:       <span class="ruby-ivar">@delivery_stats_part</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">delivery_status_report_part?</span> }.<span class="ruby-identifier">first</span>
1477:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000572">
                    
                    <a name="M000572"></a><b>delivery_status_report?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the message is a multipart/report;
report-type=delivery-status;
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000572_source')" id="l_M000572_source">show</a>
                        
                    </p>
                    <div id="M000572_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1470</span>
1470:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delivery_status_report?</span>
1471:       <span class="ruby-identifier">multipart_report?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">content_type_parameters</span>[<span class="ruby-value str">'report-type'</span>] <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^delivery-status$/i</span>
1472:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000533">
                    
                    <a name="M000533"></a><b>destinations</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the list of addresses this message should be sent to by collecting
the addresses off the to, cc and bcc fields.
</p>
<p>
Example:
</p>
<pre>
 mail.to = 'mikel@test.lindsaar.net'
 mail.cc = 'sam@test.lindsaar.net'
 mail.bcc = 'bob@test.lindsaar.net'
 mail.destinations.length #=&gt; 3
 mail.destinations.first #=&gt; 'mikel@test.lindsaar.net'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000533_source')" id="l_M000533_source">show</a>
                        
                    </p>
                    <div id="M000533_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1182</span>
1182:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">destinations</span>
1183:       [<span class="ruby-identifier">to_addrs</span>, <span class="ruby-identifier">cc_addrs</span>, <span class="ruby-identifier">bcc_addrs</span>].<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">flatten</span>
1184:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000578">
                    
                    <a name="M000578"></a><b>diagnostic_code</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000578_source')" id="l_M000578_source">show</a>
                        
                    </p>
                    <div id="M000578_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1495</span>
1495:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">diagnostic_code</span>
1496:       <span class="ruby-identifier">delivery_status_part</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">delivery_status_part</span>.<span class="ruby-identifier">diagnostic_code</span>
1497:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000603">
                    
                    <a name="M000603"></a><b>encode!</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000603_source')" id="l_M000603_source">show</a>
                        
                    </p>
                    <div id="M000603_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1698</span>
1698:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">encode!</span>
1699:       <span class="ruby-constant">STDERR</span>.<span class="ruby-identifier">puts</span>(<span class="ruby-value str">&quot;Deprecated in 1.1.0 in favour of :ready_to_send! as it is less confusing with encoding and decoding.&quot;</span>)
1700:       <span class="ruby-identifier">ready_to_send!</span>
1701:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000604">
                    
                    <a name="M000604"></a><b>encoded</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Outputs an encoded string representation of the mail message including all
headers, attachments, etc. This is an encoded email in US-ASCII, so it is
able to be directly sent to an email server.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000604_source')" id="l_M000604_source">show</a>
                        
                    </p>
                    <div id="M000604_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1706</span>
1706:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">encoded</span>
1707:       <span class="ruby-identifier">ready_to_send!</span>
1708:       <span class="ruby-identifier">buffer</span> = <span class="ruby-identifier">header</span>.<span class="ruby-identifier">encoded</span>
1709:       <span class="ruby-identifier">buffer</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;\r\n&quot;</span>
1710:       <span class="ruby-identifier">buffer</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">body</span>.<span class="ruby-identifier">encoded</span>(<span class="ruby-identifier">content_transfer_encoding</span>)
1711:       <span class="ruby-identifier">buffer</span>
1712:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000443">
                    
                    <a name="M000443"></a><b>envelope_date</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000443_source')" id="l_M000443_source">show</a>
                        
                    </p>
                    <div id="M000443_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 393</span>
393:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">envelope_date</span>
394:       <span class="ruby-ivar">@envelope</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@envelope</span>.<span class="ruby-identifier">date</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
395:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000442">
                    
                    <a name="M000442"></a><b>envelope_from</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000442_source')" id="l_M000442_source">show</a>
                        
                    </p>
                    <div id="M000442_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 389</span>
389:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">envelope_from</span>
390:       <span class="ruby-ivar">@envelope</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@envelope</span>.<span class="ruby-identifier">from</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
391:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000577">
                    
                    <a name="M000577"></a><b>error_status</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000577_source')" id="l_M000577_source">show</a>
                        
                    </p>
                    <div id="M000577_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1491</span>
1491:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">error_status</span>
1492:       <span class="ruby-identifier">delivery_status_part</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">delivery_status_part</span>.<span class="ruby-identifier">error_status</span>
1493:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000451">
                    
                    <a name="M000451"></a><b>errors</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a list of parser errors on the header, each field that had an error
will be reparsed as an unstructured field to preserve the data inside, but
will not be used for further processing.
</p>
<p>
It returns a nested array of [field_name, value, original_error_message]
per error found.
</p>
<p>
Example:
</p>
<pre>
 message = Mail.new(&quot;Content-Transfer-Encoding: weirdo\r\n&quot;)
 message.errors.size #=&gt; 1
 message.errors.first[0] #=&gt; &quot;Content-Transfer-Encoding&quot;
 message.errors.first[1] #=&gt; &quot;weirdo&quot;
 message.errors.first[3] #=&gt; &lt;The original error message exception&gt;
</pre>
<p>
This is a good first defence on detecting spam by the way. Some spammers
send invalid emails to try and get email parsers to give up parsing them.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000451_source')" id="l_M000451_source">show</a>
                        
                    </p>
                    <div id="M000451_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 446</span>
446:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">errors</span>
447:       <span class="ruby-identifier">header</span>.<span class="ruby-identifier">errors</span>
448:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000615">
                    
                    <a name="M000615"></a><b>filename</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the filename of the attachment
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000615_source')" id="l_M000615_source">show</a>
                        
                    </p>
                    <div id="M000615_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1776</span>
1776:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">filename</span>
1777:       <span class="ruby-identifier">find_attachment</span>
1778:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000576">
                    
                    <a name="M000576"></a><b>final_recipient</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000576_source')" id="l_M000576_source">show</a>
                        
                    </p>
                    <div id="M000576_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1487</span>
1487:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">final_recipient</span>
1488:       <span class="ruby-identifier">delivery_status_part</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">delivery_status_part</span>.<span class="ruby-identifier">final_recipient</span>
1489:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000617">
                    
                    <a name="M000617"></a><b>find_first_mime_type</b>(mt)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000617_source')" id="l_M000617_source">show</a>
                        
                    </p>
                    <div id="M000617_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1784</span>
1784:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find_first_mime_type</span>(<span class="ruby-identifier">mt</span>)
1785:       <span class="ruby-identifier">all_parts</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">mime_type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">mt</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">p</span>.<span class="ruby-identifier">attachment?</span> }
1786:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000484">
                    
                    <a name="M000484"></a><b>from</b>( val = nil )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the From value of the mail object as an array of strings of address
specs.
</p>
<p>
Example:
</p>
<pre>
 mail.from = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.from #=&gt; ['mikel@test.lindsaar.net']
 mail.from = 'Mikel &lt;mikel@test.lindsaar.net&gt;, ada@test.lindsaar.net'
 mail.from #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>
<p>
Also allows you to set the value by passing a value as a parameter
</p>
<p>
Example:
</p>
<pre>
 mail.from 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.from #=&gt; ['mikel@test.lindsaar.net']
</pre>
<p>
Additionally, you can append new addresses to the returned Array like
object.
</p>
<p>
Example:
</p>
<pre>
 mail.from 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.from &lt;&lt; 'ada@test.lindsaar.net'
 mail.from #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000484_source')" id="l_M000484_source">show</a>
                        
                    </p>
                    <div id="M000484_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 633</span>
633:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">from</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
634:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:from</span>, <span class="ruby-identifier">val</span>
635:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000485">
                    
                    <a name="M000485"></a><b>from=</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
Sets the From value of the mail object, pass in a string of the field
</p>
<p>
Example:
</p>
<pre>
 mail.from = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.from #=&gt; ['mikel@test.lindsaar.net']
 mail.from = 'Mikel &lt;mikel@test.lindsaar.net&gt;, ada@test.lindsaar.net'
 mail.from #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000485_source')" id="l_M000485_source">show</a>
                        
                    </p>
                    <div id="M000485_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 645</span>
645:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">from=</span>( <span class="ruby-identifier">val</span> )
646:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:from</span>] = <span class="ruby-identifier">val</span>
647:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000534">
                    
                    <a name="M000534"></a><b>from_addrs</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns an array of addresses (the encoded value) in the From field, if no
From field, returns an empty array
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000534_source')" id="l_M000534_source">show</a>
                        
                    </p>
                    <div id="M000534_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1188</span>
1188:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">from_addrs</span>
1189:       <span class="ruby-identifier">from</span> <span class="ruby-value">? </span>[<span class="ruby-identifier">from</span>].<span class="ruby-identifier">flatten</span> <span class="ruby-operator">:</span> []
1190:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000585">
                    
                    <a name="M000585"></a><b>has_attachments?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000585_source')" id="l_M000585_source">show</a>
                        
                    </p>
                    <div id="M000585_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1555</span>
1555:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_attachments?</span>
1556:       <span class="ruby-operator">!</span><span class="ruby-identifier">attachments</span>.<span class="ruby-identifier">empty?</span>
1557:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000549">
                    
                    <a name="M000549"></a><b>has_charset?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000549_source')" id="l_M000549_source">show</a>
                        
                    </p>
                    <div id="M000549_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1323</span>
1323:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_charset?</span>
1324:       <span class="ruby-identifier">tmp</span> = <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_type</span>].<span class="ruby-identifier">parameters</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
1325:       <span class="ruby-operator">!</span><span class="ruby-operator">!</span>(<span class="ruby-identifier">has_content_type?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">tmp</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">tmp</span>[<span class="ruby-value str">'charset'</span>])
1326:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000550">
                    
                    <a name="M000550"></a><b>has_content_transfer_encoding?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000550_source')" id="l_M000550_source">show</a>
                        
                    </p>
                    <div id="M000550_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1328</span>
1328:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_content_transfer_encoding?</span>
1329:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_transfer_encoding</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_transfer_encoding</span>].<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">blank?</span>
1330:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000548">
                    
                    <a name="M000548"></a><b>has_content_type?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000548_source')" id="l_M000548_source">show</a>
                        
                    </p>
                    <div id="M000548_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1318</span>
1318:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_content_type?</span>
1319:       <span class="ruby-identifier">tmp</span> = <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_type</span>].<span class="ruby-identifier">main_type</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
1320:       <span class="ruby-operator">!</span><span class="ruby-operator">!</span><span class="ruby-identifier">tmp</span>
1321:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000546">
                    
                    <a name="M000546"></a><b>has_date?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the message has a Date field, the field may or may not have
a value, but the field exists or not.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000546_source')" id="l_M000546_source">show</a>
                        
                    </p>
                    <div id="M000546_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1308</span>
1308:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_date?</span>
1309:       <span class="ruby-identifier">header</span>.<span class="ruby-identifier">has_date?</span>
1310:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000545">
                    
                    <a name="M000545"></a><b>has_message_id?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the message has a message ID field, the field may or may
not have a value, but the field exists or not.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000545_source')" id="l_M000545_source">show</a>
                        
                    </p>
                    <div id="M000545_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1302</span>
1302:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_message_id?</span>
1303:       <span class="ruby-identifier">header</span>.<span class="ruby-identifier">has_message_id?</span>
1304:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000547">
                    
                    <a name="M000547"></a><b>has_mime_version?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the message has a Date field, the field may or may not have
a value, but the field exists or not.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000547_source')" id="l_M000547_source">show</a>
                        
                    </p>
                    <div id="M000547_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1314</span>
1314:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_mime_version?</span>
1315:       <span class="ruby-identifier">header</span>.<span class="ruby-identifier">has_mime_version?</span>
1316:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000445">
                    
                    <a name="M000445"></a><b>header</b>(value = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Returns the header object of the message object. Or, if passed a parameter
sets the value.
</p>
<p>
Example:
</p>
<pre>
 mail = Mail::Message.new('To: mikel\r\nFrom: you')
 mail.header #=&gt; #&lt;Mail::Header:0x13ce14 @raw_source=&quot;To: mikel\r\nFr...

 mail.header #=&gt; nil
 mail.header 'To: mikel\r\nFrom: you'
 mail.header #=&gt; #&lt;Mail::Header:0x13ce14 @raw_source=&quot;To: mikel\r\nFr...
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000445_source')" id="l_M000445_source">show</a>
                        
                    </p>
                    <div id="M000445_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 418</span>
418:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">header</span>(<span class="ruby-identifier">value</span> = <span class="ruby-keyword kw">nil</span>)
419:       <span class="ruby-identifier">value</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">header</span> = <span class="ruby-identifier">value</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@header</span>
420:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000444">
                    
                    <a name="M000444"></a><b>header=</b>(value)
                    
                </div>
                
                <div class="description">
                  <p>
Sets the header of the message object.
</p>
<p>
Example:
</p>
<pre>
 mail.header = 'To: mikel@test.lindsaar.net\r\nFrom: Bob@bob.com'
 mail.header #=&gt; &lt;#Mail::Header
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000444_source')" id="l_M000444_source">show</a>
                        
                    </p>
                    <div id="M000444_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 403</span>
403:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">header=</span>(<span class="ruby-identifier">value</span>)
404:       <span class="ruby-ivar">@header</span> = <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Header</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">value</span>, <span class="ruby-identifier">charset</span>)
405:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000544">
                    
                    <a name="M000544"></a><b>header_fields</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns an <a href="FieldList.html">FieldList</a> of all the fields in the
header in the order that they appear in the header
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000544_source')" id="l_M000544_source">show</a>
                        
                    </p>
                    <div id="M000544_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1296</span>
1296:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">header_fields</span>
1297:       <span class="ruby-identifier">header</span>.<span class="ruby-identifier">fields</span>
1298:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000446">
                    
                    <a name="M000446"></a><b>headers</b>(hash = {})
                    
                </div>
                
                <div class="description">
                  <p>
Provides a way to set custom headers, by passing in a hash
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000446_source')" id="l_M000446_source">show</a>
                        
                    </p>
                    <div id="M000446_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 423</span>
423:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">headers</span>(<span class="ruby-identifier">hash</span> = {})
424:       <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
425:         <span class="ruby-identifier">header</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">v</span>
426:       <span class="ruby-keyword kw">end</span>
427:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000586">
                    
                    <a name="M000586"></a><b>html_part</b>(&amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Accessor for <a href="Message.html#M000586">html_part</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000586_source')" id="l_M000586_source">show</a>
                        
                    </p>
                    <div id="M000586_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1560</span>
1560:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">html_part</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1561:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
1562:         <span class="ruby-ivar">@html_part</span> = <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Part</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1563:         <span class="ruby-identifier">add_multipart_alternate_header</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">html_part</span>.<span class="ruby-identifier">blank?</span>
1564:         <span class="ruby-identifier">add_part</span>(<span class="ruby-ivar">@html_part</span>)
1565:       <span class="ruby-keyword kw">else</span>
1566:         <span class="ruby-ivar">@html_part</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">find_first_mime_type</span>(<span class="ruby-value str">'text/html'</span>)
1567:       <span class="ruby-keyword kw">end</span>
1568:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000589">
                    
                    <a name="M000589"></a><b>html_part=</b>(msg = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Helper to add a html part to a multipart/alternative email. If this and <a
href="Message.html#M000588">text_part</a> are both defined in a message,
then it will be a multipart/alternative message and set itself that way.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000589_source')" id="l_M000589_source">show</a>
                        
                    </p>
                    <div id="M000589_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1584</span>
1584:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">html_part=</span>(<span class="ruby-identifier">msg</span> = <span class="ruby-keyword kw">nil</span>)
1585:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">msg</span>
1586:         <span class="ruby-ivar">@html_part</span> = <span class="ruby-identifier">msg</span>
1587:       <span class="ruby-keyword kw">else</span>
1588:         <span class="ruby-ivar">@html_part</span> = <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Part</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'Content-Type: text/html;'</span>)
1589:       <span class="ruby-keyword kw">end</span>
1590:       <span class="ruby-identifier">add_multipart_alternate_header</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">text_part</span>.<span class="ruby-identifier">blank?</span>
1591:       <span class="ruby-identifier">add_part</span>(<span class="ruby-ivar">@html_part</span>)
1592:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000486">
                    
                    <a name="M000486"></a><b>in_reply_to</b>( val = nil )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000486_source')" id="l_M000486_source">show</a>
                        
                    </p>
                    <div id="M000486_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 649</span>
649:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">in_reply_to</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
650:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:in_reply_to</span>, <span class="ruby-identifier">val</span>
651:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000487">
                    
                    <a name="M000487"></a><b>in_reply_to=</b>( val )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000487_source')" id="l_M000487_source">show</a>
                        
                    </p>
                    <div id="M000487_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 653</span>
653:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">in_reply_to=</span>( <span class="ruby-identifier">val</span> )
654:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:in_reply_to</span>] = <span class="ruby-identifier">val</span>
655:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000418">
                    
                    <a name="M000418"></a><b>inform_interceptors</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000418_source')" id="l_M000418_source">show</a>
                        
                    </p>
                    <div id="M000418_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 217</span>
217:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inform_interceptors</span>
218:       <span class="ruby-constant">Mail</span>.<span class="ruby-identifier">inform_interceptors</span>(<span class="ruby-keyword kw">self</span>)
219:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000417">
                    
                    <a name="M000417"></a><b>inform_observers</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000417_source')" id="l_M000417_source">show</a>
                        
                    </p>
                    <div id="M000417_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 213</span>
213:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inform_observers</span>
214:       <span class="ruby-constant">Mail</span>.<span class="ruby-identifier">inform_observers</span>(<span class="ruby-keyword kw">self</span>)
215:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000609">
                    
                    <a name="M000609"></a><b>inspect</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000609_source')" id="l_M000609_source">show</a>
                        
                    </p>
                    <div id="M000609_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1737</span>
1737:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
1738:       <span class="ruby-node">&quot;#&lt;#{self.class}:#{self.object_id}, Multipart: #{multipart?}, Headers: #{header.field_summary}&gt;&quot;</span>
1739:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000620">
                    
                    <a name="M000620"></a><b>is_marked_for_delete?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns whether message will be marked for deletion. If so, the message
will be deleted at session close (i.e. after find exits), but only if also
using the find_and_delete method, or by calling find with
:delete_after_find set to true.
</p>
<p>
Side-note: Just to be clear, this method will return true even if the
message hasn&#8217;t yet been marked for delete on the mail server.
However, if this method returns true, it *will be* marked on the server
after each block yields back to find or find_and_delete.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000620_source')" id="l_M000620_source">show</a>
                        
                    </p>
                    <div id="M000620_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1813</span>
1813:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">is_marked_for_delete?</span>
1814:       <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@mark_for_delete</span>
1815:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000488">
                    
                    <a name="M000488"></a><b>keywords</b>( val = nil )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000488_source')" id="l_M000488_source">show</a>
                        
                    </p>
                    <div id="M000488_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 657</span>
657:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">keywords</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
658:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:keywords</span>, <span class="ruby-identifier">val</span>
659:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000490">
                    
                    <a name="M000490"></a><b>keywords=</b>( val )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000490_source')" id="l_M000490_source">show</a>
                        
                    </p>
                    <div id="M000490_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 661</span>
661:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">keywords=</span>( <span class="ruby-identifier">val</span> )
662:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:keywords</span>] = <span class="ruby-identifier">val</span>
663:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000566">
                    
                    <a name="M000566"></a><b>main_type</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the main content type
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000566_source')" id="l_M000566_source">show</a>
                        
                    </p>
                    <div id="M000566_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1439</span>
1439:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">main_type</span>
1440:       <span class="ruby-identifier">has_content_type?</span> <span class="ruby-value">? </span><span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_type</span>].<span class="ruby-identifier">main_type</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
1441:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000619">
                    
                    <a name="M000619"></a><b>mark_for_delete=</b>(value = true)
                    
                </div>
                
                <div class="description">
                  <p>
Sets whether this message should be deleted at session close (i.e. after
find). <a href="Message.html">Message</a> will only be deleted if messages
are retrieved using the find_and_delete method, or by calling find with
:delete_after_find set to true.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000619_source')" id="l_M000619_source">show</a>
                        
                    </p>
                    <div id="M000619_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1800</span>
1800:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mark_for_delete=</span>(<span class="ruby-identifier">value</span> = <span class="ruby-keyword kw">true</span>)
1801:       <span class="ruby-ivar">@mark_for_delete</span> = <span class="ruby-identifier">value</span>
1802:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000562">
                    
                    <a name="M000562"></a><b>message_content_type</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000562_source')" id="l_M000562_source">show</a>
                        
                    </p>
                    <div id="M000562_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1417</span>
1417:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">message_content_type</span>
1418:       <span class="ruby-constant">STDERR</span>.<span class="ruby-identifier">puts</span>(<span class="ruby-node">&quot;:message_content_type is deprecated in Mail 1.4.3.  Please use mime_type\n#{caller}&quot;</span>)
1419:       <span class="ruby-identifier">mime_type</span>
1420:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000491">
                    
                    <a name="M000491"></a><b>message_id</b>( val = nil )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the Message-ID of the mail object. Note, per RFC 2822 the <a
href="Message.html">Message</a> ID consists of what is INSIDE the < >
usually seen in the mail header, so this method will return only what is
inside.
</p>
<p>
Example:
</p>
<pre>
 mail.message_id = '&lt;1234@message.id&gt;'
 mail.message_id #=&gt; '1234@message.id'
</pre>
<p>
Also allows you to set the Message-ID by passing a string as a parameter
</p>
<pre>
 mail.message_id '&lt;1234@message.id&gt;'
 mail.message_id #=&gt; '1234@message.id'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000491_source')" id="l_M000491_source">show</a>
                        
                    </p>
                    <div id="M000491_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 678</span>
678:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">message_id</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
679:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:message_id</span>, <span class="ruby-identifier">val</span>
680:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000492">
                    
                    <a name="M000492"></a><b>message_id=</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
Sets the Message-ID. Note, per RFC 2822 the <a
href="Message.html">Message</a> ID consists of what is INSIDE the < >
usually seen in the mail header, so this method will return only what is
inside.
</p>
<pre>
 mail.message_id = '&lt;1234@message.id&gt;'
 mail.message_id #=&gt; '1234@message.id'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000492_source')" id="l_M000492_source">show</a>
                        
                    </p>
                    <div id="M000492_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 687</span>
687:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">message_id=</span>( <span class="ruby-identifier">val</span> )
688:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:message_id</span>] = <span class="ruby-identifier">val</span>
689:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000542">
                    
                    <a name="M000542"></a><b>method_missing</b>(name, *args, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Method Missing in this implementation allows you to set any of the standard
fields directly as you would the &#8220;to&#8221;, &#8220;subject&#8221;
etc.
</p>
<p>
Those fields used most often (to, subject et al) are given their own method
for ease of documentation and also to avoid the hook call to method
missing.
</p>
<p>
This will only catch the known fields listed in:
</p>
<pre>
 Mail::Field::KNOWN_FIELDS
</pre>
<p>
as per RFC 2822, any ruby string or method name could pretty much be a
field name, so we don&#8217;t want to just catch ANYTHING sent to a message
object and interpret it as a header.
</p>
<p>
This method provides all three types of header call to set, read and
explicitly set with the = operator
</p>
<p>
Examples:
</p>
<pre>
 mail.comments = 'These are some comments'
 mail.comments #=&gt; 'These are some comments'

 mail.comments 'These are other comments'
 mail.comments #=&gt; 'These are other comments'

 mail.date = 'Tue, 1 Jul 2003 10:52:37 +0200'
 mail.date.to_s #=&gt; 'Tue, 1 Jul 2003 10:52:37 +0200'

 mail.date 'Tue, 1 Jul 2003 10:52:37 +0200'
 mail.date.to_s #=&gt; 'Tue, 1 Jul 2003 10:52:37 +0200'

 mail.resent_msg_id = '&lt;1234@resent_msg_id.lindsaar.net&gt;'
 mail.resent_msg_id #=&gt; '&lt;1234@resent_msg_id.lindsaar.net&gt;'

 mail.resent_msg_id '&lt;4567@resent_msg_id.lindsaar.net&gt;'
 mail.resent_msg_id #=&gt; '&lt;4567@resent_msg_id.lindsaar.net&gt;'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000542_source')" id="l_M000542_source">show</a>
                        
                    </p>
                    <div id="M000542_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1277</span>
1277:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">method_missing</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1278:       <span class="ruby-comment cmt">#:nodoc:</span>
1279:       <span class="ruby-comment cmt"># Only take the structured fields, as we could take _anything_ really</span>
1280:       <span class="ruby-comment cmt"># as it could become an optional field... &quot;but therin lies the dark side&quot;</span>
1281:       <span class="ruby-identifier">field_name</span> = <span class="ruby-identifier">underscoreize</span>(<span class="ruby-identifier">name</span>).<span class="ruby-identifier">chomp</span>(<span class="ruby-value str">&quot;=&quot;</span>)
1282:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Field</span><span class="ruby-operator">::</span><span class="ruby-constant">KNOWN_FIELDS</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">field_name</span>)
1283:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>
1284:           <span class="ruby-identifier">header</span>[<span class="ruby-identifier">field_name</span>]
1285:         <span class="ruby-keyword kw">else</span>
1286:           <span class="ruby-identifier">header</span>[<span class="ruby-identifier">field_name</span>] = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>
1287:         <span class="ruby-keyword kw">end</span>
1288:       <span class="ruby-keyword kw">else</span>
1289:         <span class="ruby-keyword kw">super</span> <span class="ruby-comment cmt"># otherwise pass it on</span>
1290:       <span class="ruby-keyword kw">end</span>
1291:       <span class="ruby-comment cmt">#:startdoc:</span>
1292:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000568">
                    
                    <a name="M000568"></a><b>mime_parameters</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the content type parameters
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000568_source')" id="l_M000568_source">show</a>
                        
                    </p>
                    <div id="M000568_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1449</span>
1449:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mime_parameters</span>
1450:       <span class="ruby-constant">STDERR</span>.<span class="ruby-identifier">puts</span>(<span class="ruby-value str">':mime_parameters is deprecated in Mail 1.4.3, please use :content_type_parameters instead'</span>)
1451:       <span class="ruby-identifier">content_type_parameters</span>
1452:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000561">
                    
                    <a name="M000561"></a><b>mime_type</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the MIME media type of part we are on, this is taken from the
content-type header
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000561_source')" id="l_M000561_source">show</a>
                        
                    </p>
                    <div id="M000561_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1413</span>
1413:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mime_type</span>
1414:       <span class="ruby-identifier">content_type</span> <span class="ruby-value">? </span><span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_type</span>].<span class="ruby-identifier">string</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
1415:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000494">
                    
                    <a name="M000494"></a><b>mime_version</b>( val = nil )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the MIME version of the email as a string
</p>
<p>
Example:
</p>
<pre>
 mail.mime_version = '1.0'
 mail.mime_version #=&gt; '1.0'
</pre>
<p>
Also allows you to set the MIME version by passing a string as a parameter.
</p>
<p>
Example:
</p>
<pre>
 mail.mime_version '1.0'
 mail.mime_version #=&gt; '1.0'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000494_source')" id="l_M000494_source">show</a>
                        
                    </p>
                    <div id="M000494_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 704</span>
704:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mime_version</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
705:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:mime_version</span>, <span class="ruby-identifier">val</span>
706:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000495">
                    
                    <a name="M000495"></a><b>mime_version=</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
Sets the MIME version of the email by accepting a string
</p>
<p>
Example:
</p>
<pre>
 mail.mime_version = '1.0'
 mail.mime_version #=&gt; '1.0'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000495_source')" id="l_M000495_source">show</a>
                        
                    </p>
                    <div id="M000495_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 714</span>
714:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mime_version=</span>( <span class="ruby-identifier">val</span> )
715:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:mime_version</span>] = <span class="ruby-identifier">val</span>
716:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000570">
                    
                    <a name="M000570"></a><b>multipart?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the message is multipart
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000570_source')" id="l_M000570_source">show</a>
                        
                    </p>
                    <div id="M000570_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1460</span>
1460:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">multipart?</span>
1461:       <span class="ruby-identifier">has_content_type?</span> <span class="ruby-value">? </span><span class="ruby-operator">!</span><span class="ruby-operator">!</span>(<span class="ruby-identifier">main_type</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^multipart$/i</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword kw">false</span>
1462:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000571">
                    
                    <a name="M000571"></a><b>multipart_report?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns true if the message is a multipart/report
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000571_source')" id="l_M000571_source">show</a>
                        
                    </p>
                    <div id="M000571_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1465</span>
1465:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">multipart_report?</span>
1466:       <span class="ruby-identifier">multipart?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">sub_type</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^report$/i</span>
1467:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000594">
                    
                    <a name="M000594"></a><b>part</b>(params = {})
                    
                </div>
                
                <div class="description">
                  <p>
Allows you to add a part in block form to an existing mail message object
</p>
<p>
Example:
</p>
<pre>
 mail = Mail.new do
   part :content_type =&gt; &quot;multipart/alternative&quot;, :content_disposition =&gt; &quot;inline&quot; do |p|
     p.part :content_type =&gt; &quot;text/plain&quot;, :body =&gt; &quot;test text\nline #2&quot;
     p.part :content_type =&gt; &quot;text/html&quot;, :body =&gt; &quot;&lt;b&gt;test&lt;/b&gt; HTML&lt;br/&gt;\nline #2&quot;
   end
 end
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000594_source')" id="l_M000594_source">show</a>
                        
                    </p>
                    <div id="M000594_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1629</span>
1629:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">part</span>(<span class="ruby-identifier">params</span> = {})
1630:       <span class="ruby-identifier">new_part</span> = <span class="ruby-constant">Part</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">params</span>)
1631:       <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">new_part</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
1632:       <span class="ruby-identifier">add_part</span>(<span class="ruby-identifier">new_part</span>)
1633:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000583">
                    
                    <a name="M000583"></a><b>parts</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a parts list object of all the parts in the message
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000583_source')" id="l_M000583_source">show</a>
                        
                    </p>
                    <div id="M000583_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1513</span>
1513:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parts</span>
1514:       <span class="ruby-identifier">body</span>.<span class="ruby-identifier">parts</span>
1515:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000441">
                    
                    <a name="M000441"></a><b>raw_envelope</b>()
                    
                </div>
                
                <div class="description">
                  <p>
The <a href="Message.html#M000441">raw_envelope</a> is the From
mikel@test.lindsaar.net Mon May 2 16:07:05 2009 type field that you can see
at the top of any email that has come from a mailbox
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000441_source')" id="l_M000441_source">show</a>
                        
                    </p>
                    <div id="M000441_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 385</span>
385:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">raw_envelope</span>
386:       <span class="ruby-ivar">@raw_envelope</span>
387:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000439">
                    
                    <a name="M000439"></a><b>raw_source</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Provides access to the raw source of the message as it was when it was
instantiated. This is set at initialization and so is untouched by the
parsers or decoder / encoders
</p>
<p>
Example:
</p>
<pre>
 mail = Mail.new('This is an invalid email message')
 mail.raw_source #=&gt; &quot;This is an invalid email message&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000439_source')" id="l_M000439_source">show</a>
                        
                    </p>
                    <div id="M000439_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 372</span>
372:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">raw_source</span>
373:       <span class="ruby-ivar">@raw_source</span>
374:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000611">
                    
                    <a name="M000611"></a><b>read</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000611_source')" id="l_M000611_source">show</a>
                        
                    </p>
                    <div id="M000611_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1752</span>
1752:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">read</span>
1753:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">attachment?</span>
1754:         <span class="ruby-identifier">decode_body</span>
1755:       <span class="ruby-keyword kw">else</span>
1756:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">NoMethodError</span>, <span class="ruby-value str">'Can not call read on a part unless it is an attachment.'</span>
1757:       <span class="ruby-keyword kw">end</span>
1758:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000602">
                    
                    <a name="M000602"></a><b>ready_to_send!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Encodes the message, calls encode on all it&#8217;s parts, gets an email
message ready to send
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000602_source')" id="l_M000602_source">show</a>
                        
                    </p>
                    <div id="M000602_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1688</span>
1688:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ready_to_send!</span>
1689:       <span class="ruby-identifier">identify_and_set_transfer_encoding</span>
1690:       <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">sort!</span>([ <span class="ruby-value str">&quot;text/plain&quot;</span>, <span class="ruby-value str">&quot;text/enriched&quot;</span>, <span class="ruby-value str">&quot;text/html&quot;</span>, <span class="ruby-value str">&quot;multipart/alternative&quot;</span> ])
1691:       <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span>
1692:         <span class="ruby-identifier">part</span>.<span class="ruby-identifier">transport_encoding</span> = <span class="ruby-identifier">transport_encoding</span>
1693:         <span class="ruby-identifier">part</span>.<span class="ruby-identifier">ready_to_send!</span>
1694:       <span class="ruby-keyword kw">end</span>
1695:       <span class="ruby-identifier">add_required_fields</span>
1696:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000496">
                    
                    <a name="M000496"></a><b>received</b>( val = nil )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000496_source')" id="l_M000496_source">show</a>
                        
                    </p>
                    <div id="M000496_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 718</span>
718:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">received</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
719:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val</span>
720:         <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:received</span>] = <span class="ruby-identifier">val</span>
721:       <span class="ruby-keyword kw">else</span>
722:         <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:received</span>]
723:       <span class="ruby-keyword kw">end</span>
724:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000497">
                    
                    <a name="M000497"></a><b>received=</b>( val )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000497_source')" id="l_M000497_source">show</a>
                        
                    </p>
                    <div id="M000497_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 726</span>
726:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">received=</span>( <span class="ruby-identifier">val</span> )
727:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:received</span>] = <span class="ruby-identifier">val</span>
728:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000498">
                    
                    <a name="M000498"></a><b>references</b>( val = nil )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000498_source')" id="l_M000498_source">show</a>
                        
                    </p>
                    <div id="M000498_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 730</span>
730:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">references</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
731:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:references</span>, <span class="ruby-identifier">val</span>
732:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000499">
                    
                    <a name="M000499"></a><b>references=</b>( val )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000499_source')" id="l_M000499_source">show</a>
                        
                    </p>
                    <div id="M000499_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 734</span>
734:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">references=</span>( <span class="ruby-identifier">val</span> )
735:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:references</span>] = <span class="ruby-identifier">val</span>
736:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000416">
                    
                    <a name="M000416"></a><b>register_for_delivery_notification</b>(observer)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000416_source')" id="l_M000416_source">show</a>
                        
                    </p>
                    <div id="M000416_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 208</span>
208:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">register_for_delivery_notification</span>(<span class="ruby-identifier">observer</span>)
209:       <span class="ruby-constant">STDERR</span>.<span class="ruby-identifier">puts</span>(<span class="ruby-value str">&quot;Message#register_for_delivery_notification is deprecated, please call Mail.register_observer instead&quot;</span>)
210:       <span class="ruby-constant">Mail</span>.<span class="ruby-identifier">register_observer</span>(<span class="ruby-identifier">observer</span>)
211:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000579">
                    
                    <a name="M000579"></a><b>remote_mta</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000579_source')" id="l_M000579_source">show</a>
                        
                    </p>
                    <div id="M000579_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1499</span>
1499:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remote_mta</span>
1500:       <span class="ruby-identifier">delivery_status_part</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">delivery_status_part</span>.<span class="ruby-identifier">remote_mta</span>
1501:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000428">
                    
                    <a name="M000428"></a><b>reply</b>(*args, &amp;block)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000428_source')" id="l_M000428_source">show</a>
                        
                    </p>
                    <div id="M000428_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 258</span>
258:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reply</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
259:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">tap</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reply</span><span class="ruby-operator">|</span>
260:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">message_id</span>
261:           <span class="ruby-identifier">bracketed_message_id</span> = <span class="ruby-node">&quot;&lt;#{message_id}&gt;&quot;</span>
262:           <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">in_reply_to</span> = <span class="ruby-identifier">bracketed_message_id</span>
263:           <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">references</span>.<span class="ruby-identifier">nil?</span>
264:             <span class="ruby-identifier">refs</span> = [<span class="ruby-identifier">references</span>].<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;&lt;#{r}&gt;&quot;</span> }
265:             <span class="ruby-identifier">refs</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">bracketed_message_id</span>
266:             <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">references</span> = <span class="ruby-identifier">refs</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">' '</span>)
267:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">in_reply_to</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">in_reply_to</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>)
268:             <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">references</span> = <span class="ruby-node">&quot;&lt;#{in_reply_to}&gt; #{bracketed_message_id}&quot;</span>
269:           <span class="ruby-keyword kw">end</span>
270:           <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">references</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">bracketed_message_id</span>
271:         <span class="ruby-keyword kw">end</span>
272:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">subject</span>
273:           <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">subject</span> = <span class="ruby-identifier">subject</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^Re:/i</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">subject</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;RE: #{subject}&quot;</span>
274:         <span class="ruby-keyword kw">end</span>
275:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">reply_to</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">from</span>
276:           <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">to</span> = <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">reply_to</span> <span class="ruby-value">? </span><span class="ruby-operator">:</span><span class="ruby-identifier">reply_to</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">:from</span>].<span class="ruby-identifier">to_s</span>
277:         <span class="ruby-keyword kw">end</span>
278:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">to</span>
279:           <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">from</span> = <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">:to</span>].<span class="ruby-identifier">formatted</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">to_s</span>
280:         <span class="ruby-keyword kw">end</span>
281: 
282:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>
283:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:each_pair</span>)
284:             <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:init_with_hash</span>, <span class="ruby-identifier">args</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">first</span>)
285:           <span class="ruby-keyword kw">else</span>
286:             <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:init_with_string</span>, <span class="ruby-identifier">args</span>.<span class="ruby-identifier">flatten</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">strip</span>)
287:           <span class="ruby-keyword kw">end</span>
288:         <span class="ruby-keyword kw">end</span>
289: 
290:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
291:           <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">instance_eval</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
292:         <span class="ruby-keyword kw">end</span>
293:       <span class="ruby-keyword kw">end</span>
294:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000500">
                    
                    <a name="M000500"></a><b>reply_to</b>( val = nil )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the Reply-To value of the mail object as an array of strings of
address specs.
</p>
<p>
Example:
</p>
<pre>
 mail.reply_to = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.reply_to #=&gt; ['mikel@test.lindsaar.net']
 mail.reply_to = 'Mikel &lt;mikel@test.lindsaar.net&gt;, ada@test.lindsaar.net'
 mail.reply_to #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>
<p>
Also allows you to set the value by passing a value as a parameter
</p>
<p>
Example:
</p>
<pre>
 mail.reply_to 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.reply_to #=&gt; ['mikel@test.lindsaar.net']
</pre>
<p>
Additionally, you can append new addresses to the returned Array like
object.
</p>
<p>
Example:
</p>
<pre>
 mail.reply_to 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.reply_to &lt;&lt; 'ada@test.lindsaar.net'
 mail.reply_to #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000500_source')" id="l_M000500_source">show</a>
                        
                    </p>
                    <div id="M000500_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 763</span>
763:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reply_to</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
764:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:reply_to</span>, <span class="ruby-identifier">val</span>
765:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000501">
                    
                    <a name="M000501"></a><b>reply_to=</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
Sets the Reply-To value of the mail object, pass in a string of the field
</p>
<p>
Example:
</p>
<pre>
 mail.reply_to = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.reply_to #=&gt; ['mikel@test.lindsaar.net']
 mail.reply_to = 'Mikel &lt;mikel@test.lindsaar.net&gt;, ada@test.lindsaar.net'
 mail.reply_to #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000501_source')" id="l_M000501_source">show</a>
                        
                    </p>
                    <div id="M000501_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 775</span>
775:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reply_to=</span>( <span class="ruby-identifier">val</span> )
776:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:reply_to</span>] = <span class="ruby-identifier">val</span>
777:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000502">
                    
                    <a name="M000502"></a><b>resent_bcc</b>( val = nil )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the Resent-Bcc value of the mail object as an array of strings of
address specs.
</p>
<p>
Example:
</p>
<pre>
 mail.resent_bcc = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.resent_bcc #=&gt; ['mikel@test.lindsaar.net']
 mail.resent_bcc = 'Mikel &lt;mikel@test.lindsaar.net&gt;, ada@test.lindsaar.net'
 mail.resent_bcc #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>
<p>
Also allows you to set the value by passing a value as a parameter
</p>
<p>
Example:
</p>
<pre>
 mail.resent_bcc 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.resent_bcc #=&gt; ['mikel@test.lindsaar.net']
</pre>
<p>
Additionally, you can append new addresses to the returned Array like
object.
</p>
<p>
Example:
</p>
<pre>
 mail.resent_bcc 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.resent_bcc &lt;&lt; 'ada@test.lindsaar.net'
 mail.resent_bcc #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000502_source')" id="l_M000502_source">show</a>
                        
                    </p>
                    <div id="M000502_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 804</span>
804:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resent_bcc</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
805:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:resent_bcc</span>, <span class="ruby-identifier">val</span>
806:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000503">
                    
                    <a name="M000503"></a><b>resent_bcc=</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
Sets the Resent-Bcc value of the mail object, pass in a string of the field
</p>
<p>
Example:
</p>
<pre>
 mail.resent_bcc = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.resent_bcc #=&gt; ['mikel@test.lindsaar.net']
 mail.resent_bcc = 'Mikel &lt;mikel@test.lindsaar.net&gt;, ada@test.lindsaar.net'
 mail.resent_bcc #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000503_source')" id="l_M000503_source">show</a>
                        
                    </p>
                    <div id="M000503_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 816</span>
816:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resent_bcc=</span>( <span class="ruby-identifier">val</span> )
817:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:resent_bcc</span>] = <span class="ruby-identifier">val</span>
818:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000504">
                    
                    <a name="M000504"></a><b>resent_cc</b>( val = nil )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the Resent-Cc value of the mail object as an array of strings of
address specs.
</p>
<p>
Example:
</p>
<pre>
 mail.resent_cc = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.resent_cc #=&gt; ['mikel@test.lindsaar.net']
 mail.resent_cc = 'Mikel &lt;mikel@test.lindsaar.net&gt;, ada@test.lindsaar.net'
 mail.resent_cc #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>
<p>
Also allows you to set the value by passing a value as a parameter
</p>
<p>
Example:
</p>
<pre>
 mail.resent_cc 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.resent_cc #=&gt; ['mikel@test.lindsaar.net']
</pre>
<p>
Additionally, you can append new addresses to the returned Array like
object.
</p>
<p>
Example:
</p>
<pre>
 mail.resent_cc 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.resent_cc &lt;&lt; 'ada@test.lindsaar.net'
 mail.resent_cc #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000504_source')" id="l_M000504_source">show</a>
                        
                    </p>
                    <div id="M000504_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 845</span>
845:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resent_cc</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
846:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:resent_cc</span>, <span class="ruby-identifier">val</span>
847:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000505">
                    
                    <a name="M000505"></a><b>resent_cc=</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
Sets the Resent-Cc value of the mail object, pass in a string of the field
</p>
<p>
Example:
</p>
<pre>
 mail.resent_cc = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.resent_cc #=&gt; ['mikel@test.lindsaar.net']
 mail.resent_cc = 'Mikel &lt;mikel@test.lindsaar.net&gt;, ada@test.lindsaar.net'
 mail.resent_cc #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000505_source')" id="l_M000505_source">show</a>
                        
                    </p>
                    <div id="M000505_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 857</span>
857:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resent_cc=</span>( <span class="ruby-identifier">val</span> )
858:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:resent_cc</span>] = <span class="ruby-identifier">val</span>
859:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000506">
                    
                    <a name="M000506"></a><b>resent_date</b>( val = nil )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000506_source')" id="l_M000506_source">show</a>
                        
                    </p>
                    <div id="M000506_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 861</span>
861:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resent_date</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
862:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:resent_date</span>, <span class="ruby-identifier">val</span>
863:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000507">
                    
                    <a name="M000507"></a><b>resent_date=</b>( val )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000507_source')" id="l_M000507_source">show</a>
                        
                    </p>
                    <div id="M000507_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 865</span>
865:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resent_date=</span>( <span class="ruby-identifier">val</span> )
866:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:resent_date</span>] = <span class="ruby-identifier">val</span>
867:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000508">
                    
                    <a name="M000508"></a><b>resent_from</b>( val = nil )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the Resent-From value of the mail object as an array of strings of
address specs.
</p>
<p>
Example:
</p>
<pre>
 mail.resent_from = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.resent_from #=&gt; ['mikel@test.lindsaar.net']
 mail.resent_from = 'Mikel &lt;mikel@test.lindsaar.net&gt;, ada@test.lindsaar.net'
 mail.resent_from #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>
<p>
Also allows you to set the value by passing a value as a parameter
</p>
<p>
Example:
</p>
<pre>
 mail.resent_from ['Mikel &lt;mikel@test.lindsaar.net&gt;']
 mail.resent_from #=&gt; 'mikel@test.lindsaar.net'
</pre>
<p>
Additionally, you can append new addresses to the returned Array like
object.
</p>
<p>
Example:
</p>
<pre>
 mail.resent_from 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.resent_from &lt;&lt; 'ada@test.lindsaar.net'
 mail.resent_from #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000508_source')" id="l_M000508_source">show</a>
                        
                    </p>
                    <div id="M000508_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 894</span>
894:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resent_from</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
895:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:resent_from</span>, <span class="ruby-identifier">val</span>
896:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000509">
                    
                    <a name="M000509"></a><b>resent_from=</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
Sets the Resent-From value of the mail object, pass in a string of the
field
</p>
<p>
Example:
</p>
<pre>
 mail.resent_from = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.resent_from #=&gt; ['mikel@test.lindsaar.net']
 mail.resent_from = 'Mikel &lt;mikel@test.lindsaar.net&gt;, ada@test.lindsaar.net'
 mail.resent_from #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000509_source')" id="l_M000509_source">show</a>
                        
                    </p>
                    <div id="M000509_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 906</span>
906:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resent_from=</span>( <span class="ruby-identifier">val</span> )
907:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:resent_from</span>] = <span class="ruby-identifier">val</span>
908:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000510">
                    
                    <a name="M000510"></a><b>resent_message_id</b>( val = nil )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000510_source')" id="l_M000510_source">show</a>
                        
                    </p>
                    <div id="M000510_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 910</span>
910:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resent_message_id</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
911:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:resent_message_id</span>, <span class="ruby-identifier">val</span>
912:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000511">
                    
                    <a name="M000511"></a><b>resent_message_id=</b>( val )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000511_source')" id="l_M000511_source">show</a>
                        
                    </p>
                    <div id="M000511_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 914</span>
914:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resent_message_id=</span>( <span class="ruby-identifier">val</span> )
915:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:resent_message_id</span>] = <span class="ruby-identifier">val</span>
916:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000512">
                    
                    <a name="M000512"></a><b>resent_sender</b>( val = nil )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the Resent-Sender value of the mail object, as a single string of
an address spec. A sender per RFC 2822 must be a single address, so you can
not append to this address.
</p>
<p>
Example:
</p>
<pre>
 mail.resent_sender = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.resent_sender #=&gt; 'mikel@test.lindsaar.net'
</pre>
<p>
Also allows you to set the value by passing a value as a parameter
</p>
<p>
Example:
</p>
<pre>
 mail.resent_sender 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.resent_sender #=&gt; 'mikel@test.lindsaar.net'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000512_source')" id="l_M000512_source">show</a>
                        
                    </p>
                    <div id="M000512_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 933</span>
933:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resent_sender</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
934:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:resent_sender</span>, <span class="ruby-identifier">val</span>
935:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000513">
                    
                    <a name="M000513"></a><b>resent_sender=</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
Sets the Resent-Sender value of the mail object, pass in a string of the
field
</p>
<p>
Example:
</p>
<pre>
 mail.sender = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.sender #=&gt; 'mikel@test.lindsaar.net'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000513_source')" id="l_M000513_source">show</a>
                        
                    </p>
                    <div id="M000513_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 943</span>
943:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resent_sender=</span>( <span class="ruby-identifier">val</span> )
944:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:resent_sender</span>] = <span class="ruby-identifier">val</span>
945:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000514">
                    
                    <a name="M000514"></a><b>resent_to</b>( val = nil )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the Resent-To value of the mail object as an array of strings of
address specs.
</p>
<p>
Example:
</p>
<pre>
 mail.resent_to = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.resent_to #=&gt; ['mikel@test.lindsaar.net']
 mail.resent_to = 'Mikel &lt;mikel@test.lindsaar.net&gt;, ada@test.lindsaar.net'
 mail.resent_to #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>
<p>
Also allows you to set the value by passing a value as a parameter
</p>
<p>
Example:
</p>
<pre>
 mail.resent_to 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.resent_to #=&gt; ['mikel@test.lindsaar.net']
</pre>
<p>
Additionally, you can append new addresses to the returned Array like
object.
</p>
<p>
Example:
</p>
<pre>
 mail.resent_to 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.resent_to &lt;&lt; 'ada@test.lindsaar.net'
 mail.resent_to #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000514_source')" id="l_M000514_source">show</a>
                        
                    </p>
                    <div id="M000514_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 972</span>
972:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resent_to</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
973:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:resent_to</span>, <span class="ruby-identifier">val</span>
974:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000515">
                    
                    <a name="M000515"></a><b>resent_to=</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
Sets the Resent-To value of the mail object, pass in a string of the field
</p>
<p>
Example:
</p>
<pre>
 mail.resent_to = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.resent_to #=&gt; ['mikel@test.lindsaar.net']
 mail.resent_to = 'Mikel &lt;mikel@test.lindsaar.net&gt;, ada@test.lindsaar.net'
 mail.resent_to #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000515_source')" id="l_M000515_source">show</a>
                        
                    </p>
                    <div id="M000515_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 984</span>
984:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resent_to=</span>( <span class="ruby-identifier">val</span> )
985:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:resent_to</span>] = <span class="ruby-identifier">val</span>
986:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000580">
                    
                    <a name="M000580"></a><b>retryable?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000580_source')" id="l_M000580_source">show</a>
                        
                    </p>
                    <div id="M000580_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1503</span>
1503:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">retryable?</span>
1504:       <span class="ruby-identifier">delivery_status_part</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">delivery_status_part</span>.<span class="ruby-identifier">retryable?</span>
1505:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000516">
                    
                    <a name="M000516"></a><b>return_path</b>( val = nil )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the return path of the mail object, or sets it if you pass a string
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000516_source')" id="l_M000516_source">show</a>
                        
                    </p>
                    <div id="M000516_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 989</span>
989:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">return_path</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
990:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:return_path</span>, <span class="ruby-identifier">val</span>
991:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000517">
                    
                    <a name="M000517"></a><b>return_path=</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
Sets the return path of the object
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000517_source')" id="l_M000517_source">show</a>
                        
                    </p>
                    <div id="M000517_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 994</span>
994:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">return_path=</span>( <span class="ruby-identifier">val</span> )
995:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:return_path</span>] = <span class="ruby-identifier">val</span>
996:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000518">
                    
                    <a name="M000518"></a><b>sender</b>( val = nil )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the Sender value of the mail object, as a single string of an
address spec. A sender per RFC 2822 must be a single address.
</p>
<p>
Example:
</p>
<pre>
 mail.sender = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.sender #=&gt; 'mikel@test.lindsaar.net'
</pre>
<p>
Also allows you to set the value by passing a value as a parameter
</p>
<p>
Example:
</p>
<pre>
 mail.sender 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.sender #=&gt; 'mikel@test.lindsaar.net'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000518_source')" id="l_M000518_source">show</a>
                        
                    </p>
                    <div id="M000518_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1012</span>
1012:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sender</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
1013:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:sender</span>, <span class="ruby-identifier">val</span>
1014:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000519">
                    
                    <a name="M000519"></a><b>sender=</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
Sets the Sender value of the mail object, pass in a string of the field
</p>
<p>
Example:
</p>
<pre>
 mail.sender = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.sender #=&gt; 'mikel@test.lindsaar.net'
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000519_source')" id="l_M000519_source">show</a>
                        
                    </p>
                    <div id="M000519_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1022</span>
1022:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sender=</span>( <span class="ruby-identifier">val</span> )
1023:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:sender</span>] = <span class="ruby-identifier">val</span>
1024:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000440">
                    
                    <a name="M000440"></a><b>set_envelope</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
Sets the envelope from for the email
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000440_source')" id="l_M000440_source">show</a>
                        
                    </p>
                    <div id="M000440_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 377</span>
377:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_envelope</span>( <span class="ruby-identifier">val</span> )
378:       <span class="ruby-ivar">@raw_envelope</span> = <span class="ruby-identifier">val</span>
379:       <span class="ruby-ivar">@envelope</span> = <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Envelope</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">val</span> )
380:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000618">
                    
                    <a name="M000618"></a><b>skip_deletion</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Skips the deletion of this message. All other messages flagged for delete
still will be deleted at session close (i.e. when find exits). Only has an
effect if you&#8217;re using find_and_delete or find with
:delete_after_find set to true.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000618_source')" id="l_M000618_source">show</a>
                        
                    </p>
                    <div id="M000618_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1792</span>
1792:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">skip_deletion</span>
1793:       <span class="ruby-ivar">@mark_for_delete</span> = <span class="ruby-keyword kw">false</span>
1794:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000567">
                    
                    <a name="M000567"></a><b>sub_type</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the sub content type
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000567_source')" id="l_M000567_source">show</a>
                        
                    </p>
                    <div id="M000567_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1444</span>
1444:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sub_type</span>
1445:       <span class="ruby-identifier">has_content_type?</span> <span class="ruby-value">? </span><span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_type</span>].<span class="ruby-identifier">sub_type</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
1446:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000520">
                    
                    <a name="M000520"></a><b>subject</b>( val = nil )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the decoded value of the subject field, as a single string.
</p>
<p>
Example:
</p>
<pre>
 mail.subject = &quot;G'Day mate&quot;
 mail.subject #=&gt; &quot;G'Day mate&quot;
 mail.subject = '=?UTF-8?Q?This_is_=E3=81=82_string?='
 mail.subject #=&gt; &quot;This is  string&quot;
</pre>
<p>
Also allows you to set the value by passing a value as a parameter
</p>
<p>
Example:
</p>
<pre>
 mail.subject &quot;G'Day mate&quot;
 mail.subject #=&gt; &quot;G'Day mate&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000520_source')" id="l_M000520_source">show</a>
                        
                    </p>
                    <div id="M000520_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1041</span>
1041:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">subject</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
1042:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:subject</span>, <span class="ruby-identifier">val</span>
1043:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000521">
                    
                    <a name="M000521"></a><b>subject=</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
Sets the Subject value of the mail object, pass in a string of the field
</p>
<p>
Example:
</p>
<pre>
 mail.subject = '=?UTF-8?Q?This_is_=E3=81=82_string?='
 mail.subject #=&gt; &quot;This is  string&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000521_source')" id="l_M000521_source">show</a>
                        
                    </p>
                    <div id="M000521_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1051</span>
1051:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">subject=</span>( <span class="ruby-identifier">val</span> )
1052:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:subject</span>] = <span class="ruby-identifier">val</span>
1053:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000588">
                    
                    <a name="M000588"></a><b>text_part</b>(&amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Accessor for <a href="Message.html#M000588">text_part</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000588_source')" id="l_M000588_source">show</a>
                        
                    </p>
                    <div id="M000588_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1571</span>
1571:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">text_part</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1572:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
1573:         <span class="ruby-ivar">@text_part</span> = <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Part</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
1574:         <span class="ruby-identifier">add_multipart_alternate_header</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">html_part</span>.<span class="ruby-identifier">blank?</span>
1575:         <span class="ruby-identifier">add_part</span>(<span class="ruby-ivar">@text_part</span>)
1576:       <span class="ruby-keyword kw">else</span>
1577:         <span class="ruby-ivar">@text_part</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">find_first_mime_type</span>(<span class="ruby-value str">'text/plain'</span>)
1578:       <span class="ruby-keyword kw">end</span>
1579:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000591">
                    
                    <a name="M000591"></a><b>text_part=</b>(msg = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Helper to add a text part to a multipart/alternative email. If this and <a
href="Message.html#M000586">html_part</a> are both defined in a message,
then it will be a multipart/alternative message and set itself that way.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000591_source')" id="l_M000591_source">show</a>
                        
                    </p>
                    <div id="M000591_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1597</span>
1597:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">text_part=</span>(<span class="ruby-identifier">msg</span> = <span class="ruby-keyword kw">nil</span>)
1598:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">msg</span>
1599:         <span class="ruby-ivar">@text_part</span> = <span class="ruby-identifier">msg</span>
1600:       <span class="ruby-keyword kw">else</span>
1601:         <span class="ruby-ivar">@text_part</span> = <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Part</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'Content-Type: text/plain;'</span>)
1602:       <span class="ruby-keyword kw">end</span>
1603:       <span class="ruby-identifier">add_multipart_alternate_header</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">html_part</span>.<span class="ruby-identifier">blank?</span>
1604:       <span class="ruby-identifier">add_part</span>(<span class="ruby-ivar">@text_part</span>)
1605:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000522">
                    
                    <a name="M000522"></a><b>to</b>( val = nil )
                    
                </div>
                
                <div class="description">
                  <p>
Returns the To value of the mail object as an array of strings of address
specs.
</p>
<p>
Example:
</p>
<pre>
 mail.to = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.to #=&gt; ['mikel@test.lindsaar.net']
 mail.to = 'Mikel &lt;mikel@test.lindsaar.net&gt;, ada@test.lindsaar.net'
 mail.to #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>
<p>
Also allows you to set the value by passing a value as a parameter
</p>
<p>
Example:
</p>
<pre>
 mail.to 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.to #=&gt; ['mikel@test.lindsaar.net']
</pre>
<p>
Additionally, you can append new addresses to the returned Array like
object.
</p>
<p>
Example:
</p>
<pre>
 mail.to 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.to &lt;&lt; 'ada@test.lindsaar.net'
 mail.to #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000522_source')" id="l_M000522_source">show</a>
                        
                    </p>
                    <div id="M000522_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1080</span>
1080:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span> )
1081:       <span class="ruby-identifier">default</span> <span class="ruby-identifier">:to</span>, <span class="ruby-identifier">val</span>
1082:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000523">
                    
                    <a name="M000523"></a><b>to=</b>( val )
                    
                </div>
                
                <div class="description">
                  <p>
Sets the To value of the mail object, pass in a string of the field
</p>
<p>
Example:
</p>
<pre>
 mail.to = 'Mikel &lt;mikel@test.lindsaar.net&gt;'
 mail.to #=&gt; ['mikel@test.lindsaar.net']
 mail.to = 'Mikel &lt;mikel@test.lindsaar.net&gt;, ada@test.lindsaar.net'
 mail.to #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000523_source')" id="l_M000523_source">show</a>
                        
                    </p>
                    <div id="M000523_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1092</span>
1092:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to=</span>( <span class="ruby-identifier">val</span> )
1093:       <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:to</span>] = <span class="ruby-identifier">val</span>
1094:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000535">
                    
                    <a name="M000535"></a><b>to_addrs</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns an array of addresses (the encoded value) in the To field, if no To
field, returns an empty array
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000535_source')" id="l_M000535_source">show</a>
                        
                    </p>
                    <div id="M000535_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1194</span>
1194:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_addrs</span>
1195:       <span class="ruby-identifier">to</span> <span class="ruby-value">? </span>[<span class="ruby-identifier">to</span>].<span class="ruby-identifier">flatten</span> <span class="ruby-operator">:</span> []
1196:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000608">
                    
                    <a name="M000608"></a><b>to_s</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000608_source')" id="l_M000608_source">show</a>
                        
                    </p>
                    <div id="M000608_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1733</span>
1733:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_s</span>
1734:       <span class="ruby-identifier">encoded</span>
1735:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000605">
                    
                    <a name="M000605"></a><b>to_yaml</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000605_source')" id="l_M000605_source">show</a>
                        
                    </p>
                    <div id="M000605_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1714</span>
1714:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_yaml</span>
1715:       <span class="ruby-identifier">ready_to_send!</span>
1716:       <span class="ruby-identifier">hash</span> = {}
1717:       <span class="ruby-identifier">header</span>.<span class="ruby-identifier">fields</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">field</span><span class="ruby-operator">|</span>
1718:         <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">field</span>.<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">field</span>.<span class="ruby-identifier">value</span>
1719:       <span class="ruby-keyword kw">end</span>
1720:       <span class="ruby-identifier">hash</span>[<span class="ruby-value str">'subject'</span>] = <span class="ruby-identifier">subject</span>
1721:       <span class="ruby-identifier">hash</span>[<span class="ruby-value str">'body'</span>] = <span class="ruby-identifier">body</span>.<span class="ruby-identifier">encoded</span>(<span class="ruby-identifier">content_transfer_encoding</span>)
1722:       <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">to_yaml</span>
1723:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000481">
                    
                    <a name="M000481"></a><b>transport_encoding</b>( val = nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000481_source')" id="l_M000481_source">show</a>
                        
                    </p>
                    <div id="M000481_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 596</span>
596:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">transport_encoding</span>( <span class="ruby-identifier">val</span> = <span class="ruby-keyword kw">nil</span>)
597:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val</span>
598:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">transport_encoding</span> = <span class="ruby-identifier">val</span>
599:       <span class="ruby-keyword kw">else</span>
600:         <span class="ruby-ivar">@transport_encoding</span>
601:       <span class="ruby-keyword kw">end</span>
602:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000482">
                    
                    <a name="M000482"></a><b>transport_encoding=</b>( val )
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000482_source')" id="l_M000482_source">show</a>
                        
                    </p>
                    <div id="M000482_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mail/message.rb, line 604</span>
604:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">transport_encoding=</span>( <span class="ruby-identifier">val</span> )
605:       <span class="ruby-ivar">@transport_encoding</span> = <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Encodings</span>.<span class="ruby-identifier">get_encoding</span>(<span class="ruby-identifier">val</span>)
606:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M000631">
                    
                    <a name="M000631"></a><b>add_boundary</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000631_source')" id="l_M000631_source">show</a>
                        
                    </p>
                    <div id="M000631_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1913</span>
1913:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_boundary</span>
1914:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">body</span>.<span class="ruby-identifier">boundary</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">boundary</span>
1915:         <span class="ruby-identifier">header</span>[<span class="ruby-value str">'content-type'</span>] = <span class="ruby-value str">'multipart/mixed'</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">header</span>[<span class="ruby-value str">'content-type'</span>]
1916:         <span class="ruby-identifier">header</span>[<span class="ruby-value str">'content-type'</span>].<span class="ruby-identifier">parameters</span>[<span class="ruby-identifier">:boundary</span>] = <span class="ruby-constant">ContentTypeField</span>.<span class="ruby-identifier">generate_boundary</span>
1917:         <span class="ruby-identifier">header</span>[<span class="ruby-value str">'content_type'</span>].<span class="ruby-identifier">parameters</span>[<span class="ruby-identifier">:charset</span>] = <span class="ruby-ivar">@charset</span>
1918:         <span class="ruby-identifier">body</span>.<span class="ruby-identifier">boundary</span> = <span class="ruby-identifier">boundary</span>
1919:       <span class="ruby-keyword kw">end</span>
1920:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000627">
                    
                    <a name="M000627"></a><b>add_encoding_to_body</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000627_source')" id="l_M000627_source">show</a>
                        
                    </p>
                    <div id="M000627_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1882</span>
1882:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_encoding_to_body</span>
1883:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">has_content_transfer_encoding?</span>
1884:         <span class="ruby-ivar">@body</span>.<span class="ruby-identifier">encoding</span> = <span class="ruby-identifier">content_transfer_encoding</span>
1885:       <span class="ruby-keyword kw">end</span>
1886:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000630">
                    
                    <a name="M000630"></a><b>add_multipart_alternate_header</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000630_source')" id="l_M000630_source">show</a>
                        
                    </p>
                    <div id="M000630_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1907</span>
1907:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_multipart_alternate_header</span>
1908:       <span class="ruby-identifier">header</span>[<span class="ruby-value str">'content-type'</span>] = <span class="ruby-constant">ContentTypeField</span>.<span class="ruby-identifier">with_boundary</span>(<span class="ruby-value str">'multipart/alternative'</span>).<span class="ruby-identifier">value</span>
1909:       <span class="ruby-identifier">header</span>[<span class="ruby-value str">'content_type'</span>].<span class="ruby-identifier">parameters</span>[<span class="ruby-identifier">:charset</span>] = <span class="ruby-ivar">@charset</span>
1910:       <span class="ruby-identifier">body</span>.<span class="ruby-identifier">boundary</span> = <span class="ruby-identifier">boundary</span>
1911:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000632">
                    
                    <a name="M000632"></a><b>add_multipart_mixed_header</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000632_source')" id="l_M000632_source">show</a>
                        
                    </p>
                    <div id="M000632_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1922</span>
1922:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_multipart_mixed_header</span>
1923:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">header</span>[<span class="ruby-value str">'content-type'</span>]
1924:         <span class="ruby-identifier">header</span>[<span class="ruby-value str">'content-type'</span>] = <span class="ruby-constant">ContentTypeField</span>.<span class="ruby-identifier">with_boundary</span>(<span class="ruby-value str">'multipart/mixed'</span>).<span class="ruby-identifier">value</span>
1925:         <span class="ruby-identifier">header</span>[<span class="ruby-value str">'content_type'</span>].<span class="ruby-identifier">parameters</span>[<span class="ruby-identifier">:charset</span>] = <span class="ruby-ivar">@charset</span>
1926:         <span class="ruby-identifier">body</span>.<span class="ruby-identifier">boundary</span> = <span class="ruby-identifier">boundary</span>
1927:       <span class="ruby-keyword kw">end</span>
1928:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000629">
                    
                    <a name="M000629"></a><b>add_required_fields</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000629_source')" id="l_M000629_source">show</a>
                        
                    </p>
                    <div id="M000629_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1896</span>
1896:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_required_fields</span>
1897:       <span class="ruby-identifier">add_multipart_mixed_header</span>    <span class="ruby-keyword kw">unless</span> <span class="ruby-operator">!</span><span class="ruby-identifier">body</span>.<span class="ruby-identifier">multipart?</span>
1898:       <span class="ruby-identifier">body</span> = <span class="ruby-keyword kw">nil</span>                    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">body</span>.<span class="ruby-identifier">nil?</span>
1899:       <span class="ruby-identifier">add_message_id</span>                <span class="ruby-keyword kw">unless</span> (<span class="ruby-identifier">has_message_id?</span> <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Part</span>)
1900:       <span class="ruby-identifier">add_date</span>                      <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">has_date?</span>
1901:       <span class="ruby-identifier">add_mime_version</span>              <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">has_mime_version?</span>
1902:       <span class="ruby-identifier">add_content_type</span>              <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">has_content_type?</span>
1903:       <span class="ruby-identifier">add_charset</span>                   <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">has_charset?</span>
1904:       <span class="ruby-identifier">add_content_transfer_encoding</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">has_content_transfer_encoding?</span>
1905:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000623">
                    
                    <a name="M000623"></a><b>body_lazy</b>(value, index)
                    
                </div>
                
                <div class="description">
                  <p>
see comments to body=. We take data starting from index and process it
lazily
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000623_source')" id="l_M000623_source">show</a>
                        
                    </p>
                    <div id="M000623_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1843</span>
1843:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">body_lazy</span>(<span class="ruby-identifier">value</span>, <span class="ruby-identifier">index</span>)
1844:       <span class="ruby-identifier">process_body_raw</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@body_raw</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">value</span>
1845:       <span class="ruby-keyword kw">case</span>
1846:       <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">&lt;=</span><span class="ruby-identifier">index</span>
1847:         <span class="ruby-ivar">@body</span> = <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Body</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">''</span>)
1848:         <span class="ruby-ivar">@body_raw</span> = <span class="ruby-keyword kw">nil</span>
1849:         <span class="ruby-ivar">@body_raw_index</span> = <span class="ruby-keyword kw">nil</span>
1850:         <span class="ruby-identifier">add_encoding_to_body</span>
1851:       <span class="ruby-keyword kw">when</span> <span class="ruby-ivar">@body</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@body</span>.<span class="ruby-identifier">multipart?</span>
1852:         <span class="ruby-ivar">@body</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Part</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">value</span>[<span class="ruby-identifier">index</span>, <span class="ruby-identifier">value</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-identifier">index</span>])
1853:         <span class="ruby-identifier">add_encoding_to_body</span>
1854:       <span class="ruby-keyword kw">else</span>
1855:         <span class="ruby-ivar">@body_raw</span> = <span class="ruby-identifier">value</span>
1856:         <span class="ruby-ivar">@body_raw_index</span> = <span class="ruby-identifier">index</span>
1857: <span class="ruby-comment cmt">#        process_body_raw</span>
1858:       <span class="ruby-keyword kw">end</span>
1859:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000636">
                    
                    <a name="M000636"></a><b>do_delivery</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000636_source')" id="l_M000636_source">show</a>
                        
                    </p>
                    <div id="M000636_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1986</span>
1986:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">do_delivery</span>
1987:       <span class="ruby-keyword kw">begin</span>
1988:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">perform_deliveries</span>
1989:           <span class="ruby-identifier">delivery_method</span>.<span class="ruby-identifier">deliver!</span>(<span class="ruby-keyword kw">self</span>)
1990:         <span class="ruby-keyword kw">end</span>
1991:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span> <span class="ruby-comment cmt"># Net::SMTP errors or sendmail pipe errors</span>
1992:         <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">raise_delivery_errors</span>
1993:       <span class="ruby-keyword kw">end</span>
1994:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000635">
                    
                    <a name="M000635"></a><b>find_attachment</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the filename of the attachment (if it exists) or returns nil
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000635_source')" id="l_M000635_source">show</a>
                        
                    </p>
                    <div id="M000635_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1968</span>
1968:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find_attachment</span>
1969:       <span class="ruby-identifier">content_type_name</span> = <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_type</span>].<span class="ruby-identifier">filename</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
1970:       <span class="ruby-identifier">content_disp_name</span> = <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_disposition</span>].<span class="ruby-identifier">filename</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
1971:       <span class="ruby-identifier">content_loc_name</span>  = <span class="ruby-identifier">header</span>[<span class="ruby-identifier">:content_location</span>].<span class="ruby-identifier">location</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
1972:       <span class="ruby-keyword kw">case</span>
1973:       <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">content_type</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">content_type_name</span>
1974:         <span class="ruby-identifier">filename</span> = <span class="ruby-identifier">content_type_name</span>
1975:       <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">content_disposition</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">content_disp_name</span>
1976:         <span class="ruby-identifier">filename</span> = <span class="ruby-identifier">content_disp_name</span>
1977:       <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">content_location</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">content_loc_name</span>
1978:         <span class="ruby-identifier">filename</span> = <span class="ruby-identifier">content_loc_name</span>
1979:       <span class="ruby-keyword kw">else</span>
1980:         <span class="ruby-identifier">filename</span> = <span class="ruby-keyword kw">nil</span>
1981:       <span class="ruby-keyword kw">end</span>
1982:       <span class="ruby-identifier">filename</span> = <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Encodings</span>.<span class="ruby-identifier">decode_encode</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">:decode</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">filename</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-identifier">filename</span>
1983:       <span class="ruby-identifier">filename</span>
1984:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000628">
                    
                    <a name="M000628"></a><b>identify_and_set_transfer_encoding</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000628_source')" id="l_M000628_source">show</a>
                        
                    </p>
                    <div id="M000628_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1888</span>
1888:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">identify_and_set_transfer_encoding</span>
1889:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">body</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">body</span>.<span class="ruby-identifier">multipart?</span>
1890:             <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">content_transfer_encoding</span> = <span class="ruby-ivar">@transport_encoding</span>
1891:         <span class="ruby-keyword kw">else</span>
1892:             <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">content_transfer_encoding</span> = <span class="ruby-identifier">body</span>.<span class="ruby-identifier">get_best_encoding</span>(<span class="ruby-ivar">@transport_encoding</span>)
1893:         <span class="ruby-keyword kw">end</span>
1894:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000633">
                    
                    <a name="M000633"></a><b>init_with_hash</b>(hash)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000633_source')" id="l_M000633_source">show</a>
                        
                    </p>
                    <div id="M000633_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1930</span>
1930:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">init_with_hash</span>(<span class="ruby-identifier">hash</span>)
1931:       <span class="ruby-identifier">passed_in_options</span> = <span class="ruby-constant">IndifferentHash</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">hash</span>)
1932:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">raw_source</span> = <span class="ruby-value str">''</span>
1933: 
1934:       <span class="ruby-ivar">@header</span> = <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Header</span>.<span class="ruby-identifier">new</span>
1935:       <span class="ruby-ivar">@body</span> = <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Body</span>.<span class="ruby-identifier">new</span>
1936:       <span class="ruby-ivar">@body_raw</span> = <span class="ruby-keyword kw">nil</span>
1937: 
1938:       <span class="ruby-comment cmt"># We need to store the body until last, as we need all headers added first</span>
1939:       <span class="ruby-identifier">body_content</span> = <span class="ruby-keyword kw">nil</span>
1940: 
1941:       <span class="ruby-identifier">passed_in_options</span>.<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
1942:         <span class="ruby-identifier">k</span> = <span class="ruby-identifier">underscoreize</span>(<span class="ruby-identifier">k</span>).<span class="ruby-identifier">to_sym</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">String</span>
1943:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:headers</span>
1944:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">headers</span>(<span class="ruby-identifier">v</span>)
1945:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:body</span>
1946:           <span class="ruby-identifier">body_content</span> = <span class="ruby-identifier">v</span>
1947:         <span class="ruby-keyword kw">else</span>
1948:           <span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">v</span>
1949:         <span class="ruby-keyword kw">end</span>
1950:       <span class="ruby-keyword kw">end</span>
1951: 
1952:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">body_content</span>
1953:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">body</span> = <span class="ruby-identifier">body_content</span>
1954:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">has_content_transfer_encoding?</span>
1955:             <span class="ruby-identifier">body</span>.<span class="ruby-identifier">encoding</span> = <span class="ruby-identifier">content_transfer_encoding</span>
1956:         <span class="ruby-keyword kw">end</span>
1957:       <span class="ruby-keyword kw">end</span>
1958:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000634">
                    
                    <a name="M000634"></a><b>init_with_string</b>(string)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000634_source')" id="l_M000634_source">show</a>
                        
                    </p>
                    <div id="M000634_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1960</span>
1960:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">init_with_string</span>(<span class="ruby-identifier">string</span>)
1961:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">raw_source</span> = <span class="ruby-identifier">string</span>
1962:       <span class="ruby-identifier">set_envelope_header</span>
1963:       <span class="ruby-identifier">parse_message</span>
1964:       <span class="ruby-ivar">@separate_parts</span> = <span class="ruby-identifier">multipart?</span>
1965:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000621">
                    
                    <a name="M000621"></a><b>parse_message</b>()
                    
                </div>
                
                <div class="description">
                  <pre>
 2.1. General Description
  A message consists of header fields (collectively called &quot;the header
  of the message&quot;) followed, optionally, by a body.  The header is a
  sequence of lines of characters with special syntax as defined in
  this standard. The body is simply a sequence of characters that
  follows the header and is separated from the header by an empty line
  (i.e., a line with nothing preceding the CRLF).
</pre>
<p>
Additionally, I allow for the case where someone might have put whitespace
on the &#8220;gap line&#8220;
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000621_source')" id="l_M000621_source">show</a>
                        
                    </p>
                    <div id="M000621_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1829</span>
1829:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse_message</span>
1830:       <span class="ruby-identifier">header_part</span>, <span class="ruby-identifier">body_part</span> = <span class="ruby-identifier">raw_source</span>.<span class="ruby-identifier">split</span>(<span class="ruby-node">/#{CRLF}#{WSP}*#{CRLF}/</span><span class="ruby-identifier">m</span>, <span class="ruby-value">2</span>)
1831: <span class="ruby-comment cmt">#      index = raw_source.index(/#{CRLF}#{WSP}*#{CRLF}/m, 2)</span>
1832: <span class="ruby-comment cmt">#      self.header = (index) ? header_part[0,index] : nil</span>
1833: <span class="ruby-comment cmt">#      lazy_body ( [raw_source, index+1])</span>
1834:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">header</span> = <span class="ruby-identifier">header_part</span>
1835:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">body</span>   = <span class="ruby-identifier">body_part</span>
1836:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000624">
                    
                    <a name="M000624"></a><b>process_body_raw</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000624_source')" id="l_M000624_source">show</a>
                        
                    </p>
                    <div id="M000624_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1862</span>
1862:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">process_body_raw</span>
1863:        <span class="ruby-ivar">@body</span> = <span class="ruby-constant">Mail</span><span class="ruby-operator">::</span><span class="ruby-constant">Body</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@body_raw</span>[<span class="ruby-ivar">@body_raw_index</span>, <span class="ruby-ivar">@body_raw</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-ivar">@body_raw_index</span>])
1864:        <span class="ruby-ivar">@body_raw</span> = <span class="ruby-keyword kw">nil</span>
1865:        <span class="ruby-ivar">@body_raw_index</span> = <span class="ruby-keyword kw">nil</span>
1866:       <span class="ruby-identifier">separate_parts</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@separate_parts</span>
1867: 
1868:        <span class="ruby-identifier">add_encoding_to_body</span>
1869:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000622">
                    
                    <a name="M000622"></a><b>raw_source=</b>(value)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000622_source')" id="l_M000622_source">show</a>
                        
                    </p>
                    <div id="M000622_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1838</span>
1838:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">raw_source=</span>(<span class="ruby-identifier">value</span>)
1839:       <span class="ruby-ivar">@raw_source</span> = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_crlf</span>
1840:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000626">
                    
                    <a name="M000626"></a><b>separate_parts</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000626_source')" id="l_M000626_source">show</a>
                        
                    </p>
                    <div id="M000626_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1878</span>
1878:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">separate_parts</span>
1879:       <span class="ruby-identifier">body</span>.<span class="ruby-identifier">split!</span>(<span class="ruby-identifier">boundary</span>)
1880:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000625">
                    
                    <a name="M000625"></a><b>set_envelope_header</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000625_source')" id="l_M000625_source">show</a>
                        
                    </p>
                    <div id="M000625_source" class="dyn-source">
                        <pre>      <span class="ruby-comment cmt"># File lib/mail/message.rb, line 1871</span>
1871:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_envelope_header</span>
1872:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">match_data</span> = <span class="ruby-identifier">raw_source</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">match</span>(<span class="ruby-node">/\AFrom\s(#{TEXT}+)#{CRLF}(.*)/</span><span class="ruby-identifier">m</span>)
1873:         <span class="ruby-identifier">set_envelope</span>(<span class="ruby-identifier">match_data</span>[<span class="ruby-value">1</span>])
1874:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">raw_source</span> = <span class="ruby-identifier">match_data</span>[<span class="ruby-value">2</span>]
1875:       <span class="ruby-keyword kw">end</span>
1876:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    