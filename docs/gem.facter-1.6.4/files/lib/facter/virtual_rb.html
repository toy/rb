<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>virtual.rb</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            virtual.rb
        </h1>
        <ul class="files">
            <li>lib/facter/virtual.rb</li>
            <li>Last modified: Mon Jan 09 07:39:16 +0100 2012</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Fact: virtual
</p>
<p>
Purpose: Determine if the system&#8217;s hardware is real or virtualised.
</p>
<p>
Resolution:
</p>
<pre>
  Assumes physical unless proven otherwise.

  On Darwin, use the macosx util module to acquire the SPDisplaysDataType,
  from that parse it to see if it's VMWare or Parallels pretending to be the
  display.

  On Linux, BSD, Solaris and HPUX:
  Much of the logic here is obscured behind util/virtual.rb, which rather
  than document here, which would encourage drift, just refer to it.
  The Xen tests in here rely on /sys and /proc, and check for the presence and
  contents of files in there.
  If after all the other tests, it's still seen as physical, then it tries to
  parse the output of the &quot;lspci&quot;, &quot;dmidecode&quot; and &quot;prtdiag&quot; and parses them
  for obvious signs of being under VMWare, Parallels or VirtualBox.
  Finally it checks for the existence of vmware-vmx, which would hint it's
  VMWare.
</pre>
<p>
Caveats:
</p>
<pre>
  Many checks rely purely on existence of files.
</pre>

    </div>
    

    
    <div class="sectiontitle">Required Files</div>
    <ul>
        
        <li>facter/util/virtual</li>
        
        <li>facter/util/macosx</li>
        
    </ul>
    

    
    

    
    

    

    

    

    

    

    
</div>
    </div>
  </body>
</html>