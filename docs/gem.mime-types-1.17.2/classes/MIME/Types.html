<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>MIME::Types</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            MIME::Types 
            
                <span class="parent">&lt; 
                    
                    Object
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/mime/types_rb.html">lib/mime/types.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <h1><a href="Types.html">MIME::Types</a></h1>
<p>
<a href="../MIME.html">MIME</a> types are used in MIME-compliant
communications, as in e-mail or HTTP traffic, to indicate the type of
content which is transmitted. <a href="Types.html">MIME::Types</a> provides
the ability for detailed information about <a href="../MIME.html">MIME</a>
entities (provided as a set of <a href="Type.html">MIME::Type</a> objects)
to be determined and used programmatically. There are many types defined by
RFCs and vendors, so the list is long but not complete; don&#8217;t
hesitate to ask to add additional information. This library follows the
IANA collection of <a href="../MIME.html">MIME</a> types (see below for
reference).
</p>
<h2>Description</h2>
<p>
<a href="../MIME.html">MIME</a> types are used in <a
href="../MIME.html">MIME</a> entities, as in email or HTTP traffic. It is
useful at times to have information available about <a
href="../MIME.html">MIME</a> types (or, inversely, about files). A <a
href="Type.html">MIME::Type</a> stores the known information about one <a
href="../MIME.html">MIME</a> type.
</p>
<h2>Usage</h2>
<pre>
 require 'mime/types'

 plaintext = MIME::Types['text/plain']
 print plaintext.media_type           # =&gt; 'text'
 print plaintext.sub_type             # =&gt; 'plain'

 puts plaintext.extensions.join(&quot; &quot;)  # =&gt; 'asc txt c cc h hh cpp'

 puts plaintext.encoding              # =&gt; 8bit
 puts plaintext.binary?               # =&gt; false
 puts plaintext.ascii?                # =&gt; true
 puts plaintext.obsolete?             # =&gt; false
 puts plaintext.registered?           # =&gt; true
 puts plaintext == 'text/plain'       # =&gt; true
 puts MIME::Type.simplified('x-appl/x-zip') # =&gt; 'appl/zip'
</pre>
<p>
This module is built to conform to the <a href="../MIME.html">MIME</a>
types of RFCs 2045 and 2231. It follows the official IANA registry at <a
href="http://www.iana.org/assignments/media-types">www.iana.org/assignments/media-types</a>/
and <a
href="ftp://ftp.iana.org/assignments/media-types">ftp.iana.org/assignments/media-types</a>
with some unofficial types added from the the collection at <a
href="http://www.ltsw.se/knbase/internet/mime.htp">www.ltsw.se/knbase/internet/mime.htp</a>
</p>
<p>
This is originally based on Perl <a href="Types.html">MIME::Types</a> by
Mark Overmeer.
</p>
<h1>Author</h1>
<table>
<tr><td valign="top">Copyright:</td><td>Copyright &#169; 2002 - 2009 by Austin Ziegler <austin@rubyforge.org>

</td></tr>
<tr><td valign="top">Version:</td><td>1.17.2

</td></tr>
<tr><td valign="top">Based On:</td><td>Perl <a
href="http://search.cpan.org/author/MARKOV/MIME-Types-1.27/MIME/Types.pm">MIME::Types</a>,
Copyright &#169; 2001 - 2009 by Mark Overmeer <mimetypes@overmeer.net>.

</td></tr>
<tr><td valign="top">Licence:</td><td>Ruby&#8217;s, Perl Artistic, or GPL version 2 (or later)

</td></tr>
<tr><td valign="top">See Also:</td><td><a
href="http://www.iana.org/assignments/media-types">www.iana.org/assignments/media-types</a>/
<a
href="http://www.ltsw.se/knbase/internet/mime.htp">www.ltsw.se/knbase/internet/mime.htp</a>

</td></tr>
</table>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M000039">[]</a>,</li>
                
                <li><a href="#M000032">[]</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000042">add</a>,</li>
                
                <li><a href="#M000035">add</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000028">new</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M000041">of</a>,</li>
                
                <li><a href="#M000034">of</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000033">type_for</a>,</li>
                
                <li><a href="#M000040">type_for</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">VERSION</td>
            <td>=</td>
            <td class="attr-value">'1.17.2'</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
The released version of Ruby <a href="Types.html">MIME::Types</a>
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">TEXT_FORMAT_RE</td>
            <td>=</td>
            <td class="attr-value">%r{         ^         \s*         ([*])?                                 # 0: Unregistered?         (!)?                                   # 1: Obsolete?         (?:(\w+):)?                            # 2: Platform marker         #{MIME::Type::MEDIA_TYPE_RE}           # 3,4: Media type         (?:\s+@([^\s]+))?                      # 5: Extensions         (?:\s+:(#{MIME::Type::ENCODING_RE}))?  # 6: Encoding         (?:\s+'(.+))?                          # 7: URL list         (?:\s+=(.+))?                          # 8: Documentation         \s*         $       }x</td>
        </tr>
        
        <tr valign='top'>
            <td>&nbsp;</td>
            <td colspan="2" class="attr-desc"><p>
The regular expression used to match a file-based <a
href="../MIME.html">MIME</a> type definition.
</p>
</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">STARTUP</td>
            <td>=</td>
            <td class="attr-value">true unless $DEBUG</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>data_version</td>
            <td class='attr-desc'><p>
The data version.
</p></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000039">
                    
                    <a name="M000039"></a><b>[]</b>(type_id, flags = {})
                    
                </div>
                
                <div class="description">
                  <p>
Returns a list of <a href="Type.html">MIME::Type</a> objects, which may be
empty. The optional flag parameters are :complete (finds only complete <a
href="Type.html">MIME::Type</a> objects) and :platform (finds only <a
href="Types.html">MIME::Types</a> for the current platform). It is possible
for multiple matches to be returned for either type (in the example below,
&#8216;text/plain&#8217; returns two values &#8212; one for the general
case, and one for VMS systems.
</p>
<pre>
  puts &quot;\nMIME::Types['text/plain']&quot;
  MIME::Types['text/plain'].each { |t| puts t.to_a.join(&quot;, &quot;) }

  puts &quot;\nMIME::Types[/^image/, :complete =&gt; true]&quot;
  MIME::Types[/^image/, :complete =&gt; true].each do |t|
    puts t.to_a.join(&quot;, &quot;)
  end
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000039_source')" id="l_M000039_source">show</a>
                        
                    </p>
                    <div id="M000039_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mime/types.rb, line 809</span>
809:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">type_id</span>, <span class="ruby-identifier">flags</span> = {})
810:         <span class="ruby-ivar">@__types__</span>[<span class="ruby-identifier">type_id</span>, <span class="ruby-identifier">flags</span>]
811:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000042">
                    
                    <a name="M000042"></a><b>add</b>(*types)
                    
                </div>
                
                <div class="description">
                  <p>
Add one or more <a href="Type.html">MIME::Type</a> objects to the set of
known types. Each type should be experimental (e.g.,
&#8216;application/x-ruby&#8217;). If the type is already known, a warning
will be displayed.
</p>
<p>
<strong>Please inform the maintainer of this module when registered types
are missing.</strong>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000042_source')" id="l_M000042_source">show</a>
                        
                    </p>
                    <div id="M000042_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mime/types.rb, line 836</span>
836:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">types</span>)
837:         <span class="ruby-ivar">@__types__</span>.<span class="ruby-identifier">add</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">types</span>)
838:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000028">
                    
                    <a name="M000028"></a><b>new</b>(data_version = nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000028_source')" id="l_M000028_source">show</a>
                        
                    </p>
                    <div id="M000028_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mime/types.rb, line 585</span>
585:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">data_version</span> = <span class="ruby-keyword kw">nil</span>)
586:       <span class="ruby-ivar">@type_variants</span>    = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>, <span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">k</span>] = [] }
587:       <span class="ruby-ivar">@extension_index</span>  = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>, <span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">k</span>] = [] }
588:       <span class="ruby-ivar">@data_version</span> = <span class="ruby-identifier">data_version</span>
589:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000041">
                    
                    <a name="M000041"></a><b>of</b>(filename, platform = false)
                    
                </div>
                
                <div class="description">
                  <p>
A synonym for <a href="Types.html#M000033">MIME::Types.type_for</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000041_source')" id="l_M000041_source">show</a>
                        
                    </p>
                    <div id="M000041_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mime/types.rb, line 826</span>
826:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">of</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">platform</span> = <span class="ruby-keyword kw">false</span>)
827:         <span class="ruby-ivar">@__types__</span>.<span class="ruby-identifier">type_for</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">platform</span>)
828:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000040">
                    
                    <a name="M000040"></a><b>type_for</b>(filename, platform = false)
                    
                </div>
                
                <div class="description">
                  <p>
Return the list of <a href="Types.html">MIME::Types</a> which belongs to
the file based on its filename extension. If <tt>platform</tt> is
<tt>true</tt>, then only file types that are specific to the current
platform will be returned.
</p>
<pre>
  puts &quot;MIME::Types.type_for('citydesk.xml')
    =&gt; &quot;#{MIME::Types.type_for('citydesk.xml')}&quot;
  puts &quot;MIME::Types.type_for('citydesk.gif')
    =&gt; &quot;#{MIME::Types.type_for('citydesk.gif')}&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000040_source')" id="l_M000040_source">show</a>
                        
                    </p>
                    <div id="M000040_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mime/types.rb, line 821</span>
821:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">type_for</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">platform</span> = <span class="ruby-keyword kw">false</span>)
822:         <span class="ruby-ivar">@__types__</span>.<span class="ruby-identifier">type_for</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">platform</span>)
823:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000032">
                    
                    <a name="M000032"></a><b>[]</b>(type_id, flags = {})
                    
                </div>
                
                <div class="description">
                  <p>
Returns a list of <a href="Type.html">MIME::Type</a> objects, which may be
empty. The optional flag parameters are :complete (finds only complete <a
href="Type.html">MIME::Type</a> objects) and :platform (finds only <a
href="Types.html">MIME::Types</a> for the current platform). It is possible
for multiple matches to be returned for either type (in the example below,
&#8216;text/plain&#8217; returns two values &#8212; one for the general
case, and one for VMS systems.
</p>
<pre>
  puts &quot;\nMIME::Types['text/plain']&quot;
  MIME::Types['text/plain'].each { |t| puts t.to_a.join(&quot;, &quot;) }

  puts &quot;\nMIME::Types[/^image/, :complete =&gt; true]&quot;
  MIME::Types[/^image/, :complete =&gt; true].each do |t|
    puts t.to_a.join(&quot;, &quot;)
  end
</pre>
<p>
If multiple type definitions are returned, returns them sorted as follows:
</p>
<pre>
  1. Complete definitions sort before incomplete ones;
  2. IANA-registered definitions sort before LTSW-recorded
     definitions.
  3. Generic definitions sort before platform-specific ones;
  4. Current definitions sort before obsolete ones;
  5. Obsolete definitions with use-instead clauses sort before those
     without;
  6. Obsolete definitions use-instead clauses are compared.
  7. Sort on name.
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000032_source')" id="l_M000032_source">show</a>
                        
                    </p>
                    <div id="M000032_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mime/types.rb, line 631</span>
631:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">type_id</span>, <span class="ruby-identifier">flags</span> = {})
632:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">type_id</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Regexp</span>)
633:         <span class="ruby-identifier">matches</span> = []
634:         <span class="ruby-ivar">@type_variants</span>.<span class="ruby-identifier">each_key</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span>
635:           <span class="ruby-identifier">matches</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@type_variants</span>[<span class="ruby-identifier">k</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">type_id</span>
636:         <span class="ruby-keyword kw">end</span>
637:         <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">flatten!</span>
638:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">type_id</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>)
639:         <span class="ruby-identifier">matches</span> = [<span class="ruby-identifier">type_id</span>]
640:       <span class="ruby-keyword kw">else</span>
641:         <span class="ruby-identifier">matches</span> = <span class="ruby-ivar">@type_variants</span>[<span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">simplified</span>(<span class="ruby-identifier">type_id</span>)]
642:       <span class="ruby-keyword kw">end</span>
643: 
644:       <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">complete?</span> } <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">flags</span>[<span class="ruby-identifier">:complete</span>]
645:       <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">platform?</span> } <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">flags</span>[<span class="ruby-identifier">:platform</span>]
646: 
647:       <span class="ruby-identifier">matches</span>.<span class="ruby-identifier">sort</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">priority_compare</span>(<span class="ruby-identifier">b</span>) }
648:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000035">
                    
                    <a name="M000035"></a><b>add</b>(*types)
                    
                </div>
                
                <div class="description">
                  <p>
Add one or more <a href="Type.html">MIME::Type</a> objects to the set of
known types. Each type should be experimental (e.g.,
&#8216;application/x-ruby&#8217;). If the type is already known, a warning
will be displayed.
</p>
<p>
<strong>Please inform the maintainer of this module when registered types
are missing.</strong>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000035_source')" id="l_M000035_source">show</a>
                        
                    </p>
                    <div id="M000035_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mime/types.rb, line 676</span>
676:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">types</span>)
677:       <span class="ruby-identifier">types</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mime_type</span><span class="ruby-operator">|</span>
678:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mime_type</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Types</span>
679:           <span class="ruby-identifier">add</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">mime_type</span>.<span class="ruby-identifier">defined_types</span>)
680:         <span class="ruby-keyword kw">else</span>
681:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@type_variants</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">mime_type</span>.<span class="ruby-identifier">simplified</span>)
682:             <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@type_variants</span>[<span class="ruby-identifier">mime_type</span>.<span class="ruby-identifier">simplified</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">mime_type</span>)
683:               <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;Type #{mime_type} already registered as a variant of #{mime_type.simplified}.&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Types</span><span class="ruby-operator">::</span><span class="ruby-constant">STARTUP</span>
684:             <span class="ruby-keyword kw">end</span>
685:           <span class="ruby-keyword kw">end</span>
686:           <span class="ruby-identifier">add_type_variant</span>(<span class="ruby-identifier">mime_type</span>)
687:           <span class="ruby-identifier">index_extensions</span>(<span class="ruby-identifier">mime_type</span>)
688:         <span class="ruby-keyword kw">end</span>
689:       <span class="ruby-keyword kw">end</span>
690:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000034">
                    
                    <a name="M000034"></a><b>of</b>(filename, platform = false)
                    
                </div>
                
                <div class="description">
                  <p>
A synonym for <a href="Types.html#M000033">MIME::Types.type_for</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000034_source')" id="l_M000034_source">show</a>
                        
                    </p>
                    <div id="M000034_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mime/types.rb, line 666</span>
666:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">of</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">platform</span> = <span class="ruby-keyword kw">false</span>)
667:       <span class="ruby-identifier">type_for</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">platform</span>)
668:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000033">
                    
                    <a name="M000033"></a><b>type_for</b>(filename, platform = false)
                    
                </div>
                
                <div class="description">
                  <p>
Return the list of <a href="Types.html">MIME::Types</a> which belongs to
the file based on its filename extension. If <tt>platform</tt> is
<tt>true</tt>, then only file types that are specific to the current
platform will be returned.
</p>
<pre>
  puts &quot;MIME::Types.type_for('citydesk.xml')
    =&gt; &quot;#{MIME::Types.type_for('citydesk.xml')}&quot;
  puts &quot;MIME::Types.type_for('citydesk.gif')
    =&gt; &quot;#{MIME::Types.type_for('citydesk.gif')}&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000033_source')" id="l_M000033_source">show</a>
                        
                    </p>
                    <div id="M000033_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/mime/types.rb, line 658</span>
658:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">type_for</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">platform</span> = <span class="ruby-keyword kw">false</span>)
659:       <span class="ruby-identifier">ext</span> = <span class="ruby-identifier">filename</span>.<span class="ruby-identifier">chomp</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/.*\./o</span>, <span class="ruby-value str">''</span>)
660:       <span class="ruby-identifier">list</span> = <span class="ruby-ivar">@extension_index</span>[<span class="ruby-identifier">ext</span>]
661:       <span class="ruby-identifier">list</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">platform?</span> } <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">platform</span>
662:       <span class="ruby-identifier">list</span>
663:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    