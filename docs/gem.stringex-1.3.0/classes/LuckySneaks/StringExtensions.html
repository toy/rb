<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>LuckySneaks::StringExtensions</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            LuckySneaks::StringExtensions 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/lucky_sneaks/string_extensions_rb.html">lib/lucky_sneaks/string_extensions.rb</a></li>
            
            <li><a href="../../files/lib/lucky_sneaks/unidecoder_rb.html">lib/lucky_sneaks/unidecoder.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
These methods are all added on String class.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000017">collapse</a>,</li>
                
                <li><a href="#M000007">convert_accented_entities</a>,</li>
                
                <li><a href="#M000010">convert_misc_characters</a>,</li>
                
                <li><a href="#M000008">convert_misc_entities</a>,</li>
                
                <li><a href="#M000009">convert_smart_punctuation</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000005">remove_formatting</a>,</li>
                
                <li><a href="#M000016">replace_whitespace</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000006">strip_html_tags</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000018">to_ascii</a>,</li>
                
                <li><a href="#M000003">to_html</a>,</li>
                
                <li><a href="#M000004">to_url</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">MODULE</span> <a href="StringExtensions/ClassMethods.html">LuckySneaks::StringExtensions::ClassMethods</a></li>
        
    </ul>
    

    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000017">
                    
                    <a name="M000017"></a><b>collapse</b>(character = &quot; &quot;)
                    
                </div>
                
                <div class="description">
                  <p>
Removes specified character from the beginning and/or end of the string and
then performs <tt>String#squeeze(character)</tt>, condensing runs of the
character within the string.
</p>
<p>
Note: This method has been superceded by ActiveSupport&#8217;s squish
method.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000017_source')" id="l_M000017_source">show</a>
                        
                    </p>
                    <div id="M000017_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/lucky_sneaks/string_extensions.rb, line 179</span>
179:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">collapse</span>(<span class="ruby-identifier">character</span> = <span class="ruby-value str">&quot; &quot;</span>)
180:       <span class="ruby-identifier">sub</span>(<span class="ruby-node">/^#{character}*/</span>, <span class="ruby-value str">&quot;&quot;</span>).<span class="ruby-identifier">sub</span>(<span class="ruby-node">/#{character}*$/</span>, <span class="ruby-value str">&quot;&quot;</span>).<span class="ruby-identifier">squeeze</span>(<span class="ruby-identifier">character</span>)
181:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000007">
                    
                    <a name="M000007"></a><b>convert_accented_entities</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Converts HTML entities into the respective non-accented letters. Examples:
</p>
<pre>
  &quot;&amp;aacute;&quot;.convert_accented_entities # =&gt; &quot;a&quot;
  &quot;&amp;ccedil;&quot;.convert_accented_entities # =&gt; &quot;c&quot;
  &quot;&amp;egrave;&quot;.convert_accented_entities # =&gt; &quot;e&quot;
  &quot;&amp;icirc;&quot;.convert_accented_entities # =&gt; &quot;i&quot;
  &quot;&amp;oslash;&quot;.convert_accented_entities # =&gt; &quot;o&quot;
  &quot;&amp;uuml;&quot;.convert_accented_entities # =&gt; &quot;u&quot;
</pre>
<p>
Note: This does not do any conversion of Unicode/Ascii accented-characters.
For that functionality please use <tt><a
href="StringExtensions.html#M000018">to_ascii</a></tt>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000007_source')" id="l_M000007_source">show</a>
                        
                    </p>
                    <div id="M000007_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/lucky_sneaks/string_extensions.rb, line 69</span>
69:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">convert_accented_entities</span>
70:       <span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/&amp;([A-Za-z])(grave|acute|circ|tilde|uml|ring|cedil|slash);/</span>, <span class="ruby-value str">'\1'</span>)
71:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000010">
                    
                    <a name="M000010"></a><b>convert_misc_characters</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Converts various common plaintext characters to a more URI-friendly
representation. Examples:
</p>
<pre>
  &quot;foo &amp; bar&quot;.convert_misc_characters # =&gt; &quot;foo and bar&quot;
  &quot;Chanel #9&quot;.convert_misc_characters # =&gt; &quot;Chanel number nine&quot;
  &quot;user@host&quot;.convert_misc_characters # =&gt; &quot;user at host&quot;
  &quot;google.com&quot;.convert_misc_characters # =&gt; &quot;google dot com&quot;
  &quot;$10&quot;.convert_misc_characters # =&gt; &quot;10 dollars&quot;
  &quot;*69&quot;.convert_misc_characters # =&gt; &quot;star 69&quot;
  &quot;100%&quot;.convert_misc_characters # =&gt; &quot;100 percent&quot;
  &quot;windows/mac/linux&quot;.convert_misc_characters # =&gt; &quot;windows slash mac slash linux&quot;
</pre>
<p>
Note: Because this method will convert any &amp; symbols to the string
&#8220;and&#8221;, you should run any methods which convert HTML entities
(convert_html_entities and <a
href="StringExtensions.html#M000008">convert_misc_entities</a>) before
running this method.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000010_source')" id="l_M000010_source">show</a>
                        
                    </p>
                    <div id="M000010_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/lucky_sneaks/string_extensions.rb, line 135</span>
135:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">convert_misc_characters</span>
136:       <span class="ruby-identifier">dummy</span> = <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\.{3,}/</span>, <span class="ruby-value str">&quot; dot dot dot &quot;</span>) <span class="ruby-comment cmt"># Catch ellipses before single dot rule!</span>
137:       <span class="ruby-comment cmt"># Special rules for money</span>
138:       {
139:         <span class="ruby-regexp re">/(\s|^)\$(\d+)\.(\d+)(\s|$)/</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'\2 dollars \3 cents'</span>,
140:         <span class="ruby-regexp re">/(\s|^)£(\d+)\.(\d+)(\s|$)/</span><span class="ruby-identifier">u</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'\2 pounds \3 pence'</span>,
141:       }.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">found</span>, <span class="ruby-identifier">replaced</span><span class="ruby-operator">|</span>
142:         <span class="ruby-identifier">replaced</span> = <span class="ruby-node">&quot; #{replaced} &quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">replaced</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\\1/</span>
143:         <span class="ruby-identifier">dummy</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-identifier">found</span>, <span class="ruby-identifier">replaced</span>)
144:       <span class="ruby-keyword kw">end</span>
145:       <span class="ruby-comment cmt"># Back to normal rules</span>
146:       {
147:         <span class="ruby-regexp re">/\s*&amp;\s*/</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;and&quot;</span>,
148:         <span class="ruby-regexp re">/\s*#/</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;number&quot;</span>,
149:         <span class="ruby-regexp re">/\s*@\s*/</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;at&quot;</span>,
150:         <span class="ruby-regexp re">/(\S|^)\.(\S)/</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'\1 dot \2'</span>,
151:         <span class="ruby-regexp re">/(\s|^)\$(\d*)(\s|$)/</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'\2 dollars'</span>,
152:         <span class="ruby-regexp re">/(\s|^)£(\d*)(\s|$)/</span><span class="ruby-identifier">u</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'\2 pounds'</span>,
153:         <span class="ruby-regexp re">/(\s|^)¥(\d*)(\s|$)/</span><span class="ruby-identifier">u</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'\2 yen'</span>,
154:         <span class="ruby-regexp re">/\s*\*\s*/</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;star&quot;</span>,
155:         <span class="ruby-regexp re">/\s*%\s*/</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;percent&quot;</span>,
156:         <span class="ruby-regexp re">/\s*(\\|\/)\s*/</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;slash&quot;</span>,
157:         <span class="ruby-regexp re">/(\s*=\s*)/</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot; equals &quot;</span>,
158:         <span class="ruby-regexp re">/\s*\+\s*/</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;plus&quot;</span>
159:       }.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">found</span>, <span class="ruby-identifier">replaced</span><span class="ruby-operator">|</span>
160:         <span class="ruby-identifier">replaced</span> = <span class="ruby-node">&quot; #{replaced} &quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">replaced</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\\1/</span>
161:         <span class="ruby-identifier">dummy</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-identifier">found</span>, <span class="ruby-identifier">replaced</span>)
162:       <span class="ruby-keyword kw">end</span>
163:       <span class="ruby-identifier">dummy</span> = <span class="ruby-identifier">dummy</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/(^|\w)'(\w|$)/</span>, <span class="ruby-value str">'\1\2'</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/[\.,:;()\[\]\/\?!\^'&quot;_]/</span>, <span class="ruby-value str">&quot; &quot;</span>)
164:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000008">
                    
                    <a name="M000008"></a><b>convert_misc_entities</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Converts HTML entities (taken from common Textile/RedCloth formattings)
into plain text formats.
</p>
<p>
Note: This isn&#8217;t an attempt at complete conversion of HTML entities,
just those most likely to be generated by Textile.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000008_source')" id="l_M000008_source">show</a>
                        
                    </p>
                    <div id="M000008_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/lucky_sneaks/string_extensions.rb, line 77</span>
 77:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">convert_misc_entities</span>
 78:       <span class="ruby-identifier">dummy</span> = <span class="ruby-identifier">dup</span>
 79:       {
 80:         <span class="ruby-value str">&quot;#822[01]&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;\&quot;&quot;</span>,
 81:         <span class="ruby-value str">&quot;#821[67]&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;'&quot;</span>,
 82:         <span class="ruby-value str">&quot;#8230&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;...&quot;</span>,
 83:         <span class="ruby-value str">&quot;#8211&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;-&quot;</span>,
 84:         <span class="ruby-value str">&quot;#8212&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;--&quot;</span>,
 85:         <span class="ruby-value str">&quot;#215&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;x&quot;</span>,
 86:         <span class="ruby-value str">&quot;gt&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;&gt;&quot;</span>,
 87:         <span class="ruby-value str">&quot;lt&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;&lt;&quot;</span>,
 88:         <span class="ruby-value str">&quot;(#8482|trade)&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;(tm)&quot;</span>,
 89:         <span class="ruby-value str">&quot;(#174|reg)&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;(r)&quot;</span>,
 90:         <span class="ruby-value str">&quot;(#169|copy)&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;(c)&quot;</span>,
 91:         <span class="ruby-value str">&quot;(#38|amp)&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;and&quot;</span>,
 92:         <span class="ruby-value str">&quot;nbsp&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot; &quot;</span>,
 93:         <span class="ruby-value str">&quot;(#162|cent)&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot; cent&quot;</span>,
 94:         <span class="ruby-value str">&quot;(#163|pound)&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot; pound&quot;</span>,
 95:         <span class="ruby-value str">&quot;(#188|frac14)&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;one fourth&quot;</span>,
 96:         <span class="ruby-value str">&quot;(#189|frac12)&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;half&quot;</span>,
 97:         <span class="ruby-value str">&quot;(#190|frac34)&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;three fourths&quot;</span>,
 98:         <span class="ruby-value str">&quot;(#176|deg)&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot; degrees&quot;</span>
 99:       }.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">textiled</span>, <span class="ruby-identifier">normal</span><span class="ruby-operator">|</span>
100:         <span class="ruby-identifier">dummy</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-node">/&amp;#{textiled};/</span>, <span class="ruby-identifier">normal</span>)
101:       <span class="ruby-keyword kw">end</span>
102:       <span class="ruby-identifier">dummy</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/&amp;[^;]+;/</span>, <span class="ruby-value str">&quot;&quot;</span>)
103:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000009">
                    
                    <a name="M000009"></a><b>convert_smart_punctuation</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Converts MS Word &#8216;smart punctuation&#8217; to ASCII
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000009_source')" id="l_M000009_source">show</a>
                        
                    </p>
                    <div id="M000009_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/lucky_sneaks/string_extensions.rb, line 107</span>
107:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">convert_smart_punctuation</span>
108:       <span class="ruby-identifier">dummy</span> = <span class="ruby-identifier">dup</span>
109:       {
110: 
111:         <span class="ruby-value str">&quot;(“|”|\302\223|\302\224)&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'&quot;'</span>,
112:         <span class="ruby-value str">&quot;(‘|’|\302\221|\302\222)&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;'&quot;</span>,
113:         <span class="ruby-value str">&quot;…&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;...&quot;</span>,
114:       }.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">smart</span>, <span class="ruby-identifier">normal</span><span class="ruby-operator">|</span>
115:         <span class="ruby-identifier">dummy</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-node">/#{smart}/</span>, <span class="ruby-identifier">normal</span>)
116:       <span class="ruby-keyword kw">end</span>
117:       <span class="ruby-identifier">dummy</span>
118:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000005">
                    
                    <a name="M000005"></a><b>remove_formatting</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Performs multiple text manipulations. Essentially a shortcut for typing
them all. View source below to see which methods are run.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000005_source')" id="l_M000005_source">show</a>
                        
                    </p>
                    <div id="M000005_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/lucky_sneaks/string_extensions.rb, line 44</span>
44:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_formatting</span>
45:       <span class="ruby-identifier">strip_html_tags</span>.<span class="ruby-identifier">convert_smart_punctuation</span>.<span class="ruby-identifier">convert_accented_entities</span>.<span class="ruby-identifier">convert_misc_entities</span>.<span class="ruby-identifier">convert_misc_characters</span>.<span class="ruby-identifier">to_ascii</span>.<span class="ruby-identifier">collapse</span>
46:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000016">
                    
                    <a name="M000016"></a><b>replace_whitespace</b>(replace = &quot; &quot;)
                    
                </div>
                
                <div class="description">
                  <p>
Replace runs of whitespace in string. Defaults to a single space but any
replacement string may be specified as an argument. Examples:
</p>
<pre>
  &quot;Foo       bar&quot;.replace_whitespace # =&gt; &quot;Foo bar&quot;
  &quot;Foo       bar&quot;.replace_whitespace(&quot;-&quot;) # =&gt; &quot;Foo-bar&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000016_source')" id="l_M000016_source">show</a>
                        
                    </p>
                    <div id="M000016_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/lucky_sneaks/string_extensions.rb, line 171</span>
171:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">replace_whitespace</span>(<span class="ruby-identifier">replace</span> = <span class="ruby-value str">&quot; &quot;</span>)
172:       <span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\s+/</span>, <span class="ruby-identifier">replace</span>)
173:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000006">
                    
                    <a name="M000006"></a><b>strip_html_tags</b>(leave_whitespace = false)
                    
                </div>
                
                <div class="description">
                  <p>
Removes HTML tags from text. This code is simplified from Tobias
Luettke&#8217;s regular expression in <a
href="http://typosphere.org">Typo</a>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000006_source')" id="l_M000006_source">show</a>
                        
                    </p>
                    <div id="M000006_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/lucky_sneaks/string_extensions.rb, line 50</span>
50:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">strip_html_tags</span>(<span class="ruby-identifier">leave_whitespace</span> = <span class="ruby-keyword kw">false</span>)
51:       <span class="ruby-identifier">name</span> = <span class="ruby-regexp re">/[\w:_-]+/</span>
52:       <span class="ruby-identifier">value</span> = <span class="ruby-regexp re">/([A-Za-z0-9]+|('[^']*?'|&quot;[^&quot;]*?&quot;))/</span>
53:       <span class="ruby-identifier">attr</span> = <span class="ruby-node">/(#{name}(\s*=\s*#{value})?)/</span>
54:       <span class="ruby-identifier">rx</span> = <span class="ruby-node">/&lt;[!\/?\[]?(#{name}|--)(\s+(#{attr}(\s+#{attr})*))?\s*([!\/?\]]+|--)?&gt;/</span>
55:       (<span class="ruby-identifier">leave_whitespace</span>) <span class="ruby-operator">?</span>  <span class="ruby-identifier">gsub</span>(<span class="ruby-identifier">rx</span>, <span class="ruby-value str">&quot;&quot;</span>).<span class="ruby-identifier">strip</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">gsub</span>(<span class="ruby-identifier">rx</span>, <span class="ruby-value str">&quot;&quot;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\s+/</span>, <span class="ruby-value str">&quot; &quot;</span>).<span class="ruby-identifier">strip</span>
56:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000018">
                    
                    <a name="M000018"></a><b>to_ascii</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns string with its UTF-8 characters transliterated to ASCII ones.
Example:
</p>
<pre>
  &quot;⠋⠗⠁⠝⠉⠑&quot;.to_ascii #=&gt; &quot;braille&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000018_source')" id="l_M000018_source">show</a>
                        
                    </p>
                    <div id="M000018_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/lucky_sneaks/unidecoder.rb, line 58</span>
58:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_ascii</span>
59:       <span class="ruby-constant">LuckySneaks</span><span class="ruby-operator">::</span><span class="ruby-constant">Unidecoder</span>.<span class="ruby-identifier">decode</span>(<span class="ruby-keyword kw">self</span>)
60:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000003">
                    
                    <a name="M000003"></a><b>to_html</b>(lite_mode = false)
                    
                </div>
                
                <div class="description">
                  <p>
Returns the string converted (via Textile/RedCloth) to HTML format or self
[with a friendly warning] if Redcloth is not available.
</p>
<p>
Using <tt>:lite</tt> argument will cause RedCloth to not wrap the HTML in a
container P element, which is useful behavior for generating header element
text, etc. This is roughly equivalent to ActionView&#8217;s
<tt>textilize_without_paragraph</tt> except that it makes RedCloth do all
the work instead of just gsubbing the return from RedCloth.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000003_source')" id="l_M000003_source">show</a>
                        
                    </p>
                    <div id="M000003_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/lucky_sneaks/string_extensions.rb, line 18</span>
18:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_html</span>(<span class="ruby-identifier">lite_mode</span> = <span class="ruby-keyword kw">false</span>)
19:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-constant">RedCloth</span>)
20:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">lite_mode</span>
21:           <span class="ruby-constant">RedCloth</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, [<span class="ruby-identifier">:lite_mode</span>]).<span class="ruby-identifier">to_html</span>
22:         <span class="ruby-keyword kw">else</span>
23:           <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/&lt;pre&gt;/</span>
24:             <span class="ruby-constant">RedCloth</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>).<span class="ruby-identifier">to_html</span>.<span class="ruby-identifier">tr</span>(<span class="ruby-value str">&quot;\t&quot;</span>, <span class="ruby-value str">&quot;&quot;</span>)
25:           <span class="ruby-keyword kw">else</span>
26:             <span class="ruby-constant">RedCloth</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>).<span class="ruby-identifier">to_html</span>.<span class="ruby-identifier">tr</span>(<span class="ruby-value str">&quot;\t&quot;</span>, <span class="ruby-value str">&quot;&quot;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\n\n/</span>, <span class="ruby-value str">&quot;&quot;</span>)
27:           <span class="ruby-keyword kw">end</span>
28:         <span class="ruby-keyword kw">end</span>
29:       <span class="ruby-keyword kw">else</span>
30:         <span class="ruby-identifier">warn</span> <span class="ruby-value str">&quot;String#to_html was called without RedCloth being successfully required&quot;</span>
31:         <span class="ruby-keyword kw">self</span>
32:       <span class="ruby-keyword kw">end</span>
33:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000004">
                    
                    <a name="M000004"></a><b>to_url</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Create a URI-friendly representation of the string. This is used internally
by <a href="ActsAsUrl/ClassMethods.html#M000012">acts_as_url</a> but can be
called manually in order to generate an URI-friendly version of any string.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000004_source')" id="l_M000004_source">show</a>
                        
                    </p>
                    <div id="M000004_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/lucky_sneaks/string_extensions.rb, line 38</span>
38:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_url</span>
39:       <span class="ruby-identifier">remove_formatting</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">replace_whitespace</span>(<span class="ruby-value str">&quot;-&quot;</span>).<span class="ruby-identifier">collapse</span>(<span class="ruby-value str">&quot;-&quot;</span>)
40:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    