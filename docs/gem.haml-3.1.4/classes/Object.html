<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Object</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Object 
            
                <span class="parent">&lt; 
                    
                    <a href="Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/lib/haml/helpers_rb.html">lib/haml/helpers.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
@private
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000351">def_static_method</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000342">enum_cons</a>,</li>
                
                <li><a href="#M000343">enum_slice</a>,</li>
                
                <li><a href="#M000341">enum_with_index</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000345">flatten</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M000340">has?</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000348">inspect_obj</a>,</li>
                
                <li><a href="#M000221">is_haml?</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M000354">lcs_backtrace</a>,</li>
                
                <li><a href="#M000353">lcs_table</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M000344">ord</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000355">parse_haml_magic_comment</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000347">set_eql?</a>,</li>
                
                <li><a href="#M000346">set_hash</a>,</li>
                
                <li><a href="#M000352">static_method_name</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000356">try_parse_haml_emacs_magic_comment</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000351">
                    
                    <a name="M000351"></a><b>def_static_method</b>(klass, name, args, *vars)
                    
                </div>
                
                <div class="description">
                  <p>
This is used for methods in {Haml::Buffer} that need to be very fast, and
take a lot of boolean parameters that are known at compile-time. Instead of
passing the parameters in normally, a separate method is defined for every
possible combination of those parameters; these are then called using
{#static_method_name}.
</p>
<p>
To define a static method, an ERB template for the method is provided. All
conditionals based on the static parameters are done as embedded Ruby
within this template. For example:
</p>
<pre>
    def_static_method(Foo, :my_static_method, [:foo, :bar], :baz, :bang, &lt;&lt;RUBY)
      &lt;% if baz &amp;&amp; bang %&gt;
        return foo + bar
      &lt;% elsif baz || bang %&gt;
        return foo - bar
      &lt;% else %&gt;
        return 17
      &lt;% end %&gt;
    RUBY
</pre>
<p>
{#static_method_name} can be used to call static methods.
</p>
<p>
@overload <a href="Object.html#M000351">def_static_method</a>(klass, name,
args, *vars, erb) @param klass [Module] The class on which to define the
static method @param name [to_s] The (base) name of the static method
@param args [Array<Symbol>] The names of the arguments to the defined
methods
</p>
<pre>
  (**not** to the ERB template)
</pre>
<p>
@param vars [Array<Symbol>] The names of the static boolean variables
</p>
<pre>
  to be made available to the ERB template
</pre>
<p>
@param erb [String] The template for the method code
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000351_source')" id="l_M000351_source">show</a>
                        
                    </p>
                    <div id="M000351_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/haml/util.rb, line 757</span>
757:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">def_static_method</span>(<span class="ruby-identifier">klass</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">args</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">vars</span>)
758:       <span class="ruby-identifier">erb</span> = <span class="ruby-identifier">vars</span>.<span class="ruby-identifier">pop</span>
759:       <span class="ruby-identifier">info</span> = <span class="ruby-identifier">caller_info</span>
760:       <span class="ruby-identifier">powerset</span>(<span class="ruby-identifier">vars</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">set</span><span class="ruby-operator">|</span>
761:         <span class="ruby-identifier">context</span> = <span class="ruby-constant">StaticConditionalContext</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">set</span>).<span class="ruby-identifier">instance_eval</span> {<span class="ruby-identifier">binding</span>}
762:         <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">class_eval</span>(<span class="ruby-value str">&quot;def \#{static_method_name(name, *vars.map {|v| set.include?(v)})}(\#{args.join(', ')})\n  \#{ERB.new(erb).result(context)}\nend\n&quot;</span>, <span class="ruby-identifier">info</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">info</span>[<span class="ruby-value">1</span>])
763:       <span class="ruby-keyword kw">end</span>
764:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000342">
                    
                    <a name="M000342"></a><b>enum_cons</b>(enum, n)
                    
                </div>
                
                <div class="description">
                  <p>
A version of `Enumerable#enum_cons` that works in Ruby 1.8 and 1.9.
</p>
<p>
@param enum [Enumerable] The enumerable to get the enumerator for @param n
[Fixnum] The size of each cons @return [Enumerator] The consed enumerator
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000342_source')" id="l_M000342_source">show</a>
                        
                    </p>
                    <div id="M000342_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/haml/util.rb, line 640</span>
640:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">enum_cons</span>(<span class="ruby-identifier">enum</span>, <span class="ruby-identifier">n</span>)
641:       <span class="ruby-identifier">ruby1_8?</span> <span class="ruby-value">? </span><span class="ruby-identifier">enum</span>.<span class="ruby-identifier">enum_cons</span>(<span class="ruby-identifier">n</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">enum</span>.<span class="ruby-identifier">each_cons</span>(<span class="ruby-identifier">n</span>)
642:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000343">
                    
                    <a name="M000343"></a><b>enum_slice</b>(enum, n)
                    
                </div>
                
                <div class="description">
                  <p>
A version of `Enumerable#enum_slice` that works in Ruby 1.8 and 1.9.
</p>
<p>
@param enum [Enumerable] The enumerable to get the enumerator for @param n
[Fixnum] The size of each slice @return [Enumerator] The consed enumerator
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000343_source')" id="l_M000343_source">show</a>
                        
                    </p>
                    <div id="M000343_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/haml/util.rb, line 649</span>
649:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">enum_slice</span>(<span class="ruby-identifier">enum</span>, <span class="ruby-identifier">n</span>)
650:       <span class="ruby-identifier">ruby1_8?</span> <span class="ruby-value">? </span><span class="ruby-identifier">enum</span>.<span class="ruby-identifier">enum_slice</span>(<span class="ruby-identifier">n</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">enum</span>.<span class="ruby-identifier">each_slice</span>(<span class="ruby-identifier">n</span>)
651:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000341">
                    
                    <a name="M000341"></a><b>enum_with_index</b>(enum)
                    
                </div>
                
                <div class="description">
                  <p>
A version of `Enumerable#enum_with_index` that works in Ruby 1.8 and 1.9.
</p>
<p>
@param enum [Enumerable] The enumerable to get the enumerator for @return
[Enumerator] The with-index enumerator
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000341_source')" id="l_M000341_source">show</a>
                        
                    </p>
                    <div id="M000341_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/haml/util.rb, line 631</span>
631:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">enum_with_index</span>(<span class="ruby-identifier">enum</span>)
632:       <span class="ruby-identifier">ruby1_8?</span> <span class="ruby-value">? </span><span class="ruby-identifier">enum</span>.<span class="ruby-identifier">enum_with_index</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">enum</span>.<span class="ruby-identifier">each_with_index</span>
633:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000345">
                    
                    <a name="M000345"></a><b>flatten</b>(arr, n)
                    
                </div>
                
                <div class="description">
                  <p>
Flattens the first `n` nested arrays in a cross-version manner.
</p>
<p>
@param arr [Array] The array to flatten @param n [Fixnum] The number of
levels to flatten @return [Array] The flattened array
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000345_source')" id="l_M000345_source">show</a>
                        
                    </p>
                    <div id="M000345_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/haml/util.rb, line 666</span>
666:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">flatten</span>(<span class="ruby-identifier">arr</span>, <span class="ruby-identifier">n</span>)
667:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">flatten</span>(<span class="ruby-identifier">n</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">ruby1_8_6?</span>
668:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">arr</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">n</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
669:       <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">inject</span>([]) {<span class="ruby-operator">|</span><span class="ruby-identifier">res</span>, <span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">flatten</span>(<span class="ruby-identifier">e</span>, <span class="ruby-identifier">n</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>)) <span class="ruby-operator">:</span> <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span>}
670:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000340">
                    
                    <a name="M000340"></a><b>has?</b>(attr, klass, method)
                    
                </div>
                
                <div class="description">
                  <p>
Checks to see if a class has a given method. For example:
</p>
<pre>
    Haml::Util.has?(:public_instance_method, String, :gsub) #=&gt; true
</pre>
<p>
Method collections like `Class#instance_methods` return strings in Ruby 1.8
and symbols in Ruby 1.9 and on, so this handles checking for them in a
compatible way.
</p>
<p>
@param attr [to_s] The (singular) name of the method-collection method
</p>
<pre>
  (e.g. `:instance_methods`, `:private_methods`)
</pre>
<p>
@param klass [Module] The class to check the methods of which to check
@param method [String, Symbol] The name of the method do check for @return
[Boolean] Whether or not the given collection has the given method
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000340_source')" id="l_M000340_source">show</a>
                        
                    </p>
                    <div id="M000340_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/haml/util.rb, line 623</span>
623:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has?</span>(<span class="ruby-identifier">attr</span>, <span class="ruby-identifier">klass</span>, <span class="ruby-identifier">method</span>)
624:       <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{attr}s&quot;</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">ruby1_8?</span> <span class="ruby-value">? </span><span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_sym</span>)
625:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000348">
                    
                    <a name="M000348"></a><b>inspect_obj</b>(obj)
                    
                </div>
                
                <div class="description">
                  <p>
Like `Object#inspect`, but preserves non-ASCII characters rather than
escaping them under Ruby 1.9.2. This is necessary so that the precompiled
<a href="Haml.html">Haml</a> template can be `encode`d into
`@options[:encoding]` before being evaluated.
</p>
<p>
@param obj {Object} @return {String}
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000348_source')" id="l_M000348_source">show</a>
                        
                    </p>
                    <div id="M000348_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/haml/util.rb, line 699</span>
699:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect_obj</span>(<span class="ruby-identifier">obj</span>)
700:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">inspect</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">version_geq</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RUBY_VERSION</span>, <span class="ruby-value str">&quot;1.9.2&quot;</span>)
701:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">':'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">inspect_obj</span>(<span class="ruby-identifier">obj</span>.<span class="ruby-identifier">to_s</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Symbol</span>)
702:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">inspect</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
703:       <span class="ruby-value str">'&quot;'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/[\x00-\x7F]+/</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">inspect</span>[<span class="ruby-value">1</span><span class="ruby-operator">...</span><span class="ruby-value">-1</span>]} <span class="ruby-operator">+</span> <span class="ruby-value str">'&quot;'</span>
704:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000221">
                    
                    <a name="M000221"></a><b>is_haml?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
<a href="Haml.html">Haml</a> overrides various `ActionView` helpers, which
call an {#is_haml?} method to determine whether or not the current context
object is a proper <a href="Haml.html">Haml</a> context. Because
`ActionView` helpers may be included in non-`ActionView::Base` classes,
it&#8217;s a good idea to define {#is_haml?} for all objects.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000221_source')" id="l_M000221_source">show</a>
                        
                    </p>
                    <div id="M000221_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/haml/helpers.rb, line 605</span>
605:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">is_haml?</span>
606:     <span class="ruby-keyword kw">false</span>
607:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000354">
                    
                    <a name="M000354"></a><b>lcs_backtrace</b>(c, x, y, i, j, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Computes a single longest common subsequence for arrays x and y. Algorithm
from [Wikipedia](<a
href="http://en.wikipedia.org/wiki/Longest_common_subsequence_problem#Reading_out_an_LCS">en.wikipedia.org/wiki/Longest_common_subsequence_problem#Reading_out_an_LCS</a>)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000354_source')" id="l_M000354_source">show</a>
                        
                    </p>
                    <div id="M000354_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/haml/util.rb, line 803</span>
803:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">lcs_backtrace</span>(<span class="ruby-identifier">c</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">i</span>, <span class="ruby-identifier">j</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
804:       <span class="ruby-keyword kw">return</span> [] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">j</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
805:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span> = <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">x</span>[<span class="ruby-identifier">i</span>], <span class="ruby-identifier">y</span>[<span class="ruby-identifier">j</span>])
806:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">lcs_backtrace</span>(<span class="ruby-identifier">c</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>, <span class="ruby-identifier">j</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">v</span>
807:       <span class="ruby-keyword kw">end</span>
808: 
809:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">lcs_backtrace</span>(<span class="ruby-identifier">c</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">i</span>, <span class="ruby-identifier">j</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">c</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">j</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>] <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">c</span>[<span class="ruby-identifier">i</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>][<span class="ruby-identifier">j</span>]
810:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">lcs_backtrace</span>(<span class="ruby-identifier">c</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>, <span class="ruby-identifier">j</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
811:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000353">
                    
                    <a name="M000353"></a><b>lcs_table</b>(x, y)
                    
                </div>
                
                <div class="description">
                  <p>
Calculates the memoization table for the Least Common Subsequence
algorithm. Algorithm from [Wikipedia](<a
href="http://en.wikipedia.org/wiki/Longest_common_subsequence_problem#Computing_the_length_of_the_LCS">en.wikipedia.org/wiki/Longest_common_subsequence_problem#Computing_the_length_of_the_LCS</a>)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000353_source')" id="l_M000353_source">show</a>
                        
                    </p>
                    <div id="M000353_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/haml/util.rb, line 784</span>
784:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">lcs_table</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>)
785:       <span class="ruby-identifier">c</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">x</span>.<span class="ruby-identifier">size</span>) {[]}
786:       <span class="ruby-identifier">x</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">times</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>[<span class="ruby-identifier">i</span>][<span class="ruby-value">0</span>] = <span class="ruby-value">0</span>}
787:       <span class="ruby-identifier">y</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">times</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>[<span class="ruby-value">0</span>][<span class="ruby-identifier">j</span>] = <span class="ruby-value">0</span>}
788:       (<span class="ruby-value">1</span><span class="ruby-operator">...</span><span class="ruby-identifier">x</span>.<span class="ruby-identifier">size</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
789:         (<span class="ruby-value">1</span><span class="ruby-operator">...</span><span class="ruby-identifier">y</span>.<span class="ruby-identifier">size</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span>
790:           <span class="ruby-identifier">c</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">j</span>] =
791:             <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">x</span>[<span class="ruby-identifier">i</span>], <span class="ruby-identifier">y</span>[<span class="ruby-identifier">j</span>]
792:               <span class="ruby-identifier">c</span>[<span class="ruby-identifier">i</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>][<span class="ruby-identifier">j</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>] <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
793:             <span class="ruby-keyword kw">else</span>
794:               [<span class="ruby-identifier">c</span>[<span class="ruby-identifier">i</span>][<span class="ruby-identifier">j</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>], <span class="ruby-identifier">c</span>[<span class="ruby-identifier">i</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>][<span class="ruby-identifier">j</span>]].<span class="ruby-identifier">max</span>
795:             <span class="ruby-keyword kw">end</span>
796:         <span class="ruby-keyword kw">end</span>
797:       <span class="ruby-keyword kw">end</span>
798:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">c</span>
799:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000344">
                    
                    <a name="M000344"></a><b>ord</b>(c)
                    
                </div>
                
                <div class="description">
                  <p>
Returns the ASCII code of the given character.
</p>
<p>
@param c [String] All characters but the first are ignored. @return
[Fixnum] The ASCII code of `c`.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000344_source')" id="l_M000344_source">show</a>
                        
                    </p>
                    <div id="M000344_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/haml/util.rb, line 657</span>
657:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ord</span>(<span class="ruby-identifier">c</span>)
658:       <span class="ruby-identifier">ruby1_8?</span> <span class="ruby-value">? </span><span class="ruby-identifier">c</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">:</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">ord</span>
659:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000355">
                    
                    <a name="M000355"></a><b>parse_haml_magic_comment</b>(str)
                    
                </div>
                
                <div class="description">
                  <p>
Parses a magic comment at the beginning of a <a href="Haml.html">Haml</a>
file. The parsing rules are basically the same as Ruby&#8217;s.
</p>
<p>
@return [(Boolean, String or nil)]
</p>
<pre>
  Whether the document begins with a UTF-8 BOM,
  and the declared encoding of the document (or nil if none is declared)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000355_source')" id="l_M000355_source">show</a>
                        
                    </p>
                    <div id="M000355_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/haml/util.rb, line 819</span>
819:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse_haml_magic_comment</span>(<span class="ruby-identifier">str</span>)
820:       <span class="ruby-identifier">scanner</span> = <span class="ruby-constant">StringScanner</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">str</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-value str">&quot;BINARY&quot;</span>))
821:       <span class="ruby-identifier">bom</span> = <span class="ruby-identifier">scanner</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp re">/\xEF\xBB\xBF/n</span>)
822:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">bom</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">scanner</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp re">/-\s*#\s*/n</span>)
823:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">coding</span> = <span class="ruby-identifier">try_parse_haml_emacs_magic_comment</span>(<span class="ruby-identifier">scanner</span>)
824:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">bom</span>, <span class="ruby-identifier">coding</span>
825:       <span class="ruby-keyword kw">end</span>
826: 
827:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">bom</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">scanner</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp re">/.*?coding[=:]\s*([\w-]+)/i</span><span class="ruby-identifier">n</span>)
828:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">bom</span>, <span class="ruby-identifier">scanner</span>[<span class="ruby-value">1</span>]
829:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000347">
                    
                    <a name="M000347"></a><b>set_eql?</b>(set1, set2)
                    
                </div>
                
                <div class="description">
                  <p>
Tests the hash-equality of two sets in a cross-version manner.
Aggravatingly, this is order-dependent in Ruby 1.8.6.
</p>
<p>
@param set1 [Set] @param set2 [Set] @return [Boolean] Whether or not the
sets are hashcode equal
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000347_source')" id="l_M000347_source">show</a>
                        
                    </p>
                    <div id="M000347_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/haml/util.rb, line 688</span>
688:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_eql?</span>(<span class="ruby-identifier">set1</span>, <span class="ruby-identifier">set2</span>)
689:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">set1</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">set2</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">ruby1_8_6?</span>
690:       <span class="ruby-identifier">set1</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">sort_by</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">hash</span>}.<span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">set2</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">sort_by</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">hash</span>})
691:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000346">
                    
                    <a name="M000346"></a><b>set_hash</b>(set)
                    
                </div>
                
                <div class="description">
                  <p>
Returns the hash code for a set in a cross-version manner. Aggravatingly,
this is order-dependent in Ruby 1.8.6.
</p>
<p>
@param set [Set] @return [Fixnum] The order-independent hashcode of `set`
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000346_source')" id="l_M000346_source">show</a>
                        
                    </p>
                    <div id="M000346_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/haml/util.rb, line 677</span>
677:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_hash</span>(<span class="ruby-identifier">set</span>)
678:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">set</span>.<span class="ruby-identifier">hash</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">ruby1_8_6?</span>
679:       <span class="ruby-identifier">set</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">hash</span>}.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">hash</span>
680:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000352">
                    
                    <a name="M000352"></a><b>static_method_name</b>(name, *vars)
                    
                </div>
                
                <div class="description">
                  <p>
Computes the name for a method defined via {#def_static_method}.
</p>
<p>
@param name [String] The base name of the static method @param vars
[Array<Boolean>] The static variable assignment @return [String] The real
name of the static method
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000352_source')" id="l_M000352_source">show</a>
                        
                    </p>
                    <div id="M000352_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/haml/util.rb, line 776</span>
776:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">static_method_name</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">vars</span>)
777:       <span class="ruby-node">&quot;#{name}_#{vars.map {|v| !!v}.join('_')}&quot;</span>
778:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000356">
                    
                    <a name="M000356"></a><b>try_parse_haml_emacs_magic_comment</b>(scanner)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000356_source')" id="l_M000356_source">show</a>
                        
                    </p>
                    <div id="M000356_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/haml/util.rb, line 831</span>
831:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">try_parse_haml_emacs_magic_comment</span>(<span class="ruby-identifier">scanner</span>)
832:       <span class="ruby-identifier">pos</span> = <span class="ruby-identifier">scanner</span>.<span class="ruby-identifier">pos</span>
833:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">scanner</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp re">/.*?-\*-\s*/n</span>)
834:       <span class="ruby-comment cmt"># From Ruby's parse.y</span>
835:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">scanner</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp re">/([^\s'&quot;:;]+)\s*:\s*(&quot;(?:\\.|[^&quot;])*&quot;|[^&quot;\s;]+?)[\s;]*-\*-/n</span>)
836:       <span class="ruby-identifier">name</span>, <span class="ruby-identifier">val</span> = <span class="ruby-identifier">scanner</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">scanner</span>[<span class="ruby-value">2</span>]
837:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/(en)?coding/i</span><span class="ruby-identifier">n</span>
838:       <span class="ruby-identifier">val</span> = <span class="ruby-identifier">$1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^&quot;(.*)&quot;$/n</span>
839:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">val</span>
840:     <span class="ruby-keyword kw">ensure</span>
841:       <span class="ruby-identifier">scanner</span>.<span class="ruby-identifier">pos</span> = <span class="ruby-identifier">pos</span>
842:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    