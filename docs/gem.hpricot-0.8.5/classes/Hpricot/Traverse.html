<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Hpricot::Traverse</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            Hpricot::Traverse 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/hpricot/elements_rb.html">lib/hpricot/elements.rb</a></li>
            
            <li><a href="../../files/lib/hpricot/modules_rb.html">lib/hpricot/modules.rb</a></li>
            
            <li><a href="../../files/lib/hpricot/traverse_rb.html">lib/hpricot/traverse.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M000099">%</a>,</li>
                
                <li><a href="#M000097">/</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000078">after</a>,</li>
                
                <li><a href="#M000098">at</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M000079">before</a>,</li>
                
                <li><a href="#M000065">bogusetag?</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000103">children_of_type</a>,</li>
                
                <li><a href="#M000091">clean_path</a>,</li>
                
                <li><a href="#M000064">comment?</a>,</li>
                
                <li><a href="#M000093">css_path</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000058">doc?</a>,</li>
                
                <li><a href="#M000062">doctype?</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000059">elem?</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000054">filter</a>,</li>
                
                <li><a href="#M000077">following</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M000081">get_subnode</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M000085">html</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000070">index</a>,</li>
                
                <li><a href="#M000087">innerHTML</a>,</li>
                
                <li><a href="#M000089">innerHTML=</a>,</li>
                
                <li><a href="#M000084">innerText</a>,</li>
                
                <li><a href="#M000086">inner_html</a>,</li>
                
                <li><a href="#M000088">inner_html=</a>,</li>
                
                <li><a href="#M000083">inner_text</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000066">make</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000072">next</a>,</li>
                
                <li><a href="#M000073">next_node</a>,</li>
                
                <li><a href="#M000094">node_position</a>,</li>
                
                <li><a href="#M000071">nodes_at</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000095">position</a>,</li>
                
                <li><a href="#M000076">preceding</a>,</li>
                
                <li><a href="#M000074">previous</a>,</li>
                
                <li><a href="#M000075">previous_node</a>,</li>
                
                <li><a href="#M000063">procins?</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000090">reparent</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000096">search</a>,</li>
                
                <li><a href="#M000080">swap</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000060">text?</a>,</li>
                
                <li><a href="#M000067">to_html</a>,</li>
                
                <li><a href="#M000069">to_original_html</a>,</li>
                
                <li><a href="#M000082">to_plain_text</a>,</li>
                
                <li><a href="#M000068">to_s</a>,</li>
                
                <li><a href="#M000100">traverse_element</a>,</li>
                
                <li><a href="#M000124">traverse_text</a></li>
                
            </ul>
        </dd>
    
        <dt>X</dt>
        <dd>
            <ul>
                
                <li><a href="#M000061">xmldecl?</a>,</li>
                
                <li><a href="#M000092">xpath</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000054">
                    
                    <a name="M000054"></a><b>filter</b>(tok, &amp;blk)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000054_source')" id="l_M000054_source">show</a>
                        
                    </p>
                    <div id="M000054_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/elements.rb, line 375</span>
375:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-identifier">tok</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
376:       <span class="ruby-identifier">define_method</span>(<span class="ruby-node">&quot;filter[#{tok.is_a?(String) ? tok : tok.inspect}]&quot;</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
377:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000099">
                    
                    <a name="M000099"></a><b>%</b>(expr)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Traverse.html#M000098">at</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000097">
                    
                    <a name="M000097"></a><b>/</b>(expr, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Traverse.html#M000096">search</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000078">
                    
                    <a name="M000078"></a><b>after</b>(html = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Adds elements immediately after this element, contained in the
<tt>html</tt> string.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000078_source')" id="l_M000078_source">show</a>
                        
                    </p>
                    <div id="M000078_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 121</span>
121:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after</span>(<span class="ruby-identifier">html</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
122:       <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">insert_after</span>(<span class="ruby-identifier">make</span>(<span class="ruby-identifier">html</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>), <span class="ruby-keyword kw">self</span>)
123:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000098">
                    
                    <a name="M000098"></a><b>at</b>(expr)
                    
                </div>
                
                <div class="description">
                  <p>
Find the first matching node for the CSS or XPath <tt>expr</tt> string.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Traverse.html#M000099">%</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000098_source')" id="l_M000098_source">show</a>
                        
                    </p>
                    <div id="M000098_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 341</span>
341:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">at</span>(<span class="ruby-identifier">expr</span>)
342:       <span class="ruby-identifier">search</span>(<span class="ruby-identifier">expr</span>).<span class="ruby-identifier">first</span>
343:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000079">
                    
                    <a name="M000079"></a><b>before</b>(html = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Adds elements immediately before this element, contained in the
<tt>html</tt> string.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000079_source')" id="l_M000079_source">show</a>
                        
                    </p>
                    <div id="M000079_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 126</span>
126:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before</span>(<span class="ruby-identifier">html</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
127:       <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">insert_before</span>(<span class="ruby-identifier">make</span>(<span class="ruby-identifier">html</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>), <span class="ruby-keyword kw">self</span>)
128:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000065">
                    
                    <a name="M000065"></a><b>bogusetag?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Is this object a stranded end tag?
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000065_source')" id="l_M000065_source">show</a>
                        
                    </p>
                    <div id="M000065_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 21</span>
21:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">bogusetag?</span>() <span class="ruby-constant">BogusETag</span><span class="ruby-operator">::</span><span class="ruby-constant">Trav</span> <span class="ruby-operator">===</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000103">
                    
                    <a name="M000103"></a><b>children_of_type</b>(tag_name)
                    
                </div>
                
                <div class="description">
                  <p>
Find children of a given <tt>tag_name</tt>.
</p>
<pre>
  ele.children_of_type('p')
    #=&gt; [...array of paragraphs...]
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000103_source')" id="l_M000103_source">show</a>
                        
                    </p>
                    <div id="M000103_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 390</span>
390:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">children_of_type</span>(<span class="ruby-identifier">tag_name</span>)
391:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">respond_to?</span> <span class="ruby-identifier">:children</span>
392:         <span class="ruby-identifier">children</span>.<span class="ruby-identifier">find_all</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
393:           <span class="ruby-identifier">x</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:pathname</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">pathname</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">tag_name</span>
394:         <span class="ruby-keyword kw">end</span>
395:       <span class="ruby-keyword kw">end</span>
396:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000091">
                    
                    <a name="M000091"></a><b>clean_path</b>(path)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000091_source')" id="l_M000091_source">show</a>
                        
                    </p>
                    <div id="M000091_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 203</span>
203:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clean_path</span>(<span class="ruby-identifier">path</span>)
204:       <span class="ruby-identifier">path</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/^\s+|\s+$/</span>, <span class="ruby-value str">''</span>)
205:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000064">
                    
                    <a name="M000064"></a><b>comment?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Is this object a comment?
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000064_source')" id="l_M000064_source">show</a>
                        
                    </p>
                    <div id="M000064_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 19</span>
19:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">comment?</span>() <span class="ruby-constant">Comment</span><span class="ruby-operator">::</span><span class="ruby-constant">Trav</span> <span class="ruby-operator">===</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000093">
                    
                    <a name="M000093"></a><b>css_path</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Builds a unique CSS string for this node, from the root of the document
containing it.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000093_source')" id="l_M000093_source">show</a>
                        
                    </p>
                    <div id="M000093_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 226</span>
226:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">css_path</span>
227:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">elem?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">has_attribute?</span> <span class="ruby-value str">'id'</span>
228:         <span class="ruby-node">&quot;##{get_attribute('id')}&quot;</span>
229:       <span class="ruby-keyword kw">else</span>
230:         <span class="ruby-identifier">sim</span>, <span class="ruby-identifier">i</span>, <span class="ruby-identifier">id</span> = <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>
231:         <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
232:           <span class="ruby-identifier">id</span> = <span class="ruby-identifier">sim</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">e</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">self</span>
233:           <span class="ruby-identifier">sim</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">pathname</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">pathname</span>
234:         <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">children</span>
235:         <span class="ruby-identifier">p</span> = <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">css_path</span>
236:         <span class="ruby-identifier">p</span> = <span class="ruby-identifier">p</span> <span class="ruby-value">? </span><span class="ruby-node">&quot;#{p} &gt; #{self.pathname}&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">pathname</span>
237:         <span class="ruby-identifier">p</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;:nth(#{id})&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sim</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">2</span>
238:         <span class="ruby-identifier">p</span>
239:       <span class="ruby-keyword kw">end</span>
240:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000058">
                    
                    <a name="M000058"></a><b>doc?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Is this object the enclosing HTML or XML document?
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000058_source')" id="l_M000058_source">show</a>
                        
                    </p>
                    <div id="M000058_source" class="dyn-source">
                        <pre>   <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 7</span>
7:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">doc?</span>() <span class="ruby-constant">Doc</span><span class="ruby-operator">::</span><span class="ruby-constant">Trav</span> <span class="ruby-operator">===</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000062">
                    
                    <a name="M000062"></a><b>doctype?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Is this object a doctype tag?
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000062_source')" id="l_M000062_source">show</a>
                        
                    </p>
                    <div id="M000062_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 15</span>
15:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">doctype?</span>() <span class="ruby-constant">DocType</span><span class="ruby-operator">::</span><span class="ruby-constant">Trav</span> <span class="ruby-operator">===</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000059">
                    
                    <a name="M000059"></a><b>elem?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Is this object an HTML or XML element?
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000059_source')" id="l_M000059_source">show</a>
                        
                    </p>
                    <div id="M000059_source" class="dyn-source">
                        <pre>   <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 9</span>
9:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">elem?</span>() <span class="ruby-constant">Elem</span><span class="ruby-operator">::</span><span class="ruby-constant">Trav</span> <span class="ruby-operator">===</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000077">
                    
                    <a name="M000077"></a><b>following</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Find all nodes which follow the current one.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000077_source')" id="l_M000077_source">show</a>
                        
                    </p>
                    <div id="M000077_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 114</span>
114:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">following</span>
115:       <span class="ruby-identifier">sibs</span> = <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">children</span>
116:       <span class="ruby-identifier">si</span> = <span class="ruby-identifier">sibs</span>.<span class="ruby-identifier">index</span>(<span class="ruby-keyword kw">self</span>) <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
117:       <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Elements</span>[<span class="ruby-operator">*</span><span class="ruby-identifier">sibs</span>[<span class="ruby-identifier">si</span><span class="ruby-operator">...</span><span class="ruby-identifier">sibs</span>.<span class="ruby-identifier">length</span>]]
118:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000081">
                    
                    <a name="M000081"></a><b>get_subnode</b>(*indexes)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000081_source')" id="l_M000081_source">show</a>
                        
                    </p>
                    <div id="M000081_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 138</span>
138:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_subnode</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">indexes</span>)
139:       <span class="ruby-identifier">n</span> = <span class="ruby-keyword kw">self</span>
140:       <span class="ruby-identifier">indexes</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
141:         <span class="ruby-identifier">n</span> = <span class="ruby-identifier">n</span>.<span class="ruby-identifier">get_subnode_internal</span>(<span class="ruby-identifier">index</span>)
142:       }
143:       <span class="ruby-identifier">n</span>
144:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000085">
                    
                    <a name="M000085"></a><b>html</b>(inner = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Builds an HTML string from the contents of this node.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Traverse.html#M000086">inner_html</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000085_source')" id="l_M000085_source">show</a>
                        
                    </p>
                    <div id="M000085_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 168</span>
168:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">html</span>(<span class="ruby-identifier">inner</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
169:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">inner</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">blk</span>
170:         <span class="ruby-identifier">altered!</span>
171:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">inner</span>
172:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Array</span>
173:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">children</span> = <span class="ruby-identifier">inner</span>
174:         <span class="ruby-keyword kw">else</span>
175:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">children</span> = <span class="ruby-identifier">make</span>(<span class="ruby-identifier">inner</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
176:         <span class="ruby-keyword kw">end</span>
177:         <span class="ruby-identifier">reparent</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">children</span>
178:       <span class="ruby-keyword kw">else</span>
179:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:children</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">children</span>
180:           <span class="ruby-identifier">children</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">output</span>(<span class="ruby-value str">&quot;&quot;</span>) }.<span class="ruby-identifier">join</span>
181:         <span class="ruby-keyword kw">else</span>
182:           <span class="ruby-value str">&quot;&quot;</span>
183:         <span class="ruby-keyword kw">end</span>
184:       <span class="ruby-keyword kw">end</span>
185:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000070">
                    
                    <a name="M000070"></a><b>index</b>(name)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000070_source')" id="l_M000070_source">show</a>
                        
                    </p>
                    <div id="M000070_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 47</span>
47:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">index</span>(<span class="ruby-identifier">name</span>)
48:       <span class="ruby-identifier">i</span> = <span class="ruby-value">0</span>
49:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">i</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;*&quot;</span>
50:       <span class="ruby-identifier">children</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
51:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">i</span> <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">x</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:name</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">name</span>) <span class="ruby-keyword kw">or</span>
52:           (<span class="ruby-identifier">x</span>.<span class="ruby-identifier">text?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;text()&quot;</span>)
53:         <span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
54:       <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">children</span>
55:       <span class="ruby-value">-1</span>
56:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000087">
                    
                    <a name="M000087"></a><b>innerHTML</b>(inner = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Traverse.html#M000086">inner_html</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000089">
                    
                    <a name="M000089"></a><b>innerHTML=</b>(inner)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Traverse.html#M000088">inner_html=</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000084">
                    
                    <a name="M000084"></a><b>innerText</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Traverse.html#M000083">inner_text</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000086">
                    
                    <a name="M000086"></a><b>inner_html</b>(inner = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Traverse.html#M000085">html</a>
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Traverse.html#M000087">innerHTML</a>
                    
                </div>
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000088">
                    
                    <a name="M000088"></a><b>inner_html=</b>(inner)
                    
                </div>
                
                <div class="description">
                  <p>
Inserts new contents into the current node, based on the HTML contained in
string <tt>inner</tt>.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Traverse.html#M000089">innerHTML=</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000088_source')" id="l_M000088_source">show</a>
                        
                    </p>
                    <div id="M000088_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 191</span>
191:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inner_html=</span>(<span class="ruby-identifier">inner</span>)
192:       <span class="ruby-identifier">html</span>(<span class="ruby-identifier">inner</span> <span class="ruby-operator">||</span> [])
193:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000083">
                    
                    <a name="M000083"></a><b>inner_text</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Builds a string from the text contained in this node. All HTML elements are
removed.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Traverse.html#M000084">innerText</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000083_source')" id="l_M000083_source">show</a>
                        
                    </p>
                    <div id="M000083_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 158</span>
158:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inner_text</span>
159:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:children</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">children</span>
160:         <span class="ruby-identifier">children</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">inner_text</span> }.<span class="ruby-identifier">join</span>
161:       <span class="ruby-keyword kw">else</span>
162:         <span class="ruby-value str">&quot;&quot;</span>
163:       <span class="ruby-keyword kw">end</span>
164:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000066">
                    
                    <a name="M000066"></a><b>make</b>(input = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Parses an HTML string, making an HTML fragment based on the options used to
create the container document.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000066_source')" id="l_M000066_source">show</a>
                        
                    </p>
                    <div id="M000066_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 25</span>
25:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">make</span>(<span class="ruby-identifier">input</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
26:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-identifier">:make</span>
27:         <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">make</span>(<span class="ruby-identifier">input</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
28:       <span class="ruby-keyword kw">else</span>
29:         <span class="ruby-constant">Hpricot</span>.<span class="ruby-identifier">make</span>(<span class="ruby-identifier">input</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>).<span class="ruby-identifier">children</span>
30:       <span class="ruby-keyword kw">end</span>
31:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000072">
                    
                    <a name="M000072"></a><b>next</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the node neighboring this node to the south: just below it. This
method includes text nodes and comments and such.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Traverse.html#M000073">next_node</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000072_source')" id="l_M000072_source">show</a>
                        
                    </p>
                    <div id="M000072_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 91</span>
91:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">next</span>
92:       <span class="ruby-identifier">sib</span> = <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">children</span>
93:       <span class="ruby-identifier">sib</span>[<span class="ruby-identifier">sib</span>.<span class="ruby-identifier">index</span>(<span class="ruby-keyword kw">self</span>) <span class="ruby-operator">+</span> <span class="ruby-value">1</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent</span>
94:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000073">
                    
                    <a name="M000073"></a><b>next_node</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Traverse.html#M000072">next</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000094">
                    
                    <a name="M000094"></a><b>node_position</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000094_source')" id="l_M000094_source">show</a>
                        
                    </p>
                    <div id="M000094_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 242</span>
242:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">node_position</span>
243:       <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">index</span>(<span class="ruby-keyword kw">self</span>)
244:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000071">
                    
                    <a name="M000071"></a><b>nodes_at</b>(*pos)
                    
                </div>
                
                <div class="description">
                  <p>
Puts together an array of neighboring nodes based on their proximity to
this node. So, for example, to get the next node, you could use <tt><a
href="Traverse.html#M000071">nodes_at</a>(1). Or, to get the previous node,
use &lt;tt&gt;<a href="Traverse.html#M000071">nodes_at</a>(1)</tt>.
</p>
<p>
This method also accepts ranges and sets of numbers.
</p>
<pre>
   ele.nodes_at(-3..-1, 1..3) # gets three nodes before and three after
   ele.nodes_at(1, 5, 7) # gets three nodes at offsets below the current node
   ele.nodes_at(0, 5..6) # the current node and two others
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000071_source')" id="l_M000071_source">show</a>
                        
                    </p>
                    <div id="M000071_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 67</span>
67:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">nodes_at</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">pos</span>)
68:       <span class="ruby-identifier">sib</span> = <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">children</span>
69:       <span class="ruby-identifier">i</span>, <span class="ruby-identifier">si</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">sib</span>.<span class="ruby-identifier">index</span>(<span class="ruby-keyword kw">self</span>)
70:       <span class="ruby-identifier">pos</span>.<span class="ruby-identifier">map!</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>
71:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Range</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">begin</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
72:           <span class="ruby-identifier">r</span> = <span class="ruby-constant">Range</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">r</span>.<span class="ruby-identifier">begin</span>)<span class="ruby-operator">-</span><span class="ruby-identifier">si</span>, <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">r</span>.<span class="ruby-identifier">end</span>)<span class="ruby-operator">-</span><span class="ruby-identifier">si</span>, <span class="ruby-identifier">r</span>.<span class="ruby-identifier">exclude_end?</span>)
73:         <span class="ruby-keyword kw">end</span>
74:         <span class="ruby-identifier">r</span>
75:       <span class="ruby-keyword kw">end</span>
76:       <span class="ruby-identifier">p</span> <span class="ruby-identifier">pos</span>
77:       <span class="ruby-constant">Elements</span>[<span class="ruby-operator">*</span>
78:         <span class="ruby-identifier">sib</span>.<span class="ruby-identifier">select</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
79:           <span class="ruby-identifier">sel</span> =
80:             <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">si</span> <span class="ruby-keyword kw">when</span> <span class="ruby-operator">*</span><span class="ruby-identifier">pos</span>
81:               <span class="ruby-keyword kw">true</span>
82:             <span class="ruby-keyword kw">end</span>
83:           <span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
84:           <span class="ruby-identifier">sel</span>
85:         <span class="ruby-keyword kw">end</span>
86:       ]
87:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000095">
                    
                    <a name="M000095"></a><b>position</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000095_source')" id="l_M000095_source">show</a>
                        
                    </p>
                    <div id="M000095_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 246</span>
246:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">position</span>
247:       <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">children_of_type</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">pathname</span>).<span class="ruby-identifier">index</span>(<span class="ruby-keyword kw">self</span>)
248:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000076">
                    
                    <a name="M000076"></a><b>preceding</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Find all preceding nodes.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000076_source')" id="l_M000076_source">show</a>
                        
                    </p>
                    <div id="M000076_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 107</span>
107:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">preceding</span>
108:       <span class="ruby-identifier">sibs</span> = <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">children</span>
109:       <span class="ruby-identifier">si</span> = <span class="ruby-identifier">sibs</span>.<span class="ruby-identifier">index</span>(<span class="ruby-keyword kw">self</span>)
110:       <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Elements</span>[<span class="ruby-operator">*</span><span class="ruby-identifier">sibs</span>[<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">si</span>]]
111:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000074">
                    
                    <a name="M000074"></a><b>previous</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns to node neighboring this node to the north: just above it. This
method includes text nodes and comments and such.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Traverse.html#M000075">previous_node</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000074_source')" id="l_M000074_source">show</a>
                        
                    </p>
                    <div id="M000074_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 99</span>
 99:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">previous</span>
100:       <span class="ruby-identifier">sib</span> = <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">children</span>
101:       <span class="ruby-identifier">x</span> = <span class="ruby-identifier">sib</span>.<span class="ruby-identifier">index</span>(<span class="ruby-keyword kw">self</span>) <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
102:       <span class="ruby-identifier">sib</span>[<span class="ruby-identifier">x</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sib</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">0</span>
103:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000075">
                    
                    <a name="M000075"></a><b>previous_node</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Traverse.html#M000074">previous</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000063">
                    
                    <a name="M000063"></a><b>procins?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Is this object an XML processing instruction?
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000063_source')" id="l_M000063_source">show</a>
                        
                    </p>
                    <div id="M000063_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 17</span>
17:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">procins?</span>() <span class="ruby-constant">ProcIns</span><span class="ruby-operator">::</span><span class="ruby-constant">Trav</span> <span class="ruby-operator">===</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000096">
                    
                    <a name="M000096"></a><b>search</b>(expr, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Searches this node for all elements matching the CSS or XPath
<tt>expr</tt>. Returns an <a href="Elements.html">Elements</a> array
containing the matching nodes. If <tt>blk</tt> is given, it is used to
iterate through the matching set.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Traverse.html#M000097">/</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000096_source')" id="l_M000096_source">show</a>
                        
                    </p>
                    <div id="M000096_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 254</span>
254:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">search</span>(<span class="ruby-identifier">expr</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
255:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Range</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">expr</span>
256:         <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Elements</span>.<span class="ruby-identifier">expand</span>(<span class="ruby-identifier">at</span>(<span class="ruby-identifier">expr</span>.<span class="ruby-identifier">begin</span>), <span class="ruby-identifier">at</span>(<span class="ruby-identifier">expr</span>.<span class="ruby-identifier">end</span>), <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">exclude_end?</span>)
257:       <span class="ruby-keyword kw">end</span>
258:       <span class="ruby-identifier">last</span> = <span class="ruby-keyword kw">nil</span>
259:       <span class="ruby-identifier">nodes</span> = [<span class="ruby-keyword kw">self</span>]
260:       <span class="ruby-identifier">done</span> = []
261:       <span class="ruby-identifier">expr</span> = <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">to_s</span>
262:       <span class="ruby-identifier">hist</span> = []
263:       <span class="ruby-keyword kw">until</span> <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">empty?</span>
264:           <span class="ruby-identifier">expr</span> = <span class="ruby-identifier">clean_path</span>(<span class="ruby-identifier">expr</span>)
265:           <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp re">%r!^//!</span>, <span class="ruby-value str">''</span>)
266: 
267:           <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">expr</span>
268:           <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">%r!^/?\.\.!</span>
269:               <span class="ruby-identifier">last</span> = <span class="ruby-identifier">expr</span> = <span class="ruby-identifier">$'</span>
270:               <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">map!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span> }
271:           <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">%r!^[&gt;/]\s*!</span>
272:               <span class="ruby-identifier">last</span> = <span class="ruby-identifier">expr</span> = <span class="ruby-identifier">$'</span>
273:               <span class="ruby-identifier">nodes</span> = <span class="ruby-constant">Elements</span>[<span class="ruby-operator">*</span><span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">children</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-identifier">:children</span> }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">compact</span>]
274:           <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">%r!^\+!</span>
275:               <span class="ruby-identifier">last</span> = <span class="ruby-identifier">expr</span> = <span class="ruby-identifier">$'</span>
276:               <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">map!</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
277:                   <span class="ruby-identifier">siblings</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">children</span>
278:                   <span class="ruby-identifier">siblings</span>[<span class="ruby-identifier">siblings</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">node</span>)<span class="ruby-operator">+</span><span class="ruby-value">1</span>]
279:               <span class="ruby-keyword kw">end</span>
280:               <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">compact!</span>
281:           <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">%r!^~!</span>
282:               <span class="ruby-identifier">last</span> = <span class="ruby-identifier">expr</span> = <span class="ruby-identifier">$'</span>
283:               <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">map!</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
284:                   <span class="ruby-identifier">siblings</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">children</span>
285:                   <span class="ruby-identifier">siblings</span>[(<span class="ruby-identifier">siblings</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">node</span>)<span class="ruby-operator">+</span><span class="ruby-value">1</span>)<span class="ruby-operator">..</span><span class="ruby-value">-1</span>]
286:               <span class="ruby-keyword kw">end</span>
287:               <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">flatten!</span>
288:           <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">%r!^[|,]!</span>
289:               <span class="ruby-identifier">last</span> = <span class="ruby-identifier">expr</span> = <span class="ruby-value str">&quot; #$'&quot;</span>
290:               <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">shift</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">self</span>
291:               <span class="ruby-identifier">done</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">nodes</span>
292:               <span class="ruby-identifier">nodes</span> = [<span class="ruby-keyword kw">self</span>]
293:           <span class="ruby-keyword kw">else</span>
294:               <span class="ruby-identifier">m</span> = <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp re">%r!^([#.]?)([a-z0-9\\*_-]*)!i</span>).<span class="ruby-identifier">to_a</span>
295:               <span class="ruby-identifier">after</span> = <span class="ruby-identifier">$'</span>
296:               <span class="ruby-identifier">mt</span> = <span class="ruby-identifier">after</span>[<span class="ruby-regexp re">%r!:[a-z0-9\\*_-]+!i</span>, <span class="ruby-value">0</span>]
297:               <span class="ruby-identifier">oop</span> = <span class="ruby-keyword kw">false</span>
298:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mt</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> (<span class="ruby-identifier">mt</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;:not&quot;</span> <span class="ruby-keyword kw">or</span> <span class="ruby-constant">Traverse</span>.<span class="ruby-identifier">method_defined?</span> <span class="ruby-node">&quot;filter[#{mt}]&quot;</span>)
299:                 <span class="ruby-identifier">after</span> = <span class="ruby-identifier">$'</span>
300:                 <span class="ruby-identifier">m</span>[<span class="ruby-value">2</span>] <span class="ruby-operator">+=</span> <span class="ruby-identifier">mt</span>
301:                 <span class="ruby-identifier">expr</span> = <span class="ruby-identifier">after</span>
302:               <span class="ruby-keyword kw">end</span>
303:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">m</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'#'</span>
304:                   <span class="ruby-identifier">oid</span> = <span class="ruby-identifier">get_element_by_id</span>(<span class="ruby-identifier">m</span>[<span class="ruby-value">2</span>])
305:                   <span class="ruby-identifier">nodes</span> = <span class="ruby-identifier">oid</span> <span class="ruby-value">? </span>[<span class="ruby-identifier">oid</span>] <span class="ruby-operator">:</span> []
306:                   <span class="ruby-identifier">expr</span> = <span class="ruby-identifier">after</span>
307:               <span class="ruby-keyword kw">else</span>
308:                   <span class="ruby-identifier">m</span>[<span class="ruby-value">2</span>] = <span class="ruby-value str">&quot;*&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">after</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^\(\)/</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">m</span>[<span class="ruby-value">2</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">m</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;.&quot;</span>
309:                   <span class="ruby-identifier">ret</span> = []
310:                   <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
311:                       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">m</span>[<span class="ruby-value">2</span>]
312:                       <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'*'</span>
313:                           <span class="ruby-identifier">node</span>.<span class="ruby-identifier">traverse_element</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">ret</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">n</span> }
314:                       <span class="ruby-keyword kw">else</span>
315:                           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-identifier">:get_elements_by_tag_name</span>
316:                             <span class="ruby-identifier">ret</span> <span class="ruby-operator">+=</span> [<span class="ruby-operator">*</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">get_elements_by_tag_name</span>(<span class="ruby-identifier">m</span>[<span class="ruby-value">2</span>])] <span class="ruby-operator">-</span> [<span class="ruby-operator">*</span>(<span class="ruby-identifier">node</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">last</span>)]
317:                           <span class="ruby-keyword kw">end</span>
318:                       <span class="ruby-keyword kw">end</span>
319:                   <span class="ruby-keyword kw">end</span>
320:                   <span class="ruby-identifier">nodes</span> = <span class="ruby-identifier">ret</span>
321:               <span class="ruby-keyword kw">end</span>
322:               <span class="ruby-identifier">last</span> = <span class="ruby-keyword kw">nil</span>
323:           <span class="ruby-keyword kw">end</span>
324: 
325:           <span class="ruby-identifier">hist</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">expr</span>
326:           <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">hist</span>[<span class="ruby-value">-1</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">hist</span>[<span class="ruby-value">-2</span>]
327:           <span class="ruby-identifier">nodes</span>, <span class="ruby-identifier">expr</span> = <span class="ruby-constant">Elements</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-identifier">nodes</span>, <span class="ruby-identifier">expr</span>)
328:       <span class="ruby-keyword kw">end</span>
329:       <span class="ruby-identifier">nodes</span> = <span class="ruby-identifier">done</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>
330:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">blk</span>
331:           <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
332:           <span class="ruby-keyword kw">self</span>
333:       <span class="ruby-keyword kw">else</span>
334:           <span class="ruby-constant">Elements</span>[<span class="ruby-operator">*</span><span class="ruby-identifier">nodes</span>]
335:       <span class="ruby-keyword kw">end</span>
336:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000080">
                    
                    <a name="M000080"></a><b>swap</b>(html = nil, &amp;blk)
                    
                </div>
                
                <div class="description">
                  <p>
Replace this element and its contents with the nodes contained in the
<tt>html</tt> string.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000080_source')" id="l_M000080_source">show</a>
                        
                    </p>
                    <div id="M000080_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 133</span>
133:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">swap</span>(<span class="ruby-identifier">html</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
134:       <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">altered!</span>
135:       <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">replace_child</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">make</span>(<span class="ruby-identifier">html</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>))
136:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000060">
                    
                    <a name="M000060"></a><b>text?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Is this object an HTML text node?
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000060_source')" id="l_M000060_source">show</a>
                        
                    </p>
                    <div id="M000060_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 11</span>
11:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">text?</span>() <span class="ruby-constant">Text</span><span class="ruby-operator">::</span><span class="ruby-constant">Trav</span> <span class="ruby-operator">===</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000067">
                    
                    <a name="M000067"></a><b>to_html</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Builds an HTML string from this node and its contents. If you need to write
to a stream, try calling <tt>output(io)</tt> as a method on this object.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Traverse.html#M000068">to_s</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000067_source')" id="l_M000067_source">show</a>
                        
                    </p>
                    <div id="M000067_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 36</span>
36:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_html</span>
37:       <span class="ruby-identifier">output</span>(<span class="ruby-value str">&quot;&quot;</span>)
38:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000069">
                    
                    <a name="M000069"></a><b>to_original_html</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Attempts to preserve the original HTML of the document, only outputing new
tags for elements which have changed.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000069_source')" id="l_M000069_source">show</a>
                        
                    </p>
                    <div id="M000069_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 43</span>
43:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_original_html</span>
44:       <span class="ruby-identifier">output</span>(<span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">:preserve</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
45:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000082">
                    
                    <a name="M000082"></a><b>to_plain_text</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Builds a string from the text contained in this node. All HTML elements are
removed.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000082_source')" id="l_M000082_source">show</a>
                        
                    </p>
                    <div id="M000082_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 148</span>
148:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_plain_text</span>
149:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:children</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">children</span>
150:         <span class="ruby-identifier">children</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">to_plain_text</span> }.<span class="ruby-identifier">join</span>.<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\n{2,}/</span>, <span class="ruby-value str">&quot;\n\n&quot;</span>)
151:       <span class="ruby-keyword kw">else</span>
152:         <span class="ruby-value str">&quot;&quot;</span>
153:       <span class="ruby-keyword kw">end</span>
154:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000068">
                    
                    <a name="M000068"></a><b>to_s</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Traverse.html#M000067">to_html</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000100">
                    
                    <a name="M000100"></a><b>traverse_element</b>(*names)
                    
                </div>
                
                <div class="description">
                  <p>
<tt><a href="Traverse.html#M000100">traverse_element</a></tt> traverses
elements in the tree. It yields elements in depth first order.
</p>
<p>
If <em>names</em> are empty, it yields all elements. If non-empty
<em>names</em> are given, it should be list of universal names.
</p>
<p>
A nested element is yielded in depth first order as follows.
</p>
<pre>
  t = Hpricot('&lt;a id=0&gt;&lt;b&gt;&lt;a id=1 /&gt;&lt;/b&gt;&lt;c id=2 /&gt;&lt;/a&gt;')
  t.traverse_element(&quot;a&quot;, &quot;c&quot;) {|e| p e}
  # =&gt;
  {elem &lt;a id=&quot;0&quot;&gt; {elem &lt;b&gt; {emptyelem &lt;a id=&quot;1&quot;&gt;} &lt;/b&gt;} {emptyelem &lt;c id=&quot;2&quot;&gt;} &lt;/a&gt;}
  {emptyelem &lt;a id=&quot;1&quot;&gt;}
  {emptyelem &lt;c id=&quot;2&quot;&gt;}
</pre>
<p>
Universal names are specified as follows.
</p>
<pre>
  t = Hpricot(&lt;&lt;'End')
  &lt;html&gt;
  &lt;meta name=&quot;robots&quot; content=&quot;index,nofollow&quot;&gt;
  &lt;meta name=&quot;author&quot; content=&quot;Who am I?&quot;&gt;
  &lt;/html&gt;
  End
  t.traverse_element(&quot;{http://www.w3.org/1999/xhtml}meta&quot;) {|e| p e}
  # =&gt;
  {emptyelem &lt;{http://www.w3.org/1999/xhtml}meta name=&quot;robots&quot; content=&quot;index,nofollow&quot;&gt;}
  {emptyelem &lt;{http://www.w3.org/1999/xhtml}meta name=&quot;author&quot; content=&quot;Who am I?&quot;&gt;}
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000100_source')" id="l_M000100_source">show</a>
                        
                    </p>
                    <div id="M000100_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 374</span>
374:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">traverse_element</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">names</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt"># :yields: element</span>
375:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">names</span>.<span class="ruby-identifier">empty?</span>
376:         <span class="ruby-identifier">traverse_all_element</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
377:       <span class="ruby-keyword kw">else</span>
378:         <span class="ruby-identifier">name_set</span> = {}
379:         <span class="ruby-identifier">names</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">name_set</span>[<span class="ruby-identifier">n</span>] = <span class="ruby-keyword kw">true</span> }
380:         <span class="ruby-identifier">traverse_some_element</span>(<span class="ruby-identifier">name_set</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
381:       <span class="ruby-keyword kw">end</span>
382:       <span class="ruby-keyword kw">nil</span>
383:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000124">
                    
                    <a name="M000124"></a><b>traverse_text</b>()
                    
                </div>
                
                <div class="description">
                  <p>
<tt><a href="Traverse.html#M000124">traverse_text</a></tt> traverses texts
in the tree
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000124_source')" id="l_M000124_source">show</a>
                        
                    </p>
                    <div id="M000124_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 680</span>
680:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">traverse_text</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt"># :yields: text</span>
681:       <span class="ruby-identifier">traverse_text_internal</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
682:       <span class="ruby-keyword kw">nil</span>
683:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000061">
                    
                    <a name="M000061"></a><b>xmldecl?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Is this object an XML declaration?
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000061_source')" id="l_M000061_source">show</a>
                        
                    </p>
                    <div id="M000061_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 13</span>
13:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">xmldecl?</span>() <span class="ruby-constant">XMLDecl</span><span class="ruby-operator">::</span><span class="ruby-constant">Trav</span> <span class="ruby-operator">===</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000092">
                    
                    <a name="M000092"></a><b>xpath</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Builds a unique XPath string for this node, from the root of the document
containing it.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000092_source')" id="l_M000092_source">show</a>
                        
                    </p>
                    <div id="M000092_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 209</span>
209:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">xpath</span>
210:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">elem?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">has_attribute?</span> <span class="ruby-value str">'id'</span>
211:         <span class="ruby-node">&quot;//#{self.name}[@id='#{get_attribute('id')}']&quot;</span>
212:       <span class="ruby-keyword kw">else</span>
213:         <span class="ruby-identifier">sim</span>, <span class="ruby-identifier">id</span> = <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>
214:         <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
215:           <span class="ruby-identifier">id</span> = <span class="ruby-identifier">sim</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">e</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">self</span>
216:           <span class="ruby-identifier">sim</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">pathname</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">pathname</span>
217:         <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">children</span>
218:         <span class="ruby-identifier">p</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">xpath</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">pathname</span>)
219:         <span class="ruby-identifier">p</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;[#{id+1}]&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sim</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">2</span>
220:         <span class="ruby-identifier">p</span>
221:       <span class="ruby-keyword kw">end</span>
222:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M000090">
                    
                    <a name="M000090"></a><b>reparent</b>(nodes)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000090_source')" id="l_M000090_source">show</a>
                        
                    </p>
                    <div id="M000090_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hpricot/traverse.rb, line 196</span>
196:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reparent</span>(<span class="ruby-identifier">nodes</span>)
197:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">nodes</span>
198:       <span class="ruby-identifier">altered!</span>
199:       [<span class="ruby-operator">*</span><span class="ruby-identifier">nodes</span>].<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">parent</span> = <span class="ruby-keyword kw">self</span> }
200:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    