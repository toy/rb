<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ChunkyPNG::Canvas::Operations</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            ChunkyPNG::Canvas::Operations 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/chunky_png/canvas/operations_rb.html">lib/chunky_png/canvas/operations.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
The <a href="Operations.html">ChunkyPNG::Canvas::Operations</a> module
defines methods to perform operations on a {ChunkyPNG::Canvas}. The module
is included into the <a href="../Canvas.html">Canvas</a> class so all these
methods are available on every canvas.
</p>
<p>
Note that some of these operations modify the canvas, while some operations
return a new canvas and leave the original intact.
</p>
<p>
@see <a href="../Canvas.html">ChunkyPNG::Canvas</a>
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000045">check_size_constraints!</a>,</li>
                
                <li><a href="#M000021">compose</a>,</li>
                
                <li><a href="#M000020">compose!</a>,</li>
                
                <li><a href="#M000025">crop</a>,</li>
                
                <li><a href="#M000026">crop!</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000030">flip</a>,</li>
                
                <li><a href="#M000029">flip!</a>,</li>
                
                <li><a href="#M000027">flip_horizontally</a>,</li>
                
                <li><a href="#M000028">flip_horizontally!</a>,</li>
                
                <li><a href="#M000031">flip_vertically</a>,</li>
                
                <li><a href="#M000032">flip_vertically!</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M000019">grayscale</a>,</li>
                
                <li><a href="#M000018">grayscale!</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000034">mirror</a>,</li>
                
                <li><a href="#M000033">mirror!</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000024">replace</a>,</li>
                
                <li><a href="#M000022">replace!</a>,</li>
                
                <li><a href="#M000043">rotate_180</a>,</li>
                
                <li><a href="#M000044">rotate_180!</a>,</li>
                
                <li><a href="#M000037">rotate_clockwise</a>,</li>
                
                <li><a href="#M000038">rotate_clockwise!</a>,</li>
                
                <li><a href="#M000041">rotate_counter_clockwise</a>,</li>
                
                <li><a href="#M000042">rotate_counter_clockwise!</a>,</li>
                
                <li><a href="#M000039">rotate_left</a>,</li>
                
                <li><a href="#M000040">rotate_left!</a>,</li>
                
                <li><a href="#M000035">rotate_right</a>,</li>
                
                <li><a href="#M000036">rotate_right!</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000021">
                    
                    <a name="M000021"></a><b>compose</b>(other, offset_x = 0, offset_y = 0)
                    
                </div>
                
                <div class="description">
                  <p>
Composes another image onto this image using alpha blending. This will
return a new canvas and leave the original intact.
</p>
<p>
If you simply want to replace pixels or when the other image does not have
transparency, it is faster to use {<a
href="Operations.html#M000024">replace</a>}.
</p>
<p>
@param (see <a href="Operations.html#M000020">compose!</a>) @return
[ChunkyPNG::Canvas] Returns the new canvas, composed of the other 2. @raise
[ChunkyPNG::OutOfBounds] when the other canvas doesn&#8217;t fit on this
one,
</p>
<pre>
    given the offset and size of the other canvas.
</pre>
<p>
@note API changed since 1.0 - This method now no longer is in place, but
returns
</p>
<pre>
    a new canvas and leaves the original intact. Use {#compose!} if you want to
    compose on the canvas in place.
</pre>
<p>
@see <a href="Operations.html#M000024">replace</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000021_source')" id="l_M000021_source">show</a>
                        
                    </p>
                    <div id="M000021_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 80</span>
80:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">compose</span>(<span class="ruby-identifier">other</span>, <span class="ruby-identifier">offset_x</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">offset_y</span> = <span class="ruby-value">0</span>)
81:         <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">compose!</span>(<span class="ruby-identifier">other</span>, <span class="ruby-identifier">offset_x</span>, <span class="ruby-identifier">offset_y</span>)
82:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000020">
                    
                    <a name="M000020"></a><b>compose!</b>(other, offset_x = 0, offset_y = 0)
                    
                </div>
                
                <div class="description">
                  <p>
Composes another image onto this image using alpha blending. This will
modify the current canvas.
</p>
<p>
If you simply want to replace pixels or when the other image does not have
transparency, it is faster to use {<a
href="Operations.html#M000022">replace!</a>}.
</p>
<p>
@param [ChunkyPNG::Canvas] other The foreground canvas to compose on the
</p>
<pre>
    current canvas, using alpha compositing.
</pre>
<p>
@param [Integer] offset_x The x-offset to apply the new foreground on.
@param [Integer] offset_y The y-offset to apply the new foreground on.
@return [ChunkyPNG::Canvas] Returns itself, but with the other canvas
composed onto it. @raise [ChunkyPNG::OutOfBounds] when the other canvas
doesn&#8217;t fit on this one,
</p>
<pre>
    given the offset and size of the other canvas.
</pre>
<p>
@see <a href="Operations.html#M000022">replace!</a> @see <a
href="Operations.html#M000021">compose</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000020_source')" id="l_M000020_source">show</a>
                        
                    </p>
                    <div id="M000020_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 54</span>
54:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">compose!</span>(<span class="ruby-identifier">other</span>, <span class="ruby-identifier">offset_x</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">offset_y</span> = <span class="ruby-value">0</span>)
55:         <span class="ruby-identifier">check_size_constraints!</span>(<span class="ruby-identifier">other</span>, <span class="ruby-identifier">offset_x</span>, <span class="ruby-identifier">offset_y</span>)
56: 
57:         <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">y</span> <span class="ruby-keyword kw">in</span> <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">other</span>.<span class="ruby-identifier">height</span> <span class="ruby-keyword kw">do</span>
58:           <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">x</span> <span class="ruby-keyword kw">in</span> <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">other</span>.<span class="ruby-identifier">width</span> <span class="ruby-keyword kw">do</span>
59:             <span class="ruby-identifier">set_pixel</span>(<span class="ruby-identifier">x</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">offset_x</span>, <span class="ruby-identifier">y</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">offset_y</span>, <span class="ruby-constant">ChunkyPNG</span><span class="ruby-operator">::</span><span class="ruby-constant">Color</span>.<span class="ruby-identifier">compose</span>(<span class="ruby-identifier">other</span>.<span class="ruby-identifier">get_pixel</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>), <span class="ruby-identifier">get_pixel</span>(<span class="ruby-identifier">x</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">offset_x</span>, <span class="ruby-identifier">y</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">offset_y</span>)))
60:           <span class="ruby-keyword kw">end</span>
61:         <span class="ruby-keyword kw">end</span>
62:         <span class="ruby-keyword kw">self</span>
63:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000025">
                    
                    <a name="M000025"></a><b>crop</b>(x, y, crop_width, crop_height)
                    
                </div>
                
                <div class="description">
                  <p>
Crops an image, given the coordinates and size of the image that needs to
be cut out. This will leave the original image intact and return a new,
cropped image with pixels copied from the original image.
</p>
<p>
@param [Integer] x The x-coordinate of the top left corner of the image to
be cropped. @param [Integer] y The y-coordinate of the top left corner of
the image to be cropped. @param [Integer] crop_width The width of the image
to be cropped. @param [Integer] crop_height The height of the image to be
cropped. @return [ChunkyPNG::Canvas] Returns the newly created cropped
image. @raise [ChunkyPNG::OutOfBounds] when the crop dimensions plus the
given coordinates
</p>
<pre>
    are bigger then the original image.
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000025_source')" id="l_M000025_source">show</a>
                        
                    </p>
                    <div id="M000025_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 139</span>
139:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">crop</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">crop_width</span>, <span class="ruby-identifier">crop_height</span>)
140:         <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">crop!</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">crop_width</span>, <span class="ruby-identifier">crop_height</span>)
141:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000026">
                    
                    <a name="M000026"></a><b>crop!</b>(x, y, crop_width, crop_height)
                    
                </div>
                
                <div class="description">
                  <p>
Crops an image, given the coordinates and size of the image that needs to
be cut out.
</p>
<p>
This will change the size and content of the current canvas. Use {<a
href="Operations.html#M000025">crop</a>} if you want to have a new canvas
returned instead, leaving the current canvas intact.
</p>
<p>
@param [Integer] x The x-coordinate of the top left corner of the image to
be cropped. @param [Integer] y The y-coordinate of the top left corner of
the image to be cropped. @param [Integer] crop_width The width of the image
to be cropped. @param [Integer] crop_height The height of the image to be
cropped. @return [ChunkyPNG::Canvas] Returns itself, but cropped. @raise
[ChunkyPNG::OutOfBounds] when the crop dimensions plus the given
coordinates
</p>
<pre>
    are bigger then the original image.
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000026_source')" id="l_M000026_source">show</a>
                        
                    </p>
                    <div id="M000026_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 155</span>
155:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">crop!</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>, <span class="ruby-identifier">crop_width</span>, <span class="ruby-identifier">crop_height</span>)
156:         
157:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ChunkyPNG</span><span class="ruby-operator">::</span><span class="ruby-constant">OutOfBounds</span>, <span class="ruby-value str">&quot;Image width is too small!&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">crop_width</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">width</span>
158:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ChunkyPNG</span><span class="ruby-operator">::</span><span class="ruby-constant">OutOfBounds</span>, <span class="ruby-value str">&quot;Image width is too small!&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">crop_height</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">y</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">height</span>
159:         
160:         <span class="ruby-identifier">new_pixels</span> = []
161:         <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">cy</span> <span class="ruby-keyword kw">in</span> <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">crop_height</span> <span class="ruby-keyword kw">do</span>
162:           <span class="ruby-identifier">new_pixels</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">pixels</span>.<span class="ruby-identifier">slice</span>((<span class="ruby-identifier">cy</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">y</span>) <span class="ruby-operator">*</span> <span class="ruby-identifier">width</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">x</span>, <span class="ruby-identifier">crop_width</span>)
163:         <span class="ruby-keyword kw">end</span>
164:         <span class="ruby-identifier">replace_canvas!</span>(<span class="ruby-identifier">crop_width</span>, <span class="ruby-identifier">crop_height</span>, <span class="ruby-identifier">new_pixels</span>)
165:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000030">
                    
                    <a name="M000030"></a><b>flip</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Operations.html#M000027">flip_horizontally</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000029">
                    
                    <a name="M000029"></a><b>flip!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Operations.html#M000028">flip_horizontally!</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000027">
                    
                    <a name="M000027"></a><b>flip_horizontally</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Flips the image horizontally, leaving the original intact.
</p>
<p>
This will flip the image on its horizontal axis, e.g. pixels on the top
will now be pixels on the bottom. Chaining this method twice will return
the original canvas. This method will leave the original object intact and
return a new canvas.
</p>
<p>
@return [ChunkyPNG::Canvas] The flipped image @see <a
href="Operations.html#M000028">flip_horizontally!</a>
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Operations.html#M000030">flip</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000027_source')" id="l_M000027_source">show</a>
                        
                    </p>
                    <div id="M000027_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 175</span>
175:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">flip_horizontally</span>
176:         <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">flip_horizontally!</span>
177:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000028">
                    
                    <a name="M000028"></a><b>flip_horizontally!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Flips the image horizontally in place.
</p>
<p>
This will flip the image on its horizontal axis, e.g. pixels on the top
will now be pixels on the bottom. Chaining this method twice will return
the original canvas. This method will leave the original object intact and
return a new canvas.
</p>
<p>
@return [ChunkyPNG::Canvas] Itself, but flipped @see <a
href="Operations.html#M000027">flip_horizontally</a>
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Operations.html#M000029">flip!</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000028_source')" id="l_M000028_source">show</a>
                        
                    </p>
                    <div id="M000028_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 187</span>
187:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">flip_horizontally!</span>
188:         <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">y</span> <span class="ruby-keyword kw">in</span> <span class="ruby-value">0</span><span class="ruby-operator">..</span>((<span class="ruby-identifier">height</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-value">1</span>) <span class="ruby-keyword kw">do</span>
189:           <span class="ruby-identifier">other_y</span>   = <span class="ruby-identifier">height</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">y</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
190:           <span class="ruby-identifier">other_row</span> = <span class="ruby-identifier">row</span>(<span class="ruby-identifier">other_y</span>)
191:           <span class="ruby-identifier">replace_row!</span>(<span class="ruby-identifier">other_y</span>, <span class="ruby-identifier">row</span>(<span class="ruby-identifier">y</span>))
192:           <span class="ruby-identifier">replace_row!</span>(<span class="ruby-identifier">y</span>, <span class="ruby-identifier">other_row</span>)
193:         <span class="ruby-keyword kw">end</span>
194:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>
195:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000031">
                    
                    <a name="M000031"></a><b>flip_vertically</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Flips the image vertically, leaving the original intact.
</p>
<p>
This will flip the image on its vertical axis, e.g. pixels on the left will
now be pixels on the right. Chaining this method twice will return the
original canvas. This method will leave the original object intact and
return a new canvas.
</p>
<p>
@return [ChunkyPNG::Canvas] The flipped image @see <a
href="Operations.html#M000032">flip_vertically!</a>
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Operations.html#M000034">mirror</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000031_source')" id="l_M000031_source">show</a>
                        
                    </p>
                    <div id="M000031_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 208</span>
208:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">flip_vertically</span>
209:         <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">flip_vertically!</span>
210:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000032">
                    
                    <a name="M000032"></a><b>flip_vertically!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Flips the image vertically in place.
</p>
<p>
This will flip the image on its vertical axis, e.g. pixels on the left will
now be pixels on the right. Chaining this method twice will return the
original canvas. This method will leave the original object intact and
return a new canvas.
</p>
<p>
@return [ChunkyPNG::Canvas] Itself, but flipped @see <a
href="Operations.html#M000031">flip_vertically</a>
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Operations.html#M000033">mirror!</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000032_source')" id="l_M000032_source">show</a>
                        
                    </p>
                    <div id="M000032_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 220</span>
220:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">flip_vertically!</span>
221:         <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">y</span> <span class="ruby-keyword kw">in</span> <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">height</span> <span class="ruby-keyword kw">do</span>
222:           <span class="ruby-identifier">replace_row!</span>(<span class="ruby-identifier">y</span>, <span class="ruby-identifier">row</span>(<span class="ruby-identifier">y</span>).<span class="ruby-identifier">reverse</span>)
223:         <span class="ruby-keyword kw">end</span>
224:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>
225:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000019">
                    
                    <a name="M000019"></a><b>grayscale</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Converts the canvas to grascale, returning a new canvas.
</p>
<p>
This method will not modify the canvas. To modift the current canvas, use
{<a href="Operations.html#M000018">grayscale!</a>} instead.
</p>
<p>
@return [ChunkyPNG::Canvas] A copy of the canvas, converted to grasycale.
@see {<a href="Operations.html#M000018">grayscale!</a>} @see {<a
href="../Color.html#M000227">ChunkyPNG::Color#to_grayscale</a>}
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000019_source')" id="l_M000019_source">show</a>
                        
                    </p>
                    <div id="M000019_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 35</span>
35:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">grayscale</span>
36:         <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">grayscale!</span>
37:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000018">
                    
                    <a name="M000018"></a><b>grayscale!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Converts the canvas to grascale.
</p>
<p>
This method will modify the canvas. The obtain a new canvas and leave the
current instance intact, use {<a
href="Operations.html#M000019">grayscale</a>} instead.
</p>
<p>
@return [ChunkyPNG::Canvas] Returns itself, converted to grayscale. @see
{<a href="Operations.html#M000019">grayscale</a>} @see {<a
href="../Color.html#M000227">ChunkyPNG::Color#to_grayscale</a>}
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000018_source')" id="l_M000018_source">show</a>
                        
                    </p>
                    <div id="M000018_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 22</span>
22:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">grayscale!</span>
23:         <span class="ruby-identifier">pixels</span>.<span class="ruby-identifier">map!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">pixel</span><span class="ruby-operator">|</span> <span class="ruby-constant">ChunkyPNG</span><span class="ruby-operator">::</span><span class="ruby-constant">Color</span>.<span class="ruby-identifier">to_grayscale</span>(<span class="ruby-identifier">pixel</span>) }
24:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>
25:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000034">
                    
                    <a name="M000034"></a><b>mirror</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Operations.html#M000031">flip_vertically</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000033">
                    
                    <a name="M000033"></a><b>mirror!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Operations.html#M000032">flip_vertically!</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000024">
                    
                    <a name="M000024"></a><b>replace</b>(other, offset_x = 0, offset_y = 0)
                    
                </div>
                
                <div class="description">
                  <p>
Replaces pixels on this image by pixels from another pixels, on a given
offset. This method will modify the current canvas.
</p>
<p>
This will completely replace the pixels of the background image. If you
want to blend them with semi-transparent pixels from the foreground image,
see {<a href="Operations.html#M000020">compose!</a>}.
</p>
<p>
@param (see <a href="Operations.html#M000022">replace!</a>) @return
[ChunkyPNG::Canvas] Returns a new, combined canvas. @raise
[ChunkyPNG::OutOfBounds] when the other canvas doesn&#8217;t fit on this
one,
</p>
<pre>
    given the offset and size of the other canvas.
</pre>
<p>
@note API changed since 1.0 - This method now no longer is in place, but
returns
</p>
<pre>
    a new canvas and leaves the original intact. Use {#replace!} if you want to
    replace pixels on the canvas in place.
</pre>
<p>
@see <a href="Operations.html#M000021">compose</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000024_source')" id="l_M000024_source">show</a>
                        
                    </p>
                    <div id="M000024_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 124</span>
124:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">replace</span>(<span class="ruby-identifier">other</span>, <span class="ruby-identifier">offset_x</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">offset_y</span> = <span class="ruby-value">0</span>)
125:         <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">replace!</span>(<span class="ruby-identifier">other</span>, <span class="ruby-identifier">offset_x</span>, <span class="ruby-identifier">offset_y</span>)
126:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000022">
                    
                    <a name="M000022"></a><b>replace!</b>(other, offset_x = 0, offset_y = 0)
                    
                </div>
                
                <div class="description">
                  <p>
Replaces pixels on this image by pixels from another pixels, on a given
offset. This method will modify the current canvas.
</p>
<p>
This will completely replace the pixels of the background image. If you
want to blend them with semi-transparent pixels from the foreground image,
see {<a href="Operations.html#M000020">compose!</a>}.
</p>
<p>
@param [ChunkyPNG::Canvas] other The foreground canvas to get the pixels
from. @param [Integer] offset_x The x-offset to apply the new foreground
on. @param [Integer] offset_y The y-offset to apply the new foreground on.
@return [ChunkyPNG::Canvas] Returns itself, but with the other canvas
placed onto it. @raise [ChunkyPNG::OutOfBounds] when the other canvas
doesn&#8217;t fit on this one,
</p>
<pre>
    given the offset and size of the other canvas.
</pre>
<p>
@see <a href="Operations.html#M000020">compose!</a> @see <a
href="Operations.html#M000024">replace</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000022_source')" id="l_M000022_source">show</a>
                        
                    </p>
                    <div id="M000022_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 98</span>
 98:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">replace!</span>(<span class="ruby-identifier">other</span>, <span class="ruby-identifier">offset_x</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">offset_y</span> = <span class="ruby-value">0</span>)
 99:         <span class="ruby-identifier">check_size_constraints!</span>(<span class="ruby-identifier">other</span>, <span class="ruby-identifier">offset_x</span>, <span class="ruby-identifier">offset_y</span>)
100: 
101:         <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">y</span> <span class="ruby-keyword kw">in</span> <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">other</span>.<span class="ruby-identifier">height</span> <span class="ruby-keyword kw">do</span>
102:           <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">d</span> <span class="ruby-keyword kw">in</span> <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">other</span>.<span class="ruby-identifier">width</span>
103:             <span class="ruby-identifier">pixels</span>[(<span class="ruby-identifier">y</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">offset_y</span>) <span class="ruby-operator">*</span> <span class="ruby-identifier">width</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">offset_x</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">d</span>] = <span class="ruby-identifier">other</span>.<span class="ruby-identifier">pixels</span>[<span class="ruby-identifier">y</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">width</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">d</span>]
104:           <span class="ruby-keyword kw">end</span>
105:         <span class="ruby-keyword kw">end</span>
106:         <span class="ruby-keyword kw">self</span>
107:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000043">
                    
                    <a name="M000043"></a><b>rotate_180</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Rotates the image 180 degrees. This method will leave the original object
intact and return a new canvas.
</p>
<p>
@return [ChunkyPNG::Canvas] The rotated image. @see <a
href="Operations.html#M000044">rotate_180!</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000043_source')" id="l_M000043_source">show</a>
                        
                    </p>
                    <div id="M000043_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 287</span>
287:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rotate_180</span>
288:         <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">rotate_180!</span>
289:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000044">
                    
                    <a name="M000044"></a><b>rotate_180!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Rotates the image 180 degrees in place.
</p>
<p>
@return [ChunkyPNG::Canvas] Itself, but rotated 180 degrees. @see <a
href="Operations.html#M000043">rotate_180</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000044_source')" id="l_M000044_source">show</a>
                        
                    </p>
                    <div id="M000044_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 295</span>
295:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rotate_180!</span>
296:         <span class="ruby-identifier">pixels</span>.<span class="ruby-identifier">reverse!</span>
297:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>
298:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000037">
                    
                    <a name="M000037"></a><b>rotate_clockwise</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Operations.html#M000035">rotate_right</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000038">
                    
                    <a name="M000038"></a><b>rotate_clockwise!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Operations.html#M000036">rotate_right!</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000041">
                    
                    <a name="M000041"></a><b>rotate_counter_clockwise</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Operations.html#M000039">rotate_left</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000042">
                    
                    <a name="M000042"></a><b>rotate_counter_clockwise!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Operations.html#M000040">rotate_left!</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000039">
                    
                    <a name="M000039"></a><b>rotate_left</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns an image that is rotated 90 degrees counter-clockwise.
</p>
<p>
This method will leave the original object intact and return a new canvas.
See {<a href="Operations.html#M000040">rotate_left!</a>} for the in place
version.
</p>
<p>
@return [ChunkyPNG::Canvas] A rotated copy of itself.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Operations.html#M000041">rotate_counter_clockwise</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000039_source')" id="l_M000039_source">show</a>
                        
                    </p>
                    <div id="M000039_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 262</span>
262:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rotate_left</span>
263:         <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">rotate_left!</span>
264:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000040">
                    
                    <a name="M000040"></a><b>rotate_left!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Rotates the image 90 degrees counter-clockwise in place.
</p>
<p>
This method will change the original canvas. See {<a
href="Operations.html#M000039">rotate_left</a>} for a version that leaves
the canvas intact and returns a new rotated canvas instead.
</p>
<p>
@return [ChunkyPNG::Canvas] Itself, but rotated.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Operations.html#M000042">rotate_counter_clockwise!</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000040_source')" id="l_M000040_source">show</a>
                        
                    </p>
                    <div id="M000040_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 273</span>
273:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rotate_left!</span>
274:         <span class="ruby-identifier">new_pixels</span> = []
275:         (<span class="ruby-identifier">width</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">downto</span>(<span class="ruby-value">0</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">new_pixels</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">column</span>(<span class="ruby-identifier">i</span>) }
276:         <span class="ruby-identifier">replace_canvas!</span>(<span class="ruby-identifier">height</span>, <span class="ruby-identifier">width</span>, <span class="ruby-identifier">new_pixels</span>)
277:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000035">
                    
                    <a name="M000035"></a><b>rotate_right</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a new canvas instance that is rotated 90 degrees clockwise.
</p>
<p>
This method will return a new canvas and leaves the original intact. See
{<a href="Operations.html#M000036">rotate_right!</a>} for the in place
version.
</p>
<p>
@return [ChunkyPNG::Canvas] A clockwise-rotated copy.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Operations.html#M000037">rotate_clockwise</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000035_source')" id="l_M000035_source">show</a>
                        
                    </p>
                    <div id="M000035_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 236</span>
236:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rotate_right</span>
237:         <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">rotate_right!</span>
238:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000036">
                    
                    <a name="M000036"></a><b>rotate_right!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Rotates the image 90 degrees clockwise in place.
</p>
<p>
This method will change the current canvas. See {<a
href="Operations.html#M000035">rotate_right</a>} for a version that leaves
th current canvas intact
</p>
<p>
@return [ChunkyPNG::Canvas] Itself, but rotated clockwise.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Operations.html#M000038">rotate_clockwise!</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000036_source')" id="l_M000036_source">show</a>
                        
                    </p>
                    <div id="M000036_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 246</span>
246:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rotate_right!</span>
247:         <span class="ruby-identifier">rotated</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">height</span>, <span class="ruby-identifier">width</span>)
248:         <span class="ruby-identifier">new_pixels</span> = []
249:         <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">width</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">new_pixels</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">column</span>(<span class="ruby-identifier">i</span>).<span class="ruby-identifier">reverse</span> }
250:         <span class="ruby-identifier">replace_canvas!</span>(<span class="ruby-identifier">height</span>, <span class="ruby-identifier">width</span>, <span class="ruby-identifier">new_pixels</span>)
251:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Protected methods</div>
            
            <div class="method">
                <div class="title" id="M000045">
                    
                    <a name="M000045"></a><b>check_size_constraints!</b>(other, offset_x, offset_y)
                    
                </div>
                
                <div class="description">
                  <p>
Checks whether another image has the correct dimension to be used for an
operation on the current image, given an offset coordinate to work with.
@param [ChunkyPNG::Canvas] other The other canvas @param [Integer] offset_x
The x offset on which the other image will be applied. @param [Integer]
offset_y The y offset on which the other image will be applied. @raise
[ChunkyPNG::OutOfBounds] when the other image doesn&#8217;t fit.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000045_source')" id="l_M000045_source">show</a>
                        
                    </p>
                    <div id="M000045_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chunky_png/canvas/operations.rb, line 308</span>
308:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_size_constraints!</span>(<span class="ruby-identifier">other</span>, <span class="ruby-identifier">offset_x</span>, <span class="ruby-identifier">offset_y</span>)
309:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ChunkyPNG</span><span class="ruby-operator">::</span><span class="ruby-constant">OutOfBounds</span>, <span class="ruby-value str">&quot;Background image width is too small!&quot;</span>  <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">width</span>  <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">width</span>  <span class="ruby-operator">+</span> <span class="ruby-identifier">offset_x</span>
310:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ChunkyPNG</span><span class="ruby-operator">::</span><span class="ruby-constant">OutOfBounds</span>, <span class="ruby-value str">&quot;Background image height is too small!&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">height</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">height</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">offset_y</span>
311:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    