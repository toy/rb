<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>RSpec::Mocks::MessageExpectation</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            RSpec::Mocks::MessageExpectation 
            
                <span class="parent">&lt; 
                    
                    Object
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/lib/rspec/mocks/message_expectation_rb.html">lib/rspec/mocks/message_expectation.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000175">actual_received_count_matters?</a>,</li>
                
                <li><a href="#M000156">advise</a>,</li>
                
                <li><a href="#M000129">and_raise</a>,</li>
                
                <li><a href="#M000124">and_return</a>,</li>
                
                <li><a href="#M000130">and_throw</a>,</li>
                
                <li><a href="#M000131">and_yield</a>,</li>
                
                <li><a href="#M000169">any_number_of_times</a>,</li>
                
                <li><a href="#M000166">at_least</a>,</li>
                
                <li><a href="#M000167">at_most</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M000122">build_child</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000142">called_max_times?</a>,</li>
                
                <li><a href="#M000191">clear_actual_received_count!</a>,</li>
                
                <li><a href="#M000185">clone_args_to_yield</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000180">eval_block</a>,</li>
                
                <li><a href="#M000164">exactly</a>,</li>
                
                <li><a href="#M000123">expected_args</a>,</li>
                
                <li><a href="#M000148">expected_messages_received?</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000186">failed_fast?</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M000159">generate_error</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000151">ignoring_args?</a>,</li>
                
                <li><a href="#M000176">increase_actual_received_count!</a>,</li>
                
                <li><a href="#M000137">invoke</a>,</li>
                
                <li><a href="#M000181">invoke_consecutive_return_block</a>,</li>
                
                <li><a href="#M000177">invoke_method_block</a>,</li>
                
                <li><a href="#M000184">invoke_return_block</a>,</li>
                
                <li><a href="#M000178">invoke_with_yield</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000136">matches?</a>,</li>
                
                <li><a href="#M000152">matches_at_least_count?</a>,</li>
                
                <li><a href="#M000153">matches_at_most_count?</a>,</li>
                
                <li><a href="#M000154">matches_exact_count?</a>,</li>
                
                <li><a href="#M000143">matches_name_but_not_args</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000174">negative_expectation_for?</a>,</li>
                
                <li><a href="#M000170">never</a>,</li>
                
                <li><a href="#M000121">new</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M000171">once</a>,</li>
                
                <li><a href="#M000173">ordered</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000187">set_expected_received_count</a>,</li>
                
                <li><a href="#M000155">similar_messages</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000168">times</a>,</li>
                
                <li><a href="#M000172">twice</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M000147">verify_messages_received</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M000163">with</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>sym</td>
            <td class='attr-desc'><p>
@private
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [W]
            </td>
            <td class='attr-name'>expected_received_count</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [W]
            </td>
            <td class='attr-name'>method_block</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [W]
            </td>
            <td class='attr-name'>expected_from</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>error_generator</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000175">
                    
                    <a name="M000175"></a><b>actual_received_count_matters?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000175_source')" id="l_M000175_source">show</a>
                        
                    </p>
                    <div id="M000175_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 405</span>
405:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">actual_received_count_matters?</span>
406:         <span class="ruby-ivar">@at_least</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@at_most</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@exactly</span>
407:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000156">
                    
                    <a name="M000156"></a><b>advise</b>(*args)
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000156_source')" id="l_M000156_source">show</a>
                        
                    </p>
                    <div id="M000156_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 254</span>
254:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">advise</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
255:         <span class="ruby-identifier">similar_messages</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">args</span>
256:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000129">
                    
                    <a name="M000129"></a><b>and_raise</b>(exception=Exception)
                    
                </div>
                
                <div class="description">
                  <p>
@overload <a href="MessageExpectation.html#M000129">and_raise</a> @overload
<a href="MessageExpectation.html#M000129">and_raise</a>(ExceptionClass)
@overload <a
href="MessageExpectation.html#M000129">and_raise</a>(exception_instance)
</p>
<p>
Tells the object to raise an exception when the message is received.
</p>
<p>
@note
</p>
<pre>
  When you pass an exception class, the MessageExpectation will raise
  an instance of it, creating it with `new`. If the exception class
  initializer requires any parameters, you must pass in an instance and
  not the class.
</pre>
<p>
@example
</p>
<pre>
  car.stub(:go).and_raise
  car.stub(:go).and_raise(OutOfGas)
  car.stub(:go).and_raise(OutOfGas.new(2, :oz))
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000129_source')" id="l_M000129_source">show</a>
                        
                    </p>
                    <div id="M000129_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 124</span>
124:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">and_raise</span>(<span class="ruby-identifier">exception</span>=<span class="ruby-constant">Exception</span>)
125:         <span class="ruby-ivar">@exception_to_raise</span> = <span class="ruby-identifier">exception</span>
126:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000124">
                    
                    <a name="M000124"></a><b>and_return</b>(*values, &amp;return_block)
                    
                </div>
                
                <div class="description">
                  <p>
@overload <a href="MessageExpectation.html#M000124">and_return</a>(value)
@overload <a
href="MessageExpectation.html#M000124">and_return</a>(first_value,
second_value) @overload <a
href="MessageExpectation.html#M000124">and_return</a>(&amp;block)
</p>
<p>
Tells the object to return a value when it receives the message. Given more
than one value, the first value is returned the first time the message is
received, the second value is returned the next time, etc, etc.
</p>
<p>
If the message is received more times than there are values, the last value
is received for every subsequent call.
</p>
<p>
The block format is still supported, but is unofficially deprecated in
favor of just passing a block to the stub method.
</p>
<p>
@example
</p>
<pre>
  counter.stub(:count).and_return(1)
  counter.count # =&gt; 1
  counter.count # =&gt; 1

  counter.stub(:count).and_return(1,2,3)
  counter.count # =&gt; 1
  counter.count # =&gt; 2
  counter.count # =&gt; 3
  counter.count # =&gt; 3
  counter.count # =&gt; 3
  # etc

  # Supported, but ...
  counter.stub(:count).and_return { 1 }
  counter.count # =&gt; 1

  # ... this is prefered
  counter.stub(:count) { 1 }
  counter.count # =&gt; 1
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000124_source')" id="l_M000124_source">show</a>
                        
                    </p>
                    <div id="M000124_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 92</span>
 92:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">and_return</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">values</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">return_block</span>)
 93:         <span class="ruby-constant">Kernel</span><span class="ruby-operator">::</span><span class="ruby-identifier">raise</span> <span class="ruby-constant">AmbiguousReturnError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@method_block</span>.<span class="ruby-identifier">nil?</span>
 94:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">size</span>
 95:         <span class="ruby-keyword kw">when</span> <span class="ruby-value">0</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">value</span> = <span class="ruby-keyword kw">nil</span>
 96:         <span class="ruby-keyword kw">when</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">value</span> = <span class="ruby-identifier">values</span>[<span class="ruby-value">0</span>]
 97:         <span class="ruby-keyword kw">else</span>
 98:           <span class="ruby-identifier">value</span> = <span class="ruby-identifier">values</span>
 99:           <span class="ruby-ivar">@consecutive</span> = <span class="ruby-keyword kw">true</span>
100:           <span class="ruby-ivar">@expected_received_count</span> = <span class="ruby-identifier">values</span>.<span class="ruby-identifier">size</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">ignoring_args?</span> <span class="ruby-operator">&amp;&amp;</span>
101:             <span class="ruby-ivar">@expected_received_count</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">size</span>
102:         <span class="ruby-keyword kw">end</span>
103:         <span class="ruby-ivar">@return_block</span> = <span class="ruby-identifier">block_given?</span> <span class="ruby-value">? </span><span class="ruby-identifier">return_block</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">lambda</span> { <span class="ruby-identifier">value</span> }
104:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000130">
                    
                    <a name="M000130"></a><b>and_throw</b>(symbol, object = nil)
                    
                </div>
                
                <div class="description">
                  <p>
@overload <a href="MessageExpectation.html#M000130">and_throw</a>(symbol)
@overload <a href="MessageExpectation.html#M000130">and_throw</a>(symbol,
object)
</p>
<p>
Tells the object to throw a symbol (with the object if that form is used)
when the message is received.
</p>
<p>
@example
</p>
<pre>
  car.stub(:go).and_throw(:out_of_gas)
  car.stub(:go).and_throw(:out_of_gas, :level =&gt; 0.1)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000130_source')" id="l_M000130_source">show</a>
                        
                    </p>
                    <div id="M000130_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 138</span>
138:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">and_throw</span>(<span class="ruby-identifier">symbol</span>, <span class="ruby-identifier">object</span> = <span class="ruby-keyword kw">nil</span>)
139:         <span class="ruby-ivar">@args_to_throw</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">symbol</span>
140:         <span class="ruby-ivar">@args_to_throw</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">object</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">object</span>
141:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000131">
                    
                    <a name="M000131"></a><b>and_yield</b>(*args, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Tells the object to yield one or more args to a block when the message is
received.
</p>
<p>
@example
</p>
<pre>
  stream.stub(:open).and_yield(StringIO.new)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000131_source')" id="l_M000131_source">show</a>
                        
                    </p>
                    <div id="M000131_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 149</span>
149:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">and_yield</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
150:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@args_to_yield_were_cloned</span>
151:           <span class="ruby-ivar">@args_to_yield</span>.<span class="ruby-identifier">clear</span>
152:           <span class="ruby-ivar">@args_to_yield_were_cloned</span> = <span class="ruby-keyword kw">false</span>
153:         <span class="ruby-keyword kw">end</span>
154: 
155:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
156:           <span class="ruby-ivar">@eval_context</span> = <span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>
157:           <span class="ruby-ivar">@eval_context</span>.<span class="ruby-identifier">extend</span> <span class="ruby-constant">RSpec</span><span class="ruby-operator">::</span><span class="ruby-constant">Mocks</span><span class="ruby-operator">::</span><span class="ruby-constant">InstanceExec</span>
158:           <span class="ruby-keyword kw">yield</span> <span class="ruby-ivar">@eval_context</span>
159:         <span class="ruby-keyword kw">end</span>
160: 
161:         <span class="ruby-ivar">@args_to_yield</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">args</span>
162:         <span class="ruby-keyword kw">self</span>
163:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000169">
                    
                    <a name="M000169"></a><b>any_number_of_times</b>(&amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Allows an expected message to be received any number of times.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000169_source')" id="l_M000169_source">show</a>
                        
                    </p>
                    <div id="M000169_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 347</span>
347:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">any_number_of_times</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
348:         <span class="ruby-ivar">@method_block</span> = <span class="ruby-identifier">block</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
349:         <span class="ruby-ivar">@expected_received_count</span> = <span class="ruby-identifier">:any</span>
350:         <span class="ruby-keyword kw">self</span>
351:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000166">
                    
                    <a name="M000166"></a><b>at_least</b>(n, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Constrain a message expectation to be received at least a specific number
of times.
</p>
<p>
@example
</p>
<pre>
  dealer.should_recieve(:deal_card).at_least(9).times
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000166_source')" id="l_M000166_source">show</a>
                        
                    </p>
                    <div id="M000166_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 315</span>
315:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">at_least</span>(<span class="ruby-identifier">n</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
316:         <span class="ruby-ivar">@method_block</span> = <span class="ruby-identifier">block</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
317:         <span class="ruby-identifier">set_expected_received_count</span> <span class="ruby-identifier">:at_least</span>, <span class="ruby-identifier">n</span>
318:         <span class="ruby-keyword kw">self</span>
319:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000167">
                    
                    <a name="M000167"></a><b>at_most</b>(n, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Constrain a message expectation to be received at most a specific number of
times.
</p>
<p>
@example
</p>
<pre>
  dealer.should_recieve(:deal_card).at_most(10).times
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000167_source')" id="l_M000167_source">show</a>
                        
                    </p>
                    <div id="M000167_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 327</span>
327:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">at_most</span>(<span class="ruby-identifier">n</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
328:         <span class="ruby-ivar">@method_block</span> = <span class="ruby-identifier">block</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
329:         <span class="ruby-identifier">set_expected_received_count</span> <span class="ruby-identifier">:at_most</span>, <span class="ruby-identifier">n</span>
330:         <span class="ruby-keyword kw">self</span>
331:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000122">
                    
                    <a name="M000122"></a><b>build_child</b>(expected_from, method_block, expected_received_count, opts={})
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000122_source')" id="l_M000122_source">show</a>
                        
                    </p>
                    <div id="M000122_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 38</span>
38:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build_child</span>(<span class="ruby-identifier">expected_from</span>, <span class="ruby-identifier">method_block</span>, <span class="ruby-identifier">expected_received_count</span>, <span class="ruby-identifier">opts</span>={})
39:         <span class="ruby-identifier">child</span> = <span class="ruby-identifier">clone</span>
40:         <span class="ruby-identifier">child</span>.<span class="ruby-identifier">expected_from</span> = <span class="ruby-identifier">expected_from</span>
41:         <span class="ruby-identifier">child</span>.<span class="ruby-identifier">method_block</span> = <span class="ruby-identifier">method_block</span>
42:         <span class="ruby-identifier">child</span>.<span class="ruby-identifier">expected_received_count</span> = <span class="ruby-identifier">expected_received_count</span>
43:         <span class="ruby-identifier">child</span>.<span class="ruby-identifier">clear_actual_received_count!</span>
44:         <span class="ruby-identifier">new_gen</span> = <span class="ruby-identifier">error_generator</span>.<span class="ruby-identifier">clone</span>
45:         <span class="ruby-identifier">new_gen</span>.<span class="ruby-identifier">opts</span> = <span class="ruby-identifier">opts</span>
46:         <span class="ruby-identifier">child</span>.<span class="ruby-identifier">error_generator</span> = <span class="ruby-identifier">new_gen</span>
47:         <span class="ruby-identifier">child</span>.<span class="ruby-identifier">clone_args_to_yield</span>(<span class="ruby-operator">*</span><span class="ruby-ivar">@args_to_yield</span>)
48:         <span class="ruby-identifier">child</span>
49:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000142">
                    
                    <a name="M000142"></a><b>called_max_times?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000142_source')" id="l_M000142_source">show</a>
                        
                    </p>
                    <div id="M000142_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 205</span>
205:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">called_max_times?</span>
206:         <span class="ruby-ivar">@expected_received_count</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">:any</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@expected_received_count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">&amp;&amp;</span>
207:           <span class="ruby-ivar">@actual_received_count</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-ivar">@expected_received_count</span>
208:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000164">
                    
                    <a name="M000164"></a><b>exactly</b>(n, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Constrain a message expectation to be received a specific number of times.
</p>
<p>
@example
</p>
<pre>
  dealer.should_recieve(:deal_card).exactly(10).times
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000164_source')" id="l_M000164_source">show</a>
                        
                    </p>
                    <div id="M000164_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 303</span>
303:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">exactly</span>(<span class="ruby-identifier">n</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
304:         <span class="ruby-ivar">@method_block</span> = <span class="ruby-identifier">block</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
305:         <span class="ruby-identifier">set_expected_received_count</span> <span class="ruby-identifier">:exactly</span>, <span class="ruby-identifier">n</span>
306:         <span class="ruby-keyword kw">self</span>
307:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000123">
                    
                    <a name="M000123"></a><b>expected_args</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000123_source')" id="l_M000123_source">show</a>
                        
                    </p>
                    <div id="M000123_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 52</span>
52:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expected_args</span>
53:         <span class="ruby-ivar">@args_expectation</span>.<span class="ruby-identifier">args</span>
54:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000148">
                    
                    <a name="M000148"></a><b>expected_messages_received?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000148_source')" id="l_M000148_source">show</a>
                        
                    </p>
                    <div id="M000148_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 224</span>
224:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expected_messages_received?</span>
225:         <span class="ruby-identifier">ignoring_args?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">matches_exact_count?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">matches_at_least_count?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">matches_at_most_count?</span>
226:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000159">
                    
                    <a name="M000159"></a><b>generate_error</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000159_source')" id="l_M000159_source">show</a>
                        
                    </p>
                    <div id="M000159_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 259</span>
259:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generate_error</span>
260:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">similar_messages</span>.<span class="ruby-identifier">empty?</span>
261:           <span class="ruby-ivar">@error_generator</span>.<span class="ruby-identifier">raise_expectation_error</span>(<span class="ruby-ivar">@sym</span>, <span class="ruby-ivar">@expected_received_count</span>, <span class="ruby-ivar">@actual_received_count</span>, <span class="ruby-operator">*</span><span class="ruby-ivar">@args_expectation</span>.<span class="ruby-identifier">args</span>)
262:         <span class="ruby-keyword kw">else</span>
263:           <span class="ruby-ivar">@error_generator</span>.<span class="ruby-identifier">raise_similar_message_args_error</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-operator">*</span><span class="ruby-ivar">@similar_messages</span>)
264:         <span class="ruby-keyword kw">end</span>
265:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000151">
                    
                    <a name="M000151"></a><b>ignoring_args?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000151_source')" id="l_M000151_source">show</a>
                        
                    </p>
                    <div id="M000151_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 229</span>
229:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ignoring_args?</span>
230:         <span class="ruby-ivar">@expected_received_count</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:any</span>
231:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000176">
                    
                    <a name="M000176"></a><b>increase_actual_received_count!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000176_source')" id="l_M000176_source">show</a>
                        
                    </p>
                    <div id="M000176_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 410</span>
410:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">increase_actual_received_count!</span>
411:         <span class="ruby-ivar">@actual_received_count</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
412:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000137">
                    
                    <a name="M000137"></a><b>invoke</b>(*args, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000137_source')" id="l_M000137_source">show</a>
                        
                    </p>
                    <div id="M000137_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 171</span>
171:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">invoke</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
172:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@expected_received_count</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
173:           <span class="ruby-ivar">@failed_fast</span> = <span class="ruby-keyword kw">true</span>
174:           <span class="ruby-ivar">@actual_received_count</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
175:           <span class="ruby-ivar">@error_generator</span>.<span class="ruby-identifier">raise_expectation_error</span>(<span class="ruby-ivar">@sym</span>, <span class="ruby-ivar">@expected_received_count</span>, <span class="ruby-ivar">@actual_received_count</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
176:         <span class="ruby-keyword kw">end</span>
177: 
178:         <span class="ruby-ivar">@order_group</span>.<span class="ruby-identifier">handle_order_constraint</span> <span class="ruby-keyword kw">self</span>
179: 
180:         <span class="ruby-keyword kw">begin</span>
181:           <span class="ruby-constant">Kernel</span><span class="ruby-operator">::</span><span class="ruby-identifier">raise</span>(<span class="ruby-ivar">@exception_to_raise</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@exception_to_raise</span>.<span class="ruby-identifier">nil?</span>
182:           <span class="ruby-constant">Kernel</span><span class="ruby-operator">::</span><span class="ruby-identifier">throw</span>(<span class="ruby-operator">*</span><span class="ruby-ivar">@args_to_throw</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@args_to_throw</span>.<span class="ruby-identifier">empty?</span>
183: 
184:           <span class="ruby-identifier">default_return_val</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@method_block</span>.<span class="ruby-identifier">nil?</span>
185:                                  <span class="ruby-identifier">invoke_method_block</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
186:                                <span class="ruby-keyword kw">elsif</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@args_to_yield</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@eval_context</span>
187:                                  <span class="ruby-identifier">invoke_with_yield</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
188:                                <span class="ruby-keyword kw">else</span>
189:                                  <span class="ruby-keyword kw">nil</span>
190:                                <span class="ruby-keyword kw">end</span>
191: 
192:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@consecutive</span>
193:             <span class="ruby-identifier">invoke_consecutive_return_block</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
194:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@return_block</span>
195:             <span class="ruby-identifier">invoke_return_block</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
196:           <span class="ruby-keyword kw">else</span>
197:             <span class="ruby-identifier">default_return_val</span>
198:           <span class="ruby-keyword kw">end</span>
199:         <span class="ruby-keyword kw">ensure</span>
200:           <span class="ruby-ivar">@actual_received_count</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
201:         <span class="ruby-keyword kw">end</span>
202:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000136">
                    
                    <a name="M000136"></a><b>matches?</b>(sym, *args)
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000136_source')" id="l_M000136_source">show</a>
                        
                    </p>
                    <div id="M000136_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 166</span>
166:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">matches?</span>(<span class="ruby-identifier">sym</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
167:         <span class="ruby-ivar">@sym</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">sym</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@args_expectation</span>.<span class="ruby-identifier">args_match?</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
168:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000152">
                    
                    <a name="M000152"></a><b>matches_at_least_count?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000152_source')" id="l_M000152_source">show</a>
                        
                    </p>
                    <div id="M000152_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 234</span>
234:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">matches_at_least_count?</span>
235:         <span class="ruby-ivar">@at_least</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@actual_received_count</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-ivar">@expected_received_count</span>
236:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000153">
                    
                    <a name="M000153"></a><b>matches_at_most_count?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000153_source')" id="l_M000153_source">show</a>
                        
                    </p>
                    <div id="M000153_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 239</span>
239:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">matches_at_most_count?</span>
240:         <span class="ruby-ivar">@at_most</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@actual_received_count</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-ivar">@expected_received_count</span>
241:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000154">
                    
                    <a name="M000154"></a><b>matches_exact_count?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000154_source')" id="l_M000154_source">show</a>
                        
                    </p>
                    <div id="M000154_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 244</span>
244:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">matches_exact_count?</span>
245:         <span class="ruby-ivar">@expected_received_count</span> <span class="ruby-operator">==</span> <span class="ruby-ivar">@actual_received_count</span>
246:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000143">
                    
                    <a name="M000143"></a><b>matches_name_but_not_args</b>(sym, *args)
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000143_source')" id="l_M000143_source">show</a>
                        
                    </p>
                    <div id="M000143_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 211</span>
211:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">matches_name_but_not_args</span>(<span class="ruby-identifier">sym</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
212:         <span class="ruby-ivar">@sym</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">sym</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-ivar">@args_expectation</span>.<span class="ruby-identifier">args_match?</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
213:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000174">
                    
                    <a name="M000174"></a><b>negative_expectation_for?</b>(sym)
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000174_source')" id="l_M000174_source">show</a>
                        
                    </p>
                    <div id="M000174_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 400</span>
400:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">negative_expectation_for?</span>(<span class="ruby-identifier">sym</span>)
401:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span>
402:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000170">
                    
                    <a name="M000170"></a><b>never</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Expect a message not to be received at all.
</p>
<p>
@example
</p>
<pre>
  car.should_receive(:stop).never
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000170_source')" id="l_M000170_source">show</a>
                        
                    </p>
                    <div id="M000170_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 358</span>
358:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">never</span>
359:         <span class="ruby-ivar">@expected_received_count</span> = <span class="ruby-value">0</span>
360:         <span class="ruby-keyword kw">self</span>
361:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000171">
                    
                    <a name="M000171"></a><b>once</b>(&amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Expect a message to be received exactly one time.
</p>
<p>
@example
</p>
<pre>
  car.should_receive(:go).once
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000171_source')" id="l_M000171_source">show</a>
                        
                    </p>
                    <div id="M000171_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 368</span>
368:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">once</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
369:         <span class="ruby-ivar">@method_block</span> = <span class="ruby-identifier">block</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
370:         <span class="ruby-identifier">set_expected_received_count</span> <span class="ruby-identifier">:exactly</span>, <span class="ruby-value">1</span>
371:         <span class="ruby-keyword kw">self</span>
372:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000173">
                    
                    <a name="M000173"></a><b>ordered</b>(&amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Expect messages to be received in a specific order.
</p>
<p>
@example
</p>
<pre>
  api.should_receive(:prepare).ordered
  api.should_receive(:run).ordered
  api.should_receive(:finish).ordered
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000173_source')" id="l_M000173_source">show</a>
                        
                    </p>
                    <div id="M000173_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 392</span>
392:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ordered</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
393:         <span class="ruby-ivar">@method_block</span> = <span class="ruby-identifier">block</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
394:         <span class="ruby-ivar">@order_group</span>.<span class="ruby-identifier">register</span>(<span class="ruby-keyword kw">self</span>)
395:         <span class="ruby-ivar">@ordered</span> = <span class="ruby-keyword kw">true</span>
396:         <span class="ruby-keyword kw">self</span>
397:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000155">
                    
                    <a name="M000155"></a><b>similar_messages</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000155_source')" id="l_M000155_source">show</a>
                        
                    </p>
                    <div id="M000155_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 249</span>
249:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">similar_messages</span>
250:         <span class="ruby-ivar">@similar_messages</span> <span class="ruby-operator">||=</span> []
251:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000168">
                    
                    <a name="M000168"></a><b>times</b>(&amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Syntactic sugar for `exactly`, `<a
href="MessageExpectation.html#M000166">at_least</a>` and `<a
href="MessageExpectation.html#M000167">at_most</a>`
</p>
<p>
@example
</p>
<pre>
  dealer.should_recieve(:deal_card).exactly(10).times
  dealer.should_recieve(:deal_card).at_least(10).times
  dealer.should_recieve(:deal_card).at_most(10).times
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000168_source')" id="l_M000168_source">show</a>
                        
                    </p>
                    <div id="M000168_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 340</span>
340:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">times</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
341:         <span class="ruby-ivar">@method_block</span> = <span class="ruby-identifier">block</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
342:         <span class="ruby-keyword kw">self</span>
343:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000172">
                    
                    <a name="M000172"></a><b>twice</b>(&amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Expect a message to be received exactly two times.
</p>
<p>
@example
</p>
<pre>
  car.should_receive(:go).twice
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000172_source')" id="l_M000172_source">show</a>
                        
                    </p>
                    <div id="M000172_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 379</span>
379:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">twice</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
380:         <span class="ruby-ivar">@method_block</span> = <span class="ruby-identifier">block</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
381:         <span class="ruby-identifier">set_expected_received_count</span> <span class="ruby-identifier">:exactly</span>, <span class="ruby-value">2</span>
382:         <span class="ruby-keyword kw">self</span>
383:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000147">
                    
                    <a name="M000147"></a><b>verify_messages_received</b>()
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000147_source')" id="l_M000147_source">show</a>
                        
                    </p>
                    <div id="M000147_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 216</span>
216:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">verify_messages_received</span>
217:         <span class="ruby-identifier">generate_error</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">expected_messages_received?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">failed_fast?</span>
218:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">RSpec</span><span class="ruby-operator">::</span><span class="ruby-constant">Mocks</span><span class="ruby-operator">::</span><span class="ruby-constant">MockExpectationError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">error</span>
219:         <span class="ruby-identifier">error</span>.<span class="ruby-identifier">backtrace</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-value">0</span>, <span class="ruby-ivar">@expected_from</span>)
220:         <span class="ruby-constant">Kernel</span><span class="ruby-operator">::</span><span class="ruby-identifier">raise</span> <span class="ruby-identifier">error</span>
221:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000163">
                    
                    <a name="M000163"></a><b>with</b>(*args, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Constrains a stub or message expectation to invocations with specific
arguments.
</p>
<p>
With a stub, if the message might be received with other args as well, you
should stub a default value first, and then stub or mock the same message
using `with` to constrain to specific arguments.
</p>
<p>
A message expectation will fail if the message is received with different
arguments.
</p>
<p>
@example
</p>
<pre>
  cart.stub(:add) { :failure }
  cart.stub(:add).with(Book.new(:isbn =&gt; 1934356379)) { :success }
  cart.add(Book.new(:isbn =&gt; 1234567890))
  # =&gt; :failure
  cart.add(Book.new(:isbn =&gt; 1934356379))
  # =&gt; :success

  cart.should_receive(:add).with(Book.new(:isbn =&gt; 1934356379)) { :success }
  cart.add(Book.new(:isbn =&gt; 1234567890))
  # =&gt; failed expectation
  cart.add(Book.new(:isbn =&gt; 1934356379))
  # =&gt; passes
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000163_source')" id="l_M000163_source">show</a>
                        
                    </p>
                    <div id="M000163_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 291</span>
291:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">with</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
292:         <span class="ruby-ivar">@return_block</span> = <span class="ruby-identifier">block</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>
293:         <span class="ruby-ivar">@args_expectation</span> = <span class="ruby-constant">ArgumentExpectation</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
294:         <span class="ruby-keyword kw">self</span>
295:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Protected methods</div>
            
            <div class="method">
                <div class="title" id="M000191">
                    
                    <a name="M000191"></a><b>clear_actual_received_count!</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000191_source')" id="l_M000191_source">show</a>
                        
                    </p>
                    <div id="M000191_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 483</span>
483:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clear_actual_received_count!</span>
484:         <span class="ruby-ivar">@actual_received_count</span> = <span class="ruby-value">0</span>
485:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000185">
                    
                    <a name="M000185"></a><b>clone_args_to_yield</b>(*args)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000185_source')" id="l_M000185_source">show</a>
                        
                    </p>
                    <div id="M000185_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 460</span>
460:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clone_args_to_yield</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
461:         <span class="ruby-ivar">@args_to_yield</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">clone</span>
462:         <span class="ruby-ivar">@args_to_yield_were_cloned</span> = <span class="ruby-keyword kw">true</span>
463:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000180">
                    
                    <a name="M000180"></a><b>eval_block</b>(*args, &amp;block)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000180_source')" id="l_M000180_source">show</a>
                        
                    </p>
                    <div id="M000180_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 438</span>
438:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">eval_block</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
439:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@eval_context</span>
440:           <span class="ruby-ivar">@eval_context</span>.<span class="ruby-identifier">instance_exec</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
441:         <span class="ruby-keyword kw">else</span>
442:           <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
443:         <span class="ruby-keyword kw">end</span>
444:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000186">
                    
                    <a name="M000186"></a><b>failed_fast?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000186_source')" id="l_M000186_source">show</a>
                        
                    </p>
                    <div id="M000186_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 465</span>
465:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">failed_fast?</span>
466:         <span class="ruby-ivar">@failed_fast</span>
467:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000181">
                    
                    <a name="M000181"></a><b>invoke_consecutive_return_block</b>(*args, &amp;block)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000181_source')" id="l_M000181_source">show</a>
                        
                    </p>
                    <div id="M000181_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 446</span>
446:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">invoke_consecutive_return_block</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
447:         <span class="ruby-identifier">value</span> = <span class="ruby-identifier">invoke_return_block</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
448:         <span class="ruby-identifier">index</span> = [<span class="ruby-ivar">@actual_received_count</span>, <span class="ruby-identifier">value</span>.<span class="ruby-identifier">size</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>].<span class="ruby-identifier">min</span>
449:         <span class="ruby-identifier">value</span>[<span class="ruby-identifier">index</span>]
450:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000177">
                    
                    <a name="M000177"></a><b>invoke_method_block</b>(*args, &amp;block)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000177_source')" id="l_M000177_source">show</a>
                        
                    </p>
                    <div id="M000177_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 416</span>
416:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">invoke_method_block</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
417:         <span class="ruby-keyword kw">begin</span>
418:           <span class="ruby-ivar">@method_block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
419:         <span class="ruby-keyword kw">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">detail</span>
420:           <span class="ruby-ivar">@error_generator</span>.<span class="ruby-identifier">raise_block_failed_error</span>(<span class="ruby-ivar">@sym</span>, <span class="ruby-identifier">detail</span>.<span class="ruby-identifier">message</span>)
421:         <span class="ruby-keyword kw">end</span>
422:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000184">
                    
                    <a name="M000184"></a><b>invoke_return_block</b>(*args, &amp;block)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000184_source')" id="l_M000184_source">show</a>
                        
                    </p>
                    <div id="M000184_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 452</span>
452:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">invoke_return_block</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
453:         <span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">block</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">block</span>.<span class="ruby-identifier">nil?</span>
454:         <span class="ruby-comment cmt"># Ruby 1.9 - when we set @return_block to return values</span>
455:         <span class="ruby-comment cmt"># regardless of arguments, any arguments will result in</span>
456:         <span class="ruby-comment cmt"># a &quot;wrong number of arguments&quot; error</span>
457:         <span class="ruby-ivar">@return_block</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@return_block</span>.<span class="ruby-identifier">call</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@return_block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
458:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000178">
                    
                    <a name="M000178"></a><b>invoke_with_yield</b>(&amp;block)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000178_source')" id="l_M000178_source">show</a>
                        
                    </p>
                    <div id="M000178_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 424</span>
424:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">invoke_with_yield</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
425:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>.<span class="ruby-identifier">nil?</span>
426:           <span class="ruby-ivar">@error_generator</span>.<span class="ruby-identifier">raise_missing_block_error</span> <span class="ruby-ivar">@args_to_yield</span>
427:         <span class="ruby-keyword kw">end</span>
428:         <span class="ruby-identifier">value</span> = <span class="ruby-keyword kw">nil</span>
429:         <span class="ruby-ivar">@args_to_yield</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">args_to_yield_this_time</span><span class="ruby-operator">|</span>
430:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">args_to_yield_this_time</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span>
431:             <span class="ruby-ivar">@error_generator</span>.<span class="ruby-identifier">raise_wrong_arity_error</span> <span class="ruby-identifier">args_to_yield_this_time</span>, <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span>
432:           <span class="ruby-keyword kw">end</span>
433:           <span class="ruby-identifier">value</span> = <span class="ruby-identifier">eval_block</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args_to_yield_this_time</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
434:         <span class="ruby-keyword kw">end</span>
435:         <span class="ruby-identifier">value</span>
436:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000187">
                    
                    <a name="M000187"></a><b>set_expected_received_count</b>(relativity, n)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000187_source')" id="l_M000187_source">show</a>
                        
                    </p>
                    <div id="M000187_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 469</span>
469:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_expected_received_count</span>(<span class="ruby-identifier">relativity</span>, <span class="ruby-identifier">n</span>)
470:         <span class="ruby-ivar">@at_least</span> = (<span class="ruby-identifier">relativity</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:at_least</span>)
471:         <span class="ruby-ivar">@at_most</span> = (<span class="ruby-identifier">relativity</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:at_most</span>)
472:         <span class="ruby-ivar">@exactly</span> = (<span class="ruby-identifier">relativity</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:exactly</span>)
473:         <span class="ruby-ivar">@expected_received_count</span> = <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">n</span>
474:                                    <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Numeric</span>
475:                                      <span class="ruby-identifier">n</span>
476:                                    <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:once</span>
477:                                      <span class="ruby-value">1</span>
478:                                    <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:twice</span>
479:                                      <span class="ruby-value">2</span>
480:                                    <span class="ruby-keyword kw">end</span>
481:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000121">
                    
                    <a name="M000121"></a><b>new</b>(error_generator, expectation_ordering, expected_from, sym, method_block, expected_received_count=1, opts={}, &amp;implementation)
                    
                </div>
                
                <div class="description">
                  <p>
@private
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000121_source')" id="l_M000121_source">show</a>
                        
                    </p>
                    <div id="M000121_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/rspec/mocks/message_expectation.rb, line 13</span>
13:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">error_generator</span>, <span class="ruby-identifier">expectation_ordering</span>, <span class="ruby-identifier">expected_from</span>, <span class="ruby-identifier">sym</span>, <span class="ruby-identifier">method_block</span>, <span class="ruby-identifier">expected_received_count</span>=<span class="ruby-value">1</span>, <span class="ruby-identifier">opts</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">implementation</span>)
14:         <span class="ruby-ivar">@error_generator</span> = <span class="ruby-identifier">error_generator</span>
15:         <span class="ruby-ivar">@error_generator</span>.<span class="ruby-identifier">opts</span> = <span class="ruby-identifier">opts</span>
16:         <span class="ruby-ivar">@expected_from</span> = <span class="ruby-identifier">expected_from</span>
17:         <span class="ruby-ivar">@sym</span> = <span class="ruby-identifier">sym</span>
18:         <span class="ruby-ivar">@method_block</span> = <span class="ruby-identifier">method_block</span>
19:         <span class="ruby-ivar">@return_block</span> = <span class="ruby-keyword kw">nil</span>
20:         <span class="ruby-ivar">@actual_received_count</span> = <span class="ruby-value">0</span>
21:         <span class="ruby-ivar">@expected_received_count</span> = <span class="ruby-identifier">expected_received_count</span>
22:         <span class="ruby-ivar">@args_expectation</span> = <span class="ruby-constant">ArgumentExpectation</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">ArgumentMatchers</span><span class="ruby-operator">::</span><span class="ruby-constant">AnyArgsMatcher</span>.<span class="ruby-identifier">new</span>)
23:         <span class="ruby-ivar">@consecutive</span> = <span class="ruby-keyword kw">false</span>
24:         <span class="ruby-ivar">@exception_to_raise</span> = <span class="ruby-keyword kw">nil</span>
25:         <span class="ruby-ivar">@args_to_throw</span> = []
26:         <span class="ruby-ivar">@order_group</span> = <span class="ruby-identifier">expectation_ordering</span>
27:         <span class="ruby-ivar">@at_least</span> = <span class="ruby-keyword kw">nil</span>
28:         <span class="ruby-ivar">@at_most</span> = <span class="ruby-keyword kw">nil</span>
29:         <span class="ruby-ivar">@exactly</span> = <span class="ruby-keyword kw">nil</span>
30:         <span class="ruby-ivar">@args_to_yield</span> = []
31:         <span class="ruby-ivar">@failed_fast</span> = <span class="ruby-keyword kw">nil</span>
32:         <span class="ruby-ivar">@args_to_yield_were_cloned</span> = <span class="ruby-keyword kw">false</span>
33:         <span class="ruby-ivar">@return_block</span> = <span class="ruby-identifier">implementation</span>
34:         <span class="ruby-ivar">@eval_context</span> = <span class="ruby-keyword kw">nil</span>
35:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    