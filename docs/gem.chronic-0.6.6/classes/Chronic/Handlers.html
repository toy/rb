<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Chronic::Handlers</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            Chronic::Handlers 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/chronic/handlers_rb.html">lib/chronic/handlers.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000056">day_or_time</a>,</li>
                
                <li><a href="#M000063">dealias_and_disambiguate_times</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000062">find_within</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M000057">get_anchor</a>,</li>
                
                <li><a href="#M000058">get_repeaters</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M000016">handle_m_d</a>,</li>
                
                <li><a href="#M000055">handle_o_r_g_r</a>,</li>
                
                <li><a href="#M000054">handle_o_r_s_r</a>,</li>
                
                <li><a href="#M000020">handle_od_rmn</a>,</li>
                
                <li><a href="#M000033">handle_od_rmn_sy</a>,</li>
                
                <li><a href="#M000050">handle_orr</a>,</li>
                
                <li><a href="#M000047">handle_p_s_r</a>,</li>
                
                <li><a href="#M000043">handle_r</a>,</li>
                
                <li><a href="#M000044">handle_r_g_r</a>,</li>
                
                <li><a href="#M000041">handle_rdn_rmn_od</a>,</li>
                
                <li><a href="#M000042">handle_rdn_rmn_sd</a>,</li>
                
                <li><a href="#M000028">handle_rdn_rmn_sd_t_tz_sy</a>,</li>
                
                <li><a href="#M000019">handle_rmn_od</a>,</li>
                
                <li><a href="#M000023">handle_rmn_od_on</a>,</li>
                
                <li><a href="#M000032">handle_rmn_od_sy</a>,</li>
                
                <li><a href="#M000017">handle_rmn_sd</a>,</li>
                
                <li><a href="#M000018">handle_rmn_sd_on</a>,</li>
                
                <li><a href="#M000030">handle_rmn_sd_sy</a>,</li>
                
                <li><a href="#M000024">handle_rmn_sy</a>,</li>
                
                <li><a href="#M000046">handle_s_r_p</a>,</li>
                
                <li><a href="#M000049">handle_s_r_p_a</a>,</li>
                
                <li><a href="#M000022">handle_sd_rmn</a>,</li>
                
                <li><a href="#M000034">handle_sd_rmn_sy</a>,</li>
                
                <li><a href="#M000037">handle_sd_sm_sy</a>,</li>
                
                <li><a href="#M000035">handle_sm_sd_sy</a>,</li>
                
                <li><a href="#M000039">handle_sm_sy</a>,</li>
                
                <li><a href="#M000045">handle_srp</a>,</li>
                
                <li><a href="#M000021">handle_sy_rmn_od</a>,</li>
                
                <li><a href="#M000038">handle_sy_sm_sd</a>,</li>
                
                <li><a href="#M000029">handle_sy_sm_sd_t_tz</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000059">month_overflow?</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000056">
                    
                    <a name="M000056"></a><b>day_or_time</b>(day_start, time_tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
support methods
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000056_source')" id="l_M000056_source">show</a>
                        
                    </p>
                    <div id="M000056_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 362</span>
362:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">day_or_time</span>(<span class="ruby-identifier">day_start</span>, <span class="ruby-identifier">time_tokens</span>, <span class="ruby-identifier">options</span>)
363:       <span class="ruby-identifier">outer_span</span> = <span class="ruby-constant">Span</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">day_start</span>, <span class="ruby-identifier">day_start</span> <span class="ruby-operator">+</span> (<span class="ruby-value">24</span> <span class="ruby-operator">*</span> <span class="ruby-value">60</span> <span class="ruby-operator">*</span> <span class="ruby-value">60</span>))
364: 
365:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">time_tokens</span>.<span class="ruby-identifier">empty?</span>
366:         <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">now</span> = <span class="ruby-identifier">outer_span</span>.<span class="ruby-identifier">begin</span>
367:         <span class="ruby-identifier">get_anchor</span>(<span class="ruby-identifier">dealias_and_disambiguate_times</span>(<span class="ruby-identifier">time_tokens</span>, <span class="ruby-identifier">options</span>), <span class="ruby-identifier">options</span>)
368:       <span class="ruby-keyword kw">else</span>
369:         <span class="ruby-identifier">outer_span</span>
370:       <span class="ruby-keyword kw">end</span>
371:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000063">
                    
                    <a name="M000063"></a><b>dealias_and_disambiguate_times</b>(tokens, options)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000063_source')" id="l_M000063_source">show</a>
                        
                    </p>
                    <div id="M000063_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 438</span>
438:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dealias_and_disambiguate_times</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
439:       <span class="ruby-comment cmt"># handle aliases of am/pm</span>
440:       <span class="ruby-comment cmt"># 5:00 in the morning -&gt; 5:00 am</span>
441:       <span class="ruby-comment cmt"># 7:00 in the evening -&gt; 7:00 pm</span>
442: 
443:       <span class="ruby-identifier">day_portion_index</span> = <span class="ruby-keyword kw">nil</span>
444:       <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
445:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterDayPortion</span>)
446:           <span class="ruby-identifier">day_portion_index</span> = <span class="ruby-identifier">i</span>
447:           <span class="ruby-keyword kw">break</span>
448:         <span class="ruby-keyword kw">end</span>
449:       <span class="ruby-keyword kw">end</span>
450: 
451:       <span class="ruby-identifier">time_index</span> = <span class="ruby-keyword kw">nil</span>
452:       <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
453:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterTime</span>)
454:           <span class="ruby-identifier">time_index</span> = <span class="ruby-identifier">i</span>
455:           <span class="ruby-keyword kw">break</span>
456:         <span class="ruby-keyword kw">end</span>
457:       <span class="ruby-keyword kw">end</span>
458: 
459:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">day_portion_index</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">time_index</span>
460:         <span class="ruby-identifier">t1</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-identifier">day_portion_index</span>]
461:         <span class="ruby-identifier">t1tag</span> = <span class="ruby-identifier">t1</span>.<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterDayPortion</span>)
462: 
463:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">t1tag</span>.<span class="ruby-identifier">type</span>
464:         <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:morning</span>
465:           <span class="ruby-identifier">puts</span> <span class="ruby-value str">'--morning-&gt;am'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">debug</span>
466:           <span class="ruby-identifier">t1</span>.<span class="ruby-identifier">untag</span>(<span class="ruby-constant">RepeaterDayPortion</span>)
467:           <span class="ruby-identifier">t1</span>.<span class="ruby-identifier">tag</span>(<span class="ruby-constant">RepeaterDayPortion</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:am</span>))
468:         <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:afternoon</span>, <span class="ruby-identifier">:evening</span>, <span class="ruby-identifier">:night</span>
469:           <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;--#{t1tag.type}-&gt;pm&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">debug</span>
470:           <span class="ruby-identifier">t1</span>.<span class="ruby-identifier">untag</span>(<span class="ruby-constant">RepeaterDayPortion</span>)
471:           <span class="ruby-identifier">t1</span>.<span class="ruby-identifier">tag</span>(<span class="ruby-constant">RepeaterDayPortion</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:pm</span>))
472:         <span class="ruby-keyword kw">end</span>
473:       <span class="ruby-keyword kw">end</span>
474: 
475:       <span class="ruby-comment cmt"># handle ambiguous times if :ambiguous_time_range is specified</span>
476:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:ambiguous_time_range</span>] <span class="ruby-operator">!=</span> <span class="ruby-identifier">:none</span>
477:         <span class="ruby-identifier">ambiguous_tokens</span> = []
478: 
479:         <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">token</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
480:           <span class="ruby-identifier">ambiguous_tokens</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">token</span>
481:           <span class="ruby-identifier">next_token</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-identifier">i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>]
482: 
483:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">token</span>.<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterTime</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">token</span>.<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterTime</span>).<span class="ruby-identifier">type</span>.<span class="ruby-identifier">ambiguous?</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-operator">!</span><span class="ruby-identifier">next_token</span> <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">next_token</span>.<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterDayPortion</span>))
484:             <span class="ruby-identifier">distoken</span> = <span class="ruby-constant">Token</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'disambiguator'</span>)
485: 
486:             <span class="ruby-identifier">distoken</span>.<span class="ruby-identifier">tag</span>(<span class="ruby-constant">RepeaterDayPortion</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:ambiguous_time_range</span>]))
487:             <span class="ruby-identifier">ambiguous_tokens</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">distoken</span>
488:           <span class="ruby-keyword kw">end</span>
489:         <span class="ruby-keyword kw">end</span>
490: 
491:         <span class="ruby-identifier">tokens</span> = <span class="ruby-identifier">ambiguous_tokens</span>
492:       <span class="ruby-keyword kw">end</span>
493: 
494:       <span class="ruby-identifier">tokens</span>
495:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000062">
                    
                    <a name="M000062"></a><b>find_within</b>(tags, span, pointer)
                    
                </div>
                
                <div class="description">
                  <p>
Recursively finds repeaters within other repeaters. Returns a <a
href="Span.html">Span</a> representing the innermost time span or nil if no
repeater union could be found
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000062_source')" id="l_M000062_source">show</a>
                        
                    </p>
                    <div id="M000062_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 425</span>
425:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find_within</span>(<span class="ruby-identifier">tags</span>, <span class="ruby-identifier">span</span>, <span class="ruby-identifier">pointer</span>)
426:       <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;--#{span}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">debug</span>
427:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">span</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tags</span>.<span class="ruby-identifier">empty?</span>
428: 
429:       <span class="ruby-identifier">head</span> = <span class="ruby-identifier">tags</span>.<span class="ruby-identifier">shift</span>
430:       <span class="ruby-identifier">head</span>.<span class="ruby-identifier">start</span> = (<span class="ruby-identifier">pointer</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:future</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">span</span>.<span class="ruby-identifier">begin</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">span</span>.<span class="ruby-identifier">end</span>)
431:       <span class="ruby-identifier">h</span> = <span class="ruby-identifier">head</span>.<span class="ruby-identifier">this</span>(<span class="ruby-identifier">:none</span>)
432: 
433:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">span</span>.<span class="ruby-identifier">cover?</span>(<span class="ruby-identifier">h</span>.<span class="ruby-identifier">begin</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">span</span>.<span class="ruby-identifier">cover?</span>(<span class="ruby-identifier">h</span>.<span class="ruby-identifier">end</span>)
434:         <span class="ruby-identifier">find_within</span>(<span class="ruby-identifier">tags</span>, <span class="ruby-identifier">h</span>, <span class="ruby-identifier">pointer</span>)
435:       <span class="ruby-keyword kw">end</span>
436:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000057">
                    
                    <a name="M000057"></a><b>get_anchor</b>(tokens, options)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000057_source')" id="l_M000057_source">show</a>
                        
                    </p>
                    <div id="M000057_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 373</span>
373:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_anchor</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
374:       <span class="ruby-identifier">grabber</span> = <span class="ruby-constant">Grabber</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">:this</span>)
375:       <span class="ruby-identifier">pointer</span> = <span class="ruby-identifier">:future</span>
376: 
377:       <span class="ruby-identifier">repeaters</span> = <span class="ruby-identifier">get_repeaters</span>(<span class="ruby-identifier">tokens</span>)
378:       <span class="ruby-identifier">repeaters</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">times</span> { <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">pop</span> }
379: 
380:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">Grabber</span>)
381:         <span class="ruby-identifier">grabber</span> = <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">shift</span>.<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">Grabber</span>)
382:       <span class="ruby-keyword kw">end</span>
383: 
384:       <span class="ruby-identifier">head</span> = <span class="ruby-identifier">repeaters</span>.<span class="ruby-identifier">shift</span>
385:       <span class="ruby-identifier">head</span>.<span class="ruby-identifier">start</span> = <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">now</span>
386: 
387:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">grabber</span>.<span class="ruby-identifier">type</span>
388:       <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:last</span>
389:         <span class="ruby-identifier">outer_span</span> = <span class="ruby-identifier">head</span>.<span class="ruby-identifier">next</span>(<span class="ruby-identifier">:past</span>)
390:       <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:this</span>
391:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:context</span>] <span class="ruby-operator">!=</span> <span class="ruby-identifier">:past</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">repeaters</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
392:           <span class="ruby-identifier">outer_span</span> = <span class="ruby-identifier">head</span>.<span class="ruby-identifier">this</span>(<span class="ruby-identifier">:none</span>)
393:         <span class="ruby-keyword kw">else</span>
394:           <span class="ruby-identifier">outer_span</span> = <span class="ruby-identifier">head</span>.<span class="ruby-identifier">this</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:context</span>])
395:         <span class="ruby-keyword kw">end</span>
396:       <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:next</span>
397:         <span class="ruby-identifier">outer_span</span> = <span class="ruby-identifier">head</span>.<span class="ruby-identifier">next</span>(<span class="ruby-identifier">:future</span>)
398:       <span class="ruby-keyword kw">else</span>
399:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ChronicPain</span>, <span class="ruby-value str">&quot;Invalid grabber&quot;</span>
400:       <span class="ruby-keyword kw">end</span>
401: 
402:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">debug</span>
403:         <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Handler-class: #{head.class}&quot;</span>
404:         <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;--#{outer_span}&quot;</span>
405:       <span class="ruby-keyword kw">end</span>
406: 
407:       <span class="ruby-identifier">find_within</span>(<span class="ruby-identifier">repeaters</span>, <span class="ruby-identifier">outer_span</span>, <span class="ruby-identifier">pointer</span>)
408:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000058">
                    
                    <a name="M000058"></a><b>get_repeaters</b>(tokens)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000058_source')" id="l_M000058_source">show</a>
                        
                    </p>
                    <div id="M000058_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 410</span>
410:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_repeaters</span>(<span class="ruby-identifier">tokens</span>)
411:       <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">token</span><span class="ruby-operator">|</span> <span class="ruby-identifier">token</span>.<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">Repeater</span>) }.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">reverse</span>
412:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000016">
                    
                    <a name="M000016"></a><b>handle_m_d</b>(month, day, time_tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle month/day
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000016_source')" id="l_M000016_source">show</a>
                        
                    </p>
                    <div id="M000016_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 6</span>
 6:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_m_d</span>(<span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">time_tokens</span>, <span class="ruby-identifier">options</span>)
 7:       <span class="ruby-identifier">month</span>.<span class="ruby-identifier">start</span> = <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">now</span>
 8:       <span class="ruby-identifier">span</span> = <span class="ruby-identifier">month</span>.<span class="ruby-identifier">this</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:context</span>])
 9:       <span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span> = <span class="ruby-identifier">span</span>.<span class="ruby-identifier">begin</span>.<span class="ruby-identifier">year</span>, <span class="ruby-identifier">span</span>.<span class="ruby-identifier">begin</span>.<span class="ruby-identifier">month</span>
10:       <span class="ruby-identifier">day_start</span> = <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">time_class</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>)
11: 
12:       <span class="ruby-identifier">day_or_time</span>(<span class="ruby-identifier">day_start</span>, <span class="ruby-identifier">time_tokens</span>, <span class="ruby-identifier">options</span>)
13:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000055">
                    
                    <a name="M000055"></a><b>handle_o_r_g_r</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle ordinal/repeater/grabber/repeater
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000055_source')" id="l_M000055_source">show</a>
                        
                    </p>
                    <div id="M000055_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 355</span>
355:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_o_r_g_r</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
356:       <span class="ruby-identifier">outer_span</span> = <span class="ruby-identifier">get_anchor</span>(<span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-value">3</span>], <span class="ruby-identifier">options</span>)
357:       <span class="ruby-identifier">handle_orr</span>(<span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>], <span class="ruby-identifier">outer_span</span>, <span class="ruby-identifier">options</span>)
358:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000054">
                    
                    <a name="M000054"></a><b>handle_o_r_s_r</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle ordinal/repeater/separator/repeater
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000054_source')" id="l_M000054_source">show</a>
                        
                    </p>
                    <div id="M000054_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 349</span>
349:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_o_r_s_r</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
350:       <span class="ruby-identifier">outer_span</span> = <span class="ruby-identifier">get_anchor</span>([<span class="ruby-identifier">tokens</span>[<span class="ruby-value">3</span>]], <span class="ruby-identifier">options</span>)
351:       <span class="ruby-identifier">handle_orr</span>(<span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>], <span class="ruby-identifier">outer_span</span>, <span class="ruby-identifier">options</span>)
352:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000020">
                    
                    <a name="M000020"></a><b>handle_od_rmn</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle ordinal-day/repeater-month-name
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000020_source')" id="l_M000020_source">show</a>
                        
                    </p>
                    <div id="M000020_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 53</span>
53:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_od_rmn</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
54:       <span class="ruby-identifier">month</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterMonthName</span>)
55:       <span class="ruby-identifier">day</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">OrdinalDay</span>).<span class="ruby-identifier">type</span>
56: 
57:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">month_overflow?</span>(<span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>.<span class="ruby-identifier">index</span>, <span class="ruby-identifier">day</span>)
58: 
59:       <span class="ruby-identifier">handle_m_d</span>(<span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span>], <span class="ruby-identifier">options</span>)
60:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000033">
                    
                    <a name="M000033"></a><b>handle_od_rmn_sy</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle oridinal-day/repeater-month-name/scalar-year
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000033_source')" id="l_M000033_source">show</a>
                        
                    </p>
                    <div id="M000033_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 173</span>
173:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_od_rmn_sy</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
174:       <span class="ruby-identifier">day</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">OrdinalDay</span>).<span class="ruby-identifier">type</span>
175:       <span class="ruby-identifier">month</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterMonthName</span>).<span class="ruby-identifier">index</span>
176:       <span class="ruby-identifier">year</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">ScalarYear</span>).<span class="ruby-identifier">type</span>
177:       <span class="ruby-identifier">time_tokens</span> = <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">last</span>(<span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">3</span>)
178: 
179:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">month_overflow?</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>)
180: 
181:       <span class="ruby-keyword kw">begin</span>
182:         <span class="ruby-identifier">day_start</span> = <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">time_class</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>)
183:         <span class="ruby-identifier">day_or_time</span>(<span class="ruby-identifier">day_start</span>, <span class="ruby-identifier">time_tokens</span>, <span class="ruby-identifier">options</span>)
184:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ArgumentError</span>
185:         <span class="ruby-keyword kw">nil</span>
186:       <span class="ruby-keyword kw">end</span>
187:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000050">
                    
                    <a name="M000050"></a><b>handle_orr</b>(tokens, outer_span, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle oridinal repeaters
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000050_source')" id="l_M000050_source">show</a>
                        
                    </p>
                    <div id="M000050_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 330</span>
330:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_orr</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">outer_span</span>, <span class="ruby-identifier">options</span>)
331:       <span class="ruby-identifier">repeater</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">Repeater</span>)
332:       <span class="ruby-identifier">repeater</span>.<span class="ruby-identifier">start</span> = <span class="ruby-identifier">outer_span</span>.<span class="ruby-identifier">begin</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
333:       <span class="ruby-identifier">ordinal</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">Ordinal</span>).<span class="ruby-identifier">type</span>
334:       <span class="ruby-identifier">span</span> = <span class="ruby-keyword kw">nil</span>
335: 
336:       <span class="ruby-identifier">ordinal</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span>
337:         <span class="ruby-identifier">span</span> = <span class="ruby-identifier">repeater</span>.<span class="ruby-identifier">next</span>(<span class="ruby-identifier">:future</span>)
338: 
339:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">span</span>.<span class="ruby-identifier">begin</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-identifier">outer_span</span>.<span class="ruby-identifier">end</span>
340:           <span class="ruby-identifier">span</span> = <span class="ruby-keyword kw">nil</span>
341:           <span class="ruby-keyword kw">break</span>
342:         <span class="ruby-keyword kw">end</span>
343:       <span class="ruby-keyword kw">end</span>
344: 
345:       <span class="ruby-identifier">span</span>
346:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000047">
                    
                    <a name="M000047"></a><b>handle_p_s_r</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle pointer/scalar/repeater
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000047_source')" id="l_M000047_source">show</a>
                        
                    </p>
                    <div id="M000047_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 316</span>
316:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_p_s_r</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
317:       <span class="ruby-identifier">new_tokens</span> = [<span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>]]
318:       <span class="ruby-identifier">handle_s_r_p</span>(<span class="ruby-identifier">new_tokens</span>, <span class="ruby-identifier">options</span>)
319:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000043">
                    
                    <a name="M000043"></a><b>handle_r</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle repeaters
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000043_source')" id="l_M000043_source">show</a>
                        
                    </p>
                    <div id="M000043_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 285</span>
285:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_r</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
286:       <span class="ruby-identifier">dd_tokens</span> = <span class="ruby-identifier">dealias_and_disambiguate_times</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
287:       <span class="ruby-identifier">get_anchor</span>(<span class="ruby-identifier">dd_tokens</span>, <span class="ruby-identifier">options</span>)
288:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000044">
                    
                    <a name="M000044"></a><b>handle_r_g_r</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle repeater/grabber/repeater
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000044_source')" id="l_M000044_source">show</a>
                        
                    </p>
                    <div id="M000044_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 291</span>
291:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_r_g_r</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
292:       <span class="ruby-identifier">new_tokens</span> = [<span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span>]]
293:       <span class="ruby-identifier">handle_r</span>(<span class="ruby-identifier">new_tokens</span>, <span class="ruby-identifier">options</span>)
294:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000041">
                    
                    <a name="M000041"></a><b>handle_rdn_rmn_od</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle RepeaterDayName RepeaterMonthName OrdinalDay
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000041_source')" id="l_M000041_source">show</a>
                        
                    </p>
                    <div id="M000041_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 249</span>
249:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_rdn_rmn_od</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
250:       <span class="ruby-identifier">month</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterMonthName</span>)
251:       <span class="ruby-identifier">day</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">OrdinalDay</span>).<span class="ruby-identifier">type</span>
252:       <span class="ruby-identifier">year</span> = <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">year</span>
253: 
254:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">month_overflow?</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>.<span class="ruby-identifier">index</span>, <span class="ruby-identifier">day</span>)
255: 
256:       <span class="ruby-keyword kw">begin</span>
257:         <span class="ruby-identifier">start_time</span> = <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">time_class</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>.<span class="ruby-identifier">index</span>, <span class="ruby-identifier">day</span>)
258:         <span class="ruby-identifier">end_time</span> = <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">time_class</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>.<span class="ruby-identifier">index</span>, <span class="ruby-identifier">day</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
259:         <span class="ruby-constant">Span</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">start_time</span>, <span class="ruby-identifier">end_time</span>)
260:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ArgumentError</span>
261:         <span class="ruby-keyword kw">nil</span>
262:       <span class="ruby-keyword kw">end</span>
263:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000042">
                    
                    <a name="M000042"></a><b>handle_rdn_rmn_sd</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle RepeaterDayName RepeaterMonthName ScalarDay
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000042_source')" id="l_M000042_source">show</a>
                        
                    </p>
                    <div id="M000042_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 266</span>
266:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_rdn_rmn_sd</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
267:       <span class="ruby-identifier">month</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterMonthName</span>)
268:       <span class="ruby-identifier">day</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">ScalarDay</span>).<span class="ruby-identifier">type</span>
269:       <span class="ruby-identifier">year</span> = <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">year</span>
270: 
271:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">month_overflow?</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>.<span class="ruby-identifier">index</span>, <span class="ruby-identifier">day</span>)
272: 
273:       <span class="ruby-keyword kw">begin</span>
274:         <span class="ruby-identifier">start_time</span> = <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">time_class</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>.<span class="ruby-identifier">index</span>, <span class="ruby-identifier">day</span>)
275:         <span class="ruby-identifier">end_time</span> = <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">time_class</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>.<span class="ruby-identifier">index</span>, <span class="ruby-identifier">day</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
276:         <span class="ruby-constant">Span</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">start_time</span>, <span class="ruby-identifier">end_time</span>)
277:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ArgumentError</span>
278:         <span class="ruby-keyword kw">nil</span>
279:       <span class="ruby-keyword kw">end</span>
280:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000028">
                    
                    <a name="M000028"></a><b>handle_rdn_rmn_sd_t_tz_sy</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle generic timestamp (ruby 1.8)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000028_source')" id="l_M000028_source">show</a>
                        
                    </p>
                    <div id="M000028_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 127</span>
127:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_rdn_rmn_sd_t_tz_sy</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
128:       <span class="ruby-identifier">t</span> = <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">time_class</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:text</span>])
129:       <span class="ruby-constant">Span</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">t</span>, <span class="ruby-identifier">t</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
130:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000019">
                    
                    <a name="M000019"></a><b>handle_rmn_od</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle repeater-month-name/ordinal-day
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000019_source')" id="l_M000019_source">show</a>
                        
                    </p>
                    <div id="M000019_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 43</span>
43:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_rmn_od</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
44:       <span class="ruby-identifier">month</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterMonthName</span>)
45:       <span class="ruby-identifier">day</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">OrdinalDay</span>).<span class="ruby-identifier">type</span>
46: 
47:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">month_overflow?</span>(<span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>.<span class="ruby-identifier">index</span>, <span class="ruby-identifier">day</span>)
48: 
49:       <span class="ruby-identifier">handle_m_d</span>(<span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span>], <span class="ruby-identifier">options</span>)
50:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000023">
                    
                    <a name="M000023"></a><b>handle_rmn_od_on</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle repeater-month-name/ordinal-day with separator-on
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000023_source')" id="l_M000023_source">show</a>
                        
                    </p>
                    <div id="M000023_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 89</span>
 89:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_rmn_od_on</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
 90:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>
 91:         <span class="ruby-identifier">month</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterMonthName</span>)
 92:         <span class="ruby-identifier">day</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">3</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">OrdinalDay</span>).<span class="ruby-identifier">type</span>
 93:         <span class="ruby-identifier">token_range</span> = <span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>
 94:       <span class="ruby-keyword kw">else</span>
 95:         <span class="ruby-identifier">month</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterMonthName</span>)
 96:         <span class="ruby-identifier">day</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">OrdinalDay</span>).<span class="ruby-identifier">type</span>
 97:         <span class="ruby-identifier">token_range</span> = <span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">0</span>
 98:       <span class="ruby-keyword kw">end</span>
 99: 
100:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">month_overflow?</span>(<span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>.<span class="ruby-identifier">index</span>, <span class="ruby-identifier">day</span>)
101: 
102:       <span class="ruby-identifier">handle_m_d</span>(<span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">tokens</span>[<span class="ruby-identifier">token_range</span>], <span class="ruby-identifier">options</span>)
103:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000032">
                    
                    <a name="M000032"></a><b>handle_rmn_od_sy</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle repeater-month-name/ordinal-day/scalar-year
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000032_source')" id="l_M000032_source">show</a>
                        
                    </p>
                    <div id="M000032_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 156</span>
156:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_rmn_od_sy</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
157:       <span class="ruby-identifier">month</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterMonthName</span>).<span class="ruby-identifier">index</span>
158:       <span class="ruby-identifier">day</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">OrdinalDay</span>).<span class="ruby-identifier">type</span>
159:       <span class="ruby-identifier">year</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">ScalarYear</span>).<span class="ruby-identifier">type</span>
160:       <span class="ruby-identifier">time_tokens</span> = <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">last</span>(<span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">3</span>)
161: 
162:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">month_overflow?</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>)
163: 
164:       <span class="ruby-keyword kw">begin</span>
165:         <span class="ruby-identifier">day_start</span> = <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">time_class</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>)
166:         <span class="ruby-identifier">day_or_time</span>(<span class="ruby-identifier">day_start</span>, <span class="ruby-identifier">time_tokens</span>, <span class="ruby-identifier">options</span>)
167:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ArgumentError</span>
168:         <span class="ruby-keyword kw">nil</span>
169:       <span class="ruby-keyword kw">end</span>
170:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000017">
                    
                    <a name="M000017"></a><b>handle_rmn_sd</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle repeater-month-name/scalar-day
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000017_source')" id="l_M000017_source">show</a>
                        
                    </p>
                    <div id="M000017_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 16</span>
16:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_rmn_sd</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
17:       <span class="ruby-identifier">month</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterMonthName</span>)
18:       <span class="ruby-identifier">day</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">ScalarDay</span>).<span class="ruby-identifier">type</span>
19: 
20:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">month_overflow?</span>(<span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>.<span class="ruby-identifier">index</span>, <span class="ruby-identifier">day</span>)
21: 
22:       <span class="ruby-identifier">handle_m_d</span>(<span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span>], <span class="ruby-identifier">options</span>)
23:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000018">
                    
                    <a name="M000018"></a><b>handle_rmn_sd_on</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle repeater-month-name/scalar-day with separator-on
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000018_source')" id="l_M000018_source">show</a>
                        
                    </p>
                    <div id="M000018_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 26</span>
26:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_rmn_sd_on</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
27:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>
28:         <span class="ruby-identifier">month</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterMonthName</span>)
29:         <span class="ruby-identifier">day</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">3</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">ScalarDay</span>).<span class="ruby-identifier">type</span>
30:         <span class="ruby-identifier">token_range</span> = <span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>
31:       <span class="ruby-keyword kw">else</span>
32:         <span class="ruby-identifier">month</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterMonthName</span>)
33:         <span class="ruby-identifier">day</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">ScalarDay</span>).<span class="ruby-identifier">type</span>
34:         <span class="ruby-identifier">token_range</span> = <span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">0</span>
35:       <span class="ruby-keyword kw">end</span>
36: 
37:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">month_overflow?</span>(<span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>.<span class="ruby-identifier">index</span>, <span class="ruby-identifier">day</span>)
38: 
39:       <span class="ruby-identifier">handle_m_d</span>(<span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">tokens</span>[<span class="ruby-identifier">token_range</span>], <span class="ruby-identifier">options</span>)
40:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000030">
                    
                    <a name="M000030"></a><b>handle_rmn_sd_sy</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle repeater-month-name/scalar-day/scalar-year
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000030_source')" id="l_M000030_source">show</a>
                        
                    </p>
                    <div id="M000030_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 139</span>
139:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_rmn_sd_sy</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
140:       <span class="ruby-identifier">month</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterMonthName</span>).<span class="ruby-identifier">index</span>
141:       <span class="ruby-identifier">day</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">ScalarDay</span>).<span class="ruby-identifier">type</span>
142:       <span class="ruby-identifier">year</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">ScalarYear</span>).<span class="ruby-identifier">type</span>
143:       <span class="ruby-identifier">time_tokens</span> = <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">last</span>(<span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">3</span>)
144: 
145:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">month_overflow?</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>)
146: 
147:       <span class="ruby-keyword kw">begin</span>
148:         <span class="ruby-identifier">day_start</span> = <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">time_class</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>)
149:         <span class="ruby-identifier">day_or_time</span>(<span class="ruby-identifier">day_start</span>, <span class="ruby-identifier">time_tokens</span>, <span class="ruby-identifier">options</span>)
150:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ArgumentError</span>
151:         <span class="ruby-keyword kw">nil</span>
152:       <span class="ruby-keyword kw">end</span>
153:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000024">
                    
                    <a name="M000024"></a><b>handle_rmn_sy</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle repeater-month-name/scalar-year
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000024_source')" id="l_M000024_source">show</a>
                        
                    </p>
                    <div id="M000024_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 106</span>
106:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_rmn_sy</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
107:       <span class="ruby-identifier">month</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterMonthName</span>).<span class="ruby-identifier">index</span>
108:       <span class="ruby-identifier">year</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">ScalarYear</span>).<span class="ruby-identifier">type</span>
109: 
110:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">month</span> <span class="ruby-operator">==</span> <span class="ruby-value">12</span>
111:         <span class="ruby-identifier">next_month_year</span> = <span class="ruby-identifier">year</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
112:         <span class="ruby-identifier">next_month_month</span> = <span class="ruby-value">1</span>
113:       <span class="ruby-keyword kw">else</span>
114:         <span class="ruby-identifier">next_month_year</span> = <span class="ruby-identifier">year</span>
115:         <span class="ruby-identifier">next_month_month</span> = <span class="ruby-identifier">month</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
116:       <span class="ruby-keyword kw">end</span>
117: 
118:       <span class="ruby-keyword kw">begin</span>
119:         <span class="ruby-identifier">end_time</span> = <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">time_class</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">next_month_year</span>, <span class="ruby-identifier">next_month_month</span>)
120:         <span class="ruby-constant">Span</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">time_class</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>), <span class="ruby-identifier">end_time</span>)
121:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ArgumentError</span>
122:         <span class="ruby-keyword kw">nil</span>
123:       <span class="ruby-keyword kw">end</span>
124:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000046">
                    
                    <a name="M000046"></a><b>handle_s_r_p</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle scalar/repeater/pointer
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000046_source')" id="l_M000046_source">show</a>
                        
                    </p>
                    <div id="M000046_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 308</span>
308:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_s_r_p</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
309:       <span class="ruby-identifier">repeater</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">Repeater</span>)
310:       <span class="ruby-identifier">span</span> = <span class="ruby-constant">Span</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">now</span>, <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">now</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
311: 
312:       <span class="ruby-identifier">handle_srp</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">span</span>, <span class="ruby-identifier">options</span>)
313:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000049">
                    
                    <a name="M000049"></a><b>handle_s_r_p_a</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle scalar/repeater/pointer/anchor
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000049_source')" id="l_M000049_source">show</a>
                        
                    </p>
                    <div id="M000049_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 322</span>
322:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_s_r_p_a</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
323:       <span class="ruby-identifier">anchor_span</span> = <span class="ruby-identifier">get_anchor</span>(<span class="ruby-identifier">tokens</span>[<span class="ruby-value">3</span><span class="ruby-operator">..</span><span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>], <span class="ruby-identifier">options</span>)
324:       <span class="ruby-identifier">handle_srp</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">anchor_span</span>, <span class="ruby-identifier">options</span>)
325:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000022">
                    
                    <a name="M000022"></a><b>handle_sd_rmn</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle scalar-day/repeater-month-name
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000022_source')" id="l_M000022_source">show</a>
                        
                    </p>
                    <div id="M000022_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 79</span>
79:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_sd_rmn</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
80:       <span class="ruby-identifier">month</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterMonthName</span>)
81:       <span class="ruby-identifier">day</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">ScalarDay</span>).<span class="ruby-identifier">type</span>
82: 
83:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">month_overflow?</span>(<span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>.<span class="ruby-identifier">index</span>, <span class="ruby-identifier">day</span>)
84: 
85:       <span class="ruby-identifier">handle_m_d</span>(<span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span>], <span class="ruby-identifier">options</span>)
86:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000034">
                    
                    <a name="M000034"></a><b>handle_sd_rmn_sy</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle scalar-day/repeater-month-name/scalar-year
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000034_source')" id="l_M000034_source">show</a>
                        
                    </p>
                    <div id="M000034_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 190</span>
190:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_sd_rmn_sy</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
191:       <span class="ruby-identifier">new_tokens</span> = [<span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span>]]
192:       <span class="ruby-identifier">time_tokens</span> = <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">last</span>(<span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">3</span>)
193:       <span class="ruby-identifier">handle_rmn_sd_sy</span>(<span class="ruby-identifier">new_tokens</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">time_tokens</span>, <span class="ruby-identifier">options</span>)
194:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000037">
                    
                    <a name="M000037"></a><b>handle_sd_sm_sy</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle scalar-day/scalar-month/scalar-year (endian little)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000037_source')" id="l_M000037_source">show</a>
                        
                    </p>
                    <div id="M000037_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 214</span>
214:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_sd_sm_sy</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
215:       <span class="ruby-identifier">new_tokens</span> = [<span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span>]]
216:       <span class="ruby-identifier">time_tokens</span> = <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">last</span>(<span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">3</span>)
217:       <span class="ruby-identifier">handle_sm_sd_sy</span>(<span class="ruby-identifier">new_tokens</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">time_tokens</span>, <span class="ruby-identifier">options</span>)
218:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000035">
                    
                    <a name="M000035"></a><b>handle_sm_sd_sy</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle scalar-month/scalar-day/scalar-year (endian middle)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000035_source')" id="l_M000035_source">show</a>
                        
                    </p>
                    <div id="M000035_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 197</span>
197:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_sm_sd_sy</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
198:       <span class="ruby-identifier">month</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">ScalarMonth</span>).<span class="ruby-identifier">type</span>
199:       <span class="ruby-identifier">day</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">ScalarDay</span>).<span class="ruby-identifier">type</span>
200:       <span class="ruby-identifier">year</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">ScalarYear</span>).<span class="ruby-identifier">type</span>
201:       <span class="ruby-identifier">time_tokens</span> = <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">last</span>(<span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">3</span>)
202: 
203:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">month_overflow?</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>)
204: 
205:       <span class="ruby-keyword kw">begin</span>
206:         <span class="ruby-identifier">day_start</span> = <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">time_class</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>)
207:         <span class="ruby-identifier">day_or_time</span>(<span class="ruby-identifier">day_start</span>, <span class="ruby-identifier">time_tokens</span>, <span class="ruby-identifier">options</span>)
208:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ArgumentError</span>
209:         <span class="ruby-keyword kw">nil</span>
210:       <span class="ruby-keyword kw">end</span>
211:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000039">
                    
                    <a name="M000039"></a><b>handle_sm_sy</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle scalar-month/scalar-year
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000039_source')" id="l_M000039_source">show</a>
                        
                    </p>
                    <div id="M000039_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 228</span>
228:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_sm_sy</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
229:       <span class="ruby-identifier">month</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">ScalarMonth</span>).<span class="ruby-identifier">type</span>
230:       <span class="ruby-identifier">year</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">ScalarYear</span>).<span class="ruby-identifier">type</span>
231: 
232:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">month</span> <span class="ruby-operator">==</span> <span class="ruby-value">12</span>
233:         <span class="ruby-identifier">next_month_year</span> = <span class="ruby-identifier">year</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
234:         <span class="ruby-identifier">next_month_month</span> = <span class="ruby-value">1</span>
235:       <span class="ruby-keyword kw">else</span>
236:         <span class="ruby-identifier">next_month_year</span> = <span class="ruby-identifier">year</span>
237:         <span class="ruby-identifier">next_month_month</span> = <span class="ruby-identifier">month</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
238:       <span class="ruby-keyword kw">end</span>
239: 
240:       <span class="ruby-keyword kw">begin</span>
241:         <span class="ruby-identifier">end_time</span> = <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">time_class</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">next_month_year</span>, <span class="ruby-identifier">next_month_month</span>)
242:         <span class="ruby-constant">Span</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">time_class</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>), <span class="ruby-identifier">end_time</span>)
243:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ArgumentError</span>
244:         <span class="ruby-keyword kw">nil</span>
245:       <span class="ruby-keyword kw">end</span>
246:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000045">
                    
                    <a name="M000045"></a><b>handle_srp</b>(tokens, span, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle scalar/repeater/pointer helper
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000045_source')" id="l_M000045_source">show</a>
                        
                    </p>
                    <div id="M000045_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 299</span>
299:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_srp</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">span</span>, <span class="ruby-identifier">options</span>)
300:       <span class="ruby-identifier">distance</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">Scalar</span>).<span class="ruby-identifier">type</span>
301:       <span class="ruby-identifier">repeater</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">Repeater</span>)
302:       <span class="ruby-identifier">pointer</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">Pointer</span>).<span class="ruby-identifier">type</span>
303: 
304:       <span class="ruby-identifier">repeater</span>.<span class="ruby-identifier">offset</span>(<span class="ruby-identifier">span</span>, <span class="ruby-identifier">distance</span>, <span class="ruby-identifier">pointer</span>)
305:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000021">
                    
                    <a name="M000021"></a><b>handle_sy_rmn_od</b>(tokens, options)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000021_source')" id="l_M000021_source">show</a>
                        
                    </p>
                    <div id="M000021_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 62</span>
62:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_sy_rmn_od</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
63:       <span class="ruby-identifier">year</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">ScalarYear</span>).<span class="ruby-identifier">type</span>
64:       <span class="ruby-identifier">month</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">RepeaterMonthName</span>).<span class="ruby-identifier">index</span>
65:       <span class="ruby-identifier">day</span> = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">get_tag</span>(<span class="ruby-constant">OrdinalDay</span>).<span class="ruby-identifier">type</span>
66:       <span class="ruby-identifier">time_tokens</span> = <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">last</span>(<span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">3</span>)
67: 
68:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">month_overflow?</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>)
69: 
70:       <span class="ruby-keyword kw">begin</span>
71:         <span class="ruby-identifier">day_start</span> = <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">time_class</span>.<span class="ruby-identifier">local</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>)
72:         <span class="ruby-identifier">day_or_time</span>(<span class="ruby-identifier">day_start</span>, <span class="ruby-identifier">time_tokens</span>, <span class="ruby-identifier">options</span>)
73:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ArgumentError</span>
74:         <span class="ruby-keyword kw">nil</span>
75:       <span class="ruby-keyword kw">end</span>
76:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000038">
                    
                    <a name="M000038"></a><b>handle_sy_sm_sd</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle scalar-year/scalar-month/scalar-day
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000038_source')" id="l_M000038_source">show</a>
                        
                    </p>
                    <div id="M000038_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 221</span>
221:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_sy_sm_sd</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
222:       <span class="ruby-identifier">new_tokens</span> = [<span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">tokens</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>]]
223:       <span class="ruby-identifier">time_tokens</span> = <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">last</span>(<span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">3</span>)
224:       <span class="ruby-identifier">handle_sm_sd_sy</span>(<span class="ruby-identifier">new_tokens</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">time_tokens</span>, <span class="ruby-identifier">options</span>)
225:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000029">
                    
                    <a name="M000029"></a><b>handle_sy_sm_sd_t_tz</b>(tokens, options)
                    
                </div>
                
                <div class="description">
                  <p>
Handle generic timestamp (ruby 1.9)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000029_source')" id="l_M000029_source">show</a>
                        
                    </p>
                    <div id="M000029_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 133</span>
133:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">handle_sy_sm_sd_t_tz</span>(<span class="ruby-identifier">tokens</span>, <span class="ruby-identifier">options</span>)
134:       <span class="ruby-identifier">t</span> = <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">time_class</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:text</span>])
135:       <span class="ruby-constant">Span</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">t</span>, <span class="ruby-identifier">t</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
136:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000059">
                    
                    <a name="M000059"></a><b>month_overflow?</b>(year, month, day)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000059_source')" id="l_M000059_source">show</a>
                        
                    </p>
                    <div id="M000059_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/chronic/handlers.rb, line 414</span>
414:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">month_overflow?</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>)
415:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">leap?</span>(<span class="ruby-identifier">year</span>)
416:         <span class="ruby-identifier">day</span> <span class="ruby-operator">&gt;</span> <span class="ruby-constant">RepeaterMonth</span><span class="ruby-operator">::</span><span class="ruby-constant">MONTH_DAYS_LEAP</span>[<span class="ruby-identifier">month</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>]
417:       <span class="ruby-keyword kw">else</span>
418:         <span class="ruby-identifier">day</span> <span class="ruby-operator">&gt;</span> <span class="ruby-constant">RepeaterMonth</span><span class="ruby-operator">::</span><span class="ruby-constant">MONTH_DAYS</span>[<span class="ruby-identifier">month</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>]
419:       <span class="ruby-keyword kw">end</span>
420:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    