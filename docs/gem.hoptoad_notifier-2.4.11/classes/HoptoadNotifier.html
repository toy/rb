<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>HoptoadNotifier</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            HoptoadNotifier 
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/lib/hoptoad_notifier/backtrace_rb.html">lib/hoptoad_notifier/backtrace.rb</a></li>
            
            <li><a href="../files/lib/hoptoad_notifier/configuration_rb.html">lib/hoptoad_notifier/configuration.rb</a></li>
            
            <li><a href="../files/lib/hoptoad_notifier/notice_rb.html">lib/hoptoad_notifier/notice.rb</a></li>
            
            <li><a href="../files/lib/hoptoad_notifier/rack_rb.html">lib/hoptoad_notifier/rack.rb</a></li>
            
            <li><a href="../files/lib/hoptoad_notifier/rails/action_controller_catcher_rb.html">lib/hoptoad_notifier/rails/action_controller_catcher.rb</a></li>
            
            <li><a href="../files/lib/hoptoad_notifier/rails/controller_methods_rb.html">lib/hoptoad_notifier/rails/controller_methods.rb</a></li>
            
            <li><a href="../files/lib/hoptoad_notifier/rails/error_lookup_rb.html">lib/hoptoad_notifier/rails/error_lookup.rb</a></li>
            
            <li><a href="../files/lib/hoptoad_notifier/rails/javascript_notifier_rb.html">lib/hoptoad_notifier/rails/javascript_notifier.rb</a></li>
            
            <li><a href="../files/lib/hoptoad_notifier/rails_rb.html">lib/hoptoad_notifier/rails.rb</a></li>
            
            <li><a href="../files/lib/hoptoad_notifier/railtie_rb.html">lib/hoptoad_notifier/railtie.rb</a></li>
            
            <li><a href="../files/lib/hoptoad_notifier/sender_rb.html">lib/hoptoad_notifier/sender.rb</a></li>
            
            <li><a href="../files/lib/hoptoad_notifier/user_informer_rb.html">lib/hoptoad_notifier/user_informer.rb</a></li>
            
            <li><a href="../files/lib/hoptoad_notifier/version_rb.html">lib/hoptoad_notifier/version.rb</a></li>
            
            <li><a href="../files/lib/hoptoad_notifier_rb.html">lib/hoptoad_notifier.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
Gem for applications to automatically post errors to the Hoptoad of their
choice.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M000016">[]</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M000091">build_lookup_hash_for</a>,</li>
                
                <li><a href="#M000095">build_notice_for</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000088">configure</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000025">default_port</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M000024">environment_filters</a>,</li>
                
                <li><a href="#M000085">environment_info</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000011">filter_backtrace</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M000013">ignore_by_filter</a>,</li>
                
                <li><a href="#M000014">ignore_only=</a>,</li>
                
                <li><a href="#M000015">ignore_user_agent_only=</a></li>
                
            </ul>
        </dd>
    
        <dt>J</dt>
        <dd>
            <ul>
                
                <li><a href="#M000022">js_notifier=</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M000087">logger</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000018">merge</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000010">new</a>,</li>
                
                <li><a href="#M000089">notify</a>,</li>
                
                <li><a href="#M000090">notify_or_ignore</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000020">port</a>,</li>
                
                <li><a href="#M000021">protocol</a>,</li>
                
                <li><a href="#M000019">public?</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000083">report_environment_info</a>,</li>
                
                <li><a href="#M000082">report_ready</a>,</li>
                
                <li><a href="#M000084">report_response_body</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000094">send_notice</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M000017">to_hash</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M000099">unwrap_exception</a></li>
                
            </ul>
        </dd>
    
        <dt>W</dt>
        <dd>
            <ul>
                
                <li><a href="#M000086">write_verbose_log</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">MODULE</span> <a href="HoptoadNotifier/Rails.html">HoptoadNotifier::Rails</a></li>
        
        <li><span class="type">CLASS</span> <a href="HoptoadNotifier/Backtrace.html">HoptoadNotifier::Backtrace</a></li>
        
        <li><span class="type">CLASS</span> <a href="HoptoadNotifier/Configuration.html">HoptoadNotifier::Configuration</a></li>
        
        <li><span class="type">CLASS</span> <a href="HoptoadNotifier/Notice.html">HoptoadNotifier::Notice</a></li>
        
        <li><span class="type">CLASS</span> <a href="HoptoadNotifier/Rack.html">HoptoadNotifier::Rack</a></li>
        
        <li><span class="type">CLASS</span> <a href="HoptoadNotifier/Railtie.html">HoptoadNotifier::Railtie</a></li>
        
        <li><span class="type">CLASS</span> <a href="HoptoadNotifier/Sender.html">HoptoadNotifier::Sender</a></li>
        
        <li><span class="type">CLASS</span> <a href="HoptoadNotifier/UserInformer.html">HoptoadNotifier::UserInformer</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">IGNORE_DEFAULT</td>
            <td>=</td>
            <td class="attr-value">['ActiveRecord::RecordNotFound',                       'ActionController::RoutingError',                       'ActionController::InvalidAuthenticityToken',                       'CGI::Session::CookieStore::TamperedWithCookie',                       'ActionController::UnknownAction',                       'AbstractController::ActionNotFound']</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">VERSION</td>
            <td>=</td>
            <td class="attr-value">&quot;2.4.11&quot;.freeze</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">API_VERSION</td>
            <td>=</td>
            <td class="attr-value">&quot;2.0&quot;</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">LOG_PREFIX</td>
            <td>=</td>
            <td class="attr-value">&quot;** [Hoptoad] &quot;</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">HEADERS</td>
            <td>=</td>
            <td class="attr-value">{     'Content-type'             =&gt; 'text/xml',     'Accept'                   =&gt; 'text/xml, application/xml'   }</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>sender</td>
            <td class='attr-desc'><p>
The sender object is responsible for delivering formatted data to the
Hoptoad server. Must respond to send_to_hoptoad. See <a
href="HoptoadNotifier/Sender.html">HoptoadNotifier::Sender</a>.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>configuration</td>
            <td class='attr-desc'><p>
A Hoptoad configuration object. Must act like a hash and return sensible
values for all Hoptoad configuration options. See <a
href="HoptoadNotifier/Configuration.html">HoptoadNotifier::Configuration</a>.
</p></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000091">
                    
                    <a name="M000091"></a><b>build_lookup_hash_for</b>(exception, options = {})
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000091_source')" id="l_M000091_source">show</a>
                        
                    </p>
                    <div id="M000091_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier.rb, line 107</span>
107:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build_lookup_hash_for</span>(<span class="ruby-identifier">exception</span>, <span class="ruby-identifier">options</span> = {})
108:       <span class="ruby-identifier">notice</span> = <span class="ruby-identifier">build_notice_for</span>(<span class="ruby-identifier">exception</span>, <span class="ruby-identifier">options</span>)
109: 
110:       <span class="ruby-identifier">result</span> = {}
111:       <span class="ruby-identifier">result</span>[<span class="ruby-identifier">:action</span>]           = <span class="ruby-identifier">notice</span>.<span class="ruby-identifier">action</span>      <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
112:       <span class="ruby-identifier">result</span>[<span class="ruby-identifier">:component</span>]        = <span class="ruby-identifier">notice</span>.<span class="ruby-identifier">component</span>   <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
113:       <span class="ruby-identifier">result</span>[<span class="ruby-identifier">:error_class</span>]      = <span class="ruby-identifier">notice</span>.<span class="ruby-identifier">error_class</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">notice</span>.<span class="ruby-identifier">error_class</span>
114:       <span class="ruby-identifier">result</span>[<span class="ruby-identifier">:environment_name</span>] = <span class="ruby-value str">'production'</span>
115: 
116:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">notice</span>.<span class="ruby-identifier">backtrace</span>.<span class="ruby-identifier">lines</span>.<span class="ruby-identifier">empty?</span>
117:         <span class="ruby-identifier">result</span>[<span class="ruby-identifier">:file</span>]        = <span class="ruby-identifier">notice</span>.<span class="ruby-identifier">backtrace</span>.<span class="ruby-identifier">lines</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">file</span>
118:         <span class="ruby-identifier">result</span>[<span class="ruby-identifier">:line_number</span>] = <span class="ruby-identifier">notice</span>.<span class="ruby-identifier">backtrace</span>.<span class="ruby-identifier">lines</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">number</span>
119:       <span class="ruby-keyword kw">end</span>
120: 
121:       <span class="ruby-identifier">result</span>
122:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000088">
                    
                    <a name="M000088"></a><b>configure</b>(silent = false)
                    
                </div>
                
                <div class="description">
                  <p>
Call this method to modify defaults in your initializers.
</p>
<p>
@example
</p>
<pre>
  HoptoadNotifier.configure do |config|
    config.api_key = '1234567890abcdef'
    config.secure  = false
  end
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000088_source')" id="l_M000088_source">show</a>
                        
                    </p>
                    <div id="M000088_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hoptoad_notifier.rb, line 78</span>
78:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">configure</span>(<span class="ruby-identifier">silent</span> = <span class="ruby-keyword kw">false</span>)
79:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">configuration</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Configuration</span>.<span class="ruby-identifier">new</span>
80:       <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">configuration</span>)
81:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">sender</span> = <span class="ruby-constant">Sender</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">configuration</span>)
82:       <span class="ruby-identifier">report_ready</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">silent</span>
83:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000085">
                    
                    <a name="M000085"></a><b>environment_info</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the Ruby version, <a href="HoptoadNotifier/Rails.html">Rails</a>
version, and current <a href="HoptoadNotifier/Rails.html">Rails</a>
environment
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000085_source')" id="l_M000085_source">show</a>
                        
                    </p>
                    <div id="M000085_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hoptoad_notifier.rb, line 55</span>
55:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">environment_info</span>
56:       <span class="ruby-identifier">info</span> = <span class="ruby-node">&quot;[Ruby: #{RUBY_VERSION}]&quot;</span>
57:       <span class="ruby-identifier">info</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; [#{configuration.framework}]&quot;</span>
58:       <span class="ruby-identifier">info</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; [Env: #{configuration.environment_name}]&quot;</span>
59:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000087">
                    
                    <a name="M000087"></a><b>logger</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Look for the <a href="HoptoadNotifier/Rails.html">Rails</a> logger
currently defined
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000087_source')" id="l_M000087_source">show</a>
                        
                    </p>
                    <div id="M000087_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hoptoad_notifier.rb, line 67</span>
67:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">logger</span>
68:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">logger</span>
69:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000010">
                    
                    <a name="M000010"></a><b>new</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000010_source')" id="l_M000010_source">show</a>
                        
                    </p>
                    <div id="M000010_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier/configuration.rb, line 120</span>
120:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>
121:       <span class="ruby-ivar">@secure</span>                   = <span class="ruby-keyword kw">false</span>
122:       <span class="ruby-ivar">@host</span>                     = <span class="ruby-value str">'hoptoadapp.com'</span>
123:       <span class="ruby-ivar">@http_open_timeout</span>        = <span class="ruby-value">2</span>
124:       <span class="ruby-ivar">@http_read_timeout</span>        = <span class="ruby-value">5</span>
125:       <span class="ruby-ivar">@params_filters</span>           = <span class="ruby-constant">DEFAULT_PARAMS_FILTERS</span>.<span class="ruby-identifier">dup</span>
126:       <span class="ruby-ivar">@backtrace_filters</span>        = <span class="ruby-constant">DEFAULT_BACKTRACE_FILTERS</span>.<span class="ruby-identifier">dup</span>
127:       <span class="ruby-ivar">@ignore_by_filters</span>        = []
128:       <span class="ruby-ivar">@ignore</span>                   = <span class="ruby-constant">IGNORE_DEFAULT</span>.<span class="ruby-identifier">dup</span>
129:       <span class="ruby-ivar">@ignore_user_agent</span>        = []
130:       <span class="ruby-ivar">@development_environments</span> = <span class="ruby-node">%w(development test cucumber)</span>
131:       <span class="ruby-ivar">@development_lookup</span>       = <span class="ruby-keyword kw">true</span>
132:       <span class="ruby-ivar">@notifier_name</span>            = <span class="ruby-value str">'Hoptoad Notifier'</span>
133:       <span class="ruby-ivar">@notifier_version</span>         = <span class="ruby-constant">VERSION</span>
134:       <span class="ruby-ivar">@notifier_url</span>             = <span class="ruby-value str">'http://hoptoadapp.com'</span>
135:       <span class="ruby-ivar">@framework</span>                = <span class="ruby-value str">'Standalone'</span>
136:       <span class="ruby-ivar">@user_information</span>         = <span class="ruby-value str">'Hoptoad Error {{error_id}}'</span>
137:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000089">
                    
                    <a name="M000089"></a><b>notify</b>(exception, opts = {})
                    
                </div>
                
                <div class="description">
                  <p>
Sends an exception manually using this method, even when you are not in a
controller.
</p>
<p>
@param [Exception] exception The exception you want to notify Hoptoad
about. @param [Hash] opts Data that will be sent to Hoptoad.
</p>
<p>
@option opts [String] :api_key The API key for this project. The API key is
a unique identifier that Hoptoad uses for identification. @option opts
[String] :error_message The error returned by the exception (or the message
you want to log). @option opts [String] :backtrace A backtrace, usually
obtained with <tt>caller</tt>. @option opts [String] :request The
controller&#8217;s request object. @option opts [String] :session The
contents of the user&#8217;s session. @option opts [String] :environment
ENV merged with the contents of the request&#8217;s environment.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000089_source')" id="l_M000089_source">show</a>
                        
                    </p>
                    <div id="M000089_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hoptoad_notifier.rb, line 96</span>
96:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">notify</span>(<span class="ruby-identifier">exception</span>, <span class="ruby-identifier">opts</span> = {})
97:       <span class="ruby-identifier">send_notice</span>(<span class="ruby-identifier">build_notice_for</span>(<span class="ruby-identifier">exception</span>, <span class="ruby-identifier">opts</span>))
98:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000090">
                    
                    <a name="M000090"></a><b>notify_or_ignore</b>(exception, opts = {})
                    
                </div>
                
                <div class="description">
                  <p>
Sends the notice unless it is one of the default ignored exceptions @see <a
href="HoptoadNotifier.html#M000089">HoptoadNotifier.notify</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000090_source')" id="l_M000090_source">show</a>
                        
                    </p>
                    <div id="M000090_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier.rb, line 102</span>
102:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">notify_or_ignore</span>(<span class="ruby-identifier">exception</span>, <span class="ruby-identifier">opts</span> = {})
103:       <span class="ruby-identifier">notice</span> = <span class="ruby-identifier">build_notice_for</span>(<span class="ruby-identifier">exception</span>, <span class="ruby-identifier">opts</span>)
104:       <span class="ruby-identifier">send_notice</span>(<span class="ruby-identifier">notice</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">notice</span>.<span class="ruby-identifier">ignore?</span>
105:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000083">
                    
                    <a name="M000083"></a><b>report_environment_info</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Prints out the environment info to the log for debugging help
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000083_source')" id="l_M000083_source">show</a>
                        
                    </p>
                    <div id="M000083_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hoptoad_notifier.rb, line 45</span>
45:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">report_environment_info</span>
46:       <span class="ruby-identifier">write_verbose_log</span>(<span class="ruby-node">&quot;Environment Info: #{environment_info}&quot;</span>)
47:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000082">
                    
                    <a name="M000082"></a><b>report_ready</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Tell the log that the Notifier is good to go
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000082_source')" id="l_M000082_source">show</a>
                        
                    </p>
                    <div id="M000082_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hoptoad_notifier.rb, line 40</span>
40:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">report_ready</span>
41:       <span class="ruby-identifier">write_verbose_log</span>(<span class="ruby-node">&quot;Notifier #{VERSION} ready to catch errors&quot;</span>)
42:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000084">
                    
                    <a name="M000084"></a><b>report_response_body</b>(response)
                    
                </div>
                
                <div class="description">
                  <p>
Prints out the response body from Hoptoad for debugging help
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000084_source')" id="l_M000084_source">show</a>
                        
                    </p>
                    <div id="M000084_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hoptoad_notifier.rb, line 50</span>
50:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">report_response_body</span>(<span class="ruby-identifier">response</span>)
51:       <span class="ruby-identifier">write_verbose_log</span>(<span class="ruby-node">&quot;Response from Hoptoad: \n#{response}&quot;</span>)
52:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000086">
                    
                    <a name="M000086"></a><b>write_verbose_log</b>(message)
                    
                </div>
                
                <div class="description">
                  <p>
Writes out the given message to the <a
href="HoptoadNotifier.html#M000087">logger</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000086_source')" id="l_M000086_source">show</a>
                        
                    </p>
                    <div id="M000086_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/hoptoad_notifier.rb, line 62</span>
62:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write_verbose_log</span>(<span class="ruby-identifier">message</span>)
63:       <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span> <span class="ruby-constant">LOG_PREFIX</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">message</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">logger</span>
64:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Private methods</div>
            
            <div class="method">
                <div class="title" id="M000095">
                    
                    <a name="M000095"></a><b>build_notice_for</b>(exception, opts = {})
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000095_source')" id="l_M000095_source">show</a>
                        
                    </p>
                    <div id="M000095_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier.rb, line 132</span>
132:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">build_notice_for</span>(<span class="ruby-identifier">exception</span>, <span class="ruby-identifier">opts</span> = {})
133:       <span class="ruby-identifier">exception</span> = <span class="ruby-identifier">unwrap_exception</span>(<span class="ruby-identifier">exception</span>)
134:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">exception</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:to_hash</span>)
135:         <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">exception</span>.<span class="ruby-identifier">to_hash</span>)
136:       <span class="ruby-keyword kw">else</span>
137:         <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">exception</span>)
138:       <span class="ruby-keyword kw">end</span>
139:       <span class="ruby-constant">Notice</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">opts</span>))
140:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000094">
                    
                    <a name="M000094"></a><b>send_notice</b>(notice)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000094_source')" id="l_M000094_source">show</a>
                        
                    </p>
                    <div id="M000094_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier.rb, line 126</span>
126:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">send_notice</span>(<span class="ruby-identifier">notice</span>)
127:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">public?</span>
128:         <span class="ruby-identifier">sender</span>.<span class="ruby-identifier">send_to_hoptoad</span>(<span class="ruby-identifier">notice</span>.<span class="ruby-identifier">to_xml</span>)
129:       <span class="ruby-keyword kw">end</span>
130:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000099">
                    
                    <a name="M000099"></a><b>unwrap_exception</b>(exception)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000099_source')" id="l_M000099_source">show</a>
                        
                    </p>
                    <div id="M000099_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier.rb, line 142</span>
142:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unwrap_exception</span>(<span class="ruby-identifier">exception</span>)
143:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">exception</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:original_exception</span>)
144:         <span class="ruby-identifier">exception</span>.<span class="ruby-identifier">original_exception</span>
145:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">exception</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:continued_exception</span>)
146:         <span class="ruby-identifier">exception</span>.<span class="ruby-identifier">continued_exception</span>
147:       <span class="ruby-keyword kw">else</span>
148:         <span class="ruby-identifier">exception</span>
149:       <span class="ruby-keyword kw">end</span>
150:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000016">
                    
                    <a name="M000016"></a><b>[]</b>(option)
                    
                </div>
                
                <div class="description">
                  <p>
Allows config options to be read like a hash
</p>
<p>
@param [Symbol] option Key for a given attribute
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000016_source')" id="l_M000016_source">show</a>
                        
                    </p>
                    <div id="M000016_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier/configuration.rb, line 185</span>
185:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">option</span>)
186:       <span class="ruby-identifier">send</span>(<span class="ruby-identifier">option</span>)
187:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000024">
                    
                    <a name="M000024"></a><b>environment_filters</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000024_source')" id="l_M000024_source">show</a>
                        
                    </p>
                    <div id="M000024_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier/configuration.rb, line 225</span>
225:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">environment_filters</span>
226:       <span class="ruby-identifier">warn</span> <span class="ruby-value str">'config.environment_filters has been deprecated and has no effect.'</span>
227:       []
228:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000011">
                    
                    <a name="M000011"></a><b>filter_backtrace</b>(&amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Takes a block and adds it to the list of backtrace filters. When the
filters run, the block will be handed each line of the backtrace and can
modify it as necessary.
</p>
<p>
@example
</p>
<pre>
  config.filter_bracktrace do |line|
    line.gsub(/^#{Rails.root}/, &quot;[RAILS_ROOT]&quot;)
  end
</pre>
<p>
@param [Proc] block The new backtrace filter. @yieldparam [String] line A
line in the backtrace.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000011_source')" id="l_M000011_source">show</a>
                        
                    </p>
                    <div id="M000011_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier/configuration.rb, line 150</span>
150:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">filter_backtrace</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
151:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">backtrace_filters</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">block</span>
152:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000013">
                    
                    <a name="M000013"></a><b>ignore_by_filter</b>(&amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Takes a block and adds it to the list of ignore filters. When the filters
run, the block will be handed the exception. @example
</p>
<pre>
  config.ignore_by_filter do |exception_data|
    true if exception_data[:error_class] == &quot;RuntimeError&quot;
  end
</pre>
<p>
@param [Proc] block The new ignore filter @yieldparam [Hash] data The
exception data given to <tt><a
href="HoptoadNotifier.html#M000089">HoptoadNotifier.notify</a></tt>
@yieldreturn [Boolean] If the block returns true the exception will be
ignored, otherwise it will be processed by hoptoad.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000013_source')" id="l_M000013_source">show</a>
                        
                    </p>
                    <div id="M000013_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier/configuration.rb, line 164</span>
164:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ignore_by_filter</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
165:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">ignore_by_filters</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">block</span>
166:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000014">
                    
                    <a name="M000014"></a><b>ignore_only=</b>(names)
                    
                </div>
                
                <div class="description">
                  <p>
Overrides the list of default ignored errors.
</p>
<p>
@param [Array<Exception>] names A list of exceptions to ignore.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000014_source')" id="l_M000014_source">show</a>
                        
                    </p>
                    <div id="M000014_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier/configuration.rb, line 171</span>
171:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ignore_only=</span>(<span class="ruby-identifier">names</span>)
172:       <span class="ruby-ivar">@ignore</span> = [<span class="ruby-identifier">names</span>].<span class="ruby-identifier">flatten</span>
173:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000015">
                    
                    <a name="M000015"></a><b>ignore_user_agent_only=</b>(names)
                    
                </div>
                
                <div class="description">
                  <p>
Overrides the list of default ignored user agents
</p>
<p>
@param [Array<String>] A list of user agents to ignore
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000015_source')" id="l_M000015_source">show</a>
                        
                    </p>
                    <div id="M000015_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier/configuration.rb, line 178</span>
178:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ignore_user_agent_only=</span>(<span class="ruby-identifier">names</span>)
179:       <span class="ruby-ivar">@ignore_user_agent</span> = [<span class="ruby-identifier">names</span>].<span class="ruby-identifier">flatten</span>
180:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000022">
                    
                    <a name="M000022"></a><b>js_notifier=</b>(*args)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000022_source')" id="l_M000022_source">show</a>
                        
                    </p>
                    <div id="M000022_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier/configuration.rb, line 221</span>
221:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">js_notifier=</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
222:       <span class="ruby-identifier">warn</span> <span class="ruby-value str">'[HOPTOAD] config.js_notifier has been deprecated and has no effect.  You should use &lt;%= hoptoad_javascript_notifier %&gt; directly at the top of your layouts.  Be sure to place it before all other javascript.'</span>
223:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000018">
                    
                    <a name="M000018"></a><b>merge</b>(hash)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a hash of all configurable options merged with <tt>hash</tt>
</p>
<p>
@param [Hash] hash A set of configuration options that will take precedence
over the defaults
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000018_source')" id="l_M000018_source">show</a>
                        
                    </p>
                    <div id="M000018_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier/configuration.rb, line 199</span>
199:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">hash</span>)
200:       <span class="ruby-identifier">to_hash</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">hash</span>)
201:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000020">
                    
                    <a name="M000020"></a><b>port</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000020_source')" id="l_M000020_source">show</a>
                        
                    </p>
                    <div id="M000020_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier/configuration.rb, line 209</span>
209:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">port</span>
210:       <span class="ruby-ivar">@port</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default_port</span>
211:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000021">
                    
                    <a name="M000021"></a><b>protocol</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000021_source')" id="l_M000021_source">show</a>
                        
                    </p>
                    <div id="M000021_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier/configuration.rb, line 213</span>
213:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">protocol</span>
214:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">secure?</span>
215:         <span class="ruby-value str">'https'</span>
216:       <span class="ruby-keyword kw">else</span>
217:         <span class="ruby-value str">'http'</span>
218:       <span class="ruby-keyword kw">end</span>
219:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000019">
                    
                    <a name="M000019"></a><b>public?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Determines if the notifier will send notices. @return [Boolean] Returns
<tt>false</tt> if in a development environment, <tt>true</tt> otherwise.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000019_source')" id="l_M000019_source">show</a>
                        
                    </p>
                    <div id="M000019_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier/configuration.rb, line 205</span>
205:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">public?</span>
206:       <span class="ruby-operator">!</span><span class="ruby-identifier">development_environments</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">environment_name</span>)
207:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000017">
                    
                    <a name="M000017"></a><b>to_hash</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a hash of all configurable options
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000017_source')" id="l_M000017_source">show</a>
                        
                    </p>
                    <div id="M000017_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier/configuration.rb, line 190</span>
190:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_hash</span>
191:       <span class="ruby-constant">OPTIONS</span>.<span class="ruby-identifier">inject</span>({}) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">option</span><span class="ruby-operator">|</span>
192:         <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">option</span>.<span class="ruby-identifier">to_sym</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">send</span>(<span class="ruby-identifier">option</span>))
193:       <span class="ruby-keyword kw">end</span>
194:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M000025">
                    
                    <a name="M000025"></a><b>default_port</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000025_source')" id="l_M000025_source">show</a>
                        
                    </p>
                    <div id="M000025_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/hoptoad_notifier/configuration.rb, line 232</span>
232:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">default_port</span>
233:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">secure?</span>
234:         <span class="ruby-value">443</span>
235:       <span class="ruby-keyword kw">else</span>
236:         <span class="ruby-value">80</span>
237:       <span class="ruby-keyword kw">end</span>
238:     <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    