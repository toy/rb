<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Text::Hyphen</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            Text::Hyphen 
            
                <span class="parent">&lt; 
                    
                    Object
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/text/hyphen_rb.html">lib/text/hyphen.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
An object that knows how to perform hyphenation based on the TeX
hyphenation algorithm with pattern files. Each object is constructed with a
specific language&#8217;s hyphenation patterns.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000015">clear_cache!</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M000010">hyphenate</a>,</li>
                
                <li><a href="#M000016">hyphenate_to</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M000020">load_language</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M000019">make_result_list</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M000008">new</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000017">stats</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M000018">updateresult</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M000013">visualise</a>,</li>
                
                <li><a href="#M000014">visualize</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">CLASS</span> <a href="Hyphen/Language.html">Text::Hyphen::Language</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">DEBUG</td>
            <td>=</td>
            <td class="attr-value">false</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">VERSION</td>
            <td>=</td>
            <td class="attr-value">'1.2'</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">DEFAULT_MIN_LEFT</td>
            <td>=</td>
            <td class="attr-value">2</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">DEFAULT_MIN_RIGHT</td>
            <td>=</td>
            <td class="attr-value">2</td>
        </tr>
        
        
    </table>
    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>left</td>
            <td class='attr-desc'><p>
No fewer than this number of letters will show up to the left of the
hyphen. The initial value for this will be specified by the language;
setting this value will override the language&#8217;s defaults.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>right</td>
            <td class='attr-desc'><p>
No fewer than this number of letters will show up to the right of the
hyphen. This overrides the default specified in the language.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>language</td>
            <td class='attr-desc'><p>
The name of the language to be used in hyphenating words. This will be a
two or three character ISO 639 code, with the two character form being the
canonical resource name. This will load the language hyphenation
definitions from text/hyphen/language/&amp;lt;code&amp;gt; as a Ruby class.
The resource &#8216;text/hyphen/language/en_us&#8217; defines the language
class Text::Hyphen::Language::EN_US. It also defines the secondary forms
Text::Hyphen::Language::EN and Text::Hyphen::Language::ENG_US.
</p>
<p>
Minimal transformations will be performed on the language code provided,
such that any dashes are converted to underscores (e.g.,
&#8216;en-us&#8217; becomes &#8216;en_us&#8217;) and all characters are
regularised. Resource names will be downcased and class names will be
converted to uppercase (e.g., &#8216;Pt&#8217; for the Portuguese language
becomes &#8216;pt&#8217; and &#8216;PT&#8217;, respectively).
</p>
<p>
The language may also be specified as an instance of <a
href="Hyphen/Language.html">Text::Hyphen::Language</a>.
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>iso_language</td>
            <td class='attr-desc'><p>
Returns the language&#8217;s ISO 639 ID, e.g., &#8220;en_us&#8220; or
&#8220;pt&#8221;.
</p></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000015">
                    
                    <a name="M000015"></a><b>clear_cache!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Clears the per-instance hyphenation and visualization caches.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000015_source')" id="l_M000015_source">show</a>
                        
                    </p>
                    <div id="M000015_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/hyphen.rb, line 166</span>
166:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clear_cache!</span>
167:     <span class="ruby-ivar">@cache</span>.<span class="ruby-identifier">clear</span>
168:     <span class="ruby-ivar">@vcache</span>.<span class="ruby-identifier">clear</span>
169:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000010">
                    
                    <a name="M000010"></a><b>hyphenate</b>(word)
                    
                </div>
                
                <div class="description">
                  <p>
Returns an array of character positions where a word can be hyphenated.
</p>
<pre>
  hyp.hyphenate('representation') #=&gt; [3, 5, 8 10]
</pre>
<p>
Because hyphenation can be expensive, if the word has been hyphenated
previously, it will be returned from a per-instance cache.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000010_source')" id="l_M000010_source">show</a>
                        
                    </p>
                    <div id="M000010_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/hyphen.rb, line 106</span>
106:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hyphenate</span>(<span class="ruby-identifier">word</span>)
107:     <span class="ruby-identifier">word</span> = <span class="ruby-identifier">word</span>.<span class="ruby-identifier">downcase</span>
108:     <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Hyphenating #{word}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">DEBUG</span>
109:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@cache</span>[<span class="ruby-identifier">word</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@cache</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">word</span>)
110:     <span class="ruby-identifier">res</span> = <span class="ruby-ivar">@language</span>.<span class="ruby-identifier">exceptions</span>[<span class="ruby-identifier">word</span>]
111:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@cache</span>[<span class="ruby-identifier">word</span>] = <span class="ruby-identifier">make_result_list</span>(<span class="ruby-identifier">res</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">res</span>
112: 
113:     <span class="ruby-identifier">letters</span> = <span class="ruby-identifier">word</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-ivar">@language</span>.<span class="ruby-identifier">scan_re</span>)
114:     <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">letters</span>.<span class="ruby-identifier">inspect</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">DEBUG</span>
115:     <span class="ruby-identifier">word_size</span> = <span class="ruby-identifier">letters</span>.<span class="ruby-identifier">size</span>
116: 
117:     <span class="ruby-identifier">result</span> = [<span class="ruby-value">0</span>] <span class="ruby-operator">*</span> (<span class="ruby-identifier">word_size</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)
118:     <span class="ruby-identifier">right_stop</span> = <span class="ruby-identifier">word_size</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@right</span>
119: 
120:     <span class="ruby-identifier">updater</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">str</span>, <span class="ruby-identifier">pos</span><span class="ruby-operator">|</span>
121:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">str</span>)
122:         <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">print</span> <span class="ruby-node">&quot;#{pos}: #{str}: #{hash[str]}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">DEBUG</span>
123:         <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">str</span>].<span class="ruby-identifier">scan</span>(<span class="ruby-ivar">@language</span>.<span class="ruby-identifier">scan_re</span>).<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cc</span>, <span class="ruby-identifier">ii</span><span class="ruby-operator">|</span>
124:           <span class="ruby-identifier">cc</span> = <span class="ruby-identifier">cc</span>.<span class="ruby-identifier">to_i</span>
125:           <span class="ruby-identifier">result</span>[<span class="ruby-identifier">ii</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">pos</span>] = <span class="ruby-identifier">cc</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">cc</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">result</span>[<span class="ruby-identifier">ii</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">pos</span>]
126:         <span class="ruby-keyword kw">end</span>
127:         <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">print</span> <span class="ruby-node">&quot;: #{result.inspect}\n&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">DEBUG</span>
128:       <span class="ruby-keyword kw">end</span>
129:     <span class="ruby-keyword kw">end</span>
130: 
131:       <span class="ruby-comment cmt"># Walk the word</span>
132:     (<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-identifier">right_stop</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pos</span><span class="ruby-operator">|</span>
133:       <span class="ruby-identifier">rest_length</span> = <span class="ruby-identifier">word_size</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">pos</span>
134:       (<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-identifier">rest_length</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">length</span><span class="ruby-operator">|</span>
135:         <span class="ruby-identifier">substr</span> = <span class="ruby-identifier">letters</span>[<span class="ruby-identifier">pos</span>, <span class="ruby-identifier">length</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value str">''</span>)
136:         <span class="ruby-identifier">updater</span>[<span class="ruby-ivar">@language</span>.<span class="ruby-identifier">hyphen</span>, <span class="ruby-identifier">substr</span>, <span class="ruby-identifier">pos</span>]
137:         <span class="ruby-identifier">updater</span>[<span class="ruby-ivar">@language</span>.<span class="ruby-identifier">start</span>, <span class="ruby-identifier">substr</span>, <span class="ruby-identifier">pos</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pos</span>.<span class="ruby-identifier">zero?</span>
138:         <span class="ruby-identifier">updater</span>[<span class="ruby-ivar">@language</span>.<span class="ruby-identifier">stop</span>, <span class="ruby-identifier">substr</span>, <span class="ruby-identifier">pos</span>] <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">rest_length</span>)
139:       <span class="ruby-keyword kw">end</span>
140:     <span class="ruby-keyword kw">end</span>
141: 
142:     <span class="ruby-identifier">updater</span>[<span class="ruby-ivar">@language</span>.<span class="ruby-identifier">both</span>, <span class="ruby-identifier">word</span>, <span class="ruby-value">0</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@language</span>.<span class="ruby-identifier">both</span>[<span class="ruby-identifier">word</span>]
143: 
144:     (<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-ivar">@left</span>).<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">result</span>[<span class="ruby-identifier">i</span>] = <span class="ruby-value">0</span> }
145:     ((<span class="ruby-value">-1</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@right</span>)<span class="ruby-operator">..</span>(<span class="ruby-value">-1</span>)).<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">result</span>[<span class="ruby-identifier">i</span>] = <span class="ruby-value">0</span> }
146:     <span class="ruby-ivar">@cache</span>[<span class="ruby-identifier">word</span>] = <span class="ruby-identifier">make_result_list</span>(<span class="ruby-identifier">result</span>)
147:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000016">
                    
                    <a name="M000016"></a><b>hyphenate_to</b>(word, size)
                    
                </div>
                
                <div class="description">
                  <p>
This function will hyphenate a word so that the first point is at most
<tt>size</tt> characters.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000016_source')" id="l_M000016_source">show</a>
                        
                    </p>
                    <div id="M000016_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/hyphen.rb, line 173</span>
173:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hyphenate_to</span>(<span class="ruby-identifier">word</span>, <span class="ruby-identifier">size</span>)
174:     <span class="ruby-identifier">point</span> = <span class="ruby-identifier">hyphenate</span>(<span class="ruby-identifier">word</span>).<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-identifier">size</span> }.<span class="ruby-identifier">max</span>
175:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">point</span>.<span class="ruby-identifier">nil?</span>
176:       [<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">word</span>]
177:     <span class="ruby-keyword kw">else</span>
178:       [<span class="ruby-identifier">word</span>[<span class="ruby-value">0</span> <span class="ruby-operator">...</span> <span class="ruby-identifier">point</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;-&quot;</span>, <span class="ruby-identifier">word</span>[<span class="ruby-identifier">point</span> <span class="ruby-operator">..</span> <span class="ruby-value">-1</span>]]
179:     <span class="ruby-keyword kw">end</span>
180:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000017">
                    
                    <a name="M000017"></a><b>stats</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a string describing the structure of the patterns for the language
of this hyphenation object.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000017_source')" id="l_M000017_source">show</a>
                        
                    </p>
                    <div id="M000017_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/hyphen.rb, line 184</span>
184:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stats</span>
185:     <span class="ruby-identifier">_b</span> = <span class="ruby-ivar">@language</span>.<span class="ruby-identifier">both</span>.<span class="ruby-identifier">size</span>
186:     <span class="ruby-identifier">_s</span> = <span class="ruby-ivar">@language</span>.<span class="ruby-identifier">start</span>.<span class="ruby-identifier">size</span>
187:     <span class="ruby-identifier">_e</span> = <span class="ruby-ivar">@language</span>.<span class="ruby-identifier">stop</span>.<span class="ruby-identifier">size</span>
188:     <span class="ruby-identifier">_h</span> = <span class="ruby-ivar">@language</span>.<span class="ruby-identifier">hyphen</span>.<span class="ruby-identifier">size</span>
189:     <span class="ruby-identifier">_x</span> = <span class="ruby-ivar">@language</span>.<span class="ruby-identifier">exceptions</span>.<span class="ruby-identifier">size</span>
190:     <span class="ruby-identifier">_T</span> = <span class="ruby-identifier">_b</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">_s</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">_e</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">_h</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">_x</span>
191: 
192:     <span class="ruby-identifier">s</span> = <span class="ruby-value str">&quot;\nThe language '%s' contains %d total hyphenation patterns.\n% 6d patterns are word start patterns.\n% 6d patterns are word stop patterns.\n% 6d patterns are word start/stop patterns.\n% 6d patterns are normal patterns.\n% 6d patterns are exceptions.\n\n&quot;</span>
193:     <span class="ruby-identifier">s</span> <span class="ruby-operator">%</span> [ <span class="ruby-ivar">@iso_language</span>, <span class="ruby-identifier">_T</span>, <span class="ruby-identifier">_s</span>, <span class="ruby-identifier">_e</span>, <span class="ruby-identifier">_b</span>, <span class="ruby-identifier">_h</span>, <span class="ruby-identifier">_x</span> ]
194:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000013">
                    
                    <a name="M000013"></a><b>visualise</b>(word)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a visualization of the hyphenation points.
</p>
<pre>
  hyp.visualize('representation') #=&gt; rep-re-sen-ta-tion
</pre>
<p>
Because hyphenation can be expensive, if the word has been visualised
previously, it will be returned from a per-instance cache.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Hyphen.html#M000014">visualize</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000013_source')" id="l_M000013_source">show</a>
                        
                    </p>
                    <div id="M000013_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/hyphen.rb, line 155</span>
155:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">visualise</span>(<span class="ruby-identifier">word</span>)
156:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@vcache</span>[<span class="ruby-identifier">word</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@vcache</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">word</span>)
157:     <span class="ruby-identifier">w</span> = <span class="ruby-identifier">word</span>.<span class="ruby-identifier">dup</span>
158:     <span class="ruby-identifier">hyphenate</span>(<span class="ruby-identifier">w</span>).<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pos</span>, <span class="ruby-identifier">n</span><span class="ruby-operator">|</span>
159:       <span class="ruby-identifier">w</span>[<span class="ruby-identifier">pos</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">n</span>, <span class="ruby-value">0</span>] = <span class="ruby-value str">'-'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pos</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
160:     <span class="ruby-keyword kw">end</span>
161:     <span class="ruby-ivar">@vcache</span>[<span class="ruby-identifier">word</span>] = <span class="ruby-identifier">w</span>
162:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000014">
                    
                    <a name="M000014"></a><b>visualize</b>(word)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Hyphen.html#M000013">visualise</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="sectiontitle">Instance Private methods</div>
            
            <div class="method">
                <div class="title" id="M000020">
                    
                    <a name="M000020"></a><b>load_language</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000020_source')" id="l_M000020_source">show</a>
                        
                    </p>
                    <div id="M000020_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/hyphen.rb, line 225</span>
225:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_language</span>
226:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@first_load</span>
227: 
228:     <span class="ruby-ivar">@iso_language</span> <span class="ruby-operator">||=</span> <span class="ruby-value str">&quot;en_us&quot;</span>
229: 
230:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@language</span>
231:       <span class="ruby-identifier">require</span> <span class="ruby-node">&quot;text/hyphen/language/#{@iso_language}&quot;</span>
232:       <span class="ruby-ivar">@language</span> = <span class="ruby-constant">Text</span><span class="ruby-operator">::</span><span class="ruby-constant">Hyphen</span><span class="ruby-operator">::</span><span class="ruby-constant">Language</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-ivar">@iso_language</span>.<span class="ruby-identifier">upcase</span>)
233:       <span class="ruby-ivar">@iso_language</span> = <span class="ruby-ivar">@language</span>.<span class="ruby-identifier">isocode</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@language</span>.<span class="ruby-identifier">isocode</span>
234:     <span class="ruby-keyword kw">end</span>
235: 
236:     <span class="ruby-ivar">@left</span> <span class="ruby-operator">||=</span> <span class="ruby-ivar">@language</span>.<span class="ruby-identifier">left</span>
237:     <span class="ruby-ivar">@right</span> <span class="ruby-operator">||=</span> <span class="ruby-ivar">@language</span>.<span class="ruby-identifier">right</span>
238: 
239:     <span class="ruby-ivar">@iso_language</span>
240:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000019">
                    
                    <a name="M000019"></a><b>make_result_list</b>(res)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000019_source')" id="l_M000019_source">show</a>
                        
                    </p>
                    <div id="M000019_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/hyphen.rb, line 218</span>
218:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">make_result_list</span>(<span class="ruby-identifier">res</span>)
219:     <span class="ruby-identifier">r</span> = []
220:     <span class="ruby-identifier">res</span>.<span class="ruby-identifier">each_with_index</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">r</span> <span class="ruby-operator">&lt;&lt;</span>  <span class="ruby-identifier">i</span> <span class="ruby-operator">*</span> (<span class="ruby-identifier">c</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">%</span> <span class="ruby-value">2</span>) }
221:     <span class="ruby-identifier">r</span>.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> }
222:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000018">
                    
                    <a name="M000018"></a><b>updateresult</b>(hash, str, pos)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000018_source')" id="l_M000018_source">show</a>
                        
                    </p>
                    <div id="M000018_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File lib/text/hyphen.rb, line 206</span>
206:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">updateresult</span>(<span class="ruby-identifier">hash</span>, <span class="ruby-identifier">str</span>, <span class="ruby-identifier">pos</span>)
207:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">str</span>)
208:       <span class="ruby-constant">STDERR</span>.<span class="ruby-identifier">print</span> <span class="ruby-node">&quot;#{pos}: #{str}: #{hash[str]}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">DEBUG</span>
209:       <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">str</span>].<span class="ruby-identifier">scan</span>(<span class="ruby-ivar">@language</span>.<span class="ruby-identifier">scan_re</span>).<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
210:         <span class="ruby-identifier">c</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">to_i</span>
211:         <span class="ruby-ivar">@result</span>[<span class="ruby-identifier">i</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">pos</span>] = <span class="ruby-identifier">c</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@result</span>[<span class="ruby-identifier">i</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">pos</span>]
212:       <span class="ruby-keyword kw">end</span>
213:       <span class="ruby-constant">STDERR</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;: #{@result}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">DEBUG</span>
214:     <span class="ruby-keyword kw">end</span>
215:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M000008">
                    
                    <a name="M000008"></a><b>new</b>(options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Creates a hyphenation object with the options requested. The options
available are:
</p>
<table>
<tr><td valign="top">language:</td><td>The language to perform hyphenation with. See <a
href="Hyphen.html#language">language</a> and <a
href="Hyphen.html#iso_language">iso_language</a>.

</td></tr>
<tr><td valign="top">left:</td><td>The minimum number of characters to the left of a hyphenation point. See <a
href="Hyphen.html#left">left</a>.

</td></tr>
<tr><td valign="top">right:</td><td>The minimum number of characters to the right of a hyphenation point. See
<a href="Hyphen.html#right">right</a>.

</td></tr>
</table>
<p>
The options can be provided either as hashed parameters or set as methods
in an initialization block. The following initializations are all
equivalent:
</p>
<pre>
  hyp = Text::Hyphenate.new(:language =&gt; 'en_us')
  hyp = Text::Hyphenate.new(language: 'en_us') # under Ruby 1.9
  hyp = Text::Hyphenate.new { |h| h.language = 'en_us' }
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000008_source')" id="l_M000008_source">show</a>
                        
                    </p>
                    <div id="M000008_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File lib/text/hyphen.rb, line 75</span>
75:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">options</span> = {}) <span class="ruby-comment cmt"># :yields self:</span>
76:     <span class="ruby-ivar">@iso_language</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:language</span>]
77:     <span class="ruby-ivar">@left</span>         = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:left</span>]
78:     <span class="ruby-ivar">@right</span>        = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:right</span>]
79:     <span class="ruby-ivar">@language</span>     = <span class="ruby-keyword kw">nil</span>
80: 
81:     <span class="ruby-ivar">@cache</span>        = {}
82:     <span class="ruby-ivar">@vcache</span>       = {}
83: 
84:     <span class="ruby-ivar">@hyphen</span>       = {}
85:     <span class="ruby-ivar">@begin_hyphen</span> = {}
86:     <span class="ruby-ivar">@end_hyphen</span>   = {}
87:     <span class="ruby-ivar">@both_hyphen</span>  = {}
88:     <span class="ruby-ivar">@exception</span>    = {}
89: 
90:     <span class="ruby-ivar">@first_load</span> = <span class="ruby-keyword kw">true</span>
91:     <span class="ruby-keyword kw">yield</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
92:     <span class="ruby-ivar">@first_load</span> = <span class="ruby-keyword kw">false</span>
93: 
94:     <span class="ruby-identifier">load_language</span>
95: 
96:     <span class="ruby-ivar">@left</span>  <span class="ruby-operator">||=</span> <span class="ruby-constant">DEFAULT_MIN_LEFT</span>
97:     <span class="ruby-ivar">@right</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">DEFAULT_MIN_RIGHT</span>
98:   <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    